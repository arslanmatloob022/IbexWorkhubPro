import{a7 as e,b as n,r as l}from"./index-27c88c30.js";import{u as o}from"./useAPI-5ec06f46.js";const s=e("elements",(()=>{const e=o(),s=n(),t=l({url:"",file:"",title:""}),a=l(!1),i=l(!1),r=l([{id:"",title:"",icon:""}]),c=()=>{t.url=null,t.file=null,t.title=null};return{setIcon:async function(e){const n=r.value.find((n=>n.id==e.id));n?(t.value={url:n.icon,title:n.title},a.value=!1):console.error("Icon not found in template icons:",e)},loadIcons:async function(){i.value=!0;try{const n=await e.get("/v3/api/template-icons/");r.value=n.data,console.log("icons",r.value)}finally{i.value=!1}},openTemplateModal:()=>{a.value=!0},closeTemplateModal:()=>{a.value=!1,c()},clear:c,getUserPermissions:async function(n=""){try{const l=await e.get(`/api/generic-modules/user-permissions-mapping/${n}/`);s.setUserPermissions(l.data)}catch(l){console.error("Error fetching user permissions:",l)}},isOpenTemplateModal:a,templateIcons:r,loading:i,selectedIcon:t}}));export{s as u};
