import{f as l,r as e,s as a,e as s,_ as t,o as i,B as o,C as u,D as n,F as c,G as d,J as r,E as m,L as p,m as f,X as _,ac as v,aF as b,O as h,N as j,K as y,a1 as V,aG as g,P as E}from"./index-ebe3ec19.js";import{_ as S}from"./VModal.vue_vue_type_style_index_0_lang-d69e7fb7.js";import{_ as x}from"./VField.vue_vue_type_script_setup_true_lang-cfbb2fbb.js";import{_ as M}from"./VControl-0c6a1405.js";import{u as k}from"./useNotyf-0d335162.js";import{u as C}from"./useAPI-51d690ef.js";const H={class:"modal-form columns is-multiline"},I={class:"column is-full"},P={class:"field"},T=m("label",{class:"label"},"To ",-1),w={class:"control"},D={class:"column is-full"},F={class:"field"},L=m("label",{class:"label"},"Subject ",-1),O={class:"control"},U={class:"field column is-half"},A=m("label",{class:"label"},"Schedule Mail ",-1),G=["value"],R={class:"field column is-half"},q=m("div",{class:"file"},[m("label",{class:"file-label"},[m("input",{class:"file-input",type:"file",name:"resume"}),m("span",{class:"file-cta"},[m("span",{class:"file-icon"},[m("i",{class:"fas fa-cloud-upload-alt"})]),m("span",{class:"file-label"}," Choose a fileâ€¦ ")])])],-1),B={class:"field column is-full mt-5"},N=m("label",{class:"label"},null,-1),z=m("i",{class:"feather:mail"},null,-1),J=l({__name:"ScheduleEmailModal",props:{mailSchedulerModal:{type:Boolean},subject:{}},emits:["update:modalHandler","update:OnSuccess"],setup(l,{emit:J}){const K=l,X=C(),Q=e(!1),W=k(),Y=e(!1),Z=e(""),$=a(),ll=()=>{J("update:modalHandler",!1)};Z.value="<b> Hi  <br />\nIbex Management <br />\n</b>";const el=e({objectId:"",subject:"",content:"",mail:"",scheduled_at:"",sent_at:"",status:"",mailGroup:[]}),al=async()=>{try{Y.value=!0;await X.post("",{mail:el.value.mail,subject:el.value.subject,content:el.value.content,scheduled_at:el.value.scheduled_at});W.success("Email sent to worker successfully"),ll()}catch(l){console.log(l)}finally{Y.value=!1}},sl=s((()=>t((()=>import("./ckeditor-c46087fc.js").then((l=>l.c))),["assets/ckeditor-c46087fc.js","assets/index-ebe3ec19.js","assets/index-da25c80f.css","assets/vue.runtime.esm-bundler-880ac416.js"]).then((l=>l.default.component)))),tl={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return i((async()=>{$.value=await t((()=>import("./ckeditor-902b1d58.js").then((l=>l.c))),["assets/ckeditor-902b1d58.js","assets/index-ebe3ec19.js","assets/index-da25c80f.css"]).then((l=>l.default))})),(l,e)=>{const a=M,s=x,t=o("VDatePicker"),i=g,k=E,C=S;return u(),n("div",null,[c(V,{name:"fade-slow"},{default:d((()=>[c(C,{is:"form",open:K.mailSchedulerModal,title:"Schedule Email",size:"large",actions:"right",onSubmit:r(al,["prevent"]),onClose:ll},{content:d((()=>[m("div",H,[m("div",I,[m("div",P,[T,m("div",w,[p(m("input",{type:"email",required:"",class:"input",placeholder:"Enter Mail","onUpdate:modelValue":e[0]||(e[0]=l=>f(el).mail=l)},null,512),[[_,f(el).mail]])])])]),m("div",D,[m("div",F,[L,m("div",O,[p(m("input",{type:"text",required:"",class:"input",placeholder:"Enter mail subject","onUpdate:modelValue":e[1]||(e[1]=l=>f(el).subject=l)},null,512),[[_,f(el).subject]])])])]),m("div",U,[A,c(i,null,{default:d((()=>[c(t,{modelValue:f(el).scheduled_at,"onUpdate:modelValue":e[2]||(e[2]=l=>f(el).scheduled_at=l),mode:"dateTime"},{default:d((({inputValue:l,inputEvents:e})=>[c(s,null,{default:d((()=>[c(a,{icon:"lucide:calendar"},{default:d((()=>[m("input",v({class:"input v-input",type:"text",value:l},b(e,!0)),null,16,G)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})]),m("div",R,[c(s,{grouped:""},{default:d((()=>[c(a,null,{default:d((()=>[q])),_:1})])),_:1})]),m("div",B,[N,f($)?(u(),h(f(sl),{key:0,modelValue:f(el).content,"onUpdate:modelValue":e[3]||(e[3]=l=>f(el).content=l),editor:f($),config:tl},null,8,["modelValue","editor"])):j("",!0)])])])),action:d((()=>[c(k,{onClick:al,color:"primary",loading:f(Q),raised:""},{default:d((()=>[z,y(" Schedule Mail")])),_:1},8,["loading"])])),cancel:d((()=>[c(k,{color:"light",onClick:ll,raised:""},{default:d((()=>[y("Close ")])),_:1})])),_:1},8,["open","onSubmit"])])),_:1})])}}});export{J as _};
