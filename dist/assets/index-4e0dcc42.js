import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-d8f05112.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-8917749c.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-5975838a.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-573351d3.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-61ae696e.js";import{f as i,b as o,x as n,y as d,r as c,$ as u,o as r,j as m,C as p,D as v,E as f,F as g,G as y,H as _,O as h,N as b,V as k,W as C,U as w,I as x,a4 as V,P as U,Q as I,R as S,S as T,K as j,J as P,w as M,L as A,k as L,X as D,m as z,aS as H,B as O,al as R,aB as E,A as $}from"./index-24255b4c.js";import{_ as B}from"./VControl-2632b23a.js";import{_ as W}from"./VInput.vue_vue_type_script_setup_true_lang-59c63bcd.js";import{_ as N,a as K}from"./projects-dark-4a371d8a.js";import{u as Z}from"./useAPI-a1a17f6a.js";import{_ as q}from"./VModal.vue_vue_type_style_index_0_lang-238d6b97.js";import{_ as F}from"./VLabel.vue_vue_type_script_setup_true_lang-55d4ce9e.js";import{u as Q}from"./useNotyf-22e02897.js";import{a as G,c as J}from"./useSupportElement-9b414d68.js";import{_ as Y}from"./SweetAlert.vue_vue_type_style_index_0_lang-68ff31aa.js";import{_ as X}from"./VIconWrap.vue_vue_type_style_index_0_lang-83cc36bf.js";import{_ as ee,a as le}from"./search-6-dark-6c9b195a.js";import{_ as ae}from"./VTextarea.vue_vue_type_script_setup_true_lang-f2ecb97f.js";import{_ as te}from"./UserCardDropdown-7c033134.js";import{_ as se}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-074345a8.js";import{_ as ie,a as oe}from"./VOption.vue_vue_type_style_index_0_lang-37375673.js";import{_ as ne}from"./VCheckbox.vue_vue_type_style_index_0_lang-f01c7ac6.js";import{_ as de,a as ce}from"./search-4-dark-2b5b440c.js";import{_ as ue}from"./VFilePond.vue_vue_type_script_lang-68832b24.js";import{_ as re,a as me}from"./UnitAddUpdateModal.vue_vue_type_script_setup_true_lang-1586b7be.js";import{_ as pe}from"./VDropdown.vue_vue_type_style_index_0_lang-c5d5baeb.js";import{u as ve}from"./company-75629850.js";import{b as fe}from"./route-block-83d24a4e.js";import{u as ge}from"./layoutSwitcher-fc548f91.js";import{u as ye}from"./viewWrapper-dc603622.js";import"./VFlex.vue_vue_type_style_index_0_lang-0cf9afca.js";import"./VPlaceloadWrap-36428595.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-eb3fadd1.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-2c4b6ebd.js";import"./useVFieldContext-5c489a78.js";import"./notyf-341628cf.js";import"./useThemeColors-6451b85b.js";import"./via-placeholder-24645670.js";import"./VIcon.vue_vue_type_script_setup_true_lang-414257e7.js";import"./useDropdown-f02dd948.js";const _e=e=>(I("data-v-d672db14"),e=e(),S(),e),he={class:"columns is-multiline"},be={class:"column is-12"},ke={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},Ce=_e((()=>f("i",{class:"fa fa-search"},null,-1))),we={class:"timeline-wrapper"},xe=_e((()=>f("div",{class:"timeline-header"},null,-1))),Ve={class:"timeline-wrapper-inner no-padding-all"},Ue={class:"timeline-container"},Ie={class:"date"},Se={class:"content-wrap"},Te={class:"content-box"},je={class:"box-text"},Pe={class:"meta-text"},Me=["innerHTML"],Ae=_e((()=>f("img",{class:"light-image is-larger",src:N,alt:""},null,-1))),Le=_e((()=>f("img",{class:"dark-image is-larger",src:K,alt:""},null,-1))),De=i({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(i){o();const I=n(),S=d(),T=Z(),j=c(!1),P=c([]),M=c(!1),A=c("2"),L=async()=>{j.value=!0;try{const e=await T.get("/api/activity-logs/");P.value=e.data}catch(e){console.error("Error fetching worker activities:",e)}finally{j.value=!1}},D={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const z=c(1),H=c(10),O=c(""),R=u((()=>{const e=O.value.toLowerCase(),l=function(e){const l=new Date,a=new Date,t=new Date;switch(e){case"1":a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":a.setDate(l.getDate()-1),a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":a.setDate(l.getDate()-7);break;case"14":a.setDate(l.getDate()-14);break;case"30":a.setDate(l.getDate()-30);break;case"90":a.setDate(l.getDate()-90);break;default:return null}return{start:a,end:t}}(A.value),a=P.value.filter((a=>{const t=a.actor_info?.username.toLowerCase().includes(e)||a.actor_info?.last_name&&a.actor_info?.last_name?.toLowerCase().includes(e)||a.message.toLowerCase().includes(e);if(l){const e=new Date(a.timestamp);return t&&e>=l.start&&e<=l.end}return t}));return M.value=a.length>0,a}));u((()=>{const e=(z.value-1)*H.value,l=e+H.value;return R.value.slice(e,l)}));const E=u((()=>R.value.length>H.value)),$=e=>{z.value=e,I.push({path:S.path,query:{...S.query,page:e}})};return r((()=>{z.value=parseInt(S.query.page)||1,L()})),m((()=>{})),(i,o)=>{const n=W,d=B,c=U,u=s,r=t,m=a,I=l,S=e;return p(),v("div",he,[f("div",be,[f("div",ke,[g(u,{addons:"",style:{width:"21rem"}},{default:y((()=>[g(d,{expanded:""},{default:y((()=>[g(n,{onKeypress:_(L,["enter"]),type:"text",class:"input",modelValue:O.value,"onUpdate:modelValue":o[0]||(o[0]=e=>O.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),g(d,null,{default:y((()=>[g(c,{color:"primary",onClick:L},{default:y((()=>[Ce])),_:1})])),_:1})])),_:1}),f("div",we,[xe,f("div",Ve,[f("div",Ue,[j.value?(p(),h(r,{key:0})):b("",!0),(p(!0),v(k,null,C(P.value,(e=>{return p(),v("div",{class:"timeline-item is-unread",key:e?.id},[f("div",Ie,[f("span",null,w((l=e?.timestamp.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),f("div",{class:x(["dot",D[e.action]])},null,2),f("div",Se,[f("div",Te,[g(m,{picture:e?.actor_info.avatar},null,8,["picture"]),f("div",je,[f("div",Pe,[f("p",null,[f("span",{style:V({color:""+(e.actor===e?.object_id?"var(--red)":"")})},w(e?.actor_info.username)+" "+w(e?.actor_info.last_name)+". ",5),f("span",{class:"action-message",innerHTML:e?.message},null,8,Me)]),f("span",null,w(e?.timestamp.slice(11,16)),1)])])])])]);var l})),128)),M.value||j.value?b("",!0):(p(),h(I,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:y((()=>[Ae,Le])),_:1}))])]),E.value?(p(),h(S,{key:0,"current-page":z.value,"onUpdate:currentPage":[o[1]||(o[1]=e=>z.value=e),$],"item-per-page":H.value,"total-items":R.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):b("",!0)])])])])}}}),ze=T(De,[["__scopeId","data-v-d672db14"]]),He={class:"modal-form columns is-multiline"},Oe={class:"field column is-12 mb-0"},Re=i({__name:"AddUpdatePermissionModal",props:{openPermissionModal:{type:Boolean,default:!1},moduleId:{default:""},permId:{default:""}},emits:["close:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Q(),i=Z(),o=c(!1),n=c({title:"",module:a.moduleId?a.moduleId:null}),d=async()=>{try{o.value=!0;let e=G(n.value,[""]);await i.post("/api/module-permissions/",e),l("update:OnSuccess",null),u(),t.success("Permission added successfully")}catch(e){console.log(e)}finally{o.value=!1}},u=()=>{l("close:modalHandler",!1)};return r((()=>{a.permId&&(async()=>{try{o.value=!0;const e=await i.get(`/api/module-permissions/${a.permId?a.permId:""}/`);n.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})()})),(e,l)=>{const t=F,i=W,c=B,r=s,m=U,v=q;return p(),h(v,{is:"form",open:a.openPermissionModal,title:a.permId?"Update Permission":"Add Permission",size:"medium",actions:"right",onSubmit:P(d,["prevent"]),onClose:u},{content:y((()=>[f("div",He,[f("div",Oe,[g(r,null,{default:y((()=>[g(t,null,{default:y((()=>[j("Title: *")])),_:1}),g(c,null,{default:y((()=>[g(i,{required:"",modelValue:n.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value.title=e),type:"text",placeholder:o.value?"Loading...":"Title"},null,8,["modelValue","placeholder"])])),_:1})])),_:1})])])])),action:y((()=>[g(m,{type:"submit",loading:o.value,color:"primary",raised:""},{default:y((()=>[j(w(a.permId?"Update Permission":"Add Permission"),1)])),_:1},8,["loading"])])),_:1},8,["open","title","onSubmit"])}}}),Ee=e=>(I("data-v-e1425bc6"),e=e(),S(),e),$e={class:"tile-grid-toolbar"},Be={class:"buttons"},We=Ee((()=>f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1))),Ne=Ee((()=>f("span",null,"Permission",-1))),Ke={class:"tile-grid tile-grid-v1"},Ze=Ee((()=>f("img",{class:"light-image",src:ee,alt:""},null,-1))),qe=Ee((()=>f("img",{class:"dark-image",src:le,alt:""},null,-1))),Fe={class:"tile-grid-item"},Qe={class:"tile-grid-item-inner"},Ge={class:"meta"},Je={class:"dark-inverted"},Ye={class:"dropdown"},Xe=i({__name:"PermissionsList",props:{moduleId:{}},setup(e){const a=e,t=Z(),s=Q(),i=c([{id:"",title:"",key:"",module:""}]),o=c(!1),n=c(""),d=c(""),m=c(""),_=c({title:"Delete Permission?",text:"Are you sure to delete this permission, deletion of permission may effect the reach to modules where it is applied.!",icon:"fas fa-bell",color:"warning",btnTxt:"Yes, delete it!",openSweetAlert:!1}),V=u((()=>d.value?i.value.filter((e=>e.title.match(new RegExp(d.value,"i")))):i.value)),I=async()=>{try{const e=await t.get(`/api/app-modules/${a.moduleId}/permissions/`);i.value=e.data}catch(e){console.log(e)}},S=async()=>{try{await t.delete(`/api/permissions/${m.value}`);s.success("Permission Deleted Successfully"),I()}catch(e){console.log(e)}};return M((()=>a.moduleId),(()=>{I()})),r((()=>{a.moduleId&&I()})),(e,t)=>{const s=B,i=U,c=l,u=X,r=Y,T=Re;return p(),v("div",null,[f("div",$e,[g(s,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>L(d)?d.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(d)]])])),_:1}),f("div",Be,[g(i,{onClick:t[1]||(t[1]=e=>o.value=!0),outlined:"",light:"",color:"success",raised:""},{default:y((()=>[We,Ne])),_:1})])]),f("div",Ke,[g(c,{class:x([0!==z(V).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Ze,qe])),_:1},8,["class"]),g(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:y((()=>[(p(!0),v(k,null,C(z(V),((e,l)=>(p(),v("div",{key:l,class:"column is-12"},[f("div",Fe,[f("div",Qe,[f("div",Ge,[f("span",Je,w(e.title),1),f("span",null,w(e.key),1)]),f("div",Ye,[g(u,{onClick:l=>{return a=e,n.value=a.id,void(o.value=!0);var a},icon:"lucide:pencil",color:"info",class:"mr-1 cu-pointer","has-large-icon":""},null,8,["onClick"]),g(u,{onClick:l=>{return a=e,m.value=a.id,void(_.value.openSweetAlert=!0);var a},icon:"lucide:trash",class:"cu-pointer",color:"danger","has-large-icon":""},null,8,["onClick"])])])])])))),128))])),_:1})]),z(_).openSweetAlert?(p(),h(r,{key:0,isSweetAlertOpen:z(_).openSweetAlert,title:z(_).title,subtitle:z(_).text,icon:z(_).icon,btntext:z(_).btnTxt,onConfirm:S,onCancel:()=>{z(_).openSweetAlert=!1}},null,8,["isSweetAlertOpen","title","subtitle","icon","btntext","onCancel"])):b("",!0),z(o)?(p(),h(T,{key:1,"open-permission-modal":z(o),"module-id":a.moduleId,permId:z(n),"onClose:modalHandler":t[2]||(t[2]=e=>o.value=!1),"onUpdate:OnSuccess":I},null,8,["open-permission-modal","module-id","permId"])):b("",!0)])}}}),el=T(Xe,[["__scopeId","data-v-e1425bc6"]]),ll={class:"modal-form columns is-multiline"},al={class:"field column is-12 mb-0"},tl={class:"field column is-12 mb-0"},sl=i({__name:"AddUpdateModuleModal",props:{openAppModuleModal:{type:Boolean,default:!1},moduleId:{default:""}},emits:["close:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Q(),i=Z(),o=c(!1);c(!1);const n=c({title:"",description:""}),d=async()=>{try{o.value=!0;let e=G(n.value,[""]);a.moduleId?(await i.patch(`/api/app-modules/${a.moduleId}/`,e),t.success("Module updated successfully")):(await i.post("/api/app-modules/",e),t.success("Module added successfully")),m(),u()}catch(e){console.log(e)}finally{o.value=!1}},u=()=>{l("close:modalHandler",!1),console.log("modal closed")},m=()=>{l("update:OnSuccess",null)};return r((()=>{a.moduleId&&(async()=>{try{o.value=!0;const e=await i.get(`/api/app-modules/${a.moduleId?a.moduleId:""}/`);n.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})()})),(e,l)=>{const t=F,i=W,c=B,r=s,m=ae,v=U,_=q;return p(),h(_,{is:"form",open:a.openAppModuleModal,title:a.moduleId?"Update Module":"Add Module",size:"medium",actions:"right",onSubmit:P(d,["prevent"]),onClose:u},{content:y((()=>[f("div",ll,[f("div",al,[g(r,null,{default:y((()=>[g(t,null,{default:y((()=>[j("Title: *")])),_:1}),g(c,null,{default:y((()=>[g(i,{required:"",modelValue:n.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value.title=e),type:"text",placeholder:o.value?"Loading...":"Title"},null,8,["modelValue","placeholder"])])),_:1})])),_:1})]),f("div",tl,[g(r,null,{default:y((()=>[g(t,null,{default:y((()=>[j("Description")])),_:1}),g(c,null,{default:y((()=>[g(m,{type:"text",rows:"3",placeholder:o.value?"Loading...":"Description",modelValue:n.value.description,"onUpdate:modelValue":l[1]||(l[1]=e=>n.value.description=e)},null,8,["placeholder","modelValue"])])),_:1})])),_:1})])])])),action:y((()=>[g(v,{type:"submit",loading:o.value,color:"primary",raised:""},{default:y((()=>[j(w(a.moduleId?"Update Module":"Add Module"),1)])),_:1},8,["loading"])])),_:1},8,["open","title","onSubmit"])}}}),il=e=>(I("data-v-cee03d18"),e=e(),S(),e),ol={class:"tile-grid-toolbar"},nl={class:"buttons"},dl=il((()=>f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1))),cl=il((()=>f("span",null,"Module",-1))),ul={class:"tile-grid tile-grid-v1"},rl=il((()=>f("img",{class:"light-image",src:ee,alt:""},null,-1))),ml=il((()=>f("img",{class:"dark-image",src:le,alt:""},null,-1))),pl=["onClick"],vl={class:"tile-grid-item-inner"},fl={class:"meta"},gl={class:"dark-inverted"},yl=i({__name:"ModulesList",emits:["select-module"],setup(e,{emit:a}){const t=Z(),s=c(""),i=c(""),o=c(!1),n=c([{id:"1c84ef34-8149-40c3-81ba-0b6625bebfee",title:"Test Module",value:"test_module",description:"string"}]),d=c(!1),m=u((()=>s.value?n.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.description.match(new RegExp(s.value,"i")))):n.value)),_=async()=>{try{o.value=!0;const e=await t.get("/api/app-modules/");n.value=e.data}catch(e){console.log(e)}finally{o.value=!1}},V=c("");return r((()=>{_()})),(e,t)=>{const o=B,n=U,c=l,u=te,r=sl;return p(),v("div",null,[f("div",ol,[g(o,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>L(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(s)]])])),_:1}),f("div",nl,[g(n,{onClick:t[1]||(t[1]=e=>((e="")=>{i.value=e,d.value=!d.value})("")),outlined:"",light:"",color:"info",raised:""},{default:y((()=>[dl,cl])),_:1})])]),f("div",ul,[g(c,{class:x([0!==z(m).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[rl,ml])),_:1},8,["class"]),g(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:y((()=>[(p(!0),v(k,null,C(z(m),((e,l)=>(p(),v("div",{key:l,class:"column is-12"},[f("div",{class:x(["tile-grid-item cu-pointer",z(V)===e.id?"active-card":""]),onClick:l=>{return t=e.id,V.value=t,void a("select-module",t);var t}},[f("div",vl,[f("div",fl,[f("span",gl,w(e.title),1),f("span",null,w(e.description),1)]),g(u)])],10,pl)])))),128))])),_:1})]),z(d)?(p(),h(r,{key:0,"open-app-module-modal":z(d),"module-id":z(i),"onClose:modalHandler":t[2]||(t[2]=e=>d.value=!1),"onUpdate:OnSuccess":_},null,8,["open-app-module-modal","module-id"])):b("",!0)])}}}),_l=T(yl,[["__scopeId","data-v-cee03d18"]]),hl={class:"columns is-multiline"},bl={class:"column is-4"},kl={class:"column is-8"},Cl=i({__name:"ModuleAndPermissions",setup(e){c("");const l=c(""),a=e=>{l.value=e};return(e,t)=>{const s=_l,i=el;return p(),v("div",null,[f("div",hl,[f("div",bl,[g(s,{onSelectModule:a})]),f("div",kl,[g(i,{moduleId:z(l)},null,8,["moduleId"])])])])}}}),wl=e=>(I("data-v-8cf126ce"),e=e(),S(),e),xl={class:"tile-grid-toolbar"},Vl={class:"buttons"},Ul=wl((()=>f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1))),Il=wl((()=>f("span",null,"Permission",-1))),Sl={class:"tile-grid tile-grid-v1"},Tl=wl((()=>f("img",{class:"light-image",src:ee,alt:""},null,-1))),jl=wl((()=>f("img",{class:"dark-image",src:le,alt:""},null,-1))),Pl={class:"tile-grid-item"},Ml={class:"tile-grid-item-inner"},Al={class:"meta"},Ll={class:"dark-inverted"},Dl={class:"dropdown align-items-center"},zl={key:0,class:"mt-3"},Hl={class:"list-item"},Ol=i({__name:"ModulePermissionsList",props:{moduleId:{}},setup(e){const a=e,t=Z(),s=Q(),i=c(new Set),o=c([{id:"",title:"",value:"",description:"",permissions:[{id:"",title:"",key:"",module:""}]}]),n=c(!1),d=c(""),m=c(""),_=c(""),V=c({title:"Delete Permission?",text:"Are you sure to delete this permission, deletion of permission may effect the reach to modules where it is applied.!",icon:"fas fa-bell",color:"warning",btnTxt:"Yes, delete it!",openSweetAlert:!1}),I=async()=>{try{const e=await t.get("api/app-modules/list/");o.value=e.data}catch(e){console.log(e)}},S=async()=>{try{await t.delete(`/api/permissions/${_.value}`);s.success("Permission Deleted Successfully"),I()}catch(e){console.log(e)}},T=u((()=>m.value?o.value.filter((e=>e.title.match(new RegExp(m.value,"i")))):o.value));return r((()=>{I()})),(e,t)=>{const s=B,o=U,c=l,u=se,r=X,_=Y,j=Re;return p(),v("div",null,[f("div",xl,[g(s,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>L(m)?m.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(m)]])])),_:1}),f("div",Vl,[g(o,{onClick:t[1]||(t[1]=e=>n.value=!0),outlined:"",light:"",color:"success",raised:""},{default:y((()=>[Ul,Il])),_:1})])]),f("div",Sl,[g(c,{class:x([0!==z(T).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Tl,jl])),_:1},8,["class"]),g(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:y((()=>[(p(!0),v(k,null,C(z(T),((e,l)=>(p(),v("div",{key:l,class:"column is-12"},[f("div",Pl,[f("div",Ml,[f("div",Al,[f("span",Ll,w(e.title),1),f("span",null,w(e.description),1)]),f("div",Dl,[g(s,{subcontrol:"",class:"mr-4"},{default:y((()=>[g(u,{thin:"",color:"primary","model-value":!0})])),_:1}),g(r,{onClick:l=>{return a=e.id,void(i.value.has(a)?i.value.delete(a):i.value.add(a));var a},icon:"fas fa-chevron-down",color:"info",class:"mr-1 cu-pointer","has-large-icon":""},null,8,["onClick"])])]),g(H,{name:"list-down"},{default:y((()=>{return[e.permissions?.length&&(l=e.id,i.value.has(l))?(p(),v("div",zl,[(p(!0),v(k,null,C(e.permissions,((e,l)=>(p(),v("ul",{class:"mt-1",key:e.id},[f("li",Hl,[f("div",null,[f("span",null,w(e.title),1)]),g(s,{subcontrol:"",class:"mr-4"},{default:y((()=>[g(u,{thin:"",color:"success",modelValue:e.is_assigned,"onUpdate:modelValue":l=>e.is_assigned=l},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])])))),128))])):b("",!0)];var l})),_:2},1024)])])))),128))])),_:1})]),z(V).openSweetAlert?(p(),h(_,{key:0,isSweetAlertOpen:z(V).openSweetAlert,title:z(V).title,subtitle:z(V).text,icon:z(V).icon,btntext:z(V).btnTxt,onConfirm:S,onCancel:()=>{z(V).openSweetAlert=!1}},null,8,["isSweetAlertOpen","title","subtitle","icon","btntext","onCancel"])):b("",!0),z(n)?(p(),h(j,{key:1,"open-permission-modal":z(n),"module-id":a.moduleId,permId:z(d),"onClose:modalHandler":t[2]||(t[2]=e=>n.value=!1),"onUpdate:OnSuccess":I},null,8,["open-permission-modal","module-id","permId"])):b("",!0)])}}}),Rl=T(Ol,[["__scopeId","data-v-8cf126ce"]]),El=e=>(I("data-v-9e36fdb4"),e=e(),S(),e),$l={class:"tile-grid-toolbar"},Bl={class:"buttons"},Wl=El((()=>f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1))),Nl=El((()=>f("span",null,"User",-1))),Kl={class:"tile-grid tile-grid-v1"},Zl=El((()=>f("img",{class:"light-image",src:ee,alt:""},null,-1))),ql=El((()=>f("img",{class:"dark-image",src:le,alt:""},null,-1))),Fl=["onClick"],Ql={class:"tile-grid-item-inner"},Gl={class:"meta"},Jl={class:"dark-inverted"},Yl={class:"capitalized"},Xl=i({__name:"CompanyUsersList",emits:["select-module"],setup(e,{emit:t}){const s=Z(),i=c(""),o=c(""),n=c(!1),d=c([{avatar:null,city:null,country:null,date_joined:"2025-04-15T16:54:31.397437-04:00",email:"krystal@ibex.com",id:"cfe8260c-07e4-4935-b23b-e1dc73811469",is_active:!0,is_sentMail:!1,last_login:"2025-04-24T15:45:47.192183-04:00",last_name:"Henning",latitude:null,longitude:null,password:"pbkdf2_sha256$870000$kRWmdZbAqOlOVIitiSivUu$ShbRvvElhWdXIq8hI4i0DilbBz+8VWPQ96qBauel3K4=",phoneNumber:"",postalCode:null,role:"client",supplier:null,token:null,username:"John"}]),m=c(!1),_=async()=>{try{n.value=!0;const e=await s.get("/api/users/");d.value=e.data.filter((e=>"worker"!==e.role))}catch(e){console.log(e)}finally{n.value=!1}},V=c(""),I=u((()=>i.value?d.value.filter((e=>e.username.match(new RegExp(i.value,"i"))||e.last_name.match(new RegExp(i.value,"i")))):d.value));return r((()=>{_()})),(e,s)=>{const n=B,d=U,c=l,u=a,r=te,S=sl;return p(),v("div",null,[f("div",$l,[g(n,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>L(i)?i.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(i)]])])),_:1}),f("div",Bl,[g(d,{onClick:s[1]||(s[1]=e=>((e="")=>{o.value=e,m.value=!m.value})("")),outlined:"",light:"",color:"info",raised:""},{default:y((()=>[Wl,Nl])),_:1})])]),f("div",Kl,[g(c,{class:x([0!==z(I).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Zl,ql])),_:1},8,["class"]),g(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:y((()=>[(p(!0),v(k,null,C(z(I),((e,l)=>(p(),v("div",{key:l,class:"column is-12"},[f("div",{class:x(["tile-grid-item cu-pointer",z(V)===e.id?"active-card":""]),onClick:l=>{return a=e.id,V.value=a,void t("select-module",a);var a}},[f("div",Ql,[g(u,{picture:e.avatar,dot:e.is_active,color:"info",initials:e.username.slice(0,2),size:"medium"},null,8,["picture","dot","initials"]),f("div",Gl,[f("span",Jl,w(e.username),1),f("span",Yl,w(e.role),1)]),g(r)])],10,Fl)])))),128))])),_:1})]),z(m)?(p(),h(S,{key:0,"open-app-module-modal":z(m),"module-id":z(o),"onClose:modalHandler":s[2]||(s[2]=e=>m.value=!1),"onUpdate:OnSuccess":_},null,8,["open-app-module-modal","module-id"])):b("",!0)])}}}),ea=T(Xl,[["__scopeId","data-v-9e36fdb4"]]),la={class:"columns is-multiline"},aa={class:"column is-4"},ta={class:"column is-8"},sa=i({__name:"UsersPermissions",setup(e){c("");const l=c(""),a=e=>{l.value=e};return(e,t)=>{const s=ea,i=Rl;return p(),v("div",null,[f("div",la,[f("div",aa,[g(s,{onSelectModule:a})]),f("div",ta,[g(i,{objectId:z(l)},null,8,["objectId"])])])])}}}),ia=e=>(I("data-v-ddb9db51"),e=e(),S(),e),oa={class:"tile-grid-toolbar"},na={class:"tile-grid tile-grid-v1"},da=ia((()=>f("img",{class:"light-image",src:ee,alt:""},null,-1))),ca=ia((()=>f("img",{class:"dark-image",src:le,alt:""},null,-1))),ua=["onClick"],ra={class:"tile-grid-item-inner"},ma={class:"meta"},pa={class:"dark-inverted"},va=i({__name:"RolesList",emits:["select-role"],setup(e,{emit:a}){Z();const t=c("");c(""),c(!1);const s=c([{id:"1",title:"Admin",value:"admin",color:"primary"},{id:"2",title:"Manager",value:"manager",color:"info"},{id:"3",title:"Contractor",value:"contractor",color:"info"},{id:"4",title:"Subcontractor",value:"supplier",color:"info"},{id:"5",title:"Client",value:"client",color:"info"}]),i=c(""),o=u((()=>t.value?s.value.filter((e=>e.title.match(new RegExp(t.value,"i"))||e.value.match(new RegExp(t.value,"i")))):s.value));return r((()=>{})),(e,s)=>{const n=B,d=l,c=te;return p(),v("div",null,[f("div",oa,[g(n,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>L(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(t)]])])),_:1})]),f("div",na,[g(d,{class:x([0!==z(o).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[da,ca])),_:1},8,["class"]),g(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:y((()=>[(p(!0),v(k,null,C(z(o),((e,l)=>(p(),v("div",{key:l,class:"column is-12"},[f("div",{class:x(["tile-grid-item cu-pointer",z(i)===e.value?"active-card":""]),onClick:l=>{return t=e.value,i.value=t,void a("select-role",t);var t}},[f("div",ra,[f("div",ma,[f("span",pa,w(e.title),1)]),g(c)])],10,ua)])))),128))])),_:1})])])}}}),fa=T(va,[["__scopeId","data-v-ddb9db51"]]),ga={class:"columns is-multiline"},ya={class:"column is-4"},_a={class:"column is-8"},ha=i({__name:"RolesPermissions",setup(e){c("");const l=c(""),a=e=>{l.value=e};return(e,t)=>{const s=fa,i=Rl;return p(),v("div",null,[f("div",ga,[f("div",ya,[g(s,{onSelectRole:a})]),f("div",_a,[g(i,{objectId:z(l)},null,8,["objectId"])])])])}}}),ba={class:"columns is-multiline"},ka={class:"tabs-wrapper"},Ca={class:"tabs-inner"},wa={class:"tabs is-boxed"},xa=f("span",null,"Roles Permissions",-1),Va=[xa],Ua=f("span",null,"Users Permissions",-1),Ia=[Ua],Sa=f("span",null,"Modules & Permissions",-1),Ta=[Sa],ja={key:0,class:"column is-12"},Pa={key:1,class:"column is-12"},Ma={key:2,class:"column is-12"},Aa=i({__name:"RolesAndPermissionsMain",setup(e){const l=c("rolesPermissions");return(e,a)=>{const t=ha,s=sa,i=Cl;return p(),v("div",ba,[f("div",ka,[f("div",Ca,[f("div",wa,[f("ul",null,[f("li",{class:x(["rolesPermissions"===l.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=_(P((e=>l.value="rolesPermissions"),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>l.value="rolesPermissions")},Va,32)],2),f("li",{class:x(["userPermissions"===l.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:a[2]||(a[2]=_(P((e=>l.value="userPermissions"),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>l.value="userPermissions")},Ia,32)],2),f("li",{class:x(["modulePermissions"===l.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:a[4]||(a[4]=_(P((e=>l.value="modulePermissions"),["prevent"]),["space"])),onClick:a[5]||(a[5]=e=>l.value="modulePermissions")},Ta,32)],2)])])])]),"rolesPermissions"===l.value?(p(),v("div",ja,[g(t)])):b("",!0),"userPermissions"===l.value?(p(),v("div",Pa,[g(s)])):b("",!0),"modulePermissions"===l.value?(p(),v("div",Ma,[g(i)])):b("",!0)])}}}),La={class:"modal-form columns is-multiline"},Da={class:"column is-12"},za=f("label",{class:"label"},"Title *",-1),Ha={class:"column is-12"},Oa=f("label",{class:"label"},"Description",-1),Ra=i({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Z(),i=c(!1),o=Q(),n=c({id:a.trade?.id||"",name:a.trade?.name||"",description:a.trade?.description||""}),d=()=>{l("update:modalHandler",!1)},u=async()=>{try{i.value=!0,n.value.id?(await t.patch(`/api/cost-trade/${n.value.id}/`,n.value),o.success("Trade updated successfully")):(await t.post("/api/cost-trade/",n.value),o.success("Trade created successfully")),l("update:OnSuccess"),d()}catch(e){console.log(e)}finally{i.value=!1}};return(e,l)=>{const a=ae,t=B,o=s,c=U,r=q;return p(),h(r,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:P(u,["prevent"]),onClose:d},{content:y((()=>[f("div",La,[f("div",Da,[za,A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>z(n).name=e)},null,512),[[D,z(n).name]])]),f("div",Ha,[Oa,g(o,null,{default:y((()=>[g(t,null,{default:y((()=>[g(a,{modelValue:z(n).description,"onUpdate:modelValue":l[1]||(l[1]=e=>z(n).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:y((()=>[g(c,{type:"submit",color:"primary",loading:z(i),raised:""},{default:y((()=>[j("Save")])),_:1},8,["loading"])])),cancel:y((()=>[g(c,{color:"light",onClick:d,raised:""},{default:y((()=>[j("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ea={class:"modal-form columns is-multiline"},$a={class:"column is-6"},Ba={class:"field"},Wa=f("label",{class:"label"},"Title *",-1),Na={class:"control"},Ka={class:"column is-6"},Za={class:"field"},qa=f("label",{class:"label"},"Trade *",-1),Fa={class:"column is-12"},Qa={class:"field"},Ga=f("label",{class:"label"},"Description",-1),Ja=i({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Z(),i=c(!1),o=Q(),n=c(!1),d=()=>{l("update:modalHandler",!1)},u=c({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});c("");const m=async()=>{try{if(n.value=!0,a.categoryId){await t.patch(`/api/cost-category/${a.categoryId}/`,u.value)}else{await t.post("/api/cost-category/",u.value)}l("update:OnSuccess",null),o.success(`Category  ${a.categoryId?"updated":"created"} successfully`),d()}catch(e){console.log(e)}finally{n.value=!1}},_=c([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return r((()=>{a.categoryId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-category/${a.categoryId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-trade/");_.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=ie,o=oe,n=B,c=ae,r=s,b=U,x=q;return p(),h(x,{is:"form",open:a.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:P(m,["prevent"]),onClose:d},{content:y((()=>[f("div",Ea,[f("div",$a,[f("div",Ba,[Wa,f("div",Na,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>z(u).name=e)},null,512),[[D,z(u).name]])])])]),f("div",Ka,[f("div",Za,[qa,g(n,null,{default:y((()=>[g(o,{modelValue:z(u).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>z(u).trade=e),required:""},{default:y((()=>[(p(!0),v(k,null,C(z(_),(e=>(p(),h(t,{value:e.id},{default:y((()=>[j(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),f("div",Fa,[f("div",Qa,[Ga,g(r,null,{default:y((()=>[g(n,null,{default:y((()=>[g(c,{modelValue:z(u).description,"onUpdate:modelValue":l[2]||(l[2]=e=>z(u).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:y((()=>[g(b,{type:"submit",color:"primary",loading:z(i),raised:""},{default:y((()=>[j(w(a.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:y((()=>[g(b,{color:"light",onClick:d,raised:""},{default:y((()=>[j("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ya={class:"modal-form columns is-multiline"},Xa={class:"column is-6"},et={class:"field"},lt=f("label",{class:"label"},"Title * ",-1),at={class:"control"},tt={class:"column is-6"},st={class:"field"},it=f("label",{class:"label"},"Category *",-1),ot={class:"control"},nt={class:"field column is-12"},dt=f("label",{class:"label"},"Sub code of ",-1),ct={class:"control"},ut={class:"column is-12"},rt={class:"columns is-multiline"},mt={class:"field column is-6"},pt=f("label",{class:"label"},null,-1),vt={key:0,class:"column is-6"},ft={class:"field"},gt=f("label",{class:"label"},"Default labour cost ($)",-1),yt={class:"control"},_t={class:"column is-4"},ht={class:"field"},bt=f("label",{class:"label"},"Unit cost ($)",-1),kt={class:"control"},Ct={class:"column is-4"},wt={class:"field"},xt=f("label",{class:"label"},"Worker cost ($)",-1),Vt={class:"control"},Ut={class:"column is-4"},It={class:"field"},St=f("label",{class:"label"},"Unit",-1),Tt=f("hr",null,null,-1),jt={class:"column is-12"},Pt={class:"field"},Mt=f("label",{class:"label"},"Description",-1),At=i({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Z(),i=c(!1),o=Q(),n=c(!1),d=()=>{l("update:modalHandler",!1)},u=c({id:"",name:"",category:a.codeCategoryId||"",parent_code:a.parentCodeId||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit:"--",unit_cost:0,is_active:!0}),m=async()=>{try{if(n.value=!0,a.costCodeId){await t.patch(`/api/cost-code/${a.costCodeId}/`,u.value);o.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",u.value);o.success("Cost code created successfully")}d(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{n.value=!1}},_=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=c([]),V=async(e="")=>{try{n.value=!0;const l=await t.get(`/api/cost-code/?category=${e}`);x.value=l.data.map((e=>({...e,value:e.id,label:e.name})))}catch(l){console.log(l)}finally{n.value=!1}};M((()=>u.value.category),(e=>{V(e)}));const I=c([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]);return r((()=>{console.log(a.codeCategoryId),a.costCodeId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-code/${a.costCodeId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{i.value=!0;const e=await t.get("/api/units/");I.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-category/");_.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),V()})),(e,l)=>{const t=ie,o=oe,n=B,c=s,r=O("Multiselect"),V=ne,S=ae,T=U,M=q;return p(),h(M,{is:"form",open:a.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:P(m,["prevent"]),onClose:d},{content:y((()=>[f("div",Ya,[f("div",Xa,[f("div",et,[lt,f("div",at,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>z(u).name=e)},null,512),[[D,z(u).name]])])])]),f("div",tt,[f("div",st,[it,f("div",ot,[g(c,null,{default:y((()=>[g(n,null,{default:y((()=>[g(o,{modelValue:z(u).category,"onUpdate:modelValue":l[1]||(l[1]=e=>z(u).category=e),required:""},{default:y((()=>[g(t,{value:""},{default:y((()=>[j(" Select a category ")])),_:1}),(p(!0),v(k,null,C(z(_),(e=>(p(),h(t,{value:e.id},{default:y((()=>[j(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),f("div",nt,[dt,f("div",ct,[g(c,null,{default:y((({id:a})=>[g(n,null,{default:y((()=>[g(r,{disabled:!!e.CategoryMode,modelValue:z(u).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>z(u).parent_code=e),attrs:{id:a},searchable:!0,options:z(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),f("div",ut,[f("div",rt,[f("div",mt,[pt,g(c,{class:"is-flex"},{default:y((()=>[g(n,{raw:"",subcontrol:""},{default:y((()=>[g(V,{modelValue:z(u).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>z(u).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),z(u).is_labour_code?(p(),v("div",vt,[f("div",ft,[gt,f("div",yt,[A(f("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>z(u).labour_cost=e)},null,512),[[D,z(u).labour_cost]])])])])):b("",!0)])]),f("div",_t,[f("div",ht,[bt,f("div",kt,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>z(u).unit_cost=e)},null,512),[[D,z(u).unit_cost]])])])]),f("div",Ct,[f("div",wt,[xt,f("div",Vt,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":l[6]||(l[6]=e=>z(u).worker_cost=e)},null,512),[[D,z(u).worker_cost]])])])]),f("div",Ut,[f("div",It,[St,g(n,null,{default:y((()=>[g(o,{modelValue:z(u).unit,"onUpdate:modelValue":l[7]||(l[7]=e=>z(u).unit=e)},{default:y((()=>[g(t,{value:""},{default:y((()=>[j(" Select Unit ")])),_:1}),(p(!0),v(k,null,C(z(I),(e=>(p(),h(t,{value:e.value},{default:y((()=>[j(w(e.title)+" ("+w(e.value??"")+") ",1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),Tt,f("div",jt,[f("div",Pt,[Mt,g(c,null,{default:y((()=>[g(n,null,{default:y((()=>[g(S,{modelValue:z(u).description,"onUpdate:modelValue":l[8]||(l[8]=e=>z(u).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:y((()=>[g(T,{type:"submit",color:"primary",loading:z(i),raised:""},{default:y((()=>[j(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:y((()=>[g(T,{color:"light",onClick:d,raised:""},{default:y((()=>[j("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Lt=e=>(I("data-v-2f1f2834"),e=e(),S(),e),Dt={class:"list-flex-toolbar flex-list-v1"},zt={key:0,class:"columns is-multiline"},Ht={class:"column is-12"},Ot={key:1,class:"page-content-inner"},Rt=Lt((()=>f("img",{class:"light-image",src:de,alt:""},null,-1))),Et=Lt((()=>f("img",{class:"dark-image",src:ce,alt:""},null,-1))),$t={class:"table is-hoverable is-fullwidth"},Bt=Lt((()=>f("thead",null,[f("tr",null,[f("th",null,"Title"),f("th",null,"Description"),f("th",null,"Children"),f("th",{class:"is-end"},"Actions")])],-1))),Wt={class:"is-end"},Nt={class:"is-flex is-justify-content-flex-end"},Kt=T(i({__name:"TradeComp",setup(e){const a=Q(),t=c(!1);c("Items list");const i=c([]),o=Z(),n=c(""),d=c(!1),m=c(null),_=async()=>{try{t.value=!0;const e=await o.get("/api/cost-trade/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{m.value=e,d.value=!0},V=u((()=>{if(n.value){const e=new RegExp(n.value,"i");return i.value.filter((l=>l.name?.match(e)))}return i.value}));return r((()=>{_()})),(e,i)=>{const c=B,u=s,r=U,I=R,S=E,T=l,P=X,M=Ra;return p(),v("div",null,[f("div",Dt,[g(u,null,{default:y((()=>[g(c,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>n.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,n.value]])])),_:1})])),_:1}),g(I,null,{default:y((()=>[g(r,{onClick:i[1]||(i[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:y((()=>[j(" Trade ")])),_:1})])),_:1})]),t.value?(p(),v("div",zt,[f("div",Ht,[(p(),v(k,null,C(20,(e=>g(S,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(p(),v("div",Ot,[V.value.length?b("",!0):(p(),h(T,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:y((()=>[Rt,Et])),_:1})),f("table",$t,[Bt,f("tbody",null,[(p(!0),v(k,null,C(V.value,(e=>(p(),v("tr",{key:e.id},[f("td",null,w(e.name??"n/a"),1),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.codes?.length||0),1),f("td",Wt,[f("div",Nt,[g(P,{onClick:l=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(P,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{await o.delete(`/api/cost-trade/${e}/`),a.success("Trade deleted successfully"),_()}catch(l){console.log(l),a.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])])),d.value?(p(),h(M,{key:2,openTradeModal:d.value,trade:m.value,"onUpdate:modalHandler":i[2]||(i[2]=e=>d.value=!1),"onUpdate:OnSuccess":_},null,8,["openTradeModal","trade"])):b("",!0)])}}}),[["__scopeId","data-v-2f1f2834"]]),Zt=e=>(I("data-v-43528037"),e=e(),S(),e),qt={class:"list-flex-toolbar flex-list-v1"},Ft={key:0,class:"columns is-multiline"},Qt={class:"column is-12"},Gt={key:1,class:"page-content-inner"},Jt=Zt((()=>f("img",{class:"light-image",src:de,alt:""},null,-1))),Yt=Zt((()=>f("img",{class:"dark-image",src:ce,alt:""},null,-1))),Xt={class:"table is-hoverable is-fullwidth"},es=Zt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),ls={class:"pl-5"},as={class:"dark-text text-primary"},ts={class:"is-end"},ss={class:"is-flex is-justify-content-flex-end"},is=T(i({__name:"CostCodes",setup(e){const a=Q(),t=c(!1);c("Items list");const i=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=Z(),n=c(""),d=[{}],m=c(!1);c(!1),c(!1);const _=c(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-code/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=u((()=>{if(n.value){const e=new RegExp(n.value,"i");return d.filter((l=>l.username?.match(e)||l.location?.match(e)))}return d}));return r((()=>{x()})),(e,d)=>{const c=B,u=s,r=U,I=R,S=E,T=l,P=X,M=At;return p(),v("div",null,[f("div",qt,[g(u,null,{default:y((()=>[g(c,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(n)]])])),_:1})])),_:1}),g(I,null,{default:y((()=>[g(r,{color:"primary",onClick:d[1]||(d[1]=e=>m.value=!z(m)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[j(" Cost Code ")])),_:1})])),_:1})]),z(t)?(p(),v("div",Ft,[f("div",Qt,[(p(),v(k,null,C(20,(e=>g(S,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(p(),v("div",Gt,[z(V).length?b("",!0):(p(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Jt,Yt])),_:1})),f("table",Xt,[es,f("tbody",null,[(p(!0),v(k,null,C(z(i),(e=>(p(),v("tr",{key:e.id,class:"sub-item"},[f("td",ls,[f("p",as,w(e.name),1)]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",ts,[f("div",ss,[g(P,{onClick:l=>{return a=e.id,_.value=a,void(m.value=!m.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(P,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-code/${e}/`),x(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])])),z(m)?(p(),h(M,{key:2,addUpdateCostCodeModal:z(m),"cost-code-id":z(_),"onUpdate:modalHandler":d[2]||(d[2]=e=>m.value=!1),"onUpdate:OnSuccess":d[3]||(d[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):b("",!0)])}}}),[["__scopeId","data-v-43528037"]]),os=e=>(I("data-v-e9bf2a7f"),e=e(),S(),e),ns={class:""},ds={class:"list-flex-toolbar flex-list-v1"},cs={key:0,class:"columns is-multiline"},us={class:"column is-12"},rs={class:"page-content-inner"},ms=os((()=>f("img",{class:"light-image",src:de,alt:""},null,-1))),ps=os((()=>f("img",{class:"dark-image",src:ce,alt:""},null,-1))),vs={class:"table is-hoverable is-fullwidth"},fs=os((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),gs={class:"info-text is-bold"},ys={class:"is-end"},_s={class:"is-flex is-justify-content-flex-end"},hs=T(i({__name:"CategoryComp",setup(e){const a=Q(),t=c(!1);c("Items list");const i=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=Z(),n=c(""),d=[{}];c(!1);const m=c(!1);c(!1);const _=c(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=u((()=>{if(n.value){const e=new RegExp(n.value,"i");return d.filter((l=>l.username?.match(e)||l.location?.match(e)))}return d}));return r((()=>{x()})),(e,d)=>{const c=B,u=s,r=U,I=R,S=E,T=l,P=X,M=Ja;return p(),v("div",null,[f("div",ns,[f("div",ds,[g(u,null,{default:y((()=>[g(c,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(n)]])])),_:1})])),_:1}),g(I,null,{default:y((()=>[g(r,{onClick:d[1]||(d[1]=e=>m.value=!z(m)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[j(" Category ")])),_:1})])),_:1})]),z(t)?(p(),v("div",cs,[f("div",us,[(p(),v(k,null,C(20,(e=>g(S,{height:"40px",width:"100%",class:"my-2"}))),64))])])):b("",!0),f("div",rs,[z(V).length?b("",!0):(p(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[ms,ps])),_:1})),f("table",vs,[fs,f("tbody",null,[(p(!0),v(k,null,C(z(i),(e=>(p(),v("tr",{key:e.id},[f("td",null,[f("p",gs,w(e.name??"n/a"),1)]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",ys,[f("div",_s,[g(P,{onClick:l=>{return a=e?.id,_.value=a,void(m.value=!m.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(P,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-category/${e}/`),x(),a.success("delete category")}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),z(m)?(p(),h(M,{key:0,addUpdateCategoryModal:z(m),"category-id":z(_),"onUpdate:modalHandler":d[2]||(d[2]=e=>m.value=!1),"onUpdate:OnSuccess":d[3]||(d[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0)])}}}),[["__scopeId","data-v-e9bf2a7f"]]),bs=e=>(I("data-v-a0d48384"),e=e(),S(),e),ks={class:"tabs-wrapper"},Cs={class:"tabs-inner"},ws={class:"tabs"},xs=[bs((()=>f("span",null,"Identity List",-1)))],Vs=[bs((()=>f("span",null,"Cost Codes",-1)))],Us=[bs((()=>f("span",null,"Category",-1)))],Is=[bs((()=>f("span",null,"Trade",-1)))],Ss={key:0},Ts={class:"columns is-multiline"},js={class:"column is-12"},Ps={class:"list-flex-toolbar flex-list-v1"},Ms={class:"page-content-inner"},As=bs((()=>f("img",{class:"light-image",src:de,alt:""},null,-1))),Ls=bs((()=>f("img",{class:"dark-image",src:ce,alt:""},null,-1))),Ds={class:"table is-hoverable is-fullwidth"},zs=bs((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Hs={class:"info-text is-bold"},Os=["onClick"],Rs={class:"is-end"},Es={class:"is-flex is-justify-content-flex-end"},$s={class:"sub-item"},Bs={class:"pl-5"},Ws={class:"dark-text text-primary"},Ns=["onClick"],Ks={class:"is-end"},Zs={class:"is-flex is-justify-content-flex-end"},qs={class:"child-item"},Fs={class:"pl-6"},Qs=["onClick"],Gs=bs((()=>f("td",null,"-",-1))),Js={class:"is-end"},Ys={class:"is-flex is-justify-content-flex-end"},Xs={class:"p-l-60"},ei=bs((()=>f("td",null,"-",-1))),li={class:"is-end"},ai={class:"is-flex is-justify-content-flex-end"},ti={key:1},si={key:2},ii={key:3},oi=T(i({__name:"IdentityList",setup(e){const a=Q(),t=c(!1),i=c("itemsList"),o=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),n=Z(),d=c(""),m=c(!1),V=c(!1),I=c(!1),S=c(""),T=async e=>{try{t.value=!0;await n.delete(`/api/cost-code/${e}/`);M(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}},M=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},H=e=>{S.value=e,m.value=!m.value},O=c(""),$=c(!1),W=c(""),N=(e=null,l=null)=>{console.log(e),console.log(l),O.value="",W.value="",W.value=e,O.value=l,m.value=!0},K=u((()=>{if(!d.value)return o.value;const e=new RegExp(d.value,"i");return o.value.filter((l=>!!e.test(l.name)||l.codes.some((l=>!!e.test(l.name)||l.child_codes?.some((l=>e.test(l.name)))))))}));return r((()=>{M()})),(e,o)=>{const c=E,u=B,r=s,Z=U,q=R,F=l,Q=X,G=hs,J=is,Y=Kt,ee=At,le=Ja,ae=Ra;return p(),v("div",null,[f("div",ks,[f("div",Cs,[f("div",ws,[f("ul",null,[f("li",{class:x(["itemsList"===z(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[0]||(o[0]=_(P((e=>i.value="itemsList"),["prevent"]),["space"])),onClick:o[1]||(o[1]=e=>i.value="itemsList")},xs,32)],2),f("li",{class:x(["costCodes"===z(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[2]||(o[2]=_(P((e=>i.value="costCodes"),["prevent"]),["space"])),onClick:o[3]||(o[3]=e=>i.value="costCodes")},Vs,32)],2),f("li",{class:x(["Category"===z(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[4]||(o[4]=_(P((e=>i.value="Category"),["prevent"]),["space"])),onClick:o[5]||(o[5]=e=>i.value="Category")},Us,32)],2),f("li",{class:x(["Trade"===z(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[6]||(o[6]=_(P((e=>i.value="Trade"),["prevent"]),["space"])),onClick:o[7]||(o[7]=e=>i.value="Trade")},Is,32)],2)])])])]),"itemsList"==z(i)?(p(),v("div",Ss,[f("div",Ts,[f("div",js,[z(t)?(p(),v(k,{key:0},C(20,(e=>g(c,{height:"40px",width:"100%",class:"my-2"}))),64)):b("",!0)])]),f("div",Ps,[g(r,null,{default:y((()=>[g(u,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":o[8]||(o[8]=e=>L(d)?d.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(d)]])])),_:1})])),_:1}),g(q,null,{default:y((()=>[g(Z,{color:"primary",onClick:o[9]||(o[9]=e=>N()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:y((()=>[j(" Cost Code ")])),_:1}),g(Z,{onClick:o[10]||(o[10]=e=>V.value=!z(V)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:y((()=>[j(" Category ")])),_:1})])),_:1})]),f("div",Ms,[z(K).length?b("",!0):(p(),h(F,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[As,Ls])),_:1})),f("table",Ds,[zs,f("tbody",null,[(p(!0),v(k,null,C(z(K),(e=>(p(),v(k,{key:e.id},[f("tr",null,[f("td",null,[f("p",Hs,[j(w(e.name??"n/a")+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{N(e.id),$.value=!1,$.value=!0}},null,8,Os)])]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",Rs,[f("div",Es,[g(Q,{onClick:l=>{return a=e?.id,S.value=a,void(V.value=!V.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(Q,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),a.success("delete category"),M()}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(p(!0),v(k,{key:0},C(e.codes,(e=>(p(),v(k,{key:e?.id},[f("tr",$s,[f("td",Bs,[f("p",Ws,[j(w(e.name)+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>N(e.category,e.id)},null,8,Ns)])]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",Ks,[f("div",Zs,[g(Q,{onClick:l=>H(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>T(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(p(!0),v(k,{key:0},C(e.child_codes,(e=>(p(),v(k,{key:e.id},[f("tr",qs,[f("td",Fs,[j(w(e.name),1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>N(e.category,e.id)},null,8,Qs)]),f("td",null,w(e.description||"No description"),1),Gs,f("td",Js,[f("div",Ys,[g(Q,{onClick:l=>H(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>T(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(p(!0),v(k,{key:0},C(e.child_codes,(e=>(p(),v("tr",{key:e.id,class:"child-item"},[f("td",Xs,w(e.name),1),f("td",null,w(e.description||"No description"),1),ei,f("td",li,[f("div",ai,[g(Q,{onClick:l=>H(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>T(e.id)},null,8,["onClick"])])])])))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128))])])])])):b("",!0),"Category"==z(i)?(p(),v("div",ti,[g(G)])):b("",!0),"costCodes"==z(i)?(p(),v("div",si,[g(J)])):b("",!0),"Trade"==z(i)?(p(),v("div",ii,[g(Y)])):b("",!0),z(m)?(p(),h(ee,{key:4,addUpdateCostCodeModal:z(m),"cost-code-id":z(S),parentCodeId:z(O),codeCategoryId:z(W),CategoryMode:z($),"onUpdate:modalHandler":o[11]||(o[11]=e=>{m.value=!1,$.value=!1}),"onUpdate:OnSuccess":o[12]||(o[12]=e=>M())},null,8,["addUpdateCostCodeModal","cost-code-id","parentCodeId","codeCategoryId","CategoryMode"])):b("",!0),z(V)?(p(),h(le,{key:5,addUpdateCategoryModal:z(V),"category-id":z(S),"onUpdate:modalHandler":o[13]||(o[13]=e=>V.value=!1),"onUpdate:OnSuccess":o[14]||(o[14]=e=>M())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0),z(I)?(p(),h(ae,{key:6,addUpdateTradeModal:z(I),"onUpdate:modalHandler":o[15]||(o[15]=e=>I.value=!1),"onUpdate:OnSuccess":o[16]||(o[16]=e=>M())},null,8,["addUpdateTradeModal"])):b("",!0)])}}}),[["__scopeId","data-v-a0d48384"]]),ni=e=>(I("data-v-3775b8bc"),e=e(),S(),e),di=ni((()=>f("div",{class:"list-flex-toolbar flex-list-v1"},null,-1))),ci={class:"page-content-inner"},ui=ni((()=>f("img",{class:"light-image",src:de,alt:""},null,-1))),ri=ni((()=>f("img",{class:"dark-image",src:ce,alt:""},null,-1))),mi={class:"columns is-multiline"},pi={class:"column is-6"},vi={class:"column is-6"},fi={class:"column is-6"},gi={class:"column is-6"},yi={class:"column is-12"},_i={class:"column is-3"},hi={class:"column is-3"},bi={class:"column is-3"},ki={class:"column is-3"},Ci={class:"column is-6"},wi={class:"column is-6"},xi={class:"columns is-multiline"},Vi=ni((()=>f("div",{class:"column is-12"},[f("h1",{class:"title is-4"},"Company Logos")],-1))),Ui={class:"column is-4 is-flex"},Ii={class:"column is-4 is-flex"},Si={class:"column is-4 is-flex"},Ti=T(i({__name:"CompanyInformation",setup(e){Q();const t=c(!1),i=Z();c(""),c(!1);const o=c({id:"",name:"",trade_name:"",zipCode:null,city:"",state:null,country:null,address:null,phone_number:null,email:null,website:null,logo:null,created_at:"",updated_at:"",sidebar_logo:"",favicon:null,invoice_header_logo:null,login_page_logo:"",branding_line:""}),n=async()=>{try{t.value=!0;const e=await i.get("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},d=async e=>{try{t.value=!0;const l=await i.patch("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/",e);n(),o.value=l.data}catch(l){console.log(l)}finally{t.value=!1}},u=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.logo=a,d({logo:a}))},m=(e,l)=>{e?console.error(e):(console.log(l),o.value.logo=null)},_=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.favicon=a,d({favicon:a}),J(o.value.favicon))},k=(e,l)=>{e?console.error(e):(console.log(l),o.value.favicon=null)},C=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.invoice_header_logo=a,d({invoice_header_logo:a}))},w=(e,l)=>{e?console.error(e):(console.log(l),o.value.invoice_header_logo=null)};return r((()=>{n()})),(e,t)=>{const i=l,n=F,c=W,r=B,x=s,V=a,U=ue;return p(),v("div",null,[di,f("div",ci,[z(o).name?b("",!0):(p(),h(i,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[ui,ri])),_:1})),f("div",mi,[f("div",pi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Company Name")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).name,"onUpdate:modelValue":t[0]||(t[0]=e=>z(o).name=e),type:"text",placeholder:"Company Name",onBlur:t[1]||(t[1]=e=>d({name:z(o).name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",vi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Trade Name")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).trade_name,"onUpdate:modelValue":t[2]||(t[2]=e=>z(o).trade_name=e),type:"text",placeholder:"Trade Name",onBlur:t[3]||(t[3]=e=>d({trade_name:z(o).trade_name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",fi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Email Address")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).email,"onUpdate:modelValue":t[4]||(t[4]=e=>z(o).email=e),type:"text",placeholder:"Company Email",onBlur:t[5]||(t[5]=e=>d({email:z(o).email}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",gi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Phone Number")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).phone_number,"onUpdate:modelValue":t[6]||(t[6]=e=>z(o).phone_number=e),type:"text",placeholder:"Phone Number",onBlur:t[7]||(t[7]=e=>d({phone_number:z(o).phone_number}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",yi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Company Website")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).website,"onUpdate:modelValue":t[8]||(t[8]=e=>z(o).website=e),type:"url",placeholder:"Website URL",onBlur:t[9]||(t[9]=e=>d({website:z(o).website}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",_i,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Zip Code")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).zipCode,"onUpdate:modelValue":t[10]||(t[10]=e=>z(o).zipCode=e),type:"text",placeholder:"Zip Code",onBlur:t[11]||(t[11]=e=>d({zipCode:z(o).zipCode}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",hi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("City ")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).city,"onUpdate:modelValue":t[12]||(t[12]=e=>z(o).city=e),type:"text",placeholder:"City",onBlur:t[13]||(t[13]=e=>d({city:z(o).city}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",bi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("State")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).state,"onUpdate:modelValue":t[14]||(t[14]=e=>z(o).state=e),type:"text",placeholder:"State",onBlur:t[15]||(t[15]=e=>d({state:z(o).state}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ki,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Country")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).country,"onUpdate:modelValue":t[16]||(t[16]=e=>z(o).country=e),type:"text",placeholder:"Country",onBlur:t[17]||(t[17]=e=>d({country:z(o).country}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ci,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Complete Address")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).address,"onUpdate:modelValue":t[18]||(t[18]=e=>z(o).address=e),type:"text",placeholder:"Address",onBlur:t[19]||(t[19]=e=>d({address:z(o).address}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",wi,[g(x,null,{default:y((()=>[g(n,null,{default:y((()=>[j("Company One Liner")])),_:1}),g(r,null,{default:y((()=>[g(c,{modelValue:z(o).branding_line,"onUpdate:modelValue":t[20]||(t[20]=e=>z(o).branding_line=e),type:"text",placeholder:"john.doe",onBlur:t[21]||(t[21]=e=>d({branding_line:z(o).branding_line}))},null,8,["modelValue"])])),_:1})])),_:1})])]),f("div",xi,[Vi,f("div",Ui,[g(x,{label:"Sidebar logo"},{default:y((()=>[g(V,{size:"xl",picture:z(o).logo,color:"primary",initials:z(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(r,null,{default:y((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:u,onRemovefile:m})])),_:1})])),_:1})]),f("div",Ii,[g(x,{label:"Proposal Logo"},{default:y((()=>[g(V,{size:"xl",picture:z(o).invoice_header_logo,color:"primary",initials:z(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(r,null,{default:y((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:C,onRemovefile:w})])),_:1})])),_:1})]),f("div",Si,[g(x,{label:"Favicon"},{default:y((()=>[g(V,{size:"large",color:"primary",picture:z(o).favicon,initials:z(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(r,null,{default:y((()=>[g(U,{size:"tiny",class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":80,"image-resize-target-width":80,"image-resize-target-height":80,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:_,onRemovefile:k})])),_:1})])),_:1})])])])])}}}),[["__scopeId","data-v-3775b8bc"]]),ji={class:"list-flex-toolbar flex-list-v1"},Pi={class:"tile-grid tile-grid-v1"},Mi=f("img",{class:"light-image",src:de,alt:""},null,-1),Ai=f("img",{class:"dark-image",src:ce,alt:""},null,-1),Li={class:"tile-grid-item"},Di={class:"tile-grid-item-inner"},zi={class:"meta"},Hi={class:"dark-inverted"},Oi=["onClick"],Ri=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],Ei=f("hr",{class:"dropdown-divider"},null,-1),$i=["onClick"],Bi=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],Wi=i({__name:"CompanyCostTypes",setup(e){const a=Q(),t=c(!1),i=Z(),o=c(""),n=c(!1),d=c(""),m=c([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),_=async()=>{try{t.value=!0;const e=await i.get("/api/cost-types/");m.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{d.value=e,n.value=!n.value},V=u((()=>{if(o.value){const e=new RegExp(o.value,"i");return m.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return m.value}));return r((()=>{_()})),(e,c)=>{const u=B,r=s,m=U,I=R,S=l,T=pe,P=re;return p(),v("div",null,[f("div",ji,[g(r,null,{default:y((()=>[g(u,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(o)]])])),_:1})])),_:1}),g(I,null,{default:y((()=>[g(m,{color:"primary",onClick:c[1]||(c[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[j(" Cost Type ")])),_:1})])),_:1})]),f("div",Pi,[z(V).length?b("",!0):(p(),h(S,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Mi,Ai])),_:1})),g(H,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:y((()=>[(p(!0),v(k,null,C(z(V),((e,l)=>(p(),v("div",{key:l,class:"column is-4"},[f("div",Li,[f("div",Di,[f("div",zi,[f("span",Hi,w(e.title),1),f("span",null,w(e.value),1)]),g(T,{icon:"feather:more-vertical",spaced:"",right:""},{content:y((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},Ri,8,Oi),Ei,f("a",{onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/cost-types/${e}/`),_(),a.success("Cost deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},Bi,8,$i)])),_:2},1024)])])])))),128))])),_:1})]),z(n)?(p(),h(P,{key:0,"add-update-cost-type":z(n),typeId:z(d),"onUpdate:modalHandler":c[2]||(c[2]=e=>{n.value=!1,d.value=""}),"onUpdate:OnSuccess":c[3]||(c[3]=e=>_())},null,8,["add-update-cost-type","typeId"])):b("",!0)])}}}),Ni={class:"list-flex-toolbar flex-list-v1"},Ki={class:"tile-grid tile-grid-v1"},Zi=f("img",{class:"light-image",src:de,alt:""},null,-1),qi=f("img",{class:"dark-image",src:ce,alt:""},null,-1),Fi={class:"tile-grid-item"},Qi={class:"tile-grid-item-inner"},Gi={class:"meta"},Ji={class:"dark-inverted"},Yi=["onClick"],Xi=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],eo=f("hr",{class:"dropdown-divider"},null,-1),lo=["onClick"],ao=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],to=i({__name:"CompanyUnits",setup(e){const a=Q(),t=c(!1),i=Z(),o=c(""),n=c(!1),d=c(""),m=c([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),_=async()=>{try{t.value=!0;const e=await i.get("/api/units/");m.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{d.value=e,n.value=!n.value},V=u((()=>{if(o.value){const e=new RegExp(o.value,"i");return m.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return m.value}));return r((()=>{_()})),(e,c)=>{const u=B,r=s,m=U,I=R,S=l,T=pe,P=me;return p(),v("div",null,[f("div",Ni,[g(r,null,{default:y((()=>[g(u,{icon:"feather:search"},{default:y((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(o)]])])),_:1})])),_:1}),g(I,null,{default:y((()=>[g(m,{color:"primary",onClick:c[1]||(c[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[j(" Unit ")])),_:1})])),_:1})]),f("div",Ki,[z(V).length?b("",!0):(p(),h(S,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Zi,qi])),_:1})),g(H,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:y((()=>[(p(!0),v(k,null,C(z(V),((e,l)=>(p(),v("div",{key:l,class:"column is-4"},[f("div",Fi,[f("div",Qi,[f("div",Gi,[f("span",Ji,w(e.title),1),f("span",null,w(e.value),1)]),g(T,{icon:"feather:more-vertical",spaced:"",right:""},{content:y((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},Xi,8,Yi),eo,f("a",{onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/units/${e}/`),_(),a.success("Unit deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},ao,8,lo)])),_:2},1024)])])])))),128))])),_:1})]),z(n)?(p(),h(P,{key:0,addUpdateCostUnitModal:z(n),unitId:z(d),"onUpdate:modalHandler":c[2]||(c[2]=e=>{n.value=!1,d.value=""}),"onUpdate:OnSuccess":c[3]||(c[3]=e=>_())},null,8,["addUpdateCostUnitModal","unitId"])):b("",!0)])}}}),so=e=>(I("data-v-c723accd"),e=e(),S(),e),io={class:"container"},oo={class:"box cu-property"},no={class:"box-body"},co={class:"columns is-multiline p-5 align-items-center"},uo={class:"column is-2 text-align-center"},ro=["src"],mo={class:"column is-3"},po={class:"title is-5 mb-2"},vo={class:"light-text mb-0 font-500"},fo={class:"light-text font-500"},go={class:"m-t-20"},yo={class:"tabs-wrapper"},_o={class:"tabs-inner"},ho={class:"tabs is-toggle"},bo=[so((()=>f("span",null,"General",-1)))],ko=[so((()=>f("span",null,"Cost Codes",-1)))],Co=[so((()=>f("span",null,"Units",-1)))],wo=[so((()=>f("span",null,"Cost Types",-1)))],xo=[so((()=>f("span",null,"Permissions & Roles",-1)))],Vo=[so((()=>f("span",null,"Action logs",-1)))],Uo={key:0},Io={key:1},So={key:2},To={key:3},jo={key:4},Po={key:5},Mo=i({__name:"CompanySettingsComponent",setup(e){const l=ve(),a=c("general");return(e,t)=>{const s=to,i=Wi,o=Ti,n=oi,d=Aa,c=ze;return p(),v("div",io,[f("div",oo,[f("div",no,[f("div",co,[f("div",uo,[f("img",{src:z(l).currentCompany?.logo,style:{width:"100px","border-radius":"10px"},alt:"",srcset:""},null,8,ro)]),f("div",mo,[f("h2",po,w(z(l).currentCompany?.name??""),1),f("p",vo,w(z(l).currentCompany?.email??""),1),f("p",fo,w(z(l).currentCompany?.phone_number??""),1)])])])]),f("div",go,[f("div",yo,[f("div",_o,[f("div",ho,[f("ul",null,[f("li",{class:x(["general"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[0]||(t[0]=_(P((e=>a.value="general"),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>a.value="general")},bo,32)],2),f("li",{class:x(["costCodes"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[2]||(t[2]=_(P((e=>a.value="costCodes"),["prevent"]),["space"])),onClick:t[3]||(t[3]=e=>a.value="costCodes")},ko,32)],2),f("li",{class:x(["units"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[4]||(t[4]=_(P((e=>a.value="units"),["prevent"]),["space"])),onClick:t[5]||(t[5]=e=>a.value="units")},Co,32)],2),f("li",{class:x(["types"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[6]||(t[6]=_(P((e=>a.value="types"),["prevent"]),["space"])),onClick:t[7]||(t[7]=e=>a.value="types")},wo,32)],2),f("li",{class:x(["permissions"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[8]||(t[8]=_(P((e=>a.value="permissions"),["prevent"]),["space"])),onClick:t[9]||(t[9]=e=>a.value="permissions")},xo,32)],2),f("li",{class:x(["logs"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[10]||(t[10]=_(P((e=>a.value="logs"),["prevent"]),["space"])),onClick:t[11]||(t[11]=e=>a.value="logs")},Vo,32)],2)])])])]),"units"===z(a)?(p(),v("div",Uo,[g(s)])):b("",!0),"types"===z(a)?(p(),v("div",Io,[g(i)])):b("",!0),"general"===z(a)?(p(),v("div",So,[g(o)])):b("",!0),"costCodes"===z(a)?(p(),v("div",To,[g(n)])):b("",!0),"permissions"===z(a)?(p(),v("div",jo,[g(d)])):b("",!0),"logs"===z(a)?(p(),v("div",Po,[g(c)])):b("",!0)])])}}});"function"==typeof fe&&fe(Mo);const Ao=T(Mo,[["__scopeId","data-v-c723accd"]]),Lo=i({__name:"index",setup(e){ge();return ye().setPageTitle("Company Settings"),$((()=>({title:"Company Settings"}))),(e,l)=>{const a=Ao;return p(),v("div",null,[g(a)])}}});"function"==typeof fe&&fe(Lo);export{Lo as default};
