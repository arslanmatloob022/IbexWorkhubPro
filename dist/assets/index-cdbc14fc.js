import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-4331dfbc.js";import{_ as a}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-fe003bf2.js";import{_ as l}from"./VAvatar.vue_vue_type_style_index_0_lang-2d902219.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-62db3031.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-a1a3d0cb.js";import{e as i,v as o,x as n,r as c,Z as d,o as r,i as u,B as p,C as m,D as v,E as f,F as g,G as _,N as y,M as h,U as b,V as k,T as C,H as w,a3 as x,O as V,P as U,Q as S,R as T,f as I,J as j,K as M,l as D,W as A,I as O,A as P,ak as E,j as H,z}from"./index-5d4f31c5.js";import{_ as L}from"./VControl-d5ab548c.js";import{_ as N}from"./VInput.vue_vue_type_script_setup_true_lang-f50f1da9.js";import{_ as W,a as R}from"./projects-dark-4a371d8a.js";import{u as K}from"./useAPI-603957e6.js";import{u as $}from"./userSession-473ce6b8.js";import{_ as Z}from"./VCheckbox.vue_vue_type_style_index_0_lang-191b38bf.js";import{_ as B}from"./VCollapse.vue_vue_type_style_index_0_lang-4ad72769.js";import{_ as F}from"./VLabel.vue_vue_type_script_setup_true_lang-8b47f507.js";import{b as q}from"./route-block-83d24a4e.js";import{_ as J}from"./VModal.vue_vue_type_style_index_0_lang-31a0b5be.js";import{_ as G}from"./VTextarea.vue_vue_type_script_setup_true_lang-c2340f07.js";import{u as Y}from"./useNotyf-33ec4db5.js";import{_ as Q,a as X}from"./VOption.vue_vue_type_style_index_0_lang-cf37f51c.js";import{_ as ee}from"./VIconWrap.vue_vue_type_style_index_0_lang-7657b9d1.js";import{_ as ae,a as le}from"./search-4-dark-2b5b440c.js";import{_ as te}from"./VTag.vue_vue_type_style_index_0_lang-3b129b64.js";import{u as se}from"./layoutSwitcher-f548bb57.js";import{u as ie}from"./viewWrapper-1e1befe3.js";import"./VFlex.vue_vue_type_style_index_0_lang-5d268f10.js";import"./VPlaceloadWrap-be2962a0.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-f753cb82.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-aee43724.js";import"./useVFieldContext-343611a3.js";import"./VIcon.vue_vue_type_script_setup_true_lang-f9ed4bd8.js";import"./notyf-d7ba2770.js";import"./useThemeColors-4c9eddd7.js";import"./via-placeholder-24645670.js";const oe=e=>(U("data-v-bee4111d"),e=e(),S(),e),ne={class:"columns is-multiline"},ce={class:"column is-12"},de={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},re=oe((()=>v("i",{class:"fa fa-search"},null,-1))),ue={class:"timeline-wrapper"},pe=oe((()=>v("div",{class:"timeline-header"},null,-1))),me={class:"timeline-wrapper-inner no-padding-all"},ve={class:"timeline-container"},fe={class:"date"},ge={class:"content-wrap"},_e={class:"content-box"},ye={class:"box-text"},he={class:"meta-text"},be=["innerHTML"],ke=oe((()=>v("img",{class:"light-image is-larger",src:W,alt:""},null,-1))),Ce=oe((()=>v("img",{class:"dark-image is-larger",src:R,alt:""},null,-1))),we=T(i({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(i){const U=i;$();const S=o(),T=n(),I=K(),j=c(!1),M=c([]),D=c(!1),A=c("2"),O=async()=>{j.value=!0;try{const e=await I.get("/api/activity-logs/");M.value=e.data,D.value=M.value.length>0}catch(e){console.error("Error fetching worker activities:",e)}finally{j.value=!1}},P={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const E=c(1),H=c(10),z=c(""),W=d((()=>{const e=z.value.toLowerCase(),a=function(e){const a=new Date,l=new Date,t=new Date;switch(e){case"1":l.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":l.setDate(a.getDate()-1),l.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":l.setDate(a.getDate()-7);break;case"14":l.setDate(a.getDate()-14);break;case"30":l.setDate(a.getDate()-30);break;case"90":l.setDate(a.getDate()-90);break;default:return null}return{start:l,end:t}}(A.value),l=M.value.filter((l=>{const t=l.actor_info.username.toLowerCase().includes(e)||l.actor_info.last_name&&l.actor_info.last_name.toLowerCase().includes(e)||l.message.toLowerCase().includes(e);if(a){const e=new Date(l.timestamp);return t&&e>=a.start&&e<=a.end}return t}));return D.value=l.length>0,l})),R=d((()=>{const e=(E.value-1)*H.value,a=e+H.value;return W.value.slice(e,a)})),Z=d((()=>W.value.length>H.value)),B=e=>{E.value=e,S.push({path:T.path,query:{...T.query,page:e}})};return r((()=>{E.value=parseInt(T.query.page)||1,O()})),u((()=>{U.id=0})),(i,o)=>{const n=N,c=L,d=V,r=s,u=t,U=l,S=a,T=e;return p(),m("div",ne,[v("div",ce,[v("div",de,[f(r,{addons:"",style:{width:"21rem"}},{default:g((()=>[f(c,{expanded:""},{default:g((()=>[f(n,{onKeypress:_(O,["enter"]),type:"text",class:"input",modelValue:z.value,"onUpdate:modelValue":o[0]||(o[0]=e=>z.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),f(c,null,{default:g((()=>[f(d,{color:"primary",onClick:O},{default:g((()=>[re])),_:1})])),_:1})])),_:1}),v("div",ue,[pe,v("div",me,[v("div",ve,[j.value?(p(),y(u,{key:0})):h("",!0),(p(!0),m(b,null,k(R.value,(e=>{return p(),m("div",{class:"timeline-item is-unread",key:e?.id},[v("div",fe,[v("span",null,C((a=e?.timestamp.slice(0,10),new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),v("div",{class:w(["dot",P[e.action]])},null,2),v("div",ge,[v("div",_e,[f(U,{picture:e?.actor_info.avatar},null,8,["picture"]),v("div",ye,[v("div",he,[v("p",null,[v("span",{style:x({color:""+(e.actor===e?.object_id?"var(--red)":"")})},C(e?.actor_info.username)+" "+C(e?.actor_info.last_name)+". ",5),v("span",{class:"action-message",innerHTML:e?.message},null,8,be)]),v("span",null,C(e?.timestamp.slice(11,16)),1)])])])])]);var a})),128)),D.value||j.value?h("",!0):(p(),y(S,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:g((()=>[ke,Ce])),_:1}))])]),Z.value?(p(),y(T,{key:0,"current-page":E.value,"onUpdate:currentPage":[o[1]||(o[1]=e=>E.value=e),B],"item-per-page":H.value,"total-items":W.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):h("",!0)])])])])}}}),[["__scopeId","data-v-bee4111d"]]),xe=e=>(U("data-v-08c5b175"),e=e(),S(),e),Ve={class:"role-management"},Ue={class:"role-category"},Se={class:"role-table"},Te=xe((()=>v("th",null,"View",-1))),Ie=xe((()=>v("th",null,"Add",-1))),je=xe((()=>v("th",null,"Edit",-1))),Me=xe((()=>v("th",null,"Delete",-1))),De={class:"pt-5"},Ae=T(i({__name:"ManageRole",setup(e){const a=I([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(e,l)=>{const t=Z,i=L,o=s;return p(),m("div",Ve,[(p(!0),m(b,null,k(a,(e=>(p(),m("div",{key:e.category,class:"role-section"},[v("h3",Ue,C(e.category),1),v("table",Se,[v("thead",null,[v("tr",null,[v("th",null,C(e.title),1),Te,Ie,je,Me])]),v("tbody",null,[(p(!0),m(b,null,k(e.items,(e=>(p(),m("tr",{key:e.name},[v("td",De,C(e.name),1),v("td",null,[f(o,null,{default:g((()=>[f(i,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.view,"onUpdate:modelValue":a=>e.view=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),v("td",null,[f(o,null,{default:g((()=>[f(i,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.add,"onUpdate:modelValue":a=>e.add=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),v("td",null,[f(o,null,{default:g((()=>[f(i,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.edit,"onUpdate:modelValue":a=>e.edit=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),v("td",null,[f(o,null,{default:g((()=>[f(i,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.delete,"onUpdate:modelValue":a=>e.delete=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),Oe={class:"column is-12"},Pe=i({__name:"RoleManagement",setup(e){const a=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,l)=>{const t=B;return p(),m("div",Oe,[f(t,{items:a,"with-chevron":""})])}}}),Ee={class:"pill"},He=i({__name:"BulletPill",setup:e=>(e,a)=>(p(),m("span",Ee))});"function"==typeof q&&q(He);const ze=T(He,[["__scopeId","data-v-325a7b2c"]]),Le=i({name:"FolderSettings",setup(){const e=I({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),Ne=e=>(U("data-v-ff241c58"),e=e(),S(),e),We={class:""},Re={class:"section"},Ke={class:"title is-5"},$e={class:"mt-5"},Ze=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Be=Ne((()=>v("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),Fe=Ne((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),qe={class:"columns is-multiline"},Je={class:"column is-3"},Ge=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ye=Ne((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),Qe={class:"column is-3"},Xe=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ea=Ne((()=>v("h2",{class:"title is-6"},"Clients",-1))),aa={class:"section"},la={class:"title is-5"},ta={class:"mt-5"},sa=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ia=Ne((()=>v("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),oa={class:"columns is-multiline"},na={class:"column is-6"},ca=Ne((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),da={class:"columns is-multiline"},ra={class:"column is-6"},ua=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),pa=Ne((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),ma={class:"column is-6"},va=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),fa=Ne((()=>v("h2",{class:"title is-6"},"Clients",-1))),ga={class:"column is-6"},_a=Ne((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),ya={class:"columns is-multiline"},ha={class:"column is-6"},ba=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ka=Ne((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),Ca={class:"column is-6"},wa=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),xa=Ne((()=>v("h2",{class:"title is-6"},"Clients",-1))),Va={class:"section"},Ua={class:"title is-5"},Sa=Ne((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Ta={class:"columns is-multiline"},Ia={class:"column is-3"},ja=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ma=Ne((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),Da={class:"column is-3"},Aa=Ne((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Oa=Ne((()=>v("h2",{class:"title is-6"},"Clients",-1)));const Pa=T(Le,[["render",function(e,a,l,t,s,i){const o=ze,n=N,c=F,d=L;return p(),m("div",We,[v("div",Re,[v("h3",Ke,[f(o),j(" Document folders ")]),v("div",$e,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),Ze])),_:1}),Be])),_:1})])]),v("div",null,[Fe,v("div",qe,[v("div",Je,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),Ge])),_:1}),Ye])),_:1})])]),v("div",Qe,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Xe])),_:1}),ea])),_:1})])])])])]),v("div",aa,[v("h3",la,[f(o),j(" Photo folders ")]),v("div",ta,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),sa])),_:1}),ia])),_:1})])]),v("div",oa,[v("div",na,[ca,v("div",da,[v("div",ra,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),ua])),_:1}),pa])),_:1})])]),v("div",ma,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),va])),_:1}),fa])),_:1})])])])]),v("div",ga,[_a,v("div",ya,[v("div",ha,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),ba])),_:1}),ka])),_:1})])]),v("div",Ca,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),wa])),_:1}),xa])),_:1})])])])])])]),v("div",Va,[v("h3",Ua,[f(o),j(" Video folders ")]),v("div",null,[Sa,v("div",Ta,[v("div",Ia,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),ja])),_:1}),Ma])),_:1})])]),v("div",Da,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Aa])),_:1}),Oa])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),Ea={class:"modal-form columns is-multiline"},Ha={class:"column is-12"},za=v("label",{class:"label"},"Title *",-1),La={class:"column is-12"},Na=v("label",{class:"label"},"Description",-1),Wa=i({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const l=e,t=K(),i=c(!1),o=Y(),n=c({id:l.trade?.id||"",name:l.trade?.name||"",description:l.trade?.description||""}),d=()=>{a("update:modalHandler",!1)},r=async()=>{try{i.value=!0,n.value.id?(await t.patch(`/api/cost-trade/${n.value.id}/`,n.value),o.success("Trade updated successfully")):(await t.post("/api/cost-trade/",n.value),o.success("Trade created successfully")),a("update:OnSuccess"),d()}catch(e){console.log(e)}finally{i.value=!1}};return(e,a)=>{const l=G,t=L,o=s,c=V,u=J;return p(),y(u,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:O(r,["prevent"]),onClose:d},{content:g((()=>[v("div",Ea,[v("div",Ha,[za,M(v("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":a[0]||(a[0]=e=>D(n).name=e)},null,512),[[A,D(n).name]])]),v("div",La,[Na,f(o,null,{default:g((()=>[f(t,null,{default:g((()=>[f(l,{modelValue:D(n).description,"onUpdate:modelValue":a[1]||(a[1]=e=>D(n).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:g((()=>[f(c,{type:"submit",color:"primary",loading:D(i),raised:""},{default:g((()=>[j("Save")])),_:1},8,["loading"])])),cancel:g((()=>[f(c,{color:"light",onClick:d,raised:""},{default:g((()=>[j("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ra={class:"modal-form columns is-multiline"},Ka={class:"column is-6"},$a={class:"field"},Za=v("label",{class:"label"},"Title *",-1),Ba={class:"control"},Fa={class:"column is-6"},qa={class:"field"},Ja=v("label",{class:"label"},"Trade *",-1),Ga={class:"column is-12"},Ya={class:"field"},Qa=v("label",{class:"label"},"Description",-1),Xa=i({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const l=e,t=K(),i=c(!1),o=Y(),n=c(!1),d=()=>{a("update:modalHandler",!1)},u=c({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});c("");const _=async()=>{try{if(n.value=!0,l.categoryId){await t.patch(`/api/cost-category/${l.categoryId}/`,u.value)}else{await t.post("/api/cost-category/",u.value)}a("update:OnSuccess",null),o.success(`Category  ${l.categoryId?"updated":"created"} successfully`),d()}catch(e){console.log(e)}finally{n.value=!1}},h=c([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return r((()=>{l.categoryId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-category/${l.categoryId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-trade/");h.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,a)=>{const t=Q,o=X,n=L,c=G,r=s,w=V,x=J;return p(),y(x,{is:"form",open:l.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:O(_,["prevent"]),onClose:d},{content:g((()=>[v("div",Ra,[v("div",Ka,[v("div",$a,[Za,v("div",Ba,[M(v("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":a[0]||(a[0]=e=>D(u).name=e)},null,512),[[A,D(u).name]])])])]),v("div",Fa,[v("div",qa,[Ja,f(n,null,{default:g((()=>[f(o,{modelValue:D(u).trade,"onUpdate:modelValue":a[1]||(a[1]=e=>D(u).trade=e),required:""},{default:g((()=>[(p(!0),m(b,null,k(D(h),(e=>(p(),y(t,{value:e.id},{default:g((()=>[j(C(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),v("div",Ga,[v("div",Ya,[Qa,f(r,null,{default:g((()=>[f(n,null,{default:g((()=>[f(c,{modelValue:D(u).description,"onUpdate:modelValue":a[2]||(a[2]=e=>D(u).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:g((()=>[f(w,{type:"submit",color:"primary",loading:D(i),raised:""},{default:g((()=>[j(C(l.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:g((()=>[f(w,{color:"light",onClick:d,raised:""},{default:g((()=>[j("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),el={class:"modal-form columns is-multiline"},al={class:"column is-6"},ll={class:"field"},tl=v("label",{class:"label"},"Title * ",-1),sl={class:"control"},il={class:"column is-6"},ol={class:"field"},nl=v("label",{class:"label"},"Category *",-1),cl={class:"control"},dl={class:"field column is-12"},rl=v("label",{class:"label"},"Sub code of ",-1),ul={class:"control"},pl={class:"column is-12"},ml={class:"columns is-multiline"},vl={class:"field column is-6"},fl=v("label",{class:"label"},null,-1),gl={key:0,class:"column is-6"},_l={class:"field"},yl=v("label",{class:"label"},"Default labour cost ($)",-1),hl={class:"control"},bl={class:"column is-6"},kl={class:"field"},Cl=v("label",{class:"label"},"Unit cost ($)",-1),wl={class:"control"},xl={class:"column is-6"},Vl={class:"field"},Ul=v("label",{class:"label"},"Worker cost ($)",-1),Sl={class:"control"},Tl=v("hr",null,null,-1),Il={class:"column is-12"},jl={class:"field"},Ml=v("label",{class:"label"},"Description",-1),Dl=i({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const l=e,t=K(),i=c(!1),o=Y(),n=c(!1),d=()=>{a("update:modalHandler",!1)},u=c({id:"",name:"",category:l.codeCategoryId||"",parent_code:l.parentCodeId||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit_cost:0,is_active:!0}),_=async()=>{try{if(n.value=!0,l.costCodeId){await t.patch(`/api/cost-code/${l.costCodeId}/`,u.value);o.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",u.value);o.success("Cost code created successfully")}d(),a("update:OnSuccess",null)}catch(e){console.log(e)}finally{n.value=!1}},w=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=c([]);return r((()=>{console.log(l.codeCategoryId),l.costCodeId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-code/${l.costCodeId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-category/");w.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-code/");x.value=e.data.map((e=>({value:e.id,label:e.name})))}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,a)=>{const t=Q,o=X,n=L,c=s,r=P("Multiselect"),U=Z,S=G,T=V,I=J;return p(),y(I,{is:"form",open:l.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:O(_,["prevent"]),onClose:d},{content:g((()=>[v("div",el,[v("div",al,[v("div",ll,[tl,v("div",sl,[M(v("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":a[0]||(a[0]=e=>D(u).name=e)},null,512),[[A,D(u).name]])])])]),v("div",il,[v("div",ol,[nl,v("div",cl,[f(c,null,{default:g((()=>[f(n,null,{default:g((()=>[f(o,{modelValue:D(u).category,"onUpdate:modelValue":a[1]||(a[1]=e=>D(u).category=e),required:""},{default:g((()=>[f(t,{value:""},{default:g((()=>[j(" Select a category ")])),_:1}),(p(!0),m(b,null,k(D(w),(e=>(p(),y(t,{value:e.id},{default:g((()=>[j(C(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),v("div",dl,[rl,v("div",ul,[f(c,null,{default:g((({id:l})=>[f(n,null,{default:g((()=>[f(r,{disabled:!!e.CategoryMode,modelValue:D(u).parent_code,"onUpdate:modelValue":a[2]||(a[2]=e=>D(u).parent_code=e),attrs:{id:l},searchable:!0,options:D(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),v("div",pl,[v("div",ml,[v("div",vl,[fl,f(c,{class:"is-flex"},{default:g((()=>[f(n,{raw:"",subcontrol:""},{default:g((()=>[f(U,{modelValue:D(u).is_labour_code,"onUpdate:modelValue":a[3]||(a[3]=e=>D(u).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),D(u).is_labour_code?(p(),m("div",gl,[v("div",_l,[yl,v("div",hl,[M(v("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":a[4]||(a[4]=e=>D(u).labour_cost=e)},null,512),[[A,D(u).labour_cost]])])])])):h("",!0)])]),v("div",bl,[v("div",kl,[Cl,v("div",wl,[M(v("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":a[5]||(a[5]=e=>D(u).unit_cost=e)},null,512),[[A,D(u).unit_cost]])])])]),v("div",xl,[v("div",Vl,[Ul,v("div",Sl,[M(v("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":a[6]||(a[6]=e=>D(u).worker_cost=e)},null,512),[[A,D(u).worker_cost]])])])]),Tl,v("div",Il,[v("div",jl,[Ml,f(c,null,{default:g((()=>[f(n,null,{default:g((()=>[f(S,{modelValue:D(u).description,"onUpdate:modelValue":a[7]||(a[7]=e=>D(u).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:g((()=>[f(T,{type:"submit",color:"primary",loading:D(i),raised:""},{default:g((()=>[j(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:g((()=>[f(T,{color:"light",onClick:d,raised:""},{default:g((()=>[j("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Al=e=>(U("data-v-453d3f7e"),e=e(),S(),e),Ol={class:"list-flex-toolbar flex-list-v1"},Pl={class:"page-content-inner"},El=Al((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),Hl=Al((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),zl={class:"table is-hoverable is-fullwidth"},Ll=Al((()=>v("thead",null,[v("tr",null,[v("th",null,"Title"),v("th",null,"Description"),v("th",null,"Children"),v("th",{class:"is-end"},"Actions")])],-1))),Nl={class:"is-end"},Wl={class:"is-flex is-justify-content-flex-end"},Rl=T(i({__name:"TradeComp",setup(e){const l=Y(),t=c(!1);c("Items list");const i=c([]),o=K(),n=c(""),u=c(!1),_=c(null),w=async()=>{try{t.value=!0;const e=await o.get("/api/cost-trade/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{_.value=e,u.value=!0},U=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return i.value.filter((a=>a.name?.match(e)))}return i.value}));return r((()=>{w()})),(e,t)=>{const i=L,c=s,d=V,r=E,S=a,T=ee,I=Wa;return p(),m("div",null,[v("div",Ol,[f(c,null,{default:g((()=>[f(i,{icon:"feather:search"},{default:g((()=>[M(v("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,n.value]])])),_:1})])),_:1}),f(r,null,{default:g((()=>[f(d,{onClick:t[1]||(t[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:g((()=>[j(" Trade ")])),_:1})])),_:1})]),v("div",Pl,[U.value.length?h("",!0):(p(),y(S,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:g((()=>[El,Hl])),_:1})),v("table",zl,[Ll,v("tbody",null,[(p(!0),m(b,null,k(U.value,(e=>(p(),m("tr",{key:e.id},[v("td",null,C(e.name??"n/a"),1),v("td",null,C(e.description||"No description"),1),v("td",null,C(e.codes?.length||0),1),v("td",Nl,[v("div",Wl,[f(T,{onClick:a=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),f(T,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{await o.delete(`/api/cost-trade/${e}/`),l.success("Trade deleted successfully"),w()}catch(a){console.log(a),l.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])]),u.value?(p(),y(I,{key:0,openTradeModal:u.value,trade:_.value,"onUpdate:modalHandler":t[2]||(t[2]=e=>u.value=!1),"onUpdate:OnSuccess":w},null,8,["openTradeModal","trade"])):h("",!0)])}}}),[["__scopeId","data-v-453d3f7e"]]),Kl=e=>(U("data-v-502b606b"),e=e(),S(),e),$l={class:"list-flex-toolbar flex-list-v1"},Zl={class:"page-content-inner"},Bl=Kl((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),Fl=Kl((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),ql={class:"table is-hoverable is-fullwidth"},Jl=Kl((()=>v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Title"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Children"),v("th",{scope:"col",class:"is-end"},[v("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Gl={class:"pl-5"},Yl={class:"dark-text text-primary"},Ql={class:"is-end"},Xl={class:"is-flex is-justify-content-flex-end"},et=T(i({__name:"CostCodes",setup(e){const l=Y(),t=c(!1);c("Items list");const i=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=K(),n=c(""),u=[{}],_=c(!1);c(!1),c(!1);const w=c(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-code/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},U=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return u.filter((a=>a.username?.match(e)||a.location?.match(e)))}return u}));return r((()=>{x()})),(e,c)=>{const d=L,r=s,u=V,S=E,T=a,I=ee,O=Dl;return p(),m("div",null,[v("div",$l,[f(r,null,{default:g((()=>[f(d,{icon:"feather:search"},{default:g((()=>[M(v("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>H(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,D(n)]])])),_:1})])),_:1}),f(S,null,{default:g((()=>[f(u,{color:"primary",onClick:c[1]||(c[1]=e=>_.value=!D(_)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:g((()=>[j(" Cost Code ")])),_:1})])),_:1})]),v("div",Zl,[D(U).length?h("",!0):(p(),y(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[Bl,Fl])),_:1})),v("table",ql,[Jl,v("tbody",null,[(p(!0),m(b,null,k(D(i),(e=>(p(),m("tr",{key:e.id,class:"sub-item"},[v("td",Gl,[v("p",Yl,C(e.name),1)]),v("td",null,C(e.description||"No description"),1),v("td",null,C(e.child_codes?.length||0),1),v("td",Ql,[v("div",Xl,[f(I,{onClick:a=>{return l=e.id,w.value=l,void(_.value=!_.value);var l},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),f(I,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-code/${e}/`),x(),l.success("delete cost code")}catch(a){console.log(a)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])]),D(_)?(p(),y(O,{key:0,addUpdateCostCodeModal:D(_),"cost-code-id":D(w),"onUpdate:modalHandler":c[2]||(c[2]=e=>_.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):h("",!0)])}}}),[["__scopeId","data-v-502b606b"]]),at=e=>(U("data-v-317f06b1"),e=e(),S(),e),lt={class:""},tt={class:"list-flex-toolbar flex-list-v1"},st={class:"page-content-inner"},it=at((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),ot=at((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),nt={class:"table is-hoverable is-fullwidth"},ct=at((()=>v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Title"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Children"),v("th",{scope:"col",class:"is-end"},[v("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),dt={class:"info-text is-bold"},rt={class:"is-end"},ut={class:"is-flex is-justify-content-flex-end"},pt=T(i({__name:"CategoryComp",setup(e){const l=Y(),t=c(!1);c("Items list");const i=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=K(),n=c(""),u=[{}];c(!1);const _=c(!1);c(!1);const w=c(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},U=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return u.filter((a=>a.username?.match(e)||a.location?.match(e)))}return u}));return r((()=>{x()})),(e,c)=>{const d=L,r=s,u=V,S=E,T=a,I=ee,O=Xa;return p(),m("div",null,[v("div",lt,[v("div",tt,[f(r,null,{default:g((()=>[f(d,{icon:"feather:search"},{default:g((()=>[M(v("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>H(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,D(n)]])])),_:1})])),_:1}),f(S,null,{default:g((()=>[f(u,{onClick:c[1]||(c[1]=e=>_.value=!D(_)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:g((()=>[j(" Category ")])),_:1})])),_:1})]),v("div",st,[D(U).length?h("",!0):(p(),y(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[it,ot])),_:1})),v("table",nt,[ct,v("tbody",null,[(p(!0),m(b,null,k(D(i),(e=>(p(),m("tr",{key:e.id},[v("td",null,[v("p",dt,C(e.name??"n/a"),1)]),v("td",null,[v("p",null,C(e.description||"No description"),1)]),v("td",null,C(e.codes?.length||0),1),v("td",rt,[v("div",ut,[f(I,{onClick:a=>{return l=e?.id,w.value=l,void(_.value=!_.value);var l},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),f(I,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-category/${e}/`),x(),l.success("delete category")}catch(a){console.log(a)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),D(_)?(p(),y(O,{key:0,addUpdateCategoryModal:D(_),"category-id":D(w),"onUpdate:modalHandler":c[2]||(c[2]=e=>_.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):h("",!0)])}}}),[["__scopeId","data-v-317f06b1"]]),mt=e=>(U("data-v-3e2a9e9f"),e=e(),S(),e),vt={class:"tabs-wrapper"},ft={class:"tabs-inner"},gt={class:"tabs"},_t=[mt((()=>v("span",null,"Identity List",-1)))],yt=[mt((()=>v("span",null,"Cost Codes",-1)))],ht=[mt((()=>v("span",null,"Category",-1)))],bt=[mt((()=>v("span",null,"Trade",-1)))],kt={key:0,class:""},Ct={class:"list-flex-toolbar flex-list-v1"},wt={class:"page-content-inner"},xt=mt((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),Vt=mt((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),Ut={class:"table is-hoverable is-fullwidth"},St=mt((()=>v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Title"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Children"),v("th",{scope:"col",class:"is-end"},[v("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Tt={class:"info-text is-bold"},It=["onClick"],jt={class:"is-end"},Mt={class:"is-flex is-justify-content-flex-end"},Dt={class:"sub-item"},At={class:"pl-5"},Ot={class:"dark-text text-primary"},Pt=["onClick"],Et={class:"is-end"},Ht={class:"is-flex is-justify-content-flex-end"},zt={class:"child-item"},Lt={class:"pl-6"},Nt=["onClick"],Wt=mt((()=>v("td",null,"-",-1))),Rt={class:"is-end"},Kt={class:"is-flex is-justify-content-flex-end"},$t={class:"p-l-60"},Zt=mt((()=>v("td",null,"-",-1))),Bt={class:"is-end"},Ft={class:"is-flex is-justify-content-flex-end"},qt={key:1},Jt={key:2},Gt={key:3},Yt=T(i({__name:"IdentityList",setup(e){const l=Y(),t=c(!1),i=c("Items list"),o=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),n=K(),u=c(""),x=[{}],U=c(!1),S=c(!1),T=c(!1),I=c(""),P=async e=>{try{t.value=!0;await n.delete(`/api/cost-code/${e}/`);z(),l.success("delete cost code")}catch(a){console.log(a)}finally{t.value=!1}},z=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},N=e=>{I.value=e,U.value=!U.value},W=c(""),R=c(!1),$=c(""),Z=(e=null,a=null)=>{console.log(e),console.log(a),W.value="",$.value="",$.value=e,W.value=a,U.value=!0},B=d((()=>{if(u.value){const e=new RegExp(u.value,"i");return x.filter((a=>a.username?.match(e)||a.location?.match(e)))}return x}));return r((()=>{z()})),(e,c)=>{const d=L,r=s,x=V,K=E,F=a,q=ee,J=pt,G=et,Y=Rl,Q=Dl,X=Xa,ae=Wa;return p(),m("div",null,[v("div",vt,[v("div",ft,[v("div",gt,[v("ul",null,[v("li",{class:w(["Items list"===D(i)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[0]||(c[0]=_(O((e=>i.value="Items list"),["prevent"]),["space"])),onClick:c[1]||(c[1]=e=>i.value="Items list")},_t,32)],2),v("li",{class:w(["costCodes"===D(i)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[2]||(c[2]=_(O((e=>i.value="costCodes"),["prevent"]),["space"])),onClick:c[3]||(c[3]=e=>i.value="costCodes")},yt,32)],2),v("li",{class:w(["Category"===D(i)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[4]||(c[4]=_(O((e=>i.value="Category"),["prevent"]),["space"])),onClick:c[5]||(c[5]=e=>i.value="Category")},ht,32)],2),v("li",{class:w(["Trade"===D(i)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[6]||(c[6]=_(O((e=>i.value="Trade"),["prevent"]),["space"])),onClick:c[7]||(c[7]=e=>i.value="Trade")},bt,32)],2)])])])]),"Items list"==D(i)?(p(),m("div",kt,[v("div",Ct,[f(r,null,{default:g((()=>[f(d,{icon:"feather:search"},{default:g((()=>[M(v("input",{"onUpdate:modelValue":c[8]||(c[8]=e=>H(u)?u.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,D(u)]])])),_:1})])),_:1}),f(K,null,{default:g((()=>[f(x,{color:"primary",onClick:c[9]||(c[9]=e=>Z()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:g((()=>[j(" Cost Code ")])),_:1}),f(x,{onClick:c[10]||(c[10]=e=>S.value=!D(S)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:g((()=>[j(" Category ")])),_:1})])),_:1})]),v("div",wt,[D(B).length?h("",!0):(p(),y(F,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[xt,Vt])),_:1})),v("table",Ut,[St,v("tbody",null,[(p(!0),m(b,null,k(D(o),(e=>(p(),m(b,{key:e.id},[v("tr",null,[v("td",null,[v("p",Tt,[j(C(e.name??"n/a")+" ",1),v("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{Z(e.id),R.value=!1,R.value=!0}},null,8,It)])]),v("td",null,[v("p",null,C(e.description||"No description"),1)]),v("td",null,C(e.codes?.length||0),1),v("td",jt,[v("div",Mt,[f(q,{onClick:a=>{return l=e?.id,I.value=l,void(S.value=!S.value);var l},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),f(q,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),z(),l.success("delete category")}catch(a){console.log(a)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(p(!0),m(b,{key:0},k(e.codes,(e=>(p(),m(b,{key:e?.id},[v("tr",Dt,[v("td",At,[v("p",Ot,[j(C(e.name)+" ",1),v("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:a=>Z(e.category,e.id)},null,8,Pt)])]),v("td",null,C(e.description||"No description"),1),v("td",null,C(e.child_codes?.length||0),1),v("td",Et,[v("div",Ht,[f(q,{onClick:a=>N(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),f(q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>P(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(p(!0),m(b,{key:0},k(e.child_codes,(e=>(p(),m(b,{key:e.id},[v("tr",zt,[v("td",Lt,[j(C(e.name),1),v("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:a=>Z(e.category,e.id)},null,8,Nt)]),v("td",null,C(e.description||"No description"),1),Wt,v("td",Rt,[v("div",Kt,[f(q,{onClick:a=>N(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),f(q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>P(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(p(!0),m(b,{key:0},k(e.child_codes,(e=>(p(),m("tr",{key:e.id,class:"child-item"},[v("td",$t,C(e.name),1),v("td",null,C(e.description||"No description"),1),Zt,v("td",Bt,[v("div",Ft,[f(q,{onClick:a=>N(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),f(q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>P(e.id)},null,8,["onClick"])])])])))),128)):h("",!0)],64)))),128)):h("",!0)],64)))),128)):h("",!0)],64)))),128))])])])])):h("",!0),"Category"==D(i)?(p(),m("div",qt,[f(J)])):h("",!0),"costCodes"==D(i)?(p(),m("div",Jt,[f(G)])):h("",!0),"Trade"==D(i)?(p(),m("div",Gt,[f(Y)])):h("",!0),D(U)?(p(),y(Q,{key:4,addUpdateCostCodeModal:D(U),"cost-code-id":D(I),parentCodeId:D(W),codeCategoryId:D($),CategoryMode:D(R),"onUpdate:modalHandler":c[11]||(c[11]=e=>{U.value=!1,R.value=!1}),"onUpdate:OnSuccess":c[12]||(c[12]=e=>z())},null,8,["addUpdateCostCodeModal","cost-code-id","parentCodeId","codeCategoryId","CategoryMode"])):h("",!0),D(S)?(p(),y(X,{key:5,addUpdateCategoryModal:D(S),"category-id":D(I),"onUpdate:modalHandler":c[13]||(c[13]=e=>S.value=!1),"onUpdate:OnSuccess":c[14]||(c[14]=e=>z())},null,8,["addUpdateCategoryModal","category-id"])):h("",!0),D(T)?(p(),y(ae,{key:6,addUpdateTradeModal:D(T),"onUpdate:modalHandler":c[15]||(c[15]=e=>T.value=!1),"onUpdate:OnSuccess":c[16]||(c[16]=e=>z())},null,8,["addUpdateTradeModal"])):h("",!0)])}}}),[["__scopeId","data-v-3e2a9e9f"]]),Qt=e=>(U("data-v-99dcb8fe"),e=e(),S(),e),Xt={class:"container"},es={class:"box cu-property"},as={class:"box-body"},ls={class:"position-relative"},ts={class:"position-absolute",style:{top:"0px",right:"0px"}},ss=Qt((()=>v("i",{class:"fas fa-pen"},null,-1))),is={class:"columns is-multiline p-5 align-items-center"},os=Qt((()=>v("div",{class:"column is-2 text-align-center"},[v("img",{src:"/images/homePlaceholder.png",style:{width:"140px","border-radius":"10px"},alt:"",srcset:""})],-1))),ns={class:"column is-3"},cs={class:"title is-5 mb-2"},ds=Qt((()=>v("p",{class:"light-text mb-0 font-500"},"TexhoIbex@gmial.com",-1))),rs={class:"light-text font-500"},us=Qt((()=>v("div",{class:"column is-1"},[v("div",{class:"cu-vr-seperator"})],-1))),ps={class:"column is-3"},ms={class:"light-text mb-0 font-400"},vs=Qt((()=>v("b",null,"State:",-1))),fs={class:"light-text mb-0 font-400"},gs=Qt((()=>v("b",null,"City:",-1))),_s={class:"light-text mb-0 font-400"},ys=Qt((()=>v("b",null,"PoctCode:",-1))),hs=Qt((()=>v("div",{class:"column is-1"},[v("div",{class:"cu-vr-seperator"})],-1))),bs={class:"column is-2"},ks={class:"light-text mb-0 font-400"},Cs=Qt((()=>v("b",null,"Website:",-1))),ws=Qt((()=>v("b",null,"Status:",-1))),xs={class:"m-t-20"},Vs={class:"tabs-wrapper"},Us={class:"tabs-inner"},Ss={class:"tabs is-boxed"},Ts=[Qt((()=>v("span",null,"General",-1)))],Is=[Qt((()=>v("span",null,"Cost Codes",-1)))],js=[Qt((()=>v("span",null,"Users permissions",-1)))],Ms=[Qt((()=>v("span",null,"Role Management",-1)))],Ds=[Qt((()=>v("span",null,"Manage Role",-1)))],As=[Qt((()=>v("span",null,"Action logs",-1)))],Os={key:0},Ps={key:1},Es={key:2},Hs={key:3},zs={key:4},Ls={key:5},Ns=i({__name:"CompanySettingsComponent",setup(e){const a=c("general"),l=c(!1);c("proposals");const t=I({name:"ABC Corp",website:"https://example.com",phone:"123-456-7890",address:{street:"123 Main St",city:"Evergreen",state:"CO",zipCode:"80437-0242"}});return(e,s)=>{const i=V,o=te,n=Yt,c=Pa,d=Pe,r=Ae,u=we;return p(),m("div",Xt,[v("div",es,[v("div",as,[v("div",ls,[v("div",ts,[f(i,{color:"primary",onClick:s[0]||(s[0]=e=>{l.value=!0}),size:"xsmall",rounded:""},{default:g((()=>[ss,j(" Edit")])),_:1})])]),v("div",is,[os,v("div",ns,[v("h2",cs,C(D(t).name),1),ds,v("p",rs,C(D(t).phone),1)]),us,v("div",ps,[v("p",ms,[vs,j(" "+C(D(t)?.address?.state?D(t)?.address?.state:"N/A"),1)]),v("p",fs,[gs,j(" "+C(D(t)?.address?.city?D(t)?.address?.city:"N/A"),1)]),v("p",_s,[ys,j(" "+C(D(t)?.address?.zipCode?D(t)?.address?.zipCode:"N/A"),1)])]),hs,v("div",bs,[v("p",ks,[Cs,j(" "+C(D(t)?.website?D(t)?.website:"N/A"),1)]),ws,f(o,{color:"primary",class:"ml-2",rounded:""},{default:g((()=>[j("Active")])),_:1})])])])]),v("div",xs,[v("div",Vs,[v("div",Us,[v("div",Ss,[v("ul",null,[v("li",{class:w(["general"===D(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=_(O((e=>a.value="general"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>a.value="general")},Ts,32)],2),v("li",{class:w(["costCodes"===D(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=_(O((e=>a.value="costCodes"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>a.value="costCodes")},Is,32)],2),v("li",{class:w(["permissions"===D(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=_(O((e=>a.value="permissions"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>a.value="permissions")},js,32)],2),v("li",{class:w(["roleManagement"===D(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=_(O((e=>a.value="roleManagement"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>a.value="roleManagement")},Ms,32)],2),v("li",{class:w(["manageRole"===D(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=_(O((e=>a.value="manageRole"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>a.value="manageRole")},Ds,32)],2),v("li",{class:w(["logs"===D(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=_(O((e=>a.value="logs"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>a.value="logs")},As,32)],2)])])])]),"general"===D(a)?(p(),m("div",Os)):h("",!0),"costCodes"===D(a)?(p(),m("div",Ps,[f(n)])):h("",!0),"permissions"===D(a)?(p(),m("div",Es,[f(c)])):h("",!0),"roleManagement"===D(a)?(p(),m("div",Hs,[f(d)])):h("",!0),"manageRole"===D(a)?(p(),m("div",zs,[f(r)])):h("",!0),"logs"===D(a)?(p(),m("div",Ls,[f(u)])):h("",!0)])])}}});"function"==typeof q&&q(Ns);const Ws=T(Ns,[["__scopeId","data-v-99dcb8fe"]]),Rs=i({__name:"index",setup(e){se();return ie().setPageTitle("Company Settings"),z((()=>({title:"Company Settings"}))),(e,a)=>{const l=Ws;return p(),m("div",null,[f(l)])}}});"function"==typeof q&&q(Rs);export{Rs as default};
