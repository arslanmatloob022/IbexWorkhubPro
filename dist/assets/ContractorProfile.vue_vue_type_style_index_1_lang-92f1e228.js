import{_ as a}from"./AddUpdateUser-cd809775.js";import{_ as s}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-2ba527a3.js";import{_ as e}from"./JobLeadActivities.vue_vue_type_style_index_0_lang-5efaa727.js";import{_ as l}from"./JobTodos.vue_vue_type_style_index_0_lang-df9492fd.js";import{_ as i}from"./UserProfileInfo-74fc78e8.js";import{_ as o}from"./ContractorProjects.vue_vue_type_style_index_0_lang-c43472bc.js";import{_ as t}from"./VAvatar.vue_vue_type_style_index_0_lang-5975838a.js";import{_ as r}from"./VIconBox.vue_vue_type_style_index_0_lang-cfb82acf.js";import{f as n,b as d,y as u,r as c,o as p,C as v,D as m,E as _,F as y,G as f,m as b,U as j,I as g,H as x,N as U,O as k,J as h}from"./index-24255b4c.js";import{u as C}from"./useAPI-a1a17f6a.js";import{u as w}from"./personalScoreGauge-ccd646a7.js";const I={class:"lifestyle-dashboard lifestyle-dashboard-v3"},P={class:"illustration-header is-relative"},A=_("i",{class:"lnil lnil-pencil"},null,-1),H={class:"p-4"},M={class:"header-meta"},K={class:"summary-stats"},D={class:"summary-stat"},G=_("span",null,"Email",-1),J={class:"tabs-wrapper"},L={class:"tabs-inner"},O={class:"tabs is-boxed",slider:""},z=[_("span",null,"Projects",-1)],E=[_("span",null,"Profile Info",-1)],N=[_("span",null,"Todos",-1)],T=[_("span",null,"Activities",-1)],V=_("li",{class:"tab-naver"},null,-1),q={class:"columns is-multiline"},B={key:0,class:"column is-12"},F={key:1,class:"column is-12"},S={key:2,class:"column is-12"},$={key:3,class:"column is-12"},Q=n({__name:"ContractorProfile",setup(n){const Q=d(),R=C(),W=u(),X=c(!1),Y=c(""),Z=c(!1),aa=c(!1),sa=c("projects");w();const ea=c({id:"",password:"",last_login:null,date_joined:"",email:"",role:"",avatar:"",is_active:!0,phoneNumber:"",username:"",is_sentMail:!1}),la=async()=>{try{aa.value=!0;const a=await R.get(`/api/users/${W.params.id?W.params.id:Q.user.id}`);ea.value=a.data}catch(a){console.log(a)}finally{aa.value=!1}};return p((async()=>{await la()})),(n,d)=>{const u=r,c=t,p=o,C=i,w=l,R=e,ia=s,oa=a;return v(),m("div",I,[_("div",P,[y(u,{onClick:d[0]||(d[0]=a=>((a="")=>{Y.value=a,Z.value=!Z.value})(b(ea).id)),size:"small",color:"primary",style:{position:"absolute",right:"8px",top:"8px",cursor:"pointer"}},{default:f((()=>[A])),_:1}),_("div",H,[y(c,{size:"xl",squared:"",picture:b(ea).avatar,alt:""},null,8,["picture"])]),_("div",M,[_("h3",null,j(b(aa)?"Loading...":b(ea)?.username)+" "+j(b(ea).last_name?b(ea).last_name:""),1),_("div",K,[_("div",D,[G,_("span",null,j(b(aa)?"Loading...":b(ea)?.email),1)])])])]),_("div",J,[_("div",L,[_("div",O,[_("ul",null,[_("li",{class:g(["projects"===b(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[1]||(d[1]=x(h((a=>sa.value="projects"),["prevent"]),["space"])),onClick:d[2]||(d[2]=a=>sa.value="projects")},z,32)],2),_("li",{class:g(["profile"===b(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[3]||(d[3]=x(h((a=>sa.value="profile"),["prevent"]),["space"])),onClick:d[4]||(d[4]=a=>sa.value="profile")},E,32)],2),_("li",{class:g(["todos"===b(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[5]||(d[5]=x(h((a=>sa.value="todos"),["prevent"]),["space"])),onClick:d[6]||(d[6]=a=>sa.value="todos")},N,32)],2),_("li",{class:g(["activities"===b(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[7]||(d[7]=x(h((a=>sa.value="activities"),["prevent"]),["space"])),onClick:d[8]||(d[8]=a=>sa.value="activities")},T,32)],2),V])])])]),_("div",q,["projects"===b(sa)?(v(),m("div",B,[y(p,{"contractor-id":b(W).params.id?b(W).params.id:b(Q).user.id},null,8,["contractor-id"])])):U("",!0),"profile"===b(sa)?(v(),m("div",F,[y(C,{userData:b(ea),"onUpdate:actionUpdateHandler":la},null,8,["userData"])])):U("",!0),"todos"===b(sa)?(v(),m("div",S,[y(w,{user:b(W).params.id},null,8,["user"])])):U("",!0),"activities"===b(sa)?(v(),m("div",$,[y(R,{user:b(W).params.id},null,8,["user"])])):U("",!0)]),b(X)?(v(),k(ia,{key:0,isModalOpen:b(X),userId:b(W).params.id,"onUpdate:closeModalHandler":d[9]||(d[9]=a=>X.value=!1)},null,8,["isModalOpen","userId"])):U("",!0),b(Z)?(v(),k(oa,{key:1,"is-modal-open":b(Z),"user-role":"contractor","user-id":b(Y),"onUpdate:closeModalHandler":d[10]||(d[10]=a=>Z.value=!1),"onUpdate:actionUpdateHandler":n.getContractorshandler},null,8,["is-modal-open","user-id","onUpdate:actionUpdateHandler"])):U("",!0)])}}});export{Q as _};
