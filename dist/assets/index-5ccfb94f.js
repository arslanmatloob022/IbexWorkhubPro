import{g as e,a as l,_ as a,b as t,c as s}from"./estimatesScripts-65cc6749.js";import{_ as o}from"./SweetAlert.vue_vue_type_style_index_0_lang-b468073a.js";import{_ as i,a as n}from"./CreateProposalTasksModal-070720d7.js";import{_ as c}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-d7f77b71.js";import{_ as d}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-f6e5226b.js";import{c as r,_ as u}from"./VFlexTable.vue_vue_type_style_index_0_lang-54a6828f.js";import{_ as p}from"./VDropdown.vue_vue_type_style_index_0_lang-7860900b.js";import{_ as m}from"./VTag.vue_vue_type_style_index_0_lang-1c3765a2.js";import{_ as v}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-0f412216.js";import{_ as f}from"./VControl-0234c21a.js";import{e as _,v as g,x as y,r as h,Z as b,o as C,B as k,C as w,D as x,E as V,F as S,K as T,j as U,W as I,l as j,N as A,aR as M,U as O,V as P,T as D,J as E,M as $,f as H,P as z,Q as R,R as N,I as L,O as W,A as K,ak as B,H as Z,G as F,z as q}from"./index-70b05a5f.js";import{_ as G,a as J}from"./search-4-dark-2b5b440c.js";import{u as Y}from"./useAPI-ebd6fc63.js";import{u as Q}from"./useNotyf-2c361439.js";import{f as X}from"./useSupportElement-300af3cd.js";import{_ as ee}from"./VField.vue_vue_type_script_setup_true_lang-d6432c8a.js";import{_ as le}from"./VCheckbox.vue_vue_type_style_index_0_lang-5f02f13d.js";import{_ as ae}from"./VCollapse.vue_vue_type_style_index_0_lang-e2b59390.js";import{_ as te}from"./VLabel.vue_vue_type_script_setup_true_lang-cd82cc7a.js";import{_ as se}from"./VInput.vue_vue_type_script_setup_true_lang-f03dec85.js";import{b as oe}from"./route-block-83d24a4e.js";import{_ as ie}from"./VModal.vue_vue_type_style_index_0_lang-7398293b.js";import{_ as ne}from"./VTextarea.vue_vue_type_script_setup_true_lang-7d03ad7b.js";import{_ as ce,a as de}from"./VOption.vue_vue_type_style_index_0_lang-c113db63.js";import{_ as re}from"./VIconWrap.vue_vue_type_style_index_0_lang-8fa7b01b.js";import{u as ue}from"./layoutSwitcher-393b6cab.js";import{u as pe}from"./viewWrapper-9d133b13.js";import"./VRadio.vue_vue_type_style_index_0_lang-c0f04af3.js";import"./useVFieldContext-426cf18f.js";import"./V-Snack.vue_vue_type_style_index_0_lang-a1b5c6da.js";import"./VIcon.vue_vue_type_script_setup_true_lang-eba97353.js";import"./VAvatar.vue_vue_type_style_index_0_lang-dededacb.js";import"./userSession-0e9987e3.js";import"./costItems-a946e641.js";import"./VIconButton-3afc4e35.js";import"./VFlex.vue_vue_type_style_index_0_lang-ba175ca1.js";import"./useDropdown-bc0dacd2.js";import"./VPlaceloadWrap-2315afc2.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-68216e32.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-3298c2e6.js";import"./notyf-dffda00c.js";import"./useThemeColors-2710e832.js";import"./via-placeholder-24645670.js";const me={class:"flex-toolbar is-reversed is-flex space-between my-4"},ve=x("div",null,null,-1),fe={key:0},_e={key:1,class:"flex-list-wrapper flex-list-v2"},ge={class:"item-name dark-inverted"},ye={class:"item-meta"},he=x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:clock"},null,-1),be={class:"light-text"},Ce={class:"item-name dark-inverted"},ke={class:"light-text"},we=["onClick"],xe=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),x("div",{class:"meta"},[x("span",null,"Edit"),x("span",null,"Edit Proposal Details")],-1)],Ve=["onClick"],Se=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),x("div",{class:"meta"},[x("span",null,"Preview"),x("span",null,"Preview proposal detail")],-1)],Te=x("hr",{class:"dropdown-divider"},null,-1),Ue=["onClick"],Ie=[x("div",{class:"icon"},[x("i",{class:"lnir lnir-round-box-check","aria-hidden":"true"})],-1),x("div",{class:"meta"},[x("span",null,"Mark Approved"),x("span",null,"Mark Proposal As Approved")],-1)],je=["onClick"],Ae=[x("div",{class:"icon"},[x("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),x("div",{class:"meta"},[x("span",null,"Delete"),x("span",null,"Delete from list")],-1)],Me=x("img",{class:"light-image",src:G,alt:""},null,-1),Oe=x("img",{class:"dark-image",src:J,alt:""},null,-1),Pe=_({__name:"TemplatePropsalsList",props:{activeTab:{default:"active"},leadId:{default:""},allProposal:{type:Boolean,default:!1}},setup(_){const H=_,z=g();y();const R=Y(),N=Q(),L=h(!1),W=h([]),K=h(!1),B=h(""),Z=h(!1),F=h(!1),q=h(""),G=h("");h(H.activeTab);const J=h({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),ee=h({title:"",subtitle:"",isSweetAlertOpen:!1,btntext:""}),le=async()=>{try{L.value=!0;await R.delete(`/api/lead-proposal/${G.value}/`);N.success("Proposal delete successfully"),de()}catch(e){N.error(` ${e}, Proposal`),N.error("Something went wrong please try later")}finally{L.value=!1,J.value.isSweetAlertOpen=!1}},ae={picture:{label:"Proposal",grow:!0,media:!0},deadline:"Cost Items",status:"Status",amount:{label:"Total Amount",media:!0},customer:"Calendar Tasks ",actions:{label:"Actions",align:"end"}},te=b((()=>{if(q.value){const e=new RegExp(q.value,"i");return W.value.filter((l=>l.title.match(e)||l.approval_deadline.match(e)))}return W.value})),se=h(!1),oe=h(!1),ie=h(!1),ne=h(""),ce=e=>{z.push(`/sidebar/dashboard/proposals/${e}`)},de=()=>{(async()=>{try{L.value=!0;const e=await R.get("/api/lead-proposal/templates/");W.value=e.data}catch(e){N.error(` ${e}, Lead`)}finally{L.value=!1}})()};return C((()=>{de()})),(_,g)=>{const y=f,h=v,b=r,C=m,z=p,Y=u,Q=d,re=c,ue=i,pe=a,Pe=t,De=n,Ee=o,$e=s;return k(),w("div",null,[x("div",me,[V(y,{icon:"feather:search"},{default:S((()=>[T(x("input",{"onUpdate:modelValue":g[0]||(g[0]=e=>U(q)?q.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[I,j(q)]])])),_:1}),ve]),j(L)?(k(),w("div",fe,[V(h)])):(k(),w("div",_e,[j(te).length>0&&j(W).length>0?(k(),A(Y,{key:0,data:j(te),columns:ae,rounded:""},{body:S((()=>[V(M,{name:"list",tag:"div",class:"flex-list-inner"},{default:S((()=>[(k(!0),w(O,null,P(j(te),(a=>(k(),w("div",{key:a.id,class:"flex-table-item"},[V(b,{column:{media:!0,grow:!0},class:"cu-pointer",onClick:e=>ce(a.id)},{default:S((()=>[x("div",null,[x("span",ge,D(a.title),1),x("span",ye,[x("span",null,[he,E(D(j(X)(a.created_at)),1)])])])])),_:2},1032,["onClick"]),V(b,{class:"cu-pointer",onClick:e=>ce(a.id)},{default:S((()=>[x("span",be,D(),1),V(C,{rounded:"",color:"primary",label:a.cost_items},null,8,["label"])])),_:2},1032,["onClick"]),V(b,{class:"cu-pointer",onClick:e=>ce(a.id)},{default:S((()=>[V(C,{class:"capitalized",rounded:"",color:j(e)[a.status]},{default:S((()=>[E(D(j(l)[a.status]),1)])),_:2},1032,["color"])])),_:2},1032,["onClick"]),V(b,{class:"cu-pointer",onClick:e=>ce(a.id),column:{media:!0}},{default:S((()=>[x("div",null,[x("span",Ce,"$"+D(a.proposalAmount),1),x("span",ke,D(a.payment_status),1)])])),_:2},1032,["onClick"]),V(b,{class:"cu-pointer",onClick:e=>ce(a.id)},{default:S((()=>[V(C,{color:"purple",outlined:""},{default:S((()=>[E(D(a.is_task_created?"Created":"Not Created"),1)])),_:2},1024)])),_:2},1032,["onClick"]),V(b,{column:{align:"end"}},{default:S((()=>[V(z,{class:"is-pushed-mobile",icon:"feather:more-vertical",spaced:"",right:""},{content:S((()=>[x("a",{role:"menuitem",onClick:e=>{return l=a.id,B.value=l,void(K.value=!0);var l},class:"dropdown-item is-media"},xe,8,we),x("a",{disabled:"",role:"menuitem",onClick:e=>{return l=a.id,oe.value=l,void(se.value=!se.value);var l},class:"dropdown-item is-media"},Se,8,Ve),Te,x("a",{role:"menuitem",onClick:e=>(async(e,l)=>{try{await R.patch(`/api/lead-proposal/${l}/`,{status:e}),N.success(`You have ${e} this proposal.`),de()}catch(a){console.log(a)}})("approved",a.id),class:"dropdown-item is-media"},Ie,8,Ue),x("a",{role:"menuitem",onClick:e=>{return l=a.id,G.value=l,void(J.value={title:"Delete Proposal?",subtitle:"Are you sure to delete this proposal? After delete you will not be able to recover it again.",btntext:"Yes delete",isSweetAlertOpen:!0});var l},class:"dropdown-item is-media"},Ae,8,je)])),_:2},1024)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):$("",!0),j(W).length<1&&0==j(te).length?(k(),A(Q,{key:1,title:"There is no proposal created on this lead!",subtitle:"Too bad. Looks like we couldn't created any proposal on this Lead, please create proposal and release to the client",larger:""},{image:S((()=>[Me,Oe])),_:1})):$("",!0),j(te).length>5?(k(),A(re,{key:2,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":7})):$("",!0)])),j(Z)?(k(),A(ue,{key:2,createProposalTasksModal:j(Z),proposalId:j(B),onCloseModalHandler:g[1]||(g[1]=e=>Z.value=!1),"onUpdate:OnSuccess":de},null,8,["createProposalTasksModal","proposalId"])):$("",!0),j(K)?(k(),A(pe,{key:3,leadId:H.leadId,proposalId:j(B),leadProposalModal:j(K),"onUpdate:modalHandler":g[2]||(g[2]=e=>K.value=!1),"onUpdate:OnSuccess":de,onClearProposalId:g[3]||(g[3]=e=>B.value="")},null,8,["leadId","proposalId","leadProposalModal"])):$("",!0),j(se)?(k(),A(Pe,{key:4,"preview-modal":j(se),proposalId:j(oe),"onUpdate:modalHandler":g[4]||(g[4]=e=>se.value=!1)},null,8,["preview-modal","proposalId"])):$("",!0),j(ie)?(k(),A(De,{key:5,costItemModal:j(ie),proposalId:j(ne),"onUpdate:modalHandler":g[5]||(g[5]=e=>ie.value=!1),"onUpdate:OnSuccess":de},null,8,["costItemModal","proposalId"])):$("",!0),j(J).isSweetAlertOpen?(k(),A(Ee,{key:6,isSweetAlertOpen:j(J).isSweetAlertOpen,title:j(J).title,subtitle:j(J).subtitle,btntext:j(J).btntext,onConfirm:le,onCancel:()=>j(J).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):$("",!0),j(ee).isSweetAlertOpen?(k(),A(Ee,{key:7,isSweetAlertOpen:j(ee).isSweetAlertOpen,title:j(ee).title,subtitle:j(ee).subtitle,btntext:j(ee).btntext,onConfirm:le,onCancel:()=>j(ee).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):$("",!0),j(F)?(k(),A($e,{key:8,leadProposalListModal:j(F),leadID:H.leadId,"group-proposal-modal":j(F),"onUpdate:modalHandler":g[6]||(g[6]=e=>F.value=!1)},null,8,["leadProposalListModal","leadID","group-proposal-modal"])):$("",!0)])}}}),De=e=>(z("data-v-08c5b175"),e=e(),R(),e),Ee={class:"role-management"},$e={class:"role-category"},He={class:"role-table"},ze=De((()=>x("th",null,"View",-1))),Re=De((()=>x("th",null,"Add",-1))),Ne=De((()=>x("th",null,"Edit",-1))),Le=De((()=>x("th",null,"Delete",-1))),We={class:"pt-5"},Ke=N(_({__name:"ManageRole",setup(e){const l=H([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(e,a)=>{const t=le,s=f,o=ee;return k(),w("div",Ee,[(k(!0),w(O,null,P(l,(e=>(k(),w("div",{key:e.category,class:"role-section"},[x("h3",$e,D(e.category),1),x("table",He,[x("thead",null,[x("tr",null,[x("th",null,D(e.title),1),ze,Re,Ne,Le])]),x("tbody",null,[(k(!0),w(O,null,P(e.items,(e=>(k(),w("tr",{key:e.name},[x("td",We,D(e.name),1),x("td",null,[V(o,null,{default:S((()=>[V(s,{raw:"",subcontrol:""},{default:S((()=>[V(t,{modelValue:e.view,"onUpdate:modelValue":l=>e.view=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),x("td",null,[V(o,null,{default:S((()=>[V(s,{raw:"",subcontrol:""},{default:S((()=>[V(t,{modelValue:e.add,"onUpdate:modelValue":l=>e.add=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),x("td",null,[V(o,null,{default:S((()=>[V(s,{raw:"",subcontrol:""},{default:S((()=>[V(t,{modelValue:e.edit,"onUpdate:modelValue":l=>e.edit=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),x("td",null,[V(o,null,{default:S((()=>[V(s,{raw:"",subcontrol:""},{default:S((()=>[V(t,{modelValue:e.delete,"onUpdate:modelValue":l=>e.delete=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),Be={class:"column is-12"},Ze=_({__name:"RoleManagement",setup(e){const l=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,a)=>{const t=ae;return k(),w("div",Be,[V(t,{items:l,"with-chevron":""})])}}}),Fe={class:"pill"},qe=_({__name:"BulletPill",setup:e=>(e,l)=>(k(),w("span",Fe))});"function"==typeof oe&&oe(qe);const Ge=N(qe,[["__scopeId","data-v-325a7b2c"]]),Je=_({name:"FolderSettings",setup(){const e=H({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),Ye=e=>(z("data-v-ff241c58"),e=e(),R(),e),Qe={class:""},Xe={class:"section"},el={class:"title is-5"},ll={class:"mt-5"},al=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),tl=Ye((()=>x("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),sl=Ye((()=>x("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),ol={class:"columns is-multiline"},il={class:"column is-3"},nl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),cl=Ye((()=>x("h2",{class:"title is-6"},"SubVendors",-1))),dl={class:"column is-3"},rl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ul=Ye((()=>x("h2",{class:"title is-6"},"Clients",-1))),pl={class:"section"},ml={class:"title is-5"},vl={class:"mt-5"},fl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),_l=Ye((()=>x("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),gl={class:"columns is-multiline"},yl={class:"column is-6"},hl=Ye((()=>x("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),bl={class:"columns is-multiline"},Cl={class:"column is-6"},kl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),wl=Ye((()=>x("h2",{class:"title is-6"},"SubVendors",-1))),xl={class:"column is-6"},Vl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Sl=Ye((()=>x("h2",{class:"title is-6"},"Clients",-1))),Tl={class:"column is-6"},Ul=Ye((()=>x("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),Il={class:"columns is-multiline"},jl={class:"column is-6"},Al=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ml=Ye((()=>x("h2",{class:"title is-6"},"SubVendors",-1))),Ol={class:"column is-6"},Pl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Dl=Ye((()=>x("h2",{class:"title is-6"},"Clients",-1))),El={class:"section"},$l={class:"title is-5"},Hl=Ye((()=>x("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),zl={class:"columns is-multiline"},Rl={class:"column is-3"},Nl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ll=Ye((()=>x("h2",{class:"title is-6"},"SubVendors",-1))),Wl={class:"column is-3"},Kl=Ye((()=>x("span",{class:"toggler"},[x("span",{class:"active"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),x("span",{class:"inactive"},[x("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Bl=Ye((()=>x("h2",{class:"title is-6"},"Clients",-1)));const Zl=N(Je,[["render",function(e,l,a,t,s,o){const i=Ge,n=se,c=te,d=f;return k(),w("div",Qe,[x("div",Xe,[x("h3",el,[V(i),E(" Document folders ")]),x("div",ll,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),al])),_:1}),tl])),_:1})])]),x("div",null,[sl,x("div",ol,[x("div",il,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),nl])),_:1}),cl])),_:1})])]),x("div",dl,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),rl])),_:1}),ul])),_:1})])])])])]),x("div",pl,[x("h3",ml,[V(i),E(" Photo folders ")]),x("div",vl,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),fl])),_:1}),_l])),_:1})])]),x("div",gl,[x("div",yl,[hl,x("div",bl,[x("div",Cl,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),kl])),_:1}),wl])),_:1})])]),x("div",xl,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Vl])),_:1}),Sl])),_:1})])])])]),x("div",Tl,[Ul,x("div",Il,[x("div",jl,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),Al])),_:1}),Ml])),_:1})])]),x("div",Ol,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Pl])),_:1}),Dl])),_:1})])])])])])]),x("div",El,[x("h3",$l,[V(i),E(" Video folders ")]),x("div",null,[Hl,x("div",zl,[x("div",Rl,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),Nl])),_:1}),Ll])),_:1})])]),x("div",Wl,[x("label",null,[V(d,{class:"is-flex align-items-ceneter"},{default:S((()=>[V(c,{raw:"",class:"remember-toggle"},{default:S((()=>[V(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Kl])),_:1}),Bl])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),Fl={class:"modal-form columns is-multiline"},ql={class:"column is-12"},Gl=x("label",{class:"label"},"Title *",-1),Jl={class:"column is-12"},Yl=x("label",{class:"label"},"Description",-1),Ql=_({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Y(),s=h(!1),o=Q(),i=h({id:a.trade?.id||"",name:a.trade?.name||"",description:a.trade?.description||""}),n=()=>{l("update:modalHandler",!1)},c=async()=>{try{s.value=!0,i.value.id?(await t.patch(`/api/cost-trade/${i.value.id}/`,i.value),o.success("Trade updated successfully")):(await t.post("/api/cost-trade/",i.value),o.success("Trade created successfully")),l("update:OnSuccess"),n()}catch(e){console.log(e)}finally{s.value=!1}};return(e,l)=>{const a=ne,t=f,o=ee,d=W,r=ie;return k(),A(r,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:L(c,["prevent"]),onClose:n},{content:S((()=>[x("div",Fl,[x("div",ql,[Gl,T(x("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>j(i).name=e)},null,512),[[I,j(i).name]])]),x("div",Jl,[Yl,V(o,null,{default:S((()=>[V(t,null,{default:S((()=>[V(a,{modelValue:j(i).description,"onUpdate:modelValue":l[1]||(l[1]=e=>j(i).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:S((()=>[V(d,{type:"submit",color:"primary",loading:j(s),raised:""},{default:S((()=>[E("Save")])),_:1},8,["loading"])])),cancel:S((()=>[V(d,{color:"light",onClick:n,raised:""},{default:S((()=>[E("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Xl={class:"modal-form columns is-multiline"},ea={class:"column is-6"},la={class:"field"},aa=x("label",{class:"label"},"Title *",-1),ta={class:"control"},sa={class:"column is-6"},oa={class:"field"},ia=x("label",{class:"label"},"Trade *",-1),na={class:"column is-12"},ca={class:"field"},da=x("label",{class:"label"},"Description",-1),ra=_({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Y(),s=h(!1),o=Q(),i=h(!1),n=()=>{l("update:modalHandler",!1)},c=h({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});h("");const d=async()=>{try{if(i.value=!0,a.categoryId){await t.patch(`/api/cost-category/${a.categoryId}/`,c.value)}else{await t.post("/api/cost-category/",c.value)}l("update:OnSuccess",null),o.success(`Category  ${a.categoryId?"updated":"created"} successfully`),n()}catch(e){console.log(e)}finally{i.value=!1}},r=h([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return C((()=>{a.categoryId&&(async()=>{try{i.value=!0;const e=await t.get(`/api/cost-category/${a.categoryId}/`);c.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})(),(async()=>{try{i.value=!0;const e=await t.get("/api/cost-trade/");r.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})()})),(e,l)=>{const t=ce,o=de,i=f,u=ne,p=ee,m=W,v=ie;return k(),A(v,{is:"form",open:a.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:L(d,["prevent"]),onClose:n},{content:S((()=>[x("div",Xl,[x("div",ea,[x("div",la,[aa,x("div",ta,[T(x("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>j(c).name=e)},null,512),[[I,j(c).name]])])])]),x("div",sa,[x("div",oa,[ia,V(i,null,{default:S((()=>[V(o,{modelValue:j(c).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>j(c).trade=e),required:""},{default:S((()=>[(k(!0),w(O,null,P(j(r),(e=>(k(),A(t,{value:e.id},{default:S((()=>[E(D(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),x("div",na,[x("div",ca,[da,V(p,null,{default:S((()=>[V(i,null,{default:S((()=>[V(u,{modelValue:j(c).description,"onUpdate:modelValue":l[2]||(l[2]=e=>j(c).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:S((()=>[V(m,{type:"submit",color:"primary",loading:j(s),raised:""},{default:S((()=>[E(D(a.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:S((()=>[V(m,{color:"light",onClick:n,raised:""},{default:S((()=>[E("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),ua={class:"modal-form columns is-multiline"},pa={class:"column is-6"},ma={class:"field"},va=x("label",{class:"label"},"Title * ",-1),fa={class:"control"},_a={class:"column is-6"},ga={class:"field"},ya=x("label",{class:"label"},"Category *",-1),ha={class:"control"},ba={class:"field column is-12"},Ca=x("label",{class:"label"},"Sub code of ",-1),ka={class:"control"},wa={class:"field column is-6"},xa=x("label",{class:"label"},null,-1),Va={key:0,class:"column is-6"},Sa={class:"field"},Ta=x("label",{class:"label"},"Default labour cost ($)",-1),Ua={class:"control"},Ia={class:"column is-12"},ja={class:"field"},Aa=x("label",{class:"label"},"Unit cost ($)",-1),Ma={class:"control"},Oa=x("hr",null,null,-1),Pa={class:"column is-12"},Da={class:"field"},Ea=x("label",{class:"label"},"Description",-1),$a=_({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},selectedCatCostCode:{},selectedCostCodeID:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Y(),s=h(!1),o=Q(),i=h(!1),n=()=>{l("update:modalHandler",!1)},c=h({id:"",name:"",category:a.selectedCatCostCode||"",parent_code:a.selectedCostCodeID||"",is_labour_code:!1,labour_cost:0,description:"",unit_cost:0,is_active:!0}),d=async()=>{try{if(i.value=!0,a.costCodeId){await t.patch(`/api/cost-code/${a.costCodeId}/`,c.value);o.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",c.value);o.success("Cost code created successfully")}n(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{i.value=!1}},r=h([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),u=h([]);return C((()=>{console.log(a.selectedCatCostCode),a.costCodeId&&(async()=>{try{i.value=!0;const e=await t.get(`/api/cost-code/${a.costCodeId}/`);c.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})(),(async()=>{try{i.value=!0;const e=await t.get("/api/cost-category/");r.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})(),(async()=>{try{i.value=!0;const e=await t.get("/api/cost-code/");u.value=e.data.map((e=>({value:e.id,label:e.name})))}catch(e){console.log(e)}finally{i.value=!1}})()})),(e,l)=>{const t=ce,o=de,i=f,p=ee,m=K("Multiselect"),v=le,_=ne,g=W,y=ie;return k(),A(y,{is:"form",open:a.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:L(d,["prevent"]),onClose:n},{content:S((()=>[x("div",ua,[x("div",pa,[x("div",ma,[va,x("div",fa,[T(x("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>j(c).name=e)},null,512),[[I,j(c).name]])])])]),x("div",_a,[x("div",ga,[ya,x("div",ha,[V(p,null,{default:S((()=>[V(i,null,{default:S((()=>[V(o,{modelValue:j(c).category,"onUpdate:modelValue":l[1]||(l[1]=e=>j(c).category=e),required:""},{default:S((()=>[V(t,{value:""},{default:S((()=>[E(" Select a category ")])),_:1}),(k(!0),w(O,null,P(j(r),(e=>(k(),A(t,{value:e.id},{default:S((()=>[E(D(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),x("div",ba,[Ca,x("div",ka,[V(p,null,{default:S((({id:a})=>[V(i,null,{default:S((()=>[V(m,{disabled:!!e.CategoryMode,modelValue:j(c).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>j(c).parent_code=e),attrs:{id:a},searchable:!0,options:j(u),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),x("div",wa,[xa,V(p,{class:"is-flex"},{default:S((()=>[V(i,{raw:"",subcontrol:""},{default:S((()=>[V(v,{modelValue:j(c).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>j(c).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),j(c).is_labour_code?(k(),w("div",Va,[x("div",Sa,[Ta,x("div",Ua,[T(x("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>j(c).labour_cost=e)},null,512),[[I,j(c).labour_cost]])])])])):$("",!0),x("div",Ia,[x("div",ja,[Aa,x("div",Ma,[T(x("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>j(c).unit_cost=e)},null,512),[[I,j(c).unit_cost]])])])]),Oa,x("div",Pa,[x("div",Da,[Ea,V(p,null,{default:S((()=>[V(i,null,{default:S((()=>[V(_,{modelValue:j(c).description,"onUpdate:modelValue":l[6]||(l[6]=e=>j(c).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:S((()=>[V(g,{type:"submit",color:"primary",loading:j(s),raised:""},{default:S((()=>[E(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:S((()=>[V(g,{color:"light",onClick:n,raised:""},{default:S((()=>[E("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ha=e=>(z("data-v-453d3f7e"),e=e(),R(),e),za={class:"list-flex-toolbar flex-list-v1"},Ra={class:"page-content-inner"},Na=Ha((()=>x("img",{class:"light-image",src:G,alt:""},null,-1))),La=Ha((()=>x("img",{class:"dark-image",src:J,alt:""},null,-1))),Wa={class:"table is-hoverable is-fullwidth"},Ka=Ha((()=>x("thead",null,[x("tr",null,[x("th",null,"Title"),x("th",null,"Description"),x("th",null,"Children"),x("th",{class:"is-end"},"Actions")])],-1))),Ba={class:"is-end"},Za={class:"is-flex is-justify-content-flex-end"},Fa=N(_({__name:"TradeComp",setup(e){const l=Q(),a=h(!1);h("Items list");const t=h([]),s=Y(),o=h(""),i=h(!1),n=h(null),c=async()=>{try{a.value=!0;const e=await s.get("/api/cost-trade/");t.value=e.data}catch(e){console.log(e)}finally{a.value=!1}},r=(e=null)=>{n.value=e,i.value=!0},u=b((()=>{if(o.value){const e=new RegExp(o.value,"i");return t.value.filter((l=>l.name?.match(e)))}return t.value}));return C((()=>{c()})),(e,a)=>{const t=f,p=ee,m=W,v=B,_=d,g=re,y=Ql;return k(),w("div",null,[x("div",za,[V(p,null,{default:S((()=>[V(t,{icon:"feather:search"},{default:S((()=>[T(x("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[I,o.value]])])),_:1})])),_:1}),V(v,null,{default:S((()=>[V(m,{onClick:a[1]||(a[1]=e=>r()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:S((()=>[E(" Trade ")])),_:1})])),_:1})]),x("div",Ra,[u.value.length?$("",!0):(k(),A(_,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:S((()=>[Na,La])),_:1})),x("table",Wa,[Ka,x("tbody",null,[(k(!0),w(O,null,P(u.value,(e=>(k(),w("tr",{key:e.id},[x("td",null,D(e.name??"n/a"),1),x("td",null,D(e.description||"No description"),1),x("td",null,D(e.codes?.length||0),1),x("td",Ba,[x("div",Za,[V(g,{onClick:l=>r(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),V(g,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{await s.delete(`/api/cost-trade/${e}/`),l.success("Trade deleted successfully"),c()}catch(a){console.log(a),l.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])]),i.value?(k(),A(y,{key:0,openTradeModal:i.value,trade:n.value,"onUpdate:modalHandler":a[2]||(a[2]=e=>i.value=!1),"onUpdate:OnSuccess":c},null,8,["openTradeModal","trade"])):$("",!0)])}}}),[["__scopeId","data-v-453d3f7e"]]),qa=e=>(z("data-v-502b606b"),e=e(),R(),e),Ga={class:"list-flex-toolbar flex-list-v1"},Ja={class:"page-content-inner"},Ya=qa((()=>x("img",{class:"light-image",src:G,alt:""},null,-1))),Qa=qa((()=>x("img",{class:"dark-image",src:J,alt:""},null,-1))),Xa={class:"table is-hoverable is-fullwidth"},et=qa((()=>x("thead",null,[x("tr",null,[x("th",{scope:"col"},"Title"),x("th",{scope:"col"},"Description"),x("th",{scope:"col"},"Children"),x("th",{scope:"col",class:"is-end"},[x("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),lt={class:"pl-5"},at={class:"dark-text text-primary"},tt={class:"is-end"},st={class:"is-flex is-justify-content-flex-end"},ot=N(_({__name:"CostCodes",setup(e){const l=Q(),a=h(!1);h("Items list");const t=h([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),s=Y(),o=h(""),i=[{}],n=h(!1);h(!1),h(!1);const c=h(""),r=async()=>{try{a.value=!0;const e=await s.get("/api/cost-code/");t.value=e.data}catch(e){console.log(e)}finally{a.value=!1}},u=b((()=>{if(o.value){const e=new RegExp(o.value,"i");return i.filter((l=>l.username?.match(e)||l.location?.match(e)))}return i}));return C((()=>{r()})),(e,i)=>{const p=f,m=ee,v=W,_=B,g=d,y=re,h=$a;return k(),w("div",null,[x("div",Ga,[V(m,null,{default:S((()=>[V(p,{icon:"feather:search"},{default:S((()=>[T(x("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>U(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[I,j(o)]])])),_:1})])),_:1}),V(_,null,{default:S((()=>[V(v,{color:"primary",onClick:i[1]||(i[1]=e=>n.value=!j(n)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:S((()=>[E(" Cost Code ")])),_:1})])),_:1})]),x("div",Ja,[j(u).length?$("",!0):(k(),A(g,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:S((()=>[Ya,Qa])),_:1})),x("table",Xa,[et,x("tbody",null,[(k(!0),w(O,null,P(j(t),(e=>(k(),w("tr",{key:e.id,class:"sub-item"},[x("td",lt,[x("p",at,D(e.name),1)]),x("td",null,D(e.description||"No description"),1),x("td",null,D(e.child_codes?.length||0),1),x("td",tt,[x("div",st,[V(y,{onClick:l=>{return a=e.id,c.value=a,void(n.value=!n.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),V(y,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:t=>(async e=>{try{a.value=!0,await s.delete(`/api/cost-code/${e}/`),r(),l.success("delete cost code")}catch(t){console.log(t)}finally{a.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])]),j(n)?(k(),A(h,{key:0,addUpdateCostCodeModal:j(n),"cost-code-id":j(c),"onUpdate:modalHandler":i[2]||(i[2]=e=>n.value=!1),"onUpdate:OnSuccess":i[3]||(i[3]=e=>r())},null,8,["addUpdateCostCodeModal","cost-code-id"])):$("",!0)])}}}),[["__scopeId","data-v-502b606b"]]),it=e=>(z("data-v-317f06b1"),e=e(),R(),e),nt={class:""},ct={class:"list-flex-toolbar flex-list-v1"},dt={class:"page-content-inner"},rt=it((()=>x("img",{class:"light-image",src:G,alt:""},null,-1))),ut=it((()=>x("img",{class:"dark-image",src:J,alt:""},null,-1))),pt={class:"table is-hoverable is-fullwidth"},mt=it((()=>x("thead",null,[x("tr",null,[x("th",{scope:"col"},"Title"),x("th",{scope:"col"},"Description"),x("th",{scope:"col"},"Children"),x("th",{scope:"col",class:"is-end"},[x("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),vt={class:"info-text is-bold"},ft={class:"is-end"},_t={class:"is-flex is-justify-content-flex-end"},gt=N(_({__name:"CategoryComp",setup(e){const l=Q(),a=h(!1);h("Items list");const t=h([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),s=Y(),o=h(""),i=[{}];h(!1);const n=h(!1);h(!1);const c=h(""),r=async()=>{try{a.value=!0;const e=await s.get("/api/cost-category/list/");t.value=e.data}catch(e){console.log(e)}finally{a.value=!1}},u=b((()=>{if(o.value){const e=new RegExp(o.value,"i");return i.filter((l=>l.username?.match(e)||l.location?.match(e)))}return i}));return C((()=>{r()})),(e,i)=>{const p=f,m=ee,v=W,_=B,g=d,y=re,h=ra;return k(),w("div",null,[x("div",nt,[x("div",ct,[V(m,null,{default:S((()=>[V(p,{icon:"feather:search"},{default:S((()=>[T(x("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>U(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[I,j(o)]])])),_:1})])),_:1}),V(_,null,{default:S((()=>[V(v,{onClick:i[1]||(i[1]=e=>n.value=!j(n)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:S((()=>[E(" Category ")])),_:1})])),_:1})]),x("div",dt,[j(u).length?$("",!0):(k(),A(g,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:S((()=>[rt,ut])),_:1})),x("table",pt,[mt,x("tbody",null,[(k(!0),w(O,null,P(j(t),(e=>(k(),w("tr",{key:e.id},[x("td",null,[x("p",vt,D(e.name??"n/a"),1)]),x("td",null,[x("p",null,D(e.description||"No description"),1)]),x("td",null,D(e.codes?.length||0),1),x("td",ft,[x("div",_t,[V(y,{onClick:l=>{return a=e?.id,c.value=a,void(n.value=!n.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),V(y,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:t=>(async e=>{try{a.value=!0,await s.delete(`/api/cost-category/${e}/`),r(),l.success("delete category")}catch(t){console.log(t)}finally{a.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),j(n)?(k(),A(h,{key:0,addUpdateCategoryModal:j(n),"category-id":j(c),"onUpdate:modalHandler":i[2]||(i[2]=e=>n.value=!1),"onUpdate:OnSuccess":i[3]||(i[3]=e=>r())},null,8,["addUpdateCategoryModal","category-id"])):$("",!0)])}}}),[["__scopeId","data-v-317f06b1"]]),yt=e=>(z("data-v-0c06ee6f"),e=e(),R(),e),ht={class:"tabs-wrapper"},bt={class:"tabs-inner"},Ct={class:"tabs"},kt=[yt((()=>x("span",null,"Identity List",-1)))],wt=[yt((()=>x("span",null,"Category",-1)))],xt=[yt((()=>x("span",null,"Cost Codes",-1)))],Vt=[yt((()=>x("span",null,"Trade",-1)))],St={key:0,class:""},Tt={class:"list-flex-toolbar flex-list-v1"},Ut={class:"page-content-inner"},It=yt((()=>x("img",{class:"light-image",src:G,alt:""},null,-1))),jt=yt((()=>x("img",{class:"dark-image",src:J,alt:""},null,-1))),At={class:"table is-hoverable is-fullwidth"},Mt=yt((()=>x("thead",null,[x("tr",null,[x("th",{scope:"col"},"Title"),x("th",{scope:"col"},"Description"),x("th",{scope:"col"},"Children"),x("th",{scope:"col",class:"is-end"},[x("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Ot={class:"info-text is-bold"},Pt=["onClick"],Dt={class:"is-end"},Et={class:"is-flex is-justify-content-flex-end"},$t={class:"sub-item"},Ht={class:"pl-5"},zt={class:"dark-text text-primary"},Rt=["onClick"],Nt={class:"is-end"},Lt={class:"is-flex is-justify-content-flex-end"},Wt={class:"pl-6"},Kt=yt((()=>x("td",null,"-",-1))),Bt={class:"is-end"},Zt={class:"is-flex is-justify-content-flex-end"},Ft={key:1,class:""},qt={key:2,class:""},Gt={key:3,class:""},Jt=N(_({__name:"IdentityList",setup(e){const l=Q(),a=h(!1),t=h("Items list"),s=h([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),o=Y(),i=h(""),n=[{}],c=h(!1),r=h(!1),u=h(!1),p=h(""),m=async e=>{try{a.value=!0;await o.delete(`/api/cost-code/${e}/`);v(),l.success("delete cost code")}catch(t){console.log(t)}finally{a.value=!1}},v=async()=>{try{a.value=!0;const e=await o.get("/api/cost-category/list/");s.value=e.data}catch(e){console.log(e)}finally{a.value=!1}},_=e=>{p.value=e,c.value=!c.value},g=h(""),y=h(!1),M=h(""),H=(e=null,l=null)=>{console.log(e),console.log(l),g.value="",M.value="",M.value=l?.id,g.value=e?.id,c.value=!0},z=b((()=>{if(i.value){const e=new RegExp(i.value,"i");return n.filter((l=>l.username?.match(e)||l.location?.match(e)))}return n}));return C((()=>{v()})),(e,n)=>{const h=f,b=ee,C=W,R=B,N=d,K=re,q=gt,G=ot,J=Fa,Y=$a,Q=ra,X=Ql;return k(),w("div",null,[x("div",ht,[x("div",bt,[x("div",Ct,[x("ul",null,[x("li",{class:Z(["Items list"===j(t)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:n[0]||(n[0]=F(L((e=>t.value="Items list"),["prevent"]),["space"])),onClick:n[1]||(n[1]=e=>t.value="Items list")},kt,32)],2),x("li",{class:Z(["Category"===j(t)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:n[2]||(n[2]=F(L((e=>t.value="Category"),["prevent"]),["space"])),onClick:n[3]||(n[3]=e=>t.value="Category")},wt,32)],2),x("li",{class:Z(["costCodes"===j(t)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:n[4]||(n[4]=F(L((e=>t.value="costCodes"),["prevent"]),["space"])),onClick:n[5]||(n[5]=e=>t.value="costCodes")},xt,32)],2),x("li",{class:Z(["Trade"===j(t)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:n[6]||(n[6]=F(L((e=>t.value="Trade"),["prevent"]),["space"])),onClick:n[7]||(n[7]=e=>t.value="Trade")},Vt,32)],2)])])])]),"Items list"==j(t)?(k(),w("div",St,[x("div",Tt,[V(b,null,{default:S((()=>[V(h,{icon:"feather:search"},{default:S((()=>[T(x("input",{"onUpdate:modelValue":n[8]||(n[8]=e=>U(i)?i.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[I,j(i)]])])),_:1})])),_:1}),V(R,null,{default:S((()=>[V(C,{color:"primary",onClick:n[9]||(n[9]=e=>H()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:S((()=>[E(" Cost Code ")])),_:1}),V(C,{onClick:n[10]||(n[10]=e=>r.value=!j(r)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:S((()=>[E(" Category ")])),_:1}),V(C,{onClick:n[11]||(n[11]=e=>u.value=!j(u)),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:S((()=>[E(" Trade ")])),_:1})])),_:1})]),x("div",Ut,[j(z).length?$("",!0):(k(),A(N,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:S((()=>[It,jt])),_:1})),x("table",At,[Mt,x("tbody",null,[(k(!0),w(O,null,P(j(s),(e=>(k(),w(O,{key:e.id},[x("tr",null,[x("td",null,[x("p",Ot,[E(D(e.name??"n/a")+" ",1),x("i",{class:"fas fa-plus cursor-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{H(e),y.value=!1,y.value=!0}},null,8,Pt)])]),x("td",null,[x("p",null,D(e.description||"No description"),1)]),x("td",null,D(e.codes?.length||0),1),x("td",Dt,[x("div",Et,[V(K,{onClick:l=>{return a=e?.id,p.value=a,void(r.value=!r.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),V(K,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:t=>(async e=>{try{a.value=!0,await o.delete(`/api/cost-category/${e}/`),v(),l.success("delete category")}catch(t){console.log(t)}finally{a.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(k(!0),w(O,{key:0},P(e.codes,(l=>(k(),w(O,{key:l?.id},[x("tr",$t,[x("td",Ht,[x("p",zt,[E(D(l.name)+" ",1),x("i",{class:"fas fa-plus cursor-pointer ml-2",style:{"font-size":"11px"},onClick:a=>H(e,l)},null,8,Rt)])]),x("td",null,D(l.description||"No description"),1),x("td",null,D(l.child_codes?.length||0),1),x("td",Nt,[x("div",Lt,[V(K,{onClick:e=>_(l.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),V(K,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:e=>m(l.id)},null,8,["onClick"])])])]),l?.child_codes?.length?(k(!0),w(O,{key:0},P(l.child_codes,(e=>(k(),w("tr",{key:e.id,class:"child-item"},[x("td",Wt,D(e.name),1),x("td",null,D(e.description||"No description"),1),Kt,x("td",Bt,[x("div",Zt,[V(K,{onClick:l=>_(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),V(K,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>m(e.id)},null,8,["onClick"])])])])))),128)):$("",!0)],64)))),128)):$("",!0)],64)))),128))])])])])):$("",!0),"Category"==j(t)?(k(),w("div",Ft,[V(q)])):$("",!0),"costCodes"==j(t)?(k(),w("div",qt,[V(G)])):$("",!0),"Trade"==j(t)?(k(),w("div",Gt,[V(J)])):$("",!0),j(c)?(k(),A(Y,{key:4,addUpdateCostCodeModal:j(c),"cost-code-id":j(p),selectedCatCostCode:j(g),selectedCostCodeID:j(M),CategoryMode:j(y),"onUpdate:modalHandler":n[12]||(n[12]=e=>{c.value=!1,y.value=!1}),"onUpdate:OnSuccess":n[13]||(n[13]=e=>v())},null,8,["addUpdateCostCodeModal","cost-code-id","selectedCatCostCode","selectedCostCodeID","CategoryMode"])):$("",!0),j(r)?(k(),A(Q,{key:5,addUpdateCategoryModal:j(r),"category-id":j(p),"onUpdate:modalHandler":n[14]||(n[14]=e=>r.value=!1),"onUpdate:OnSuccess":n[15]||(n[15]=e=>v())},null,8,["addUpdateCategoryModal","category-id"])):$("",!0),j(u)?(k(),A(X,{key:6,addUpdateTradeModal:j(u),"onUpdate:modalHandler":n[16]||(n[16]=e=>u.value=!1),"onUpdate:OnSuccess":n[17]||(n[17]=e=>v())},null,8,["addUpdateTradeModal"])):$("",!0)])}}}),[["__scopeId","data-v-0c06ee6f"]]),Yt=e=>(z("data-v-a76edf92"),e=e(),R(),e),Qt={class:"container"},Xt={class:"box cu-property"},es={class:"box-body"},ls={class:"position-relative"},as={class:"position-absolute",style:{top:"0px",right:"0px"}},ts=Yt((()=>x("i",{class:"fas fa-pen"},null,-1))),ss={class:"columns is-multiline p-5 align-items-center"},os=Yt((()=>x("div",{class:"column is-2 text-align-center"},[x("img",{src:"/images/homePlaceholder.png",style:{width:"140px","border-radius":"10px"},alt:"",srcset:""})],-1))),is={class:"column is-3"},ns={class:"title is-5 mb-2"},cs=Yt((()=>x("p",{class:"light-text mb-0 font-500"},"TexhoIbex@gmial.com",-1))),ds={class:"light-text font-500"},rs=Yt((()=>x("div",{class:"column is-1"},[x("div",{class:"cu-vr-seperator"})],-1))),us={class:"column is-3"},ps={class:"light-text mb-0 font-400"},ms=Yt((()=>x("b",null,"State:",-1))),vs={class:"light-text mb-0 font-400"},fs=Yt((()=>x("b",null,"City:",-1))),_s={class:"light-text mb-0 font-400"},gs=Yt((()=>x("b",null,"PoctCode:",-1))),ys=Yt((()=>x("div",{class:"column is-1"},[x("div",{class:"cu-vr-seperator"})],-1))),hs={class:"column is-2"},bs={class:"light-text mb-0 font-400"},Cs=Yt((()=>x("b",null,"Website:",-1))),ks=Yt((()=>x("b",null,"Status:",-1))),ws={class:"m-t-20"},xs={class:"tabs-wrapper"},Vs={class:"tabs-inner"},Ss={class:"tabs is-boxed"},Ts=[Yt((()=>x("span",null,"General",-1)))],Us=[Yt((()=>x("span",null,"Cost Codes",-1)))],Is=[Yt((()=>x("span",null,"Templates/Catalog",-1)))],js=[Yt((()=>x("span",null,"Users permissions",-1)))],As=[Yt((()=>x("span",null,"Role Management",-1)))],Ms=[Yt((()=>x("span",null,"Manage Role",-1)))],Os={key:0},Ps={key:1},Ds={key:2},Es={key:3},$s={key:4},Hs={key:5,class:""},zs={class:"tabs-wrapper"},Rs={class:"tabs-inner"},Ns={class:"tabs"},Ls=[Yt((()=>x("span",null,"Templates",-1)))],Ws=[Yt((()=>x("span",null,"Catalog",-1)))],Ks={key:0,class:""},Bs=_({__name:"CompanySettingsComponent",setup(e){const l=h("general"),a=h(!1),t=h("proposals"),s=H({name:"ABC Corp",website:"https://example.com",phone:"123-456-7890",address:{street:"123 Main St",city:"Evergreen",state:"CO",zipCode:"80437-0242"}});return(e,o)=>{const i=W,n=m,c=Jt,d=Zl,r=Ze,u=Ke,p=Pe;return k(),w("div",Qt,[x("div",Xt,[x("div",es,[x("div",ls,[x("div",as,[V(i,{color:"primary",onClick:o[0]||(o[0]=e=>{a.value=!0}),size:"xsmall",rounded:""},{default:S((()=>[ts,E(" Edit")])),_:1})])]),x("div",ss,[os,x("div",is,[x("h2",ns,D(j(s).name),1),cs,x("p",ds,D(j(s).phone),1)]),rs,x("div",us,[x("p",ps,[ms,E(" "+D(j(s)?.address?.state?j(s)?.address?.state:"N/A"),1)]),x("p",vs,[fs,E(" "+D(j(s)?.address?.city?j(s)?.address?.city:"N/A"),1)]),x("p",_s,[gs,E(" "+D(j(s)?.address?.zipCode?j(s)?.address?.zipCode:"N/A"),1)])]),ys,x("div",hs,[x("p",bs,[Cs,E(" "+D(j(s)?.website?j(s)?.website:"N/A"),1)]),ks,V(n,{color:"primary",class:"ml-2",rounded:""},{default:S((()=>[E("Active")])),_:1})])])])]),x("div",ws,[x("div",xs,[x("div",Vs,[x("div",Ss,[x("ul",null,[x("li",{class:Z(["general"===j(l)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[1]||(o[1]=F(L((e=>l.value="general"),["prevent"]),["space"])),onClick:o[2]||(o[2]=e=>l.value="general")},Ts,32)],2),x("li",{class:Z(["costCodes"===j(l)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[3]||(o[3]=F(L((e=>l.value="costCodes"),["prevent"]),["space"])),onClick:o[4]||(o[4]=e=>l.value="costCodes")},Us,32)],2),x("li",{class:Z(["proposalsTemplates"===j(l)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[5]||(o[5]=F(L((e=>l.value="proposalsTemplates"),["prevent"]),["space"])),onClick:o[6]||(o[6]=e=>l.value="proposalsTemplates")},Is,32)],2),x("li",{class:Z(["permissions"===j(l)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[7]||(o[7]=F(L((e=>l.value="permissions"),["prevent"]),["space"])),onClick:o[8]||(o[8]=e=>l.value="permissions")},js,32)],2),x("li",{class:Z(["roleManagement"===j(l)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[9]||(o[9]=F(L((e=>l.value="roleManagement"),["prevent"]),["space"])),onClick:o[10]||(o[10]=e=>l.value="roleManagement")},As,32)],2),x("li",{class:Z(["manageRole"===j(l)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[11]||(o[11]=F(L((e=>l.value="manageRole"),["prevent"]),["space"])),onClick:o[12]||(o[12]=e=>l.value="manageRole")},Ms,32)],2)])])])]),"general"===j(l)?(k(),w("div",Os,"General")):$("",!0),"costCodes"===j(l)?(k(),w("div",Ps,[V(c)])):$("",!0),"permissions"===j(l)?(k(),w("div",Ds,[V(d)])):$("",!0),"roleManagement"===j(l)?(k(),w("div",Es,[V(r)])):$("",!0),"manageRole"===j(l)?(k(),w("div",$s,[V(u)])):$("",!0),"proposalsTemplates"===j(l)?(k(),w("div",Hs,[x("div",zs,[x("div",Rs,[x("div",Ns,[x("ul",null,[x("li",{class:Z(["proposals"===j(t)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[13]||(o[13]=F(L((e=>t.value="proposals"),["prevent"]),["space"])),onClick:o[14]||(o[14]=e=>t.value="proposals")},Ls,32)],2),x("li",{class:Z(["Catalog"===j(t)?"is-active":"not-active"])},[x("a",{tabindex:"0",role:"button",onKeydown:o[15]||(o[15]=F(L((e=>t.value="Catalog"),["prevent"]),["space"])),onClick:o[16]||(o[16]=e=>t.value="Catalog")},Ws,32)],2)])])])]),"proposals"===j(t)?(k(),w("div",Ks,[V(p)])):$("",!0)])):$("",!0)])])}}});"function"==typeof oe&&oe(Bs);const Zs=N(Bs,[["__scopeId","data-v-a76edf92"]]),Fs=_({__name:"index",setup(e){ue();return pe().setPageTitle("Company Settings"),q((()=>({title:"Company Settings"}))),(e,l)=>{const a=Zs;return k(),w("div",null,[V(a)])}}});"function"==typeof oe&&oe(Fs);export{Fs as default};
