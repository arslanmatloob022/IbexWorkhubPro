import{_ as e}from"./SearchPanel.vue_vue_type_style_index_0_lang-9f2aad7e.js";import{_ as s,a,b as n,c as i,d as t,e as l,f as o}from"./UserProfileDropdown-e17f00ee.js";import{_ as r}from"./Sidebar.vue_vue_type_style_index_0_lang-5154b2a0.js";import{_ as c}from"./NotificationsMobileDropdown.vue_vue_type_script_setup_true_lang-41a1e492.js";import{f as d,r as u,B as v,C as p,D as m,F as g,G as h,m as f,E as _,H as y,Z as b,J as C,a7 as k,$ as w,I as x,Q as j,R as O,S as M,Y as I,v as S,T as E,K as V,U as A,N as K,V as T,O as D,W as U,o as P,A as F,aq as $,a1 as L}from"./index-27c88c30.js";import{u as N}from"./panels-ebac8307.js";import{u as W}from"./useFetch-9cf16998.js";import{_ as B}from"./VPageContent-7e8c5dac.js";import{_ as z}from"./having-coffee-dark-d6099ea4.js";import{o as X}from"./via-placeholder-24645670.js";import{u as J}from"./useDropdown-d3f29231.js";import{_ as q,a as R}from"./25-6f8405eb.js";import{_ as G,a as H}from"./13-972b79d1.js";import{_ as Q}from"./saudi-arabia-c8f7a528.js";import{_ as Y,a as Z,b as ee,c as se,d as ae,e as ne,f as ie,g as te,h as le,i as oe,j as re,k as ce}from"./12-e36849a5.js";import{_ as de}from"./VIconWrap.vue_vue_type_style_index_0_lang-063450d1.js";import{_ as ue}from"./VPhotosSwipe-dd5dd17d.js";import{u as ve}from"./sidebar-ed260d19.js";import{_ as pe,a as me}from"./search-4-dark-3664abd4.js";import{u as ge}from"./layoutSwitcher-57da132c.js";import{u as he}from"./viewWrapper-801e6584.js";import{u as fe}from"./useNotyf-d44b5a33.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang-c146820f.js";import"./VBlock.vue_vue_type_style_index_0_lang-084605f0.js";import"./VIconBox.vue_vue_type_style_index_0_lang-1f04d62c.js";import"./VField.vue_vue_type_script_setup_true_lang-eb404a69.js";import"./VLabel.vue_vue_type_script_setup_true_lang-9adfb462.js";import"./useVFieldContext-b62bb406.js";import"./VControl-40991241.js";import"./VAvatar.vue_vue_type_style_index_0_lang-c716de6a.js";import"./AnimatedLogo-bc1cce23.js";import"./userPopovers-2b960611.js";import"./useAPI-5ec06f46.js";import"./moment-bad41465.js";import"./VIcon.vue_vue_type_script_setup_true_lang-f275661a.js";import"./VSwitchBlock.vue_vue_type_style_index_0_lang-0702e583.js";import"./JobTodos.vue_vue_type_style_index_0_lang-af9eddbc.js";import"./VModal.vue_vue_type_style_index_0_lang-a9138242.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-74d68586.js";import"./VInput.vue_vue_type_script_setup_true_lang-7f963d42.js";import"./useSupportElement-6b7f44cb.js";import"./VPlaceholderPage.vue_vue_type_style_index_0_lang-ce523aee.js";import"./VTag.vue_vue_type_style_index_0_lang-8cc0f38e.js";import"./VIconButton-c662c586.js";import"./company-2cc5e37c.js";import"./VDropdown.vue_vue_type_style_index_0_lang-2446db18.js";import"./notyf-993b872a.js";import"./useThemeColors-a14d8495.js";const _e={class:"sidebar-layout"},ye=_("div",{class:"app-overlay"},null,-1),be=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:activity"},null,-1),Ce=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:grid"},null,-1),ke=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:box"},null,-1),we=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:cpu"},null,-1),xe=_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:message-circle"},null,-1),je=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:search"},null,-1)],Oe=_("li",null,[_("a",{href:"#"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:settings"})])],-1),Me=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:activity"},null,-1),Ie=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:grid"},null,-1),Se=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:box"},null,-1),Ee=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:cpu"},null,-1),Ve=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:message-circle"},null,-1),Ae={class:"right-panel-trigger is-hidden-tablet"},Ke=[_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather-search"},null,-1)],Te=[_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather-x"},null,-1)],De={class:"is-hidden-tablet"},Ue=_("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:settings"},null,-1),Pe=d({__name:"MessagingLayout",props:{theme:{default:"default"}},setup(l){const o=l,d=N(),k=u(!1);return(l,u)=>{const w=c,x=s,j=a,O=v("RouterLink"),M=n,I=r,S=i,E=t,V=e;return p(),m("div",_e,[ye,g(j,{"is-open":f(k),onToggle:u[0]||(u[0]=e=>k.value=!f(k))},{default:h((()=>[g(w),g(x)])),_:1},8,["is-open"]),g(M,{"is-open":f(k),onToggle:u[3]||(u[3]=e=>k.value=!f(k))},{links:h((()=>[_("li",null,[g(O,{to:"/sidebar/dashboards"},{default:h((()=>[be])),_:1})]),_("li",null,[g(O,{to:"/sidebar/layouts"},{default:h((()=>[Ce])),_:1})]),_("li",null,[g(O,{to:"/elements/"},{default:h((()=>[ke])),_:1})]),_("li",null,[g(O,{to:"/components/"},{default:h((()=>[we])),_:1})]),_("li",null,[g(O,{to:"/messaging-v1"},{default:h((()=>[xe])),_:1})])])),"bottom-links":h((()=>[_("li",null,[_("a",{tabindex:"0",role:"button",onKeydown:u[1]||(u[1]=y(C((e=>f(d).setActive("search")),["prevent"]),["space"])),onClick:u[2]||(u[2]=e=>f(d).setActive("search"))},je,32)]),Oe])),_:1},8,["is-open"]),g(I,{theme:o.theme},{links:h((()=>[_("li",null,[g(O,{to:"/sidebar/dashboards"},{default:h((()=>[Me])),_:1})]),_("li",null,[g(O,{to:"/sidebar/layouts"},{default:h((()=>[Ie])),_:1})]),_("li",null,[g(O,{to:"/elements/"},{default:h((()=>[Se])),_:1})]),_("li",null,[g(O,{to:"/components/"},{default:h((()=>[Ee])),_:1})]),_("li",null,[g(O,{to:"/messaging-v1"},{default:h((()=>[Ve])),_:1})])])),"bottom-links":h((()=>[_("li",Ae,[_("a",{"data-content":"Search",tabindex:"0",role:"button",onKeydown:u[4]||(u[4]=y(C((e=>f(d).setActive("search")),["prevent"]),["space"])),onClick:u[5]||(u[5]=e=>f(d).setActive("search"))},Ke,32),_("a",{class:"is-hidden is-inactive",tabindex:"0",role:"button",onKeydown:u[6]||(u[6]=y(C((e=>f(d).close()),["prevent"]),["space"])),onClick:u[7]||(u[7]=e=>f(d).close())},Te,32)]),_("li",De,[g(O,{id:"open-settings",to:"/sidebar/layouts/profile-settings","data-content":"Settings"},{default:h((()=>[Ue])),_:1})]),_("li",null,[g(x,{up:""})])])),_:1},8,["theme"]),g(S),g(E),g(V),b(l.$slots,"default",{isMobileSidebarOpen:f(k)})])}}});const Fe={id:0,name:"",lastMessage:"",unreadMessages:!1,avatar:"/images/avatars/placeholder.jpg"},$e=k("chat",(()=>{const e=W(),s=u([]),a=u([]),n=u(0),i=u(!1),t=u(!1),l=u(!1),o=w((()=>{const e=s.value?.find((e=>e.id===n.value));return e||Fe}));return{conversations:s,messages:a,selectedConversation:o,selectedConversationId:n,addConversationOpen:i,mobileConversationDetailsOpen:t,loading:l,loadConversations:async function(a=0,n=10){if(!l.value){l.value=!0;try{const i=await async function(e,s=0,a=20){let n=0;const{_data:i=[],headers:t}=await e.raw("/api/conversations",{query:{_start:s,_limit:a}});return t.has("X-Total-Count")&&(n=parseInt(t.get("X-Total-Count")??"0")),{conversations:i,count:n}}(e,a,n);s.value=i.conversations??[]}finally{l.value=!1}}},setAddConversationOpen:function(e){i.value=e},setMobileConversationDetailsOpen:function(e){t.value=e},selectConversastion:async function(s){if(!l.value){l.value=!0;try{const i=await async function(e,s,a=0,n=20){let i=0;const{_data:t=[],headers:l}=await e.raw(`/api/conversations/${s}/messages?_start=${a}&_limit=${n}`);return l.has("X-Total-Count")&&(i=parseInt(l.get("X-Total-Count")??"0")),{messages:t,count:i}}(e,s);n.value=s,a.value=i.messages}finally{l.value=!1}}},unselectConversation:function(){n.value=0,a.value=[]}}})),Le=[(e=>(j("data-v-ca825db5"),e=e(),O(),e))((()=>_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-left"},null,-1)))],Ne=M(d({__name:"ChatSideFab",setup(e){const s=$e();return(e,a)=>(p(),m("a",{class:x([[f(s).mobileConversationDetailsOpen&&"is-mobile-active"],"chat-side-fab"]),"aria-label":"Close convesation details",tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=y(C((e=>f(s).setMobileConversationDetailsOpen(!f(s).mobileConversationDetailsOpen)),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>f(s).setMobileConversationDetailsOpen(!f(s).mobileConversationDetailsOpen))},Le,34))}}),[["__scopeId","data-v-ca825db5"]]),We={class:"is-chat-placeholder animated preFadeInUp fadeInUp is-hidden"},Be={class:"caption"},ze=_("div",{class:"text"},[_("h3",null,"Nothing to show"),_("p",null,"Select an existing conversation or start a new one"),_("a",{id:"new-chat",class:"button v-button is-solid is-outlined is-big is-rounded"}," Start a new conversation ")],-1),Xe=d({__name:"ChatPlaceholder",setup:e=>(e,s)=>(p(),m("div",We,[_("div",Be,[_("img",{src:z,alt:"",onErrorOnce:s[0]||(s[0]=e=>f(X)(150))},null,32),ze])]))}),Je={class:"message-field-wrapper"},qe={class:"control"},Re={class:"add-content"},Ge=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1)],He=_("div",{class:"dropdown-menu",role:"menu"},[_("div",{class:"dropdown-content"},[_("a",{class:"dropdown-item"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:video"}),_("div",{class:"meta"},[_("span",null,"Video"),_("span",null,"Embed a video")])]),_("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:image"}),_("div",{class:"meta"},[_("span",null,"Images"),_("span",null,"Upload pictures")])]),_("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:link"}),_("div",{class:"meta"},[_("span",null,"Link"),_("span",null,"Post a link")])]),_("hr",{class:"dropdown-divider"}),_("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:file"}),_("div",{class:"meta"},[_("span",null,"File"),_("span",null,"Upload a file")])])])],-1),Qe=I('<div class="add-emoji"><div class="button"><i aria-hidden="true" class="iconify" data-icon="feather:smile"></i></div></div><input id="chat-input" class="input is-rounded" type="text" placeholder="Write a message ..." aria-label="Write a message"><div class="send-message"><div class="button v-button is-primary is-raised is-rounded"> Send </div></div>',3),Ye=_("div",{class:"typing-indicator"},[_("img",{src:"/images/icons/misc/typing.gif",alt:""})],-1),Ze=d({__name:"ChatMessageFieldWrapper",setup(e){const s=u(),a=J(s);return(e,n)=>(p(),m("div",Je,[_("div",qe,[_("div",Re,[_("div",{ref_key:"dropdownElement",ref:s,class:"dropdown dropdown-trigger is-up"},[_("div",null,[_("div",{class:"button","aria-haspopup":"true",onClick:n[0]||(n[0]=(...e)=>f(a).toggle&&f(a).toggle(...e))},Ge)]),He],512)]),Qe]),Ye]))}}),es={class:"chat-body-wrap"};const ss=M({},[["render",function(e,s){return p(),m("div",es,[b(e.$slots,"default")])}]]),as={id:"chat-body",class:"chat-body"};const ns=M({},[["render",function(e,s){return p(),m("ol",as,[b(e.$slots,"default")])}]]),is={class:"chat-header"};const ts=M({},[["render",function(e,s){return p(),m("div",is,[b(e.$slots,"default")])}]]),ls={class:"is-chat animated preFadeInUp fadeInUp"};const os=M({},[["render",function(e,s){const a=ts,n=ns,i=ss,t=Ze;return p(),m("div",ls,[g(a,null,{default:h((()=>[b(e.$slots,"header")])),_:3}),g(i,null,{default:h((()=>[g(n,null,{default:h((()=>[b(e.$slots,"body")])),_:3}),b(e.$slots,"side")])),_:3}),g(t)])}]]),rs={class:"toolbar ml-auto"},cs={class:"toolbar-link"},ds={class:"dark-mode ml-auto"},us=["checked"],vs=_("span",null,null,-1),ps=["src"],ms={class:"toolbar-notifications is-hidden-mobile"},gs=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:bell"},null,-1),_("span",{class:"new-indicator pulsate"},null,-1)],hs={class:"dropdown-menu",role:"menu"},fs={class:"dropdown-content"},_s={class:"heading"},ys=_("div",{class:"heading-left"},[_("h6",{class:"heading-title"}," Notifications ")],-1),bs={class:"heading-right"},Cs={class:"notification-list"},ks={class:"notification-item"},ws={class:"img-left"},xs=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Alice C."),V(" left a comment. ")]),_("p",{class:"time"},"1 hour ago")],-1),js={class:"notification-item"},Os={class:"img-left"},Ms=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Joshua S."),V(" uploaded a file. ")]),_("p",{class:"time"},"2 hours ago")],-1),Is={class:"notification-item"},Ss={class:"img-left"},Es=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Tara S."),V(" sent you a message. ")]),_("p",{class:"time"},"2 hours ago")],-1),Vs={class:"notification-item"},As={class:"img-left"},Ks=_("div",{class:"user-content"},[_("p",{class:"user-info"},[_("span",{class:"name"},"Melany W."),V(" left a comment. ")]),_("p",{class:"time"},"3 hours ago")],-1),Ts=[_("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"},null,-1),_("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"},null,-1)],Ds=d({__name:"MessagingToolbar",emits:["close"],setup(e,{emit:s}){const a=N(),n=S(),{locale:i}=E(),t=u(),l=J(t),o=w((()=>{switch(i.value){case"fr":return"/images/icons/flags/france.svg";case"es":return"/images/icons/flags/spain.svg";case"es-MX":return"/images/icons/flags/mexico.svg";case"de":return"/images/icons/flags/germany.svg";case"zh-CN":return"/images/icons/flags/china.svg";case"ar":return"/images/icons/flags/saudi-arabia.svg";default:return"/images/icons/flags/united-states-of-america.svg"}}));return(e,i)=>{const r=v("RouterLink");return p(),m("div",rs,[_("div",cs,[_("label",ds,[_("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!f(n).isDark,tabindex:"0",onKeydown:i[0]||(i[0]=y(C((e=>e.target.click()),["prevent"]),["space"])),onChange:i[1]||(i[1]=(...e)=>f(n).onChange&&f(n).onChange(...e))},null,40,us),vs])]),_("a",{class:"toolbar-link right-panel-trigger",tabindex:"0",role:"button",onKeydown:i[2]||(i[2]=y(C((e=>f(a).setActive("languages")),["prevent"]),["space"])),onClick:i[3]||(i[3]=e=>f(a).setActive("languages"))},[_("img",{src:f(o),alt:""},null,8,ps)],32),_("div",ms,[_("div",{ref_key:"dropdownElement",ref:t,class:"dropdown is-spaced is-dots is-right dropdown-trigger"},[_("div",{class:"is-trigger","aria-haspopup":"true",onClick:i[4]||(i[4]=(...e)=>f(l).toggle&&f(l).toggle(...e))},gs),_("div",hs,[_("div",fs,[_("div",_s,[ys,_("div",bs,[g(r,{class:"notification-link",to:"/sidebar/layouts/profile-notifications"},{default:h((()=>[V(" See all ")])),_:1})])]),_("ul",Cs,[_("li",null,[_("a",ks,[_("div",ws,[_("img",{class:"user-photo",alt:"",src:q,onErrorOnce:i[5]||(i[5]=e=>f(X)(150))},null,32)]),xs])]),_("li",null,[_("a",js,[_("div",Os,[_("img",{class:"user-photo",alt:"",src:G,onErrorOnce:i[6]||(i[6]=e=>f(X)(150))},null,32)]),Ms])]),_("li",null,[_("a",Is,[_("div",Ss,[_("img",{class:"user-photo",alt:"",src:H,onErrorOnce:i[7]||(i[7]=e=>f(X)(150))},null,32)]),Es])]),_("li",null,[_("a",Vs,[_("div",As,[_("img",{class:"user-photo",alt:"",src:R,onErrorOnce:i[8]||(i[8]=e=>f(X)(150))},null,32)]),Ks])])])])])],512)]),_("a",{id:"hide-chat-side",class:"toolbar-link",tabindex:"0",role:"button",onKeydown:i[9]||(i[9]=y(C((e=>s("close")),["prevent"]),["space"])),onClick:i[10]||(i[10]=e=>s("close"))},Ts,32)])}}}),Us={class:"chat-side-header"},Ps={class:"chat-side-content is-single"},Fs={class:"user-pic"},$s=["src"],Ls={key:0,class:"user-name"},Ns={key:1,class:"user-job-title"},Ws=I('<div class="side-actions"><a class="button v-button is-rounded"><span class="icon is-small"><i aria-hidden="true" class="fas fa-phone"></i></span><span>Audio Call</span></a><a class="button v-button is-rounded"><span class="icon is-small"><i aria-hidden="true" class="fas fa-video"></i></span><span>Video Call</span></a></div>',1),Bs={class:"detail-photos"},zs=I('<div class="detail-photo-title"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><path d="M21 15l-5-5L5 21"></path></svg> Shared photos </div>',1),Xs={class:"detail-photo-grid"},Js=_("a",{class:"view-more"},"View More",-1),qs=d({__name:"ChatSide",setup(e){const s=$e();return(e,a)=>{const n=Ds;return p(),m("div",{class:x([[f(s).mobileConversationDetailsOpen&&"is-mobile-active"],"chat-side"])},[_("div",Us,[g(n,{onClose:a[0]||(a[0]=e=>f(s).setMobileConversationDetailsOpen(!1))})]),_("div",Ps,[_("div",Fs,[_("img",{id:"user-details-image",src:f(s).selectedConversation.avatar,alt:"",onError:a[1]||(a[1]=e=>f(X)(150))},null,40,$s),_("img",{id:"user-details-badge",class:"is-badge",src:Q,alt:"",onErrorOnce:a[2]||(a[2]=e=>f(X)(150))},null,32)]),f(s).selectedConversation.name?(p(),m("h4",Ls,A(f(s).selectedConversation.name),1)):K("",!0),f(s).selectedConversation.lastMessage?(p(),m("p",Ns,A(f(s).selectedConversation.lastMessage),1)):K("",!0),Ws,_("div",Bs,[zs,_("div",Xs,[_("img",{src:Y,alt:"",onErrorOnce:a[3]||(a[3]=e=>f(X)(1600,900))},null,32),_("img",{src:Z,alt:"",onErrorOnce:a[4]||(a[4]=e=>f(X)(1600,900))},null,32),_("img",{src:ee,alt:"",onErrorOnce:a[5]||(a[5]=e=>f(X)(1600,900))},null,32),_("img",{src:se,alt:"",onErrorOnce:a[6]||(a[6]=e=>f(X)(1600,900))},null,32),_("img",{src:ae,alt:"",onErrorOnce:a[7]||(a[7]=e=>f(X)(1600,900))},null,32),_("img",{src:ne,alt:"",onErrorOnce:a[8]||(a[8]=e=>f(X)(1600,900))},null,32),_("img",{src:ie,alt:"",onErrorOnce:a[9]||(a[9]=e=>f(X)(1600,900))},null,32),_("img",{src:te,alt:"",onErrorOnce:a[10]||(a[10]=e=>f(X)(1600,900))},null,32),_("img",{src:le,alt:"",onErrorOnce:a[11]||(a[11]=e=>f(X)(1600,900))},null,32),_("img",{src:oe,alt:"",onErrorOnce:a[12]||(a[12]=e=>f(X)(1600,900))},null,32),_("img",{src:re,alt:"",onErrorOnce:a[13]||(a[13]=e=>f(X)(1600,900))},null,32),_("img",{src:ce,alt:"",onErrorOnce:a[14]||(a[14]=e=>f(X)(1600,900))},null,32)]),Js])])],2)}}}),Rs={key:0,class:"divider-container"},Gs={class:"divider"},Hs={class:"avatar"},Qs=["src"],Ys={class:"msg"},Zs={class:"msg-inner"},ea={class:"avatar is-online"},sa=["src"],aa={class:"msg is-image"},na={class:"image-container"},ia=_("div",{class:"image-overlay"},null,-1),ta={class:"image-actions"},la={class:"actions-inner"},oa=_("div",{class:"action download"},[_("span",{class:"iconify","data-icon":"feather:download"})],-1),ra=["href"],ca=[_("span",{class:"iconify","data-icon":"feather:maximize"},null,-1)],da={class:"avatar"},ua=["src"],va={class:"msg is-link-image"},pa={class:"image"},ma=["src"],ga={class:"link-badge"},ha=["src"],fa={class:"link-body"},_a={class:"link-title"},ya={class:"avatar is-online"},ba=["src"],Ca={class:"msg is-link"},ka={class:"link-meta"},wa={href:"#"},xa=d({__name:"ChatMsg",props:{message:{}},setup(e){const s=e;return(e,a)=>{const n=ue,i=de;return p(),m("li",{class:x(["system"===s.message.type&&"divider-container","system"!==s.message.type&&s.message.sender])},["system"===s.message.type?(p(),m("li",Rs,[_("div",Gs,[_("span",null,A(s.message.content.text),1)])])):"msg"===s.message.type?(p(),m(T,{key:1},[_("div",Hs,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,Qs)):K("",!0)]),_("div",Ys,[_("div",Zs,[_("p",null,A(s.message.content.text),1)]),_("time",null,A(s.message.content.time),1)])],64)):"image"===s.message.type?(p(),m(T,{key:2},[_("div",ea,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,sa)):K("",!0)]),_("div",aa,[_("div",na,[s.message.content.image_url?(p(),D(n,{key:0,items:[{src:s.message.content.image_url,thumbnail:s.message.content.image_url,w:600,h:400,alt:"optional alt attribute for thumbnail image"}],"thumbnail-radius":"full"},null,8,["items"])):K("",!0),ia,_("div",ta,[_("div",la,[oa,_("a",{href:s.message.content.image_url,class:"action messaging-popup","aria-label":"Maximize"},ca,8,ra)])])])])],64)):"imagelink"===s.message.type?(p(),m(T,{key:3},[_("div",da,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,ua)):K("",!0)]),_("div",va,[_("figure",pa,[_("img",{src:s.message.content.link_image,alt:""},null,8,ma),_("div",ga,[_("img",{src:s.message.content.link_badge,alt:""},null,8,ha)])]),_("div",fa,[_("span",_a,A(s.message.content.text),1),_("small",null,A(s.message.content.subtext),1)])])],64)):"link"===s.message.type?(p(),m(T,{key:4},[_("div",ya,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,ba)):K("",!0)]),_("div",Ca,[g(i,{icon:"feather:link"}),_("p",ka,[_("span",null,A(s.message.content.text),1),_("a",wa,A(s.message.content.subtext),1)])])],64)):K("",!0)],2)}}}),ja={class:"inner"},Oa={class:"collapsed-menu"},Ma={class:"menu-toggle has-chevron"},Ia=[_("span",{class:"rotate"},[_("i",{"aria-hidden":"true",class:"icon-line-top"}),_("i",{"aria-hidden":"true",class:"icon-line-center"}),_("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],Sa={class:"collapsed-add"},Ea=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1)],Va={class:"collapsed-conversations"},Aa=["onKeydown","onClick"],Ka={class:"user-container"},Ta=["src"],Da=d({__name:"CollapsedMessaging",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["addConversation","selectConversation"],setup(e,{emit:s}){const a=e,n=ve();return(e,i)=>(p(),m("div",{class:x([["messages"!==f(n).active&&"is-active"],"collapsed-messaging"])},[_("div",ja,[_("div",Oa,[_("div",{class:"vuero-hamburger nav-trigger push-resize messages-push",tabindex:"0",role:"button",onKeydown:i[0]||(i[0]=y(C((e=>f(n).toggle("messages")),["prevent"]),["space"])),onClick:i[1]||(i[1]=e=>f(n).toggle("messages"))},[_("span",Ma,[_("span",{class:x([["none"!==f(n).active&&"active"],"icon-box-toggle"])},Ia,2)])],32)]),_("div",Sa,[_("a",{class:"button collapse-add-button is-primary",tabindex:"0",role:"button",onKeydown:i[2]||(i[2]=y(C((e=>s("addConversation")),["prevent"]),["space"])),onClick:i[3]||(i[3]=()=>s("addConversation"))},Ea,32)]),_("ul",Va,[(p(!0),m(T,null,U(a.conversations,(e=>(p(),m("li",{key:e.id,class:x([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",role:"button",onKeydown:y(C((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[_("div",Ka,[_("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:i[4]||(i[4]=e=>f(X)(150))},null,40,Ta)])],42,Aa)))),128))])])],2))}}),Ua={class:"mobile-subsidebar is-messaging"},Pa={class:"inner"},Fa=_("div",{class:"sidebar-title"},[_("h3",null,"Messages")],-1),$a={id:"mobile-conversations-list",class:"animated preFadeInUp fadeInUp"},La=["onKeydown","onClick"],Na={class:"recent-user"},Wa={class:"user-container"},Ba=["src"],za={class:"recipient-meta"},Xa=d({__name:"MessagesMobileSubsidebar",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["selectConversation"],setup(e,{emit:s}){const a=e;return(e,n)=>(p(),m("div",Ua,[_("div",Pa,[Fa,_("ul",$a,[(p(!0),m(T,null,U(a.conversations,(e=>(p(),m("li",{key:e.id,role:"button",class:x([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",onKeydown:y(C((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[_("div",Na,[_("div",Wa,[_("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:n[0]||(n[0]=e=>f(X)(150))},null,40,Ba)]),_("div",za,[_("span",null,A(e.name),1),_("span",null,A(e.lastMessage),1)])])],42,La)))),128))])])]))}}),Ja={class:"sidebar-panel is-messages"},qa={class:"messages-header"},Ra=_("h3",{class:"no-mb"}," Chat ",-1),Ga={class:"menu-toggle has-chevron"},Ha=[_("span",{class:"rotate"},[_("i",{"aria-hidden":"true",class:"icon-line-top"}),_("i",{"aria-hidden":"true",class:"icon-line-center"}),_("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],Qa={class:"inner"},Ya={class:"is-new-conversation"},Za=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1),_("span",null,"New Conversation",-1)],en={id:"conversations-list",class:"animated preFadeInUp fadeInUp"},sn=["onKeydown","onClick"],an={class:"recent-user"},nn={class:"user-container"},tn=["src"],ln={class:"recipient-meta"},on=d({__name:"MessagesSubsidebar",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["addConversation","selectConversation"],setup(e,{emit:s}){const a=e,n=ve();return(e,i)=>(p(),m("div",Ja,[_("div",qa,[Ra,_("div",{class:"vuero-hamburger nav-trigger push-resize messages-push",tabindex:"0",role:"button",onKeydown:i[0]||(i[0]=y(C((e=>f(n).toggle("messages")),["prevent"]),["space"])),onClick:i[1]||(i[1]=e=>f(n).toggle("messages"))},[_("span",Ga,[_("span",{class:x([["none"!==f(n).active&&"active"],"icon-box-toggle"])},Ha,2)])],32)]),_("div",Qa,[_("div",Ya,[_("button",{id:"start-conversation",class:"button v-button is-primary is-raised is-rounded is-fullwidth",onClick:i[2]||(i[2]=()=>s("addConversation"))},Za)]),_("ul",en,[(p(!0),m(T,null,U(a.conversations,(e=>(p(),m("li",{key:e.id,class:x([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",role:"button",onKeydown:y(C((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[_("div",an,[_("div",nn,[_("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:i[3]||(i[3]=e=>f(X)(150))},null,40,tn)]),_("div",ln,[_("span",null,A(e.name),1),_("span",null,A(e.lastMessage),1)])])],42,sn)))),128))])])]))}}),rn={class:"page-title has-text-centered is-hidden"},cn={class:"menu-toggle has-chevron"},dn=[_("span",{class:"rotate"},[_("i",{"aria-hidden":"true",class:"icon-line-top"}),_("i",{"aria-hidden":"true",class:"icon-line-center"}),_("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],un=_("h1",{class:"title is-5"}," Messages ",-1),vn={class:"control"},pn=_("div",{class:"easy-autocomplete"},[_("input",{id:"users-autocpl",type:"text",class:"input","aria-label":"To",placeholder:"Start typing a name"})],-1),mn=_("div",{class:"icon"},[_("span",null,"To:")],-1),gn=[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],hn={key:0,class:"no-messages"},fn=[_("img",{class:"light-image",src:pe,alt:""},null,-1),_("img",{class:"dark-image",src:me,alt:""},null,-1),_("div",{class:"text"},[_("h3",null,"No messages yet"),_("p",null,"Start the conversation by typing a message")],-1)],_n=[_("div",{class:"loader is-loading"},null,-1)],yn=d({__name:"messaging-v1",setup(e){const s=$e(),a=ge(),n=he(),i=ve(),t=fe();function r(){s.unselectConversation(),s.setAddConversationOpen(!s.addConversationOpen)}function c(e){s.setAddConversationOpen(!1),s.selectConversastion(e)}return P((async()=>{i.setActive("messages");try{await s.loadConversations();const e=s.conversations.find((e=>!e.unreadMessages));e?s.selectConversastion(e.id):s.selectConversastion(s.conversations[0].id)}catch(e){t.error(e.message),console.error(e)}})),F({title:"Messaging chat - Sidebar - Arez"}),$((()=>{n.setPushed("messages"===i.active)})),(e,n)=>{const t=on,d=Xa,u=Da,v=xa,b=qs,k=os,w=Xe,j=B,O=l,M=o,I=Ne,S=Pe;return p(),D(S,{theme:f(a).sidebarLayoutTheme},{default:h((({isMobileSidebarOpen:e})=>[g(L,{name:"slide-x"},{default:h((()=>["messages"===f(i).active?(p(),D(t,{key:0,conversations:f(s).conversations,"selected-conversation-id":f(s).selectedConversationId,onAddConversation:r,onSelectConversation:c},null,8,["conversations","selected-conversation-id"])):K("",!0)])),_:1}),g(L,{name:"slide-x"},{default:h((()=>[e?(p(),D(d,{key:0,conversations:f(s).conversations,"selected-conversation-id":f(s).selectedConversationId,onSelectConversation:c},null,8,["conversations","selected-conversation-id"])):K("",!0)])),_:2},1024),g(u,{conversations:f(s).conversations,"selected-conversation-id":f(s).selectedConversationId,onAddConversation:r,onSelectConversation:n[0]||(n[0]=e=>{f(s).setAddConversationOpen(!1),f(s).selectConversastion(e)})},null,8,["conversations","selected-conversation-id"]),g(M,{id:"vuero-messaging",class:x(["none"===f(i).active&&"is-pushed-messages"])},{default:h((()=>[g(O,null,{default:h((()=>[g(j,{class:"chat-content"},{default:h((()=>[_("div",rn,[_("div",{class:"vuero-hamburger nav-trigger push-resize",tabindex:"0",role:"button",onKeydown:n[1]||(n[1]=y(C((e=>f(i).toggle("messages")),["prevent"]),["space"])),onClick:n[2]||(n[2]=e=>f(i).toggle("messages"))},[_("span",cn,[_("span",{class:x([["none"!==f(i).active&&"active"],"icon-box-toggle"])},dn,2)])],32),un]),g(k,null,{header:h((()=>[_("div",{class:x([[!f(s).addConversationOpen&&"is-hidden"],"is-autocomplete"])},[_("div",vn,[pn,mn,_("div",{class:"hide",tabindex:"0",role:"button",onKeydown:n[3]||(n[3]=y(C((e=>f(s).setAddConversationOpen(!1)),["prevent"]),["space"])),onClick:n[4]||(n[4]=e=>f(s).setAddConversationOpen(!1))},gn,32)])],2)])),body:h((()=>[0===f(s).messages.length?(p(),m("li",hn,fn)):K("",!0),(p(!0),m(T,null,U(f(s).messages,(e=>(p(),D(v,{key:e.id,message:e},null,8,["message"])))),128)),_("li",{class:x(["chat-loader",[f(s).loading&&"is-active"]])},_n,2)])),side:h((()=>[g(b)])),_:1}),g(w)])),_:1})])),_:1})])),_:1},8,["class"]),g(I)])),_:1},8,["theme"])}}});export{yn as default};
