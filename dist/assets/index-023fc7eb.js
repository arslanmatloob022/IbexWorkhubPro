import{p as t}from"./index-f21c7c16.js";import{c as e,e as r}from"./index-312acdd1.js";import{v as o}from"./index-60eaa22f.js";import"./index-86fab056.js";import"./index-76358a05.js";const n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=/^[a-zA-Z]:\\/;const i=["nofollow"],p=["http","https"];function a(t,e){return"function"==typeof t?t(e):t}function c(c={}){const f=e(c.test);return e=>{o(e,"element",((e,o,l)=>{if("a"===e.tagName&&e.properties&&"string"==typeof e.properties.href&&f(e,o,l)){const o=e.properties.href,f=o.slice(0,o.indexOf(":")),l=a(c.target,e),d=a(c.rel,e)||i,m="string"==typeof d?t(d):d,u=a(c.protocols,e)||p,g=a(c.content,e),h=g&&!Array.isArray(g)?[g]:g,y=a(c.contentProperties,e)||{};(function(t){if("string"!=typeof t)throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return!s.test(t)&&n.test(t)}(o)?u.includes(f):o.startsWith("//"))&&(l&&(e.properties.target=l),m.length>0&&(e.properties.rel=m.concat()),h&&e.children.push({type:"element",tagName:"span",properties:r(!0,y),children:r(!0,h)}))}}))}}export{c as default};
