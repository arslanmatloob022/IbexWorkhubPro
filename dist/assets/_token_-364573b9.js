import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-fec67aeb.js";import{_ as l}from"./VModal.vue_vue_type_style_index_0_lang-efb226c5.js";import{_ as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-ed6d47f2.js";import{_ as a}from"./VIconButton-e1955b15.js";import{_ as i}from"./VIconBox.vue_vue_type_style_index_0_lang-ab978f88.js";import{_ as s}from"./VAvatar.vue_vue_type_style_index_0_lang-d2121b65.js";import{e as n,t as o,r,N as u,F as c,w as d,o as m,av as p,y as v,z as f,C as y,O as h,l as k,K as g,A as b,B as _,j as w,P as x,D as C,a3 as S,J as A,a0 as I,Q as V,S as j,H as L,I as N,E as O,n as D,v as T}from"./index-b44bd223.js";import{_ as P}from"./VIMaskInput.vue_vue_type_script_lang-94170895.js";import{_ as U}from"./VCheckbox.vue_vue_type_style_index_0_lang-cfeba18d.js";import{_ as z}from"./VInput.vue_vue_type_script_setup_true_lang-eda0c24e.js";import{_ as E}from"./VField.vue_vue_type_script_setup_true_lang-d4db08fc.js";import{_ as q}from"./VControl-5537d177.js";import{_ as F}from"./VFilePond.vue_vue_type_script_lang-03703203.js";import{_ as Q}from"./sia-476d3e58.js";import{_ as W}from"./pdf-9ba17336.js";import{V as K}from"./vue-scrollto-6d752dd5.js";import{u as R}from"./useNotyf-ce2a3225.js";import{s as $}from"./sleep-fd7a5d8b.js";import{u as G,a as B}from"./useAPI-a0c8585b.js";import{u as M}from"./userSession-79c4aa14.js";import{c as Y}from"./useSupportElement-665da131.js";import{u as X}from"./layoutSwitcher-d40365c4.js";import{u as H}from"./viewWrapper-f29ee975.js";import"./VLabel.vue_vue_type_script_setup_true_lang-4ec9f876.js";import"./useVFieldContext-2b7edd2e.js";import"./notyf-a2d876ab.js";import"./useThemeColors-e62d188e.js";const J=["onSubmit"],Z={class:"mobile-steps is-active"},ee={class:"steps is-thin is-horizontal is-short"},le=y("span",{class:"steps-marker"},null,-1),te=[y("p",{class:"step-number"},"Step 1",-1)],ae=y("span",{class:"steps-marker"},null,-1),ie=[y("p",{class:"step-number"},"Step 2",-1)],se=y("span",{class:"steps-marker"},null,-1),ne=[y("p",{class:"step-number"},"Step 3",-1)],oe={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%"}},re={key:0,style:{display:"flex","flex-direction":"column","justify-content":"center"}},ue=["src"],ce={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center"}},de=["src"],me={class:"stepper-form",style:{"justify-content":"center"}},pe={class:"form-sections"},ve={key:0,id:"form-step-0",class:"form-section is-active"},fe=y("h3",{class:"form-section-title"},[y("span",null," General Information "),y("span",{style:{color:"var(--light-text)"}},"( 1 )")],-1),ye=["onSubmit"],he={class:"form-section-inner"},ke={class:"columns is-multiline"},ge=y("label",null,"Profile Image *",-1),be={class:"column is-6"},_e=y("label",null,"First name *",-1),we={class:"column is-6"},xe=y("label",null,"Last name ",-1),Ce={class:"column is-6"},Se=y("label",null,"Email *",-1),Ae={class:"column is-6"},Ie=y("label",null,"Phone number ",-1),Ve={class:"column is-6"},je=y("label",null,"Post code ",-1),Le={class:"column is-6"},Ne=y("label",null,"Address ",-1),Oe={key:0,id:"form-step-1",class:"form-section is-active"},De=y("h3",{class:"form-section-title"},[y("span",null,"SIA info "),y("span",{style:{color:"var(--light-text)"}},"( 2 )")],-1),Te={class:"form-section-inner"},Pe={key:0,class:"banking-dashboard banking-dashboard-v1"},Ue={class:"columns is-multiline"},ze={class:"column is-12"},Ee={class:"dashboard-card is-credit-cards"},qe={class:"card-block"},Fe={class:"columns is-multiline"},Qe={class:"column is-12"},We={class:"card-block-inner is-dark-bordered-12"},Ke=y("div",{class:"shape"},null,-1),Re={class:"top"},$e={class:"card-number"},Ge={style:{"font-size":"1.1rem"}},Be=y("img",{src:Q,alt:""},null,-1),Me={class:"card-number"},Ye={class:"card-number"},Xe=y("div",{class:"bottom"},[y("span",null,"SIA Licence")],-1),He={class:"info-block-inner"},Je={class:"info-block-line"},Ze=y("h4",{class:"dark-inverted"},"Status",-1),el=y("i",{"aria-hidden":"true",class:"fas fa-circle text-success",style:{color:"var(--primary)"}},null,-1),ll={class:"info-block-line"},tl=y("h4",{class:"dark-inverted"},"Expires in",-1),al=y("div",{class:"info-block-line"},[y("h4",{class:"dark-inverted"},"Type"),y("span",{class:"has-image"}," SIA card ")],-1),il={key:0,id:"form-step-2",class:"form-section is-active"},sl={class:"form-section-title"},nl=y("span",null,"Upload Documents ",-1),ol={style:{color:"var(--light-text)"}},rl={class:"form-section-inner"},ul={class:"profile-card-section"},cl={class:"section-content"},dl={class:"column"},ml={key:0,class:"incoming"},pl={style:{"max-width":"400px","white-space":"normal"}},vl={class:"item-name dark-inverted"},fl={class:"item-meta mb-4"},yl=y("div",null,null,-1),hl={key:0},kl={key:0},gl=["onClick"],bl={key:1},_l={class:"png-icon"},wl=["onClick"],xl=y("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1),Cl=y("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1),Sl=y("i",{class:"iconify","data-icon":"feather:trash-2","aria-hidden":"true"},null,-1),Al={key:1},Il=[y("p",{class:"description"},"No documents are required",-1)],Vl={class:"navigation-buttons"},jl={class:"buttons is-right"},Ll={class:"form-stepper"},Nl={key:0,class:"steps is-vertical is-thin is-short"},Ol=[y("a",{href:"#",class:"steps-marker"},null,-1),y("div",{class:"steps-content"},[y("p",{class:"step-number"},"STEP 1"),y("p",{class:"step-info"},"General Information")],-1)],Dl=[y("a",{href:"#",class:"steps-marker"},null,-1),y("div",{class:"steps-content"},[y("p",{class:"step-number"},"STEP 2"),y("p",{class:"step-info"},"SIA info")],-1)],Tl=y("a",{href:"#",class:"steps-marker"},null,-1),Pl={class:"steps-content"},Ul={class:"step-number"},zl=y("p",{class:"step-info"},"Documents",-1),El={key:1,class:"form-help"},ql={key:0,id:"help-section-0",class:"form-help-inner is-active"},Fl=[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Ql=y("h3",null,"General Information",-1),Wl=y("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Kl=y("div",{class:"list-wrap"},[y("ul",null,[y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")]),y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")]),y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")])])],-1),Rl={key:1,id:"help-section-1",class:"form-help-inner is-active"},$l=[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Gl=y("h3",null,"Shipment Owner",-1),Bl=y("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),Ml=y("div",{class:"list-wrap"},[y("ul",null,[y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")]),y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")])])],-1),Yl={key:2,id:"help-section-2",class:"form-help-inner is-active"},Xl=[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Hl=y("h3",null,"Shipment Taxes",-1),Jl=y("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Zl=y("div",{class:"list-wrap"},[y("ul",null,[y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")]),y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")]),y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")])])],-1),et={key:3,id:"help-section-3",class:"form-help-inner is-active"},lt=[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],tt=y("h3",null,"Options",-1),at=y("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),it=y("div",{class:"list-wrap"},[y("ul",null,[y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")]),y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")])])],-1),st={key:4,id:"help-section-4",class:"form-help-inner is-active"},nt=[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],ot=y("h3",null,"Validation",-1),rt=y("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),ut=y("div",{class:"list-wrap"},[y("ul",null,[y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")]),y("li",null,[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),y("span",null,"Some nice list item")])])],-1),ct={class:"modal-form"},dt=["src"],mt=["src"],pt=n({__name:"WorkerMainSignup",setup(n){const T=M(),Q=G(),H=o(),pt=R(),{scrollTo:vt}=K,ft=r(0),yt=r(!1),ht=r(-1),kt=u(),gt=r(""),bt=r(0),_t=r(""),wt=r(!0),xt=r(!1),Ct=r(!1),St=r({id:"",token:"",industry:{id:"",name:"",industryLogo:""},company:{},supplier:{}}),At=r([]),It=r({}),Vt=r(null),jt=r(!1),Lt=r(""),Nt=r(0),Ot=r(!1),Dt=X(),Tt=c(),Pt=r({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),Ut=r({alertIcon:"fa fa-bell",title:"",subtitle:"",isConfirmSweetAlertOpen:!1,btntext:"text"}),zt=r({id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:"",compnayIdCardNumber:"",compnayIdCardExpiryDate:"",industry:"",arezCompany:"",postCode:"",supplier:0}),Et=r({id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",worker:""}),qt={documentTitle:{label:"",grow:"lg",media:!0},actions:{label:"Actions",align:"end"}},Ft=e=>{console.log(zt.value),"supplier"!==e.name?zt.value={...zt.value,[e.target.name]:e.target.value}:zt.value={...zt.value,[e.name]:e.value}},Qt=async()=>{yt.value=!0;try{const e=new window.FormData;for(const t in zt.value)"profileImageURL"===t&&null===zt.value.profileImageURL||e.append(t,zt.value[t]);Ot.value||e.delete("supplier"),e.append("invitationToken",St.value.token);const l=await Q.post("/v3/api/worker/add-worker-through-invitation/",e);T.setCode(l.data.activationCode),bt.value=l.data.id,"security"===St.value.industry.name.toLowerCase()?ft.value+=1:(ft.value+=2,Zt()),D((()=>{vt(`#form-step-${ft.value}`,1e3),yt.value=!1}))}catch(e){let l=e.response.data??{};Object.values(l).forEach((e=>{e.forEach((e=>{console.log(e),pt.error(` ${e}, New Worker`)}))}))}finally{yt.value=!1}},Wt=async()=>{try{const e=await B.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${zt.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);"OK"===e.data.status?(zt.value.homeAddress=e.data.results[0].formatted_address,pt.success("Address Added")):"ZERO_RESULTS"===e.data.status&&(wt.value=!0,pt.error("Invalid Post-Code"))}catch(e){console.error(e)}},Kt=(e,l)=>{const t=l.file;t&&(zt.value={...zt.value,profileImageURL:t})},Rt=(e,l)=>{zt.value={...zt.value,profileImageURL:null}},$t=async()=>{H.push("/")},Gt=async()=>{if(1===ft.value&&Zt(),3===ft.value){if(yt.value)return;return yt.value=!0,pt.success("Your information is successfully stored!"),await $(1e3),void H.push("/")}yt.value=!0,await $(400),ft.value+=1,D((()=>{vt(`#form-step-${ft.value}`,1e3),yt.value=!1}))},Bt=()=>{Ut.value={alertIcon:"fa fa-bell",title:"Confirm",subtitle:"Do you verify your profile information and accuracy?",btntext:"Verify & Go",isConfirmSweetAlertOpen:!0}},Mt=async()=>{try{if(gt.value.length<16)return void pt.error("Please enter valid SIA");yt.value=!0;const e=await Q.post(`/v3/api/worker/worker_sia/${bt.value}/add_sia_licence/`,{siaNumber:gt.value});Et.value=e.data,pt.success("SIA valid, worker"),yt.value=!1,gt.value=""}catch(e){yt.value=!1,pt.error("Invalid SIA or worker with this SIA already register")}},Yt=e=>{let l=At.value;const t=l.findIndex((e=>e.id===It.value.id));-1!==t&&(l[t].loading=e),At.value=[...l]},Xt=e=>{const l=e.target,t=l.files?.[0];t&&(Yt(!0),It.value.worker?(async(e,l)=>{try{const t=new window.FormData;for(const e in l)t.append(e,l[e]);await Q.patch(`/v3/api/worker/document/${e}/`,t),pt.dismissAll(),pt.success("worker document updated, Worker"),Zt(),Yt(!1)}catch(t){console.error("ok",t)}})(It.value.id,{document:t}):Jt(It.value,t))},Ht=async()=>{try{Pt.value.isSweetAlertOpen=!1;await Q.delete(`/v3/api/worker/document/${Nt.value}/`,{});Zt(),pt.dismissAll(),pt.success("Delete document, Worker")}catch(e){console.error("ok",e)}},Jt=async(e,l)=>{try{let t={status:!1,worker:bt.value,companyDocument:e.id,document:l};const a=new window.FormData;for(const e in t)a.append(e,t[e]);await Q.post("/v3/api/worker/document/",a);Zt(),Yt(!1)}catch(t){console.error("ok",t)}},Zt=async()=>{try{const e=await Q.get(`/v3/api/worker/document/${bt.value}/get_documents_of_a_worker/?step=step_1`,{});Ct.value=!0,At.value=e.data}catch(e){console.error("ok",e)}};return d((()=>zt.value.postCode),(e=>{console.log("postCode changed:",e)})),m((async()=>{(async()=>{try{const e=await Q.post("v3/api/worker/worker_invitation/check-worker-invitation-token/",{token:kt.params.token});console.log(e.data),St.value=e.data,Y(St.value.company.favIcon)}catch{pt.error("Invitation link is expired or invalid"),H.push("/")}})(),Y(St.value.company.favIcon)})),m((()=>{Dt.setDynamicLayoutId(Tt.isDark=!1)})),(n,o)=>{const r=F,u=q,c=E,d=z,m=U,D=P,T=O,Q=s,K=i,R=a,$=t,G=l,B=e,M=p("tooltip");return v(),f(V,null,[y("form",{method:"post",novalidate:"",onSubmit:g(Gt,["prevent"])},[y("div",Z,[y("ul",ee,[y("li",{class:h([[0===k(ft)&&"is-active"],"steps-segment"])},[le,y("a",{href:"#",class:"steps-content",onClick:o[0]||(o[0]=g((e=>k(ft)>=0&&k(vt)("#form-step-0",800,{offset:-150})),["prevent"]))},te)],2),y("li",{class:h([[1===k(ft)&&"is-active"],"steps-segment"])},[ae,y("a",{href:"#",class:"steps-content",onClick:o[1]||(o[1]=g((e=>k(ft)>=1&&k(vt)("#form-step-1",800,{offset:-150})),["prevent"]))},ie)],2),y("li",{class:h([[2===k(ft)&&"is-active"],"steps-segment"])},[se,y("a",{href:"#",class:"steps-content",onClick:o[2]||(o[2]=g((e=>k(ft)>=2&&k(vt)("#form-step-2",800,{offset:-150})),["prevent"]))},ne)],2)])]),y("div",oe,[k(St).supplier?(v(),f("div",re,[y("img",{style:{width:"150px"},src:k(St).supplier.partnerLogo},null,8,ue)])):(v(),f("div",ce,[y("img",{style:{width:"150px"},src:k(St).company.compnayLogo},null,8,de)]))]),y("div",me,[y("div",pe,[k(ft)>=0?(v(),f("div",ve,[fe,y("form",{id:"addWorkerForm",class:"cu-all-input",onSubmit:g(Qt,["prevent"])},[y("div",he,[y("div",ke,[b(c,{class:"column is-12"},{default:_((()=>[ge,b(u,{class:"is-flex is-justify-content-center mt-5"},{default:_((()=>[b(r,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":240,"image-resize-target-width":240,"image-resize-target-height":240,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:Kt,onRemovefile:Rt})])),_:1})])),_:1}),y("div",be,[b(c,null,{default:_((()=>[_e,b(u,null,{default:_((()=>[b(d,{name:"firstName",modelValue:k(zt).firstName,"onUpdate:modelValue":o[3]||(o[3]=e=>k(zt).firstName=e),onChange:o[4]||(o[4]=e=>Ft(e)),type:"text",required:"",placeholder:"First name"},null,8,["modelValue"])])),_:1})])),_:1})]),y("div",we,[b(c,null,{default:_((()=>[xe,b(u,null,{default:_((()=>[b(d,{name:"lastName",modelValue:k(zt).lastName,"onUpdate:modelValue":o[5]||(o[5]=e=>k(zt).lastName=e),onChange:o[6]||(o[6]=e=>Ft(e)),type:"text",placeholder:"Last name"},null,8,["modelValue"])])),_:1})])),_:1})]),y("div",Ce,[b(c,null,{default:_((()=>[Se,b(u,null,{default:_((()=>[b(d,{name:"email",modelValue:k(zt).emailAddress,"onUpdate:modelValue":o[7]||(o[7]=e=>k(zt).emailAddress=e),onChange:o[8]||(o[8]=e=>Ft(e)),required:"",type:"email",placeholder:"Email address"},null,8,["modelValue"])])),_:1})])),_:1})]),y("div",Ae,[b(c,null,{default:_((()=>[Ie,b(u,null,{default:_((()=>[b(d,{name:"phoneNumber",modelValue:k(zt).phoneNumber,"onUpdate:modelValue":o[9]||(o[9]=e=>k(zt).phoneNumber=e),onChange:o[10]||(o[10]=e=>Ft(e)),type:"tel",placeholder:"Phone number"},null,8,["modelValue"])])),_:1})])),_:1})]),y("div",Ve,[b(c,null,{default:_((()=>[je,b(u,null,{default:_((()=>[b(d,{name:"postCode",modelValue:k(zt).postCode,"onUpdate:modelValue":o[11]||(o[11]=e=>k(zt).postCode=e),onBlur:Wt,type:"text",placeholder:"Post code"},null,8,["modelValue"])])),_:1})])),_:1})]),y("div",Le,[b(c,null,{default:_((()=>[Ne,b(u,null,{default:_((()=>[b(d,{name:"homeAddress",modelValue:k(zt).homeAddress,"onUpdate:modelValue":o[12]||(o[12]=e=>k(zt).homeAddress=e),type:"text",placeholder:"Address"},null,8,["modelValue"])])),_:1})])),_:1})]),b(u,{raw:"",subcontrol:""},{default:_((()=>[b(m,{modelValue:k(xt),"onUpdate:modelValue":o[13]||(o[13]=e=>w(xt)?xt.value=e:null),label:"I have read and agree to the privacy policy, terms of service, and community",color:"primary"},null,8,["modelValue"])])),_:1})])])],40,ye)])):x("",!0),b(I,{name:"fade-slow"},{default:_((()=>[k(ft)>=1&&"security"===k(St).industry.name.toLowerCase()?(v(),f("div",Oe,[De,y("div",Te,[b(c,{addons:""},{default:_((({id:e})=>[b(u,{expanded:""},{default:_((()=>[b(D,{id:e,modelValue:k(gt),"onUpdate:modelValue":o[14]||(o[14]=e=>w(gt)?gt.value=e:null),autocomplete:"cc-csc",required:"",class:"input",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["id","modelValue"])])),_:2},1024),b(u,null,{default:_((()=>[b(T,{color:"primary",loading:k(yt),onClick:Mt,rounded:""},{default:_((()=>[C("Verify")])),_:1},8,["loading"])])),_:1})])),_:1}),k(Et).licenceNumber?(v(),f("div",Pe,[y("div",Ue,[y("div",ze,[y("div",Ee,[y("div",qe,[y("div",Fe,[y("div",Qe,[y("div",We,[y("div",{class:"credit-card is-theme-1",style:S(k(Et).isDefault?"border: 2px solid forestgreen;":"")},[Ke,y("div",Re,[y("div",$e,[y("div",null,[y("span",null,A(k(Et).licenceNumber),1),y("span",Ge,A(k(Et).firstName)+" "+A(k(Et).surName),1)]),Be]),y("div",Me,[y("span",null,A(k(Et).licenceSector),1)]),y("div",Ye,[y("span",null,A(k(Et).role),1)])]),Xe],4)]),y("div",He,[y("div",Je,[Ze,y("span",null,[el,C(" "+A(k(Et).status?"Active":"InActive"),1)])]),y("div",ll,[tl,y("span",null,A(k(Et).expiryDate),1)]),al])])])])])])])])):x("",!0)])])):x("",!0)])),_:1}),b(I,{name:"fade-slow"},{default:_((()=>[k(ft)>=2?(v(),f("div",il,[y("h3",sl,[nl,y("span",ol,"( "+A("security"===k(St).industry.name.toLowerCase()?"3":"2")+" )",1)]),y("div",rl,[y("div",ul,[y("input",{ref_key:"fileInput",ref:Vt,type:"file",style:{display:"none"},onChange:Xt,accept:"image/*,application/pdf"},null,544),y("div",cl,[y("div",dl,[k(At).length>0?(v(),f("div",ml,[b($,{rounded:"",data:k(At),columns:qt},{"body-cell":_((({row:e,column:l,value:t})=>["documentTitle"===l.key?(v(),f(V,{key:0},[b(Q,{picture:e.icon,squared:!0},null,8,["picture"]),y("div",pl,[y("span",vl,A(e.documentTitle),1),y("span",fl,[y("span",null,A(e.subTitle),1)])]),yl],64)):"actions"===l.key?(v(),f(V,{key:1},[e.document?(v(),f("div",hl,[e.document.includes(".pdf")?(v(),f("div",kl,[y("img",{onClick:()=>{Lt.value=e.document,jt.value=!0,_t.value=e.documentTitle},class:"image-icon",src:W,alt:"",style:{"margin-right":"10px",width:"34px",height:"34px",cursor:"pointer","border-radius":"50%","margin-top":"6px"}},null,8,gl)])):(v(),f("div",bl,[y("div",_l,[y("i",{onClick:()=>{Lt.value=e.document,jt.value=!0,_t.value=e.documentTitle},class:"fas fa-file-image",style:{"font-size":"18px",cursor:"pointer",color:"var(--primary)"}},null,8,wl)])]))])):x("",!0),e.document?x("",!0):j((v(),L(K,{key:1,size:"small",style:{color:"var(--primary-grey)",cursor:"pointer"},label:"Info",rounded:""},{default:_((()=>[xl])),_:1})),[[M,"Delete uploaded document to upload again.",void 0,{primary:!0,rounded:!0}]]),e.loading||e.document?x("",!0):(v(),L(K,{key:2,size:"small",style:S({color:e.document?"var(--primary-grey)":"var(--primary)",cursor:e.document?"not-allowed":"pointer"}),rounded:"",onClick:()=>(e=>{It.value=e,Vt.value&&Vt.value.click()})(e)},{default:_((()=>[Cl])),_:2},1032,["style","onClick"])),e.loading?(v(),L(R,{key:3,color:"primary",outlined:"",loading:"",circle:"",icon:"feather:plus"})):x("",!0),e.worker?(v(),L(K,{key:4,size:"small",color:"danger",class:"ml-3",style:{cursor:"pointer"},rounded:"",onClick:l=>{return t=e.id,Nt.value=t,void(Pt.value={title:"Are you sure?",subtitle:"You will not be able to recover this Worker Document!",btntext:"Yes, Delete it",isSweetAlertOpen:!0});var t}},{default:_((()=>[Sl])),_:2},1032,["onClick"])):x("",!0)],64)):x("",!0)])),_:1},8,["data"])])):(v(),f("div",Al,Il))])])])])])):x("",!0)])),_:1}),y("div",Vl,[y("div",jl,[0===k(ft)?(v(),L(T,{key:0,type:"submit",disabled:!k(xt),form:"addWorkerForm",color:"primary",bold:"",loading:k(yt),tabindex:"0"},{default:_((()=>[C(" Continue ")])),_:1},8,["disabled","loading"])):x("",!0),0==k(ft)||k(Ct)?x("",!0):(v(),L(T,{key:1,type:"submit",color:"primary",bold:"",loading:k(yt),tabindex:"0"},{default:_((()=>[C(" Continue ")])),_:1},8,["loading"])),k(Ct)?(v(),L(T,{key:2,onClick:Bt,color:"primary",bold:"",loading:k(yt),tabindex:"0"},{default:_((()=>[C(" Confirm ")])),_:1},8,["loading"])):x("",!0)])])]),y("div",Ll,[-1===k(ht)?(v(),f("ul",Nl,[y("li",{id:"step-segment-0",role:"button",class:h([[0===k(ft)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:o[15]||(o[15]=N(g((e=>k(ft)>=0&&k(vt)("#form-step-0",800,{offset:-20})),["prevent"]),["space"])),onClick:o[16]||(o[16]=g((e=>k(ft)>=0&&k(vt)("#form-step-0",800,{offset:-20})),["prevent"]))},Ol,34),"security"===k(St).industry.name.toLowerCase()?(v(),f("li",{key:0,id:"step-segment-1",class:h([[1===k(ft)&&"is-active"],"steps-segment"]),tabindex:"0",role:"button",onKeydown:o[17]||(o[17]=N(g((e=>k(ft)>=1&&k(vt)("#form-step-1",800,{offset:-20})),["prevent"]),["space"])),onClick:o[18]||(o[18]=g((e=>k(ft)>=1&&k(vt)("#form-step-1",800,{offset:-20})),["prevent"]))},Dl,34)):x("",!0),y("li",{id:"step-segment-2",class:h([[2===k(ft)&&"is-active"],"steps-segment"]),tabindex:"0",role:"button",onKeydown:o[19]||(o[19]=N(g((e=>k(ft)>=2&&k(vt)("#form-step-2",800,{offset:-20})),["prevent"]),["space"])),onClick:o[20]||(o[20]=g((e=>k(ft)>=2&&k(vt)("#form-step-2",800,{offset:-20})),["prevent"]))},[Tl,y("div",Pl,[y("p",Ul," STEP "+A("security"===k(St).industry.name.toLowerCase()?"3":"2"),1),zl])],34)])):(v(),f("div",El,[0===k(ht)?(v(),f("div",ql,[y("button",{class:"close-help-button",tabindex:"0",onKeydown:o[21]||(o[21]=N(g((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[22]||(o[22]=e=>ht.value=-1)},Fl,32),Ql,Wl,Kl])):x("",!0),1===k(ht)?(v(),f("div",Rl,[y("button",{class:"close-help-button",tabindex:"0",onKeydown:o[23]||(o[23]=N(g((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[24]||(o[24]=e=>ht.value=-1)},$l,32),Gl,Bl,Ml])):x("",!0),2===k(ht)?(v(),f("div",Yl,[y("button",{class:"close-help-button",tabindex:"0",onKeydown:o[25]||(o[25]=N(g((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[26]||(o[26]=e=>ht.value=-1)},Xl,32),Hl,Jl,Zl])):x("",!0),3===k(ht)?(v(),f("div",et,[y("button",{class:"close-help-button",tabindex:"0",onKeydown:o[27]||(o[27]=N(g((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[28]||(o[28]=e=>ht.value=-1)},lt,32),tt,at,it])):x("",!0),4===k(ht)?(v(),f("div",st,[y("button",{class:"close-help-button",tabindex:"0",onKeydown:o[29]||(o[29]=N(g((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[30]||(o[30]=e=>ht.value=-1)},nt,32),ot,rt,ut])):x("",!0)]))])])],40,J),b(G,{is:"form",open:k(jt),title:k(_t),size:"big",actions:"right",onClose:o[32]||(o[32]=e=>jt.value=!1)},{content:_((()=>[y("div",ct,[k(Lt).includes(".pdf")?(v(),f("iframe",{key:0,src:k(Lt),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,dt)):(v(),f("img",{key:1,src:k(Lt),alt:""},null,8,mt))])])),action:_((()=>[])),cancel:_((()=>[b(T,{rounded:"",onClick:o[31]||(o[31]=e=>jt.value=!1),style:{display:"none"}},{default:_((()=>[C(" Close ")])),_:1})])),_:1},8,["open","title"]),k(Pt).isSweetAlertOpen?(v(),L(B,{key:0,isSweetAlertOpen:k(Pt).isSweetAlertOpen,title:k(Pt).title,subtitle:k(Pt).subtitle,btntext:k(Pt).btntext,onConfirm:Ht,onCancel:()=>k(Pt).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):x("",!0),k(Ut).isConfirmSweetAlertOpen?(v(),L(B,{key:1,isConfirmSweetAlertOpen:k(Ut).isConfirmSweetAlertOpen,title:k(Ut).title,subtitle:k(Ut).subtitle,btntext:k(Ut).btntext,onConfirm:$t,onCancel:()=>k(Ut).isConfirmSweetAlertOpen=!1},null,8,["isConfirmSweetAlertOpen","title","subtitle","btntext","onCancel"])):x("",!0)],64)}}}),vt={class:"landing-page-wrapper"},ft={class:"hero-body"},yt={class:"container"},ht=n({__name:"[token]",setup:e=>(H().setPageTitle("Worker Info"),T({title:"Workers - Arez"}),(e,l)=>{const t=pt;return v(),f("div",vt,[y("div",ft,[y("div",yt,[b(t)])])])})});export{ht as default};
