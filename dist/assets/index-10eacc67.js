import{Z as t,P as e,X as i,c as l,Q as n,T as o,x as a,y as s,b6 as r,W as c,v as d,b0 as h,aS as m,ac as u}from"./index-63af34d3.js";import{T as f,b as g,D as p,a as b,c as y}from"./index-2db82a83.js";class R extends n{constructor(){super(...arguments),this.buildDayTableModel=o(g),this.slicer=new p,this.state={labelId:h()}}render(){const{props:t,state:e,context:i}=this,{dateProfile:l,forPrint:n}=t,{options:o}=i,a=this.buildDayTableModel(l,i.dateProfileGenerator),r=this.slicer.sliceProps(t,l,o.nextDayThreshold,i,a),c=null!=t.tableWidth?t.tableWidth/o.aspectRatio:null,d=a.cells.length,h=null!=c?c/d:null;return s("div",{ref:t.elRef,"data-date":t.isoDateStr,className:"fc-multimonth-month",style:{width:t.width},role:"grid","aria-labelledby":e.labelId},s("div",{className:"fc-multimonth-header",style:{marginBottom:h},role:"presentation"},s("div",{className:"fc-multimonth-title",id:e.labelId},i.dateEnv.format(t.dateProfile.currentRange.start,t.titleFormat)),s("table",{className:["fc-multimonth-header-table",i.theme.getClass("table")].join(" "),role:"presentation"},s("thead",{role:"rowgroup"},s(m,{dateProfile:t.dateProfile,dates:a.headerDates,datesRepDistinctDays:!1})))),s("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!n&&"fc-daygrid-body-balanced",n&&"fc-daygrid-body-unbalanced",n&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-h}},s("table",{className:["fc-multimonth-daygrid-table",i.theme.getClass("table")].join(" "),style:{height:n?"":c},role:"presentation"},s("tbody",{role:"rowgroup"},s(b,Object.assign({},r,{dateProfile:l,cells:a.cells,eventSelection:t.eventSelection,dayMaxEvents:!n,dayMaxEventRows:!n,showWeekNumbers:o.weekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:n}))))))}}const v=t(1,"month");function M(t,e,i,l,n){const{start:o,end:a}=e.currentRange;let s=o;const r=[];for(;s.valueOf()<a.valueOf();){const o=i.add(s,v),a={start:t.skipHiddenDays(s),end:t.skipHiddenDays(o,-1,!0)};let c=y({currentRange:a,snapToWeek:!0,fixedWeekCount:l,dateEnv:i});c={start:t.skipHiddenDays(c.start),end:t.skipHiddenDays(c.end,-1,!0)};const d=e.activeRange?u(e.activeRange,n?c:a):null;r.push({currentDate:e.currentDate,isValid:e.isValid,validRange:e.validRange,renderRange:c,activeRange:d,currentRange:a,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:e.dateIncrement,slotMinTime:e.slotMaxTime,slotMaxTime:e.slotMinTime}),s=o}return r}const x=e({year:"numeric",month:"long"}),S=e({month:"long"});function D(t,e){return t||(e[0].currentRange.start.getUTCFullYear()!==e[e.length-1].currentRange.start.getUTCFullYear()?x:S)}const P={multiMonthTitleFormat:e,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};i(".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}");var w=l({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:P,views:{multiMonth:{component:class extends n{constructor(){super(...arguments),this.splitDateProfileByMonth=o(M),this.buildMonthFormat=o(D),this.scrollElRef=a(),this.firstMonthElRef=a(),this.needsScrollReset=!1,this.handleSizing=t=>{t&&this.updateSize()}}render(){const{context:t,props:e,state:i}=this,{options:l}=t,{clientWidth:n,clientHeight:o}=i,a=i.monthHPadding||0,d=Math.min(null!=n?Math.floor(n/(l.multiMonthMinWidth+a)):1,l.multiMonthMaxColumns)||1,h=100/d+"%",m=null==n?null:n/d-a,u=null!=n&&1===d,f=this.splitDateProfileByMonth(t.dateProfileGenerator,e.dateProfile,t.dateEnv,!u&&l.fixedWeekCount,l.showNonCurrentDates),g=this.buildMonthFormat(l.multiMonthTitleFormat,f),p=["fc-multimonth",u?"fc-multimonth-singlecol":"fc-multimonth-multicol",null!=m&&m<400?"fc-multimonth-compact":"",e.isHeightAuto?"":"fc-scroller"];return s(c,{elRef:this.scrollElRef,elClasses:p,viewSpec:t.viewSpec},f.map(((t,i)=>{const l=r(t.currentRange.start);return s(R,Object.assign({},e,{key:l,isoDateStr:l,elRef:0===i?this.firstMonthElRef:void 0,titleFormat:g,dateProfile:t,width:h,tableWidth:m,clientWidth:n,clientHeight:o}))})))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(t){d(t,this.props)||this.handleSizing(!1),t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){const t=this.scrollElRef.current,e=this.firstMonthElRef.current;t&&this.setState({clientWidth:t.clientWidth,clientHeight:t.clientHeight}),e&&t&&null==this.state.monthHPadding&&this.setState({monthHPadding:t.clientWidth-e.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&null!=this.state.monthHPadding){const{currentDate:t}=this.props.dateProfile,e=this.scrollElRef.current,i=e.querySelector(`[data-date="${r(t)}"]`);e.scrollTop=i.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}shouldComponentUpdate(){return!0}},dateProfileGeneratorClass:f,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});export{w as i};
