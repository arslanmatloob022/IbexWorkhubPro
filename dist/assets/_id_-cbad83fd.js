import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-23a71743.js";import{_ as l,a}from"./RotaView-5f1d3249.js";import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-4a477fa8.js";import{e as s,N as i,t as n,r as o,o as r,y as c,z as d,A as u,B as m,C as p,l as v,P as f,H as y,I as h,K as g,j as b,S as _,T as w,D as x,Q as k,R as C,J as S,a3 as A,E as N,W as V,X as T,L as I,G as D,a0 as j,aB as R,O,Z as E,M as U,Y as L,aR as z,f as M,al as q,n as P,i as $,w as F,aq as B,h as W,a7 as Y,U as K,s as H,av as X,aa as J,v as G,ak as Z}from"./index-94fd63d9.js";import{_ as Q}from"./VSwitchSegment.vue_vue_type_style_index_0_lang-3d232b8d.js";import{_ as ee}from"./VControl-f48771f4.js";import{_ as le,a as ae}from"./VOption.vue_vue_type_style_index_0_lang-38d462f0.js";import{_ as te}from"./VField.vue_vue_type_script_setup_true_lang-3d88a258.js";import{_ as se}from"./VAvatar.vue_vue_type_style_index_0_lang-af7450f8.js";import{_ as ie}from"./VIconButton-868953bb.js";import{u as ne,a as oe}from"./useAPI-908cf8be.js";import{u as re}from"./useNotyf-c83d15ff.js";import{u as ce}from"./company-3dcc7c9c.js";import{m as de}from"./upload-3-5f9f291c.js";import{a as ue,f as me,b as pe,C as ve,s as fe}from"./useSupportElement-8f2f795f.js";import{u as ye}from"./userSession-2a1a5dbc.js";import{_ as he}from"./VInput.vue_vue_type_script_setup_true_lang-f838d1ac.js";import{_ as ge}from"./VIMaskInput.vue_vue_type_script_lang-781ad38c.js";import{_ as be}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-48011e77.js";import{_ as _e}from"./favicon_512x512-95354c31.js";import{_ as we}from"./BScertificate-c089f5af.js";import{_ as xe}from"./TimeSheetDetail.vue_vue_type_script_setup_true_lang-5dfefc54.js";import{_ as ke}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-f63e09eb.js";import{_ as Ce}from"./VDropdown.vue_vue_type_style_index_0_lang-f87af767.js";import{_ as Se}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-0424035e.js";import{_ as Ae,a as Ne}from"./projects-dark-4a371d8a.js";import{_ as Ve}from"./VTextarea.vue_vue_type_script_setup_true_lang-6fb13ee2.js";import{_ as Te}from"./QuestionsOfMembers.vue_vue_type_script_setup_true_lang-81edbf8f.js";import{_ as Ie}from"./VIconBox.vue_vue_type_style_index_0_lang-ff1a00e9.js";import{_ as De}from"./VIconWrap.vue_vue_type_style_index_0_lang-cfd6153e.js";import{c as je,_ as Re}from"./VFlexTable.vue_vue_type_style_index_0_lang-01a393e8.js";import{_ as Oe}from"./VTag.vue_vue_type_style_index_0_lang-b505f5c2.js";import{_ as Ee}from"./VProgress.vue_vue_type_style_index_0_lang-2f7bf080.js";import{_ as Ue,a as Le}from"./search-4-dark-2b5b440c.js";import{i as ze,F as Me}from"./index-770cf7f4.js";import{_ as qe}from"./VBlock.vue_vue_type_style_index_0_lang-3f7533f3.js";import{_ as Pe}from"./sia-476d3e58.js";import{_ as $e}from"./VLabel.vue_vue_type_script_setup_true_lang-8133556e.js";import{_ as Fe}from"./VMessage.vue_vue_type_style_index_0_lang-92931e45.js";import{_ as Be}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-e2767a1c.js";import{_ as We}from"./VRangeRating-7437a2d9.js";import{_ as Ye}from"./pdf-9ba17336.js";import{A as Ke}from"./vue3-apexcharts.common-51bc08ed.js";import{u as He}from"./useThemeColors-105cf341.js";import{u as Xe}from"./viewWrapper-2c1ae76a.js";import"./VCollapse.vue_vue_type_style_index_0_lang-f58e7762.js";import"./VIcon.vue_vue_type_script_setup_true_lang-7dc6f338.js";import"./index-304ea7cb.js";import"./VTags.vue_vue_type_script_setup_true_lang-82495f85.js";import"./index-628293e8.js";import"./useVFieldContext-4252fc26.js";import"./notyf-7873e796.js";import"./useDropdown-fc157f45.js";import"./VPlaceloadWrap-bc7feca4.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-c4a91753.js";import"./VFlex.vue_vue_type_style_index_0_lang-35fba3a9.js";import"./via-placeholder-24645670.js";import"./vue.runtime.esm-bundler-492622ed.js";const Je=e=>(V("data-v-2d017789"),e=e(),T(),e),Ge={class:"modal-form columns cu-all-input is-multiline"},Ze={class:"column is-12 mb-0"},Qe={class:"columns mb-0 p-0"},el=Je((()=>p("label",null,"Profile :",-1))),ll={class:"control is-flex is-justify-content-center"},al=["src"],tl={key:1},sl={class:"column is-6 mb-0 p-0"},il={class:"field column is-12 mb-0 pt-0"},nl=Je((()=>p("label",null,"First Name: *",-1))),ol={class:"control"},rl={class:"field column is-12 mb-0"},cl=Je((()=>p("label",null,"Last Name: ",-1))),dl={class:"control"},ul={class:"field column is-6 mb-0"},ml=Je((()=>p("label",null,"Email Address: *",-1))),pl={class:"control"},vl={class:"field column is-6 mb-0"},fl=Je((()=>p("label",null,"Phone Number: ",-1))),yl={class:"control"},hl={class:"field column is-6 mb-0"},gl=Je((()=>p("label",null,"Industry: * ",-1))),bl={class:"field column is-6 mb-0"},_l=Je((()=>p("label",null,"Supplier: ",-1))),wl={class:"field column is-6 mb-0"},xl=Je((()=>p("label",null,"Archive: ",-1))),kl={class:"field column is-6 mb-0"},Cl=Je((()=>p("label",null,"Activation Code: ",-1))),Sl={class:"control"},Al={class:"field column is-6 mb-0"},Nl=Je((()=>p("label",null,"Post Code:",-1))),Vl={class:"control"},Tl={class:"field column is-6 mb-0"},Il=Je((()=>p("label",null,"Home Address: ",-1))),Dl={class:"control"},jl={class:"field column is-6 mb-0"},Rl=Je((()=>p("label",null,"Transport: ",-1))),Ol={class:"field column is-6 mb-0"},El=Je((()=>p("label",null,"Line Manager: ",-1))),Ul={class:"control"},Ll={class:"field column is-6 mb-0"},zl=Je((()=>p("label",null,"External ID: ",-1))),Ml={class:"control"},ql={class:"field column is-6 mb-0"},Pl=Je((()=>p("label",null,"Company ID Card Number: ",-1))),$l={class:"control"},Fl={class:"field column is-6 mb-0",style:{position:"relative"}},Bl={class:"control"},Wl={key:0,style:{position:"absolute",bottom:"80px","background-color":"white",width:"350px"}},Yl={class:"colorContainer"},Kl=["onClick"],Hl={key:0,class:"fas fa-check","aria-hidden":"true"},Xl=["loading"],Jl=s({__name:"EditWorker",props:{EditCompanyModalOpen:{type:Boolean,default:!1},id:{type:Number,default:0},getAllWorkers:Function},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const s=e,V=ye();i();const T=n(),I=ce(),D=re(),j=ne(),R=o(!1),O=o(!1),E=o("update"),U=o(!1),L=o(!1),z=o(!1),M=o(""),q=o({id:0,backgroundColor:"",created_at:""}),P=o([{id:0,backgroundColor:"",created_at:""}]),$=o({message:"You are deleting this worker, after this action the worker will be removed permanently from the system.",captionText:"Delete this worker"}),F=o({id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",archive:!1,profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",industry:"",arezCompany:"",activatiactivationCodeonCode:"",status:!1,postCode:"",latitude:0,longitude:0,transport:"",bgColor:"",activationCode:""}),B=o({}),W=I.suppliers?I.suppliers:[],Y=I.loggedCompany.industry?I.loggedCompany.industry:[],K=async()=>{try{R.value=!0,console.log(F.value.status);const e=ue(F.value,["profileImageURL"]);e.append("archive",F.value.archive);await j.patch(`/v3/api/worker/${s.id}/`,e);X(),D.dismissAll(),R.value=!1,D.success("worker updated, worker"),a("update:OnSuccess",null)}catch(e){console.error(e);let l=e.response.data??{};Object.values(l).forEach((e=>{e.forEach((e=>{console.log(e),D.error(` ${e}, New worker`)}))}))}finally{R.value=!1}},H=e=>{"industry"!==e.name?"transport"!==e.name?"supplier"!==e.name?B.value={...B.value,[e.target.name]:e.target.value}:B.value={...B.value,[e.name]:e.value}:B.value={...B.value,[e.name]:e.value}:B.value={...B.value,[e.name]:e.value}},X=()=>{a("update:modalHandler",!1),F.value={id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",industry:"",arezCompany:"",supplier:0}},J=async()=>{try{const e=await j.get("/v3/api/worker/bgcolor/",{});P.value=e.data;let l=e.data.find((e=>e.id===F.value.bgColor));console.log(l),l&&(q.value=l)}catch(e){}},G=()=>{L.value=!L.value},Z=async()=>{try{await j.delete(`/v3/api/worker/${s.id}/`);U.value=!1,X(),s.getAllWorkers&&s.getAllWorkers(),T.push("/sidebar/company/workers?type=All"),D.dismissAll(),D.error("Worker deleted permanently.")}catch(e){return e}},me=e=>{const l=function(e){const l=e.split(","),a=l[0].indexOf("base64")>=0?atob(l[1]):decodeURI(l[1]),t=l[0].split(":")[1].split(";")[0],s=new Uint8Array(a.length);for(let i=0;i<a.length;i++)s[i]=a.charCodeAt(i);return new Blob([s],{type:t})}(e);F.value.profileImageURL=l,M.value=e,console.log("Image URl:",e)};const pe=async()=>{try{const e=await oe.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${F.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);"OK"===e.data.status?(F.value.homeAddress=e.data.results[0].formatted_address,F.value.latitude=e.data.results[0].geometry.location.lat,F.value.longitude=e.data.results[0].geometry.location.lng,D.success("Address Added")):"ZERO_RESULTS"===e.data.status&&D.error("Invalid Post-Code")}catch(e){D.error("Invalid Post-Code"),console.error(e)}};return r((()=>{(async()=>{try{R.value=!0;const e=await j.get(`/v3/api/worker/${s.id}/`,{});F.value=e.data,M.value=e.data.profileImageURL,R.value=!1,J()}catch(e){R.value=!1,console.error("ok",e)}})()})),(e,a)=>{const i=ie,n=se,o=te,r=le,T=ae,I=ee,D=Q,j=N,J=t,ne=l;return c(),d(k,null,[u(J,{is:"form",open:s.EditCompanyModalOpen,title:"Edit worker",size:"big",actions:"right",onSubmit:g(K,["prevent"]),onClose:X,noclose:""},{content:m((()=>[p("div",Ge,[p("div",Ze,[p("div",Qe,[u(o,{class:"column is-6"},{default:m((()=>[el,p("div",ll,[u(n,{size:"xl",class:"profile-v-avatar mt-4"},{avatar:m((()=>[v(O)?f("",!0):(c(),d("img",{key:0,class:"avatar",src:v(M)?v(M):"/images/avatars/placeholder.jpg",alt:""},null,8,al)),"update"==v(E)?(c(),d("span",tl,[v(O)?(c(),y(i,{key:1,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:arrow-left",class:"edit-button is-back",circle:"",tabindex:"0",onKeydown:a[2]||(a[2]=h(g((e=>O.value=!1),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>O.value=!1)})):(c(),y(i,{key:0,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:edit-2",class:"edit-button is-edit",circle:"",tabindex:"0",onKeydown:a[0]||(a[0]=h(g((e=>O.value=!0),["prevent"]),["space"])),onClick:a[1]||(a[1]=()=>{z.value=!v(z)})}))])):f("",!0)])),_:1}),u(v(de),{field:"img",onCropSuccess:me,modelValue:v(z),"onUpdate:modelValue":a[4]||(a[4]=e=>b(z)?z.value=e:null),noRotate:!1,noSquare:!1,langType:"en","img-format":"png/jpg"},null,8,["modelValue"])])])),_:1}),p("div",sl,[p("div",il,[nl,p("div",ol,[_(p("input",{type:"text",name:"firstName","onUpdate:modelValue":a[5]||(a[5]=e=>v(F).firstName=e),onChange:a[6]||(a[6]=e=>H(e)),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"First Name"},null,544),[[w,v(F).firstName]])])]),p("div",rl,[cl,p("div",dl,[_(p("input",{type:"text",name:"lastName","onUpdate:modelValue":a[7]||(a[7]=e=>v(F).lastName=e),onChange:a[8]||(a[8]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Last Name"},null,544),[[w,v(F).lastName]])])])])])]),p("div",ul,[ml,p("div",pl,[_(p("input",{type:"email",name:"emailAddress","onUpdate:modelValue":a[9]||(a[9]=e=>v(F).emailAddress=e),onChange:a[10]||(a[10]=e=>H(e)),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Email Address"},null,544),[[w,v(F).emailAddress]])])]),p("div",vl,[fl,p("div",yl,[_(p("input",{type:"tel",name:"phoneNumber","onUpdate:modelValue":a[11]||(a[11]=e=>v(F).phoneNumber=e),onChange:a[12]||(a[12]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,544),[[w,v(F).phoneNumber]])])]),p("div",hl,[gl,u(o,null,{default:m((()=>[u(I,null,{default:m((()=>[u(T,{modelValue:v(F).industry,"onUpdate:modelValue":a[13]||(a[13]=e=>v(F).industry=e),onInput:a[14]||(a[14]=e=>H({name:"industry",value:e.target.value})),name:"industry",required:"",class:"is-rounded"},{default:m((()=>[u(r,{value:""},{default:m((()=>[x("Select Industry")])),_:1}),(c(!0),d(k,null,C(v(Y),((e,l)=>(c(),y(r,{value:e.id,key:l},{default:m((()=>[x(S(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(o,{id:"interests",class:"pb-4",label:""})]),p("div",bl,[_l,u(o,null,{default:m((()=>[u(I,null,{default:m((()=>[u(T,{disabled:"partner"==v(V).user.role,modelValue:v(F).supplier,"onUpdate:modelValue":a[15]||(a[15]=e=>v(F).supplier=e),onInput:a[16]||(a[16]=e=>H({name:"supplier",value:e.target.value})),name:"industry",class:"is-rounded"},{default:m((()=>[u(r,{value:""},{default:m((()=>[x("Select Supplier")])),_:1}),(c(!0),d(k,null,C(v(W),((e,l)=>(c(),y(r,{value:e.id,key:l},{default:m((()=>[x(S(e.supplierName),1)])),_:2},1032,["value"])))),128))])),_:1},8,["disabled","modelValue"])])),_:1})])),_:1}),u(o,{id:"interests",class:"pb-4",label:""})]),p("div",wl,[xl,p("span",null,[u(o,{horizontal:""},{default:m((()=>[u(I,null,{default:m((()=>[u(D,{modelValue:v(F).archive,"onUpdate:modelValue":a[17]||(a[17]=e=>v(F).archive=e),color:"success","label-true":"Archive","label-false":"Un-Archive"},null,8,["modelValue"])])),_:1})])),_:1})])]),p("div",kl,[Cl,p("div",Sl,[_(p("input",{type:"text",name:"activationCode","onUpdate:modelValue":a[18]||(a[18]=e=>v(F).activationCode=e),onChange:a[19]||(a[19]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Activation Code"},null,544),[[w,v(F).activationCode]])])]),p("div",Al,[Nl,p("div",Vl,[_(p("input",{type:"text",name:"postCode","onUpdate:modelValue":a[20]||(a[20]=e=>v(F).postCode=e),onBlur:pe,onChange:a[21]||(a[21]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Post Code"},null,544),[[w,v(F).postCode]])])]),p("div",Tl,[Il,p("div",Dl,[_(p("input",{type:"text",name:"homeAddress","onUpdate:modelValue":a[22]||(a[22]=e=>v(F).homeAddress=e),onChange:a[23]||(a[23]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Home Address"},null,544),[[w,v(F).homeAddress]])])]),p("div",jl,[Rl,u(o,null,{default:m((()=>[u(I,null,{default:m((()=>[u(T,{modelValue:v(F).transport,"onUpdate:modelValue":a[25]||(a[25]=e=>v(F).transport=e),onInput:a[26]||(a[26]=e=>H({name:"transport",value:e.target.value})),name:"transport",class:"is-rounded"},{default:m((()=>[u(r,{modelValue:v(F).transport,"onUpdate:modelValue":a[24]||(a[24]=e=>v(F).transport=e)},{default:m((()=>[x("Transport ?")])),_:1},8,["modelValue"]),u(r,{value:"Car"},{default:m((()=>[x("Car")])),_:1}),u(r,{value:"Public"},{default:m((()=>[x("Public")])),_:1}),u(r,{value:"Commercial"},{default:m((()=>[x("Commercial")])),_:1}),u(r,{value:"Bicycle"},{default:m((()=>[x("Bicycle")])),_:1}),u(r,{value:"Bike"},{default:m((()=>[x("Bike")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(o,{id:"interests",class:"pb-4",label:""})]),p("div",Ol,[El,p("div",Ul,[_(p("input",{type:"text",name:"lineManager","onUpdate:modelValue":a[27]||(a[27]=e=>v(F).lineManager=e),onChange:a[28]||(a[28]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Line Manager"},null,544),[[w,v(F).lineManager]])])]),p("div",Ll,[zl,p("div",Ml,[_(p("input",{type:"text",name:"externalID","onUpdate:modelValue":a[29]||(a[29]=e=>v(F).externalID=e),onChange:a[30]||(a[30]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"External ID"},null,544),[[w,v(F).externalID]])])]),p("div",ql,[Pl,p("div",$l,[_(p("input",{type:"text",name:"compnayIdCardNumber","onUpdate:modelValue":a[31]||(a[31]=e=>v(F).compnayIdCardNumber=e),onChange:a[32]||(a[32]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Company ID Card Number"},null,544),[[w,v(F).compnayIdCardNumber]])])]),p("div",Fl,[p("label",null,[x("Select Profile Background Color: "),p("i",{style:{color:"var(--primary)","margin-left":"20px"},onClick:G,class:"fas fa-paint-brush","aria-hidden":"true"})]),p("div",Bl,[p("div",null,[p("div",{onClick:G,class:"color-pellate"},[p("div",{class:"current-color-div",style:A({backgroundImage:v(q).backgroundColor})},null,4)])])]),v(L)?(c(),d("div",Wl,[p("div",Yl,[p("div",{class:"close-btn"},[p("i",{onClick:G,class:"lnir lnir-close","aria-hidden":"true"})]),(c(!0),d(k,null,C(v(P),((e,l)=>(c(),d("div",{key:e.id,onClick:l=>(e=>{q.value=e,B.value={...B.value,bgColor:e.id}})(e),style:A({backgroundImage:e.backgroundColor}),class:"colorDiv"},[v(q)==e?(c(),d("i",Hl)):f("",!0)],12,Kl)))),128))])])):f("",!0)])])])),cancel:m((()=>[p("a",{style:{"margin-right":"480px","text-decoration":"underline","font-weight":"500",color:"red"},onClick:a[33]||(a[33]=()=>{U.value=!v(U)}),loading:v(R),color:"danger",raised:""},"Delete",8,Xl)])),action:m((()=>[u(j,{type:"submit",loading:v(R),color:"primary",raised:""},{default:m((()=>[x("Update")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"]),v(U)?(c(),y(ne,{key:0,actionVerificationModal:v(U),message:v($).message,captionText:v($).captionText,"onUpdate:OnSuccess":Z},null,8,["actionVerificationModal","message","captionText"])):f("",!0)],64)}}}),Gl=I(Jl,[["__scopeId","data-v-2d017789"]]),Zl={class:"modal-form columns is-multiline"},Ql={class:"mb-3 is-reversed",style:{width:"100%"}},ea=s({__name:"VeriffLink",props:{veriffModal:{type:Boolean},id:{},email:{},phone:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;D();const s=ne(),i=o(!1),n=re(),f=o(""),y=o(!1),h=o(!1),_=()=>{l("update:modalHandler",!1)};return r((()=>{(async()=>{try{const e=await s.post("/v3/api/worker/veriff/create-session/",{worker:a.id});f.value=e.data.verification.url}catch(e){console.log(e)}})()})),(e,l)=>{const o=he,r=ee,w=N,k=te,C=t;return c(),d("template",null,[u(j,{name:"fade-slow"},{default:m((()=>[u(C,{is:"form",open:a.veriffModal,title:"Send Veriff Link",size:"small",actions:"right",onClose:_,class:"crete-link-modal"},{content:m((()=>[p("div",Zl,[p("div",Ql,[u(k,{addons:""},{default:m((()=>[u(r,{expanded:""},{default:m((()=>[u(o,{modelValue:v(f),"onUpdate:modelValue":l[0]||(l[0]=e=>b(f)?f.value=e:null),type:"text",class:"input",placeholder:"Find a repository"},null,8,["modelValue"])])),_:1}),u(r,null,{default:m((()=>[u(w,{icon:"fas fa-copy",onClick:l[1]||(l[1]=e=>{return l=v(f),navigator.clipboard.writeText(l),void n.success("Link Copied");var l}),color:"primary"},{default:m((()=>[x(" Link ")])),_:1})])),_:1})])),_:1}),p("div",null,[p("form",{onSubmit:l[3]||(l[3]=g((e=>(async()=>{try{y.value=!0,await s.post(`/v3/api/worker/veriff/${a.id}/send-veriff-email/`,{link:f.value,email:a.email}),n.success("Invitation Email sent successfully")}catch{n.error("Invalid email address")}finally{y.value=!1}})()),["prevent"])),id:"cus-invitation-tools"},[u(k,{style:{width:"100%"},addons:""},{default:m((()=>[u(r,{expanded:""},{default:m((()=>[u(o,{modelValue:a.email,"onUpdate:modelValue":l[2]||(l[2]=e=>a.email=e),type:"email",class:"input",placeholder:"example@gmail.com"},null,8,["modelValue"])])),_:1}),u(r,null,{default:m((()=>[u(w,{type:"submit",icon:"feather:mail",loading:v(y),color:"primary"},{default:m((()=>[x(" Mail ")])),_:1},8,["loading"])])),_:1})])),_:1})],32)]),p("div",null,[p("form",{onSubmit:l[5]||(l[5]=g((e=>(async()=>{try{h.value=!0,await s.post("/v3/api/worker/worker_invitation/send-invitation-sms/",{message:f.value,phone:a.phone}),n.success("Invitation SMS sent successfully")}catch{n.error("Invalid phone number")}finally{h.value=!1}})()),["prevent"])),id:"cus-invitation-tools"},[u(k,{style:{width:"100%"},addons:""},{default:m((()=>[u(r,{expanded:""},{default:m((()=>[u(o,{modelValue:a.phone,"onUpdate:modelValue":l[4]||(l[4]=e=>a.phone=e),pattern:"^\\+44\\d{10}$",type:"phone",class:"input",required:"",placeholder:"+4400000000"},null,8,["modelValue"])])),_:1}),u(r,null,{default:m((()=>[u(w,{type:"submit",icon:"feather:message-circle",loading:v(y),color:"primary"},{default:m((()=>[x(" SMS ")])),_:1},8,["loading"])])),_:1})])),_:1})],32)])])])])),action:m((()=>[u(w,{style:{display:"none"},type:"submit",color:"primary",rounded:"",loading:v(i),icon:"fas fa-link",raised:""},{default:m((()=>[x(" Create")])),_:1},8,["loading"])])),cancel:m((()=>[u(w,{style:{display:"none"},rounded:"",color:"light",onClick:_,raised:""},{default:m((()=>[x("Close ")])),_:1})])),_:1},8,["open"])])),_:1})])}}}),la=I(ea,[["__scopeId","data-v-ad47fc25"]]),aa=p("div",{class:"form-layout is-separate"},[p("div",{class:"form-outer"},[p("div",{class:"form-body"},[p("div",{class:"form-section p-4"},[p("div",{class:"columns is-multiline"},[p("div",{class:"column is-12 is-flex"},[p("img",{style:{width:"auto",height:"40px"},src:_e}),p("div",null,[p("h3",{style:{"font-size":"20px",color:"var(--primary)"},class:"cus-stat-heading ml-4 mt-0"},"Arez"),p("h3",{style:{"font-size":"12px"},class:"cus-stat-heading ml-4 mt-0"},"The Compliance Manager")])]),p("div",{class:"column is-6"})])])])])],-1),ta={class:"columns is-multiline px-5"},sa={key:0,class:"column is-6 is-flex"},ia=p("h1",{class:"is-bold"},"Unique ID: ",-1),na={class:"is-bold ml-2"},oa={key:1,class:"column is-6 is-flex"},ra={key:2,class:"column is-6 is-flex"},ca=p("h1",{class:"is-bold"},"Designated At: ",-1),da={class:"is-bold ml-2"},ua={key:3,class:"column is-6 is-flex"},ma={key:4,class:"column is-6 is-flex"},pa=p("h1",{class:"is-bold"},"Updated At: ",-1),va={class:"is-bold ml-2"},fa={key:5,class:"column is-6 is-flex"},ya={key:6,class:"column is-6 is-flex"},ha=p("h1",{class:"is-bold"},"UN Reference Number:",-1),ga={class:"is-bold ml-2"},ba={key:7,class:"column is-6 is-flex"},_a={class:"column is-12 is-flex"},wa=p("h1",{class:"is-bold"},"Regime Name:",-1),xa={class:"is-bold ml-2"},ka={key:8,class:"column is-12 is-flex"},Ca={key:9,class:"column is-6 is-flex"},Sa=p("h1",{class:"is-bold"},"Individual Entity Ship:",-1),Aa={class:"is-bold ml-2"},Na={key:10,class:"column is-6 is-flex"},Va={class:"column is-6 is-flex"},Ta=p("h1",{class:"is-bold"},"Designated source:",-1),Ia={class:"is-bold ml-2"},Da={key:11,class:"column is-6 is-flex"},ja={class:"column is-12 is-flex"},Ra=p("h1",{class:"is-bold"},"Sanctions imposed:",-1),Oa={class:"is-bold ml-2"},Ea={key:12,class:"column is-6 is-flex"},Ua={key:13,class:"column is-12"},La=p("h1",{class:"is-bold"},"Names:",-1),za={class:"is-flex",style:{"flex-wrap":"wrap"}},Ma={class:"is-bold",style:{"white-space":"nowrap"}},qa={key:14,class:"column is-12 is-flex"},Pa={key:15,class:"column is-12"},$a=p("h1",{class:"is-bold"},"Addresses:",-1),Fa={key:16,class:"column is-12 is-flex"},Ba={key:17,class:"column is-12"},Wa=p("h1",{class:"is-bold"},"Other information:",-1),Ya={class:"is-bold"},Ka={key:18,class:"column is-12 is-flex"},Ha=s({__name:"SanctionList",props:{openSanctionModal:{type:Boolean},firstName:{},lastName:{}},emits:["update:openSanctionModal"],setup(e,{emit:l}){const a=e,s=ne(),i=o(!0),n=o(!1),h=o({id:0,last_updated:"",date_designated:"",unique_id:"",ofsi_group_id:0,un_reference_number:"",regime_name:"",individual_entity_ship:"",designation_source:"",sanctions_imposed:"",other_information:"",names:[],addresses:[]}),g=()=>{l("update:openSanctionModal",!1)};return r((async()=>{await(async()=>{try{n.value=!0;const e=await s.get(`/v3/api/worker/sanction/detail-through-name/${a.firstName} ${a.lastName}/`);h.value=e.data.sanction,i.value=!0,n.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=R,s=be,o=N,r=t;return c(),y(r,{is:"form",open:v(i),title:"Sanctions Detail",size:"big",actions:"right",onClose:g},{content:m((()=>[aa,p("div",ta,[v(n)?f("",!0):(c(),d("div",sa,[ia,p("p",na,S(v(h).unique_id),1)])),v(n)?(c(),d("div",oa,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",ra,[ca,p("p",da,S(v(h).date_designated?v(h).date_designated.slice(0,10):"Not mentioned"),1)])),v(n)?(c(),d("div",ua,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",ma,[pa,p("p",va,S(v(h).last_updated),1)])),v(n)?(c(),d("div",fa,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",ya,[ha,p("p",ga,S(v(h).un_reference_number),1)])),v(n)?(c(),d("div",ba,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),p("div",_a,[wa,p("p",xa,S(v(h).regime_name),1)]),v(n)?(c(),d("div",ka,[u(a,{height:"20px",width:"20%",class:"mx-2"}),u(a,{height:"20px",width:"70%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",Ca,[Sa,p("p",Aa,S(v(h).individual_entity_ship),1)])),v(n)?(c(),d("div",Na,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),p("div",Va,[Ta,p("p",Ia,S(v(h).designation_source),1)]),v(n)?(c(),d("div",Da,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),p("div",ja,[Ra,p("p",Oa,S(v(h).sanctions_imposed),1)]),v(n)?(c(),d("div",Ea,[u(a,{height:"20px",width:"20%",class:"mx-2"}),u(a,{height:"20px",width:"70%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",Ua,[La,p("div",za,[(c(!0),d(k,null,C(v(h).names,(e=>(c(),d("div",{key:e},[p("p",Ma,S(e)+" ,",1)])))),128))])])),v(n)?(c(),d("div",qa,[u(s,{lines:2,width:"90%","last-line-width":"25%"})])):f("",!0),v(n)?f("",!0):(c(),d("div",Pa,[$a,(c(!0),d(k,null,C(v(h).addresses,(e=>(c(),d("p",{key:e,class:"is-bold"},S(e)+",",1)))),128))])),v(n)?(c(),d("div",Fa,[u(s,{lines:2,width:"90%","last-line-width":"50%"})])):f("",!0),v(n)?f("",!0):(c(),d("div",Ba,[Wa,p("p",Ya,S(v(h).other_information),1)])),v(n)?(c(),d("div",Ka,[u(s,{lines:4,width:"75%","last-line-width":"25%"})])):f("",!0)])])),cancel:m((()=>[u(o,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open"])}}}),Xa=e=>(V("data-v-78b0dd3e"),e=e(),T(),e),Ja={class:"timeline-wrapper"},Ga=Xa((()=>p("div",{class:"timeline-header"},null,-1))),Za={class:"timeline-wrapper-inner"},Qa={class:"timeline-container"},et={class:"timeline-item is-unread"},lt={class:"date"},at=Xa((()=>p("div",{class:"dot is-success"},null,-1))),tt={class:"content-wrap"},st=["onClick"],it=Xa((()=>p("div",{class:"no-status"},null,-1))),nt={class:"container"},ot={class:"half"},rt={class:"",style:{display:"flex","align-items":"center"}},ct={class:"box-text"},dt={class:"meta-text"},ut={class:""},mt=Xa((()=>p("i",{class:"lnir lnir-hospital-location mr-2",style:{"font-size":"larger",color:"var(--primary)"},"aria-hidden":"true"},null,-1))),pt={class:"half"},vt={class:"",style:{display:"flex","align-items":"center"}},ft={class:"box-text"},yt={class:"meta-text"},ht={style:{display:"flex"}},gt=Xa((()=>p("i",{class:"lnir lnir-hospital-location mr-2",style:{"font-size":"larger",color:"var(--primary)"},"aria-hidden":"true"},null,-1))),bt={class:"box-end"},_t=Xa((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-bubble"})],-1))),wt=Xa((()=>p("div",{class:"meta"},[p("span",null,"Activity"),p("span",null,"View activity of Timesheet")],-1))),xt=[_t,wt],kt=Xa((()=>p("img",{class:"light-image is-larger",src:Ae,alt:""},null,-1))),Ct=Xa((()=>p("img",{class:"dark-image is-larger",src:Ne,alt:""},null,-1))),St=s({__name:"WorkerTimeSheet",props:{id:{type:String,default:0}},setup(e){ne();const l=o(!1),a=o(!1),t=o(0),s=o([]);return r((()=>{})),(e,i)=>{const n=Se,o=se,r=Ce,h=ke,g=xe;return c(),d("div",Ja,[Ga,p("div",Za,[p("div",Qa,[v(l)?(c(),y(n,{key:0})):f("",!0),(c(!0),d(k,null,C(v(s),(e=>(c(),d("div",et,[p("div",lt,[p("span",null,S(v(me)(e.created_at)),1)]),at,p("div",tt,[p("div",{class:"content-box",onClick:()=>{a.value=!0,t.value=e.timeSheetID}},[it,p("div",nt,[p("div",ot,[p("div",rt,[u(o,{picture:e.bookOnImageURL,squared:"",size:"medium"},null,8,["picture"]),p("div",ct,[p("div",dt,[p("p",null,[p("span",null,S(v(pe)(e.bookOnTime)),1)]),p("span",ut,[mt,x(" "+S(e.bookOnLocation&&e.bookOnLocation.length>90?e.bookOnLocation.slice(0,90)+"...":e.bookOnLocation),1)])])])])]),p("div",pt,[p("div",vt,[u(o,{picture:e.bookOffImageURL,squared:"",size:"medium"},null,8,["picture"]),p("div",ft,[p("div",yt,[p("p",null,[p("span",null,S(v(pe)(e.bookOffTime)),1)]),p("span",ht,[gt,x(" "+S(e.bookOffLocation&&e.bookOffLocation.length>90?e.bookOffLocation.slice(0,90)+"...":e.bookOffLocation),1)])])])])])]),p("div",bt,[u(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:m((()=>[p("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:i[0]||(i[0]=e=>a.value=!0)},xt)])),_:1})])],8,st)])])))),256)),0==v(s).length?(c(),y(h,{key:1,title:"No Activity found.",subtitle:"Looks like you don't have done any activity on this worker yet as you will do anything, that will be showing up in here."},{image:m((()=>[kt,Ct])),_:1})):f("",!0)])]),v(a)?(c(),y(g,{key:0,timeSheetDetailModal:v(a),timesheetId:v(t),"onUpdate:modalHandler":i[1]||(i[1]=()=>{a.value=!1})},null,8,["timeSheetDetailModal","timesheetId"])):f("",!0)])}}}),At=I(St,[["__scopeId","data-v-78b0dd3e"]]),Nt=e=>(V("data-v-43920bbc"),e=e(),T(),e),Vt={class:"timeline-wrapper"},Tt=Nt((()=>p("div",{class:"timeline-header"},null,-1))),It={class:"timeline-wrapper-inner"},Dt={class:"timeline-container"},jt={class:"timeline-item is-unread"},Rt={class:"date"},Ot={class:"content-wrap"},Et={class:"content-box"},Ut={key:0,class:"status"},Lt={key:1,class:"no-status"},zt={class:"box-text"},Mt={class:"meta-text"},qt=["innerHTML"],Pt=Nt((()=>p("div",{class:"box-end"},null,-1))),$t=Nt((()=>p("img",{class:"light-image is-larger",src:Ae,alt:""},null,-1))),Ft=Nt((()=>p("img",{class:"dark-image is-larger",src:Ne,alt:""},null,-1))),Bt=I(s({__name:"WorkerActivityLogs",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(e){const l=e,a=ne(),t=o(!1),s=o([]),i={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};return r((()=>{(async()=>{t.value=!0;try{const e=await a.get(`/v3/api/account/actions/${l.id}/worker-activity-logs/`,{});s.value=e.data,t.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=Se,n=se,o=ke;return c(),d("div",Vt,[Tt,p("div",It,[p("div",Dt,[v(t)?(c(),y(a,{key:0})):f("",!0),(c(!0),d(k,null,C(v(s),(e=>{return c(),d("div",jt,[p("div",Rt,[p("span",null,S((l=e.action_datetime.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),p("div",{class:O(["dot",i[e.method]])},null,2),p("div",Ot,[p("div",Et,[e.performedById===e.objectId?(c(),d("div",Ut)):(c(),d("div",Lt)),u(n,{picture:e.performer_detail.profileImage},null,8,["picture"]),p("div",zt,[p("div",Mt,[p("p",null,[p("span",{style:A({color:""+(e.performedById===e.objectId?"var(--red)":"")})},S(e.performer_detail.first_name)+" "+S(e.performer_detail.last_name)+". ",5),p("span",{class:"action-message",innerHTML:e.message},null,8,qt)]),p("span",null,S(e.action_datetime.slice(11,16)),1)])]),Pt])])]);var l})),256)),v(s).length<1?(c(),y(o,{key:1,title:"No Activity found.",subtitle:"Looks like you don't have done any activity on this worker yet as you will do anything, that will be showing up in here."},{image:m((()=>[$t,Ft])),_:1})):f("",!0)])])])}}}),[["__scopeId","data-v-43920bbc"]]),Wt=e=>(V("data-v-50e7445e"),e=e(),T(),e),Yt={class:"tab-content is-active"},Kt=Wt((()=>p("div",{class:"section-title mt-0",style:{display:"flex","justify-content":"space-between"}},null,-1))),Ht={class:"columns is-multiline"},Xt={class:"column is-7 is-flex space-between"},Jt=Wt((()=>p("h6",{style:{"white-space":"nowrap"},class:"cus-main-heading mr-3 ml-1 mt-5"}," Approval Requests ",-1))),Gt={class:"cu-align-center"},Zt={key:0,style:{"font-weight":"600",color:"var(--primary)","margin-left":"8px"}},Qt={class:"column is-5 mt-4"},es={class:"list-flex-toolbar is-reversed"},ls={class:"buttons"},as={class:"column is-12"},ts={class:"light-text item-meta",style:{"font-weight":"500"}},ss={class:"item-name dark-inverted"},is={class:"item-meta"},ns={class:"light-text item-meta"},os={class:"light-text item-meta"},rs=["onClick"],cs=Wt((()=>p("h6",{style:{"font-weight":"500","font-size":"20px","text-align":"left","margin-bottom":"6px","padding-left":"2px"}}," Timeline ",-1))),ds={class:"p-2",style:{}},us={style:{"font-weight":"600","margin-bottom":"0px","padding-left":"10px",color:"white"}},ms={class:"item-name dark-inverted",style:{"font-weight":"500"}},ps=Wt((()=>p("hr",null,null,-1))),vs={class:"columns is-multiline"},fs={class:"column is-8"},ys=Wt((()=>p("div",{class:"is-flex space-between mb-4"},[p("h6",{class:"cus-main-heading ml-1 mb-2"},"Employment References")],-1))),hs=["id"],gs={class:"is-flex"},bs={class:"dark-text light-weight mb-1"},_s={class:"is-flex cu-align-center"},ws={style:{"font-weight":"500","font-size":"17px",color:"#000"}},xs={style:{"margin-left":"6px","white-space":"nowrap","font-weight":"500","font-size":"12px",color:"#666"}},ks={style:{display:"flex",width:"100%",gap:"16px","justify-content":"flex-end",cursor:"pointer"}},Cs={class:"row mt-4"},Ss={class:"columns is multiline"},As={class:"column is-2"},Ns={class:"light-dark weighted"},Vs={class:"column is-2"},Ts={class:"light-dark weighted"},Is={class:"column is-2"},Ds={class:"light-dark weighted"},js={class:"column is-2"},Rs=Wt((()=>p("hr",null,null,-1))),Os={class:"columns is multiline"},Es={class:"column is-2"},Us={class:"light-dark weighted"},Ls={class:"column is-2"},zs={class:"light-dark weighted"},Ms={class:"column is-2"},qs={class:"light-dark weighted"},Ps={class:"column is-2"},$s={class:"light-dark weighted"},Fs=["onClick"],Bs={class:"column is-2"},Ws={class:"columns is multiline"},Ys={class:"column is-12"},Ks={key:0,class:"light-dark light-weight",style:{}},Hs={class:"column is-4 mt-6"},Xs={class:"profile-card is-relative mt-0"},Js={class:"profile-card-section no-padding"},Gs=Wt((()=>p("div",{class:"section-title"},[p("h5",{style:{"font-weight":"500",color:"#444"}}," Reference Requests To Employee ")],-1))),Zs={class:"section-content no-padding"},Qs=Wt((()=>p("i",{class:"fas fa-circle",style:{color:"var(--info)","font-size":"10px"},"aria-hidden":"true"},null,-1))),ei={class:"ml-6",style:{"font-weight":"500"}},li={class:"ml-6",style:{"font-weight":"500"}},ai={style:{width:"80px"}},ti=["onClick"],si=Wt((()=>p("img",{class:"light-image",src:Ue,alt:""},null,-1))),ii=Wt((()=>p("img",{class:"dark-image",src:Le,alt:""},null,-1))),ni={class:"tab-content is-active"},oi={class:"is-flex is-align-items-center is-justify-content-space-between"},ri={class:"is-flex is-align-items-center"},ci=Wt((()=>p("p",{class:"title is-6 is-narrow toc-ignore ml-3"}," Employement Reference Details ",-1))),di={class:"is-flex is-justify-content-space-between"},ui=Wt((()=>p("hr",null,null,-1))),mi={class:"columns is-raised s-card"},pi=Wt((()=>p("div",{class:"column is-2"},[p("div",{class:"content"},[p("ol",{class:"",style:{"list-style-type":"none","font-weight":"bold"}},[p("li",null,"Referee Name:"),p("li",null,"Rferee Contact:"),p("li",null,"Job Title:"),p("li",null,"Employed From:"),p("li",null,"Is Date Confirmed?:")])])],-1))),vi={class:"column is-2"},fi={class:"content mb-4"},yi={style:{"list-style-type":"none"}},hi={key:0},gi={key:1},bi=Wt((()=>p("div",{class:"column is-2"},[p("div",{class:"content"},[p("ol",{style:{"list-style-type":"none","font-weight":"bold"}},[p("li",null,"Referee Email:"),p("li",null,"No of Requests:"),p("li",null,"Alternate Proof:"),p("li",null,"Employed To:"),p("li",null,"Verbal Confirmation")])])],-1))),_i={class:"column is-2"},wi={class:"content"},xi={style:{"list-style-type":"none"}},ki={style:{width:"100%","word-wrap":"break-word"}},Ci={class:"is-flex is-align-items-center"},Si={key:0},Ai=Wt((()=>p("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Ni=Wt((()=>p("div",{class:"column is-2"},[p("div",{class:"content"},[p("ol",{style:{"list-style-type":"none","font-weight":"bold"}},[p("li",null,"Company Name:"),p("li",null,"Last Request Date:"),p("li",null,"Reference Documnet:"),p("li",null,"Months/Years:"),p("li",null,"Employee Name:")])])],-1))),Vi={class:"column is-2"},Ti={class:"content"},Ii={style:{"list-style-type":"none"}},Di={class:"is-flex is-align-items-center"},ji={key:0},Ri=Wt((()=>p("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Oi={class:"modal-form"},Ei={class:"columns"},Ui={class:"column is-half"},Li={class:"field"},zi=Wt((()=>p("label",{class:"label"},"Employement Type",-1))),Mi={class:"control"},qi={class:"multiselect-single-label"},Pi={class:"select-label-text"},$i={class:"select-label-text"},Fi={class:"column is-half"},Bi={class:"field"},Wi=Wt((()=>p("label",{class:"label"},"Referee Name *",-1))),Yi={class:"control"},Ki={class:"columns"},Hi={class:"column is-half"},Xi={class:"field"},Ji=Wt((()=>p("label",{class:"label"},"Referee Phone ",-1))),Gi={class:"control"},Zi={class:"column is-half"},Qi={class:"field"},en=Wt((()=>p("label",{class:"label"},"Referee Email *",-1))),ln={class:"control"},an=Wt((()=>p("hr",null,null,-1))),tn={class:"columns"},sn={class:"column is-half"},nn={class:"field"},on=Wt((()=>p("label",{class:"label"},"Company *",-1))),rn={class:"control"},cn={class:"column is-half"},dn={class:"field"},un=Wt((()=>p("label",{class:"label"},"Job Title *",-1))),mn={class:"control"},pn={class:"columns"},vn={class:"column is-half"},fn={class:"field"},yn=Wt((()=>p("label",{class:"label"},"Employment Start Date *",-1))),hn={class:"control"},gn={class:"column is-half"},bn={class:"field"},_n=Wt((()=>p("label",{class:"label"},"Employment End Date *",-1))),wn={class:"control"},xn={class:"modal-form"},kn={class:"columns"},Cn={class:"column is-half"},Sn={class:"field"},An=Wt((()=>p("label",{class:"label"},"Employement Type",-1))),Nn={class:"control"},Vn={class:"multiselect-single-label"},Tn={class:"select-label-text"},In={class:"select-label-text"},Dn={class:"column is-half"},jn={class:"field"},Rn=Wt((()=>p("label",{class:"label"},"Job Title ",-1))),On={class:"control"},En={class:"columns"},Un={class:"column is-half"},Ln={class:"field"},zn=Wt((()=>p("label",{class:"label"},"Employement Start Date *",-1))),Mn={class:"control"},qn={class:"column is-half"},Pn={class:"field"},$n=Wt((()=>p("label",{class:"label"},"Employement End Date *",-1))),Fn={class:"control"},Bn=Wt((()=>p("hr",null,null,-1))),Wn=Wt((()=>p("span",{style:{"font-weight":"bold","line-height":"3"}},"Referee Information",-1))),Yn={class:"columns"},Kn={class:"column is-half"},Hn={class:"field"},Xn=Wt((()=>p("label",{class:"label"},"Referee Name ",-1))),Jn={class:"control"},Gn={class:"column is-half"},Zn={class:"field"},Qn=Wt((()=>p("label",{class:"label"},"Referee Email *",-1))),eo={class:"control"},lo={class:"columns"},ao={class:"column is-half"},to={class:"field"},so=Wt((()=>p("label",{class:"label"},"Company ",-1))),io={class:"control"},no={class:"column is-half"},oo={class:"field"},ro=Wt((()=>p("label",{class:"label"},"Referee Phone ",-1))),co={class:"control"},uo={class:"d-flex justify-center"},mo={class:"modal-form"},po=["src"],vo=["src"],fo={class:"content rounded px-5"},yo={class:"field mb-6"},ho=Wt((()=>p("label",{class:"label"},"Link :",-1))),go={class:"field"},bo=Wt((()=>p("label",{class:"label"},"Email",-1))),_o=s({__name:"WorkerRefrence",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(l){const a=l,s=i(),n=re(),h=ne(),V=o(!1),T=o(!1),I=o(!1),D=o(""),j=o(!1),R=o("");o("");const O=o(""),M=o(!1),q=o(!1),P=o(0),$=o(""),F=o({}),B=o(!1),W=o([]),Y=o(null),K=o({}),H=o([]),X=o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),J=o({title:"",subtitle:"test",isRequestSweetAlertOpen:!1,btntext:"text"}),G=o({title:"",subtitle:"test",isDeleteRequestInfoSweetAlertOpen:!1,btntext:"text"}),Z=o({title:"",subtitle:"test",isEmailSweetAlertOpen:!1,btntext:"text"}),Q=o({id:0,refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",duration:"",companyName:"",worker:"",noOfRequests:"",lastRequestDate:"",alternateProof:"",referenceDocument:"",isDatesConfirmed:"",verbalConfirmationDate:"",isCompleted:"",status:"",type:"",created_at:"",refereeStatus:"",comment:""}),le=o({id:0,refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",duration:"",worker:"",noOfRequests:"",lastRequestDate:"",alternateProof:"",referenceDocument:"",isDatesConfirmed:"",verbalConfirmationDate:"",isCompleted:"",status:"",type:"",created_at:"",comment:"",refereeStatus:""}),ae=[],se={Id:"Ref Id",reference:{label:"Referee",grow:!0},type:"Type",Name:"Position",Requested:"Requested",Status:"Status",Completed:"Completed at",actions:{label:"Actions",align:"end"}},ie=o([{id:0,reference:{id:0,refereeName:"",refereeEmail:"",refereeContact:"",jobTitle:"",companyName:"",alternateProof:null,referenceDocument:null,type:"",refereeStatus:"",status:"",employedFrom:"",employedTo:"",created_at:"",updated_at:"",noOfRequests:0,lastRequestDate:null,isDatesConfirmed:!1,verbalConfirmationDate:null,isCompleted:!1,worker:0,comment:"",created_by:0},status:"",token:"",completedAt:null,created_at:""}]);o("Pending");const oe=o({Pending:"warning",Approved:"primary",Rejected:"danger"});o({Employment:"info",Acdamin:"primary",Activity:"danger"});const ce=o({refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",type:"Employment",worker:""}),de=e=>{console.log(e),Q.value=e,q.value=!0},ue=e=>{$.value=e,Y.value&&Y.value.click()},me=async e=>{const l=e.target,a=l.files?.[0];await pe(le.value.id,{[$.value]:a}),(async e=>{try{const l=await h.get(`/v3/api/worker/reference/${e}/`);le.value=l.data,console.log("reference updated",le.value)}catch{}})(le.value.id)},pe=async(e,l)=>{console.log(l),await h.patch(`/v3/api/worker/reference/${e}/`,l),_e(),n.success("Reference updated")},fe=async e=>{try{B.value=!0;await h.post(`/v3/api/worker/reference/${K.value.id}/send-reference-mail/`,{email:e});ve({message:"sent <b>Employment Reference</b> by email",objectId:s.params.id,method:"patch"}),n.success("Email sent succesfully"),T.value=!1}catch(l){n.error("Error while sending email"),T.value=!1}finally{B.value=!1}},ye=e=>{ce.value={...ce.value,[e.target.name]:e.target.value}},ge=e=>{console.log(F.value),F.value={...F.value,[e.target.name]:e.target.value}},be=async()=>{console.log(ce.value),ce.value={...ce.value,worker:a.id};try{j.value=!0;await h.post("/v3/api/worker/reference/",ce.value);n.success("New reference added"),ve({message:"added a new <b>Reference</b>",objectId:s.params.id,method:"patch"}),j.value=!1,V.value=!1,_e(),ce.value={refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",type:"Employment",worker:""}}catch{j.value=!1,n.error("Error accured")}},_e=async()=>{const e=await h.get(`/v3/api/worker/reference/worker-references/${a.id}/`);ae.length=0,W.value=e.data,console.log("resources",W.value),ae.push(...e.data),R.value="fa",R.value="",$e()},we=e=>{P.value=e,X.value={title:"Are you sure?",subtitle:"You will not be able to recover this reference!",btntext:"Yes, Delete it",isSweetAlertOpen:!0}},xe=async()=>{try{j.value=!0,Z.value.isEmailSweetAlertOpen=!1;const e=await h.post("v3/api/worker/reference_requests/",{reference:P.value});n.success("Mail sent succesfuly"),console.log(e),Fe(),_e(),Be()}catch(e){console.log(e),j.value=!1}finally{j.value=!1}},Ce=async()=>{console.log(P.value),X.value.isSweetAlertOpen=!1,await h.delete(`v3/api/worker/reference/${P.value}`),n.success("Reference deleted successfully"),P.value=0,M.value=!1,_e()},Se=async()=>{console.log(P.value),J.value.isRequestSweetAlertOpen=!1,await h.delete(`/v3/api/worker/reference_requests/${P.value}/`),n.error("Request deleted successfully"),P.value=0,M.value=!1,Fe(),Be()},Ae=async()=>{console.log(P.value),G.value.isDeleteRequestInfoSweetAlertOpen=!1,await h.delete(`v3/api/worker/reference_tokens/${P.value}/`),n.error("Request record deleted successfully"),P.value=0,M.value=!1,Fe(),Be()},Ne=(e,l)=>{const a=l;if(e&&a){const l=new Date(e),t=new Date(a).getTime()-l.getTime(),s=Math.floor(t/2592e6),i=Math.floor(s/12);return`${i}Yr - ${s%12}Mo - ${Math.floor(i%365)}Dy`}return"N/A"},Ve=E((()=>{if(R.value){const e=new RegExp(R.value,"i");return ae.filter((l=>l.refereeName.match(e)||l.refereeEmail.match(e)))}return ae})),Te=E((()=>W.value.filter((e=>"Approved"==e.status)).length)),Ue=new Date;Ue.setFullYear(Ue.getFullYear()-5);const Le=Ue.toISOString().slice(0,10);Ue.getFullYear();const qe=o({plugins:[ze],schedulerLicenseKey:"0965592368-fcs-1694657447",initialView:"resourceTimeline5Year",height:"auto",resourceAreaWidth:"10%",selectable:!0,now:Le,headerToolbar:{left:"",center:"",right:""},droppable:!0,editable:!0,views:{resourceTimeline5Year:{type:"resourceTimeline",duration:{years:6},slotDuration:{months:2},slotWidth:10}},resourceAreaHeaderContent:"Companies",eventClick:e=>{console.log("event",e.event.id),console.log("clicked");const l=document.getElementById(`ref-${e.event.id}`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}}),Pe={Pending:"#FAAD42",Approved:"#05D69E",Rejected:"#E62864"},$e=()=>{console.log("references",ae);const e=ae.map(((e,l)=>({id:e.id,resourceId:e.id,start:e.employedFrom,end:e.employedTo,title:e.companyName,jobTitle:e.jobTitle,status:e.status,color:Pe[e.status]}))),l=ae.map(((e,l)=>({id:e.id,title:e.companyName,jobTitle:e.jobTitle,status:e.status,color:Pe[e.status]})));qe.value.resources=l,console.log("options",qe.value),qe.value.events=e},Fe=async()=>{try{const e=await h.get(`/v3/api/worker/reference_requests/${a.id}/worker/`);ie.value=e.data,console.log("requests",ie.value)}catch(e){console.log(e)}},Be=async()=>{try{const e=await h.get(`/v3/api/worker/reference/worker-reference-requests/${a.id}/`);H.value=e.data}catch(e){console.log(e)}};return r((async()=>{Fe(),await _e(),Be(),console.log("no",Te)})),(l,i)=>{const o=Ee,r=N,E=ee,$=je,B=Oe,W=Re,ae=De,ne=U("P"),re=ke,pe=Ie,Ue=U("Multiselect"),Le=te,ze=t,Pe=he,$e=e;return c(),d(k,null,[p("div",null,[p("input",{ref_key:"fileInput",ref:Y,type:"file",style:{display:"none"},onChange:me,accept:"image/*,application/pdf"},null,544),_(p("div",Yt,[Kt,p("div",Ht,[p("div",Xt,[Jt,p("div",Gt,[u(o,{class:"mb-1",style:{height:"18px",width:"300px"},value:v(Te)?v(Te)/v(Ve).length*100:0},null,8,["value"]),v(Te)?(c(),d("p",Zt,S((v(Te)/v(Ve).length*100).toFixed(2))+"% ",1)):f("",!0)])]),p("div",Qt,[p("div",es,[p("div",ls,[u(r,{color:"info",onClick:i[0]||(i[0]=e=>(async()=>{try{T.value=!0;const e=window.location.origin,l=await h.post("/v3/api/worker/reference/create-reference-link/",{worker:a.id});K.value=l.data,O.value=`${e}/add-reference/${l.data.token}`,Be()}catch(e){console.error(e)}})()),icon:"fas fa-link",elevated:""},{default:m((()=>[x(" Reference link ")])),_:1}),u(r,{color:"primary",onClick:i[1]||(i[1]=()=>{V.value=!v(V)}),icon:"fas fa-plus",elevated:""},{default:m((()=>[x(" Reference ")])),_:1}),u(E,{icon:"feather:search"},{default:m((()=>[_(p("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>b(R)?R.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[w,v(R)]])])),_:1})])])]),p("div",as,[v(Ve).length?(c(),y(W,{key:0,class:"mb-4",data:v(ie),columns:se,rounded:""},{body:m((()=>[u(z,{name:"list",tag:"div",class:"flex-list-inner"},{default:m((()=>[(c(!0),d(k,null,C(v(ie),((e,l)=>(c(),d("div",{key:l,class:"flex-table-item",style:{cursor:"pointer"}},[u($,{column:{grow:!1}},{default:m((()=>[p("div",null,[p("span",ts,"REF-9876"+S(e.reference.id),1)])])),_:2},1024),u($,{column:{media:!0,grow:!0}},{default:m((()=>[p("div",null,[p("span",ss,S(e.reference.refereeName),1),p("span",is,[p("span",null,S(e.reference.refereeEmail),1)])])])),_:2},1024),u($,null,{default:m((()=>[p("div",null,[p("span",ns,S(e.reference.type),1)])])),_:2},1024),u($,null,{default:m((()=>[p("span",os,S(e.reference.jobTitle),1)])),_:2},1024),u($,null,{default:m((()=>[u(B,{color:"light"},{default:m((()=>[x(S(e.created_at.slice(0,10)),1)])),_:2},1024)])),_:2},1024),u($,null,{default:m((()=>[u(B,{color:v(oe)[e.status]},{default:m((()=>[x(S(e.status),1)])),_:2},1032,["color"])])),_:2},1024),u($,{column:{align:"start"}},{default:m((()=>[u(B,{color:"light"},{default:m((()=>[x(S(e.completedAt?e.completedAt.slice(0,10):"-- -- ----"),1)])),_:2},1024)])),_:2},1024),u($,{column:{align:"end"}},{default:m((()=>[p("i",{onClick:l=>{return a=e.id,P.value=a,J.value={title:"Are you sure?",subtitle:"You want to delete this Request permanentaly ?",btntext:"Yes, Delete it",isRequestSweetAlertOpen:!0},void Be();var a},class:"fas fa-trash-alt cu-pointer cus-del-icon","aria-hidden":"true"},null,8,rs)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):(c(),y(B,{key:1,color:"warning",class:"mb-2 ml-5"},{default:m((()=>[x("No Request sent to the Referee yet")])),_:1}))])]),cs,u(v(Me),{options:v(qe)},{eventContent:m((e=>[p("div",ds,[p("p",us,[u(B,{light:"",color:"info",class:"mr-5"},{default:m((()=>[p("span",ms,"REF-9876"+S(e.event.id),1)])),_:2},1024),x(" "+S(e.event.extendedProps.jobTitle)+" -- "+S(e.event.extendedProps.status),1)])])])),_:1},8,["options"]),ps,p("div",vs,[p("div",fs,[ys,(c(!0),d(k,null,C(v(Ve),((e,l)=>(c(),d("div",{key:l,style:{"background-color":"#fff","border-radius":"16px"},class:"p-6 mb-4",id:`ref-${e.id}`},[p("div",gs,[p("div",null,[p("p",bs,"REF-9876"+S(e.id),1),p("div",_s,[p("h1",ws,S(e.companyName),1),p("h3",xs," (Mail sent: "+S(e.mails_sent)+" time) ",1)])]),p("div",ks,[u(ae,{icon:"feather:edit-2",onClick:l=>de(e),color:"info"},null,8,["onClick"]),u(ae,{onClick:l=>we(e.id),icon:"feather:trash",color:"danger"},null,8,["onClick"])])]),p("div",Cs,[p("div",Ss,[p("div",As,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Type")])),_:1}),p("p",Ns,S(e.type),1)]),p("div",Vs,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Company")])),_:1}),p("p",Ts,S(e.companyName?e.companyName:"Not Mentioned"),1)]),p("div",Is,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Requested At")])),_:1}),p("p",Ds,S(e.created_at?e.created_at.slice(0,10):"-- -- ----"),1)]),p("div",js,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Status")])),_:1}),p("p",{style:A({color:`var(--${v(oe)[e.status]})`}),class:"light-dark weighted"},S(e.status),5)])]),Rs,p("div",Os,[p("div",Es,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Start Date")])),_:1}),p("p",Us,S(e.employedFrom),1)]),p("div",Ls,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("End Date")])),_:1}),p("p",zs,S(e.employedTo),1)]),p("div",Ms,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Position")])),_:1}),p("p",qs,S(e.jobTitle),1)]),p("div",Ps,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Verification")])),_:1}),p("p",$s,[p("a",{style:{color:"var(--primary)","text-decoration":"underline"},onClick:l=>{return a=e.id,P.value=a,Z.value={title:"Sending mail?",subtitle:"An automated generated email will be sent to the referee",btntext:"Yes, Send",isEmailSweetAlertOpen:!0},void Be();var a},class:"cu-pointer"}," Send email ",8,Fs)])]),p("div",Bs,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Contact status")])),_:1}),p("p",{style:A({color:"Contacted"==e.refereeStatus?"var(--primary)":"var(--info)"}),class:"light-dark weighted"},S(e.refereeStatus),5)])]),p("div",Ws,[p("div",Ys,[u(ne,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Comment:")])),_:1}),e.comment?(c(),d("p",Ks,S(e.comment),1)):f("",!0),e.comment?f("",!0):(c(),y(B,{key:1},{default:m((()=>[x("No comments added yet")])),_:1}))])])])],8,hs)))),128))]),p("div",Hs,[p("div",Xs,[p("div",Js,[Gs,p("div",Zs,[(c(!0),d(k,null,C(v(H),(e=>(c(),d("div",{key:e.id,style:{display:"flex","align-items":"center"},class:"mb-2"},[Qs,p("p",ei,S(e.created_at.slice(0,10)),1),p("p",li,S(e.created_at.slice(11,16)),1),p("div",ai,[u(B,{class:"ml-6",color:"Pending"==e.status?"light":"purple"},{default:m((()=>[x(S(e.status),1)])),_:2},1032,["color"])]),p("i",{class:"fas fa-trash-alt ml-6 cu-pointer cus-del-icon",onClick:l=>{return a=e.id,P.value=a,G.value={title:"Are you sure?",subtitle:"You want to delete this referee request record permanentaly ?",btntext:"Yes, Delete",isDeleteRequestInfoSweetAlertOpen:!0},void Be();var a},style:{},"aria-hidden":"true"},null,8,ti)])))),128)),0==v(H).length?(c(),y(B,{key:0,color:"warning",class:"mb-5 ml-5"},{default:m((()=>[x(" No Request sent to the Referee yet")])),_:1})):f("",!0)])])])])]),0==v(Ve).length?(c(),y(re,{key:0,title:"No Reference is added for this employee.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n\t\t\t\t\t\tsearch terms you've entered. Please try different search terms or\n\t\t\t\t\t\tcriteria.",larger:""},{image:m((()=>[si,ii])),_:1})):f("",!0)],512),[[L,!v(M)]]),_(p("section",ni,[p("div",oi,[p("div",ri,[p("i",{class:"fas fa-arrow-left","aria-hidden":"true",onClick:i[3]||(i[3]=e=>M.value=!1),style:{cursor:"pointer"}}),ci]),p("div",di,[u(r,{class:"ml-3 mr-3",color:"info",icon:"fas fa-edit",onClick:i[4]||(i[4]=e=>de(l.item))},{default:m((()=>[x(" Edit ")])),_:1}),u(r,{color:"danger",icon:"fas fa-trash-alt",onClick:i[5]||(i[5]=e=>we(v(le).id))},{default:m((()=>[x(" Delete ")])),_:1})])]),ui,p("div",mi,[pi,p("div",vi,[p("div",fi,[p("ol",yi,[p("li",null,S(v(le).refereeName?v(le).refereeName:"--"),1),p("li",null,S(v(le).refereeContact?v(le).refereeContact:"--"),1),p("li",null,S(v(le).jobTitle?v(le).jobTitle:"--"),1),p("li",null,S(v(le).employedFrom?v(le).employedFrom:"--"),1),v(le).isDatesConfirmed?(c(),d("li",hi,[u(B,{color:"primary",icon:"fas fa-question-circle",label:"Confirmed",rounded:"",elevated:""})])):(c(),d("li",gi,[u(B,{color:"danger",icon:"fas fa-question-circle",label:"not Confirmed",rounded:"",elevated:""})]))])])]),bi,p("div",_i,[p("div",wi,[p("ol",xi,[p("li",ki,S(v(le).refereeEmail?v(le).refereeEmail:"--"),1),p("li",null,S(v(le).noOfRequests?v(le).noOfRequests:"--"),1),p("li",null,[p("div",Ci,[v(le).alternateProof?(c(),d("div",Si,[v(le).alternateProof.includes(".pdf")?(c(),d("i",{key:0,onClick:i[6]||(i[6]=()=>{I.value=!0,D.value=v(le).alternateProof}),class:"fas fa-file-pdf mr-5","aria-hidden":"true",style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}})):(c(),d("i",{key:1,class:"fas fa-file-pdf mr-5","aria-hidden":"true",onClick:i[7]||(i[7]=()=>{I.value=!0,D.value=v(le).alternateProof}),style:{cursor:"pointer",color:"var(--pink)","font-size":"20px"}}))])):f("",!0),u(pe,{size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:i[8]||(i[8]=()=>ue("alternateProof"))},{default:m((()=>[Ai])),_:1})])]),p("li",null,S(v(le).employedTo?v(le).employedTo:"--"),1),p("li",null,S(v(le).verbalConfirmationDate?v(le).verbalConfirmationDate:"--"),1)])])]),Ni,p("div",Vi,[p("div",Ti,[p("ol",Ii,[p("li",null,S(v(le).companyName?v(le).companyName:"--"),1),p("li",null,S(v(le).lastRequestDate?v(le).lastRequestDate:"--"),1),p("li",null,[p("div",Di,[v(le).referenceDocument?(c(),d("div",ji,[v(le).referenceDocument.includes(".pdf")?(c(),d("i",{key:0,onClick:i[9]||(i[9]=()=>{I.value=!0,D.value=v(le).referenceDocument}),class:"fas fa-file-pdf mr-5","aria-hidden":"true",style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}})):(c(),d("i",{key:1,class:"fas fa-file-image mr-5","aria-hidden":"true",onClick:i[10]||(i[10]=()=>{I.value=!0,D.value=v(le).referenceDocument}),style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}}))])):f("",!0),u(pe,{size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:i[11]||(i[11]=()=>ue("referenceDocument"))},{default:m((()=>[Ri])),_:1})])]),p("li",null,S(Ne(v(le).employedFrom,v(le).employedTo)),1),p("li",null,S(a.worker.firstName),1)])])])])],512),[[L,v(M)]]),u(ze,{is:"form",open:v(q),title:"Update Employment Reference",size:"big",actions:"right",onSubmit:i[27]||(i[27]=g((e=>(async()=>{console.log("edit form submit");try{j.value=!0,await h.patch(`/v3/api/worker/reference/${Q.value.id}/`,F.value),q.value=!1,n.success("Reference Updated"),ve({message:"edited <b>Employment Reference</b>",objectId:s.params.id,method:"patch"}),j.value=!1,_e()}catch{j.value=!1}})()),["prevent"])),onClose:i[28]||(i[28]=e=>q.value=!1)},{content:m((()=>[p("div",Oi,[p("div",Ei,[p("div",Ui,[p("div",Li,[zi,p("div",Mi,[u(Le,{class:"is-image-select"},{default:m((({id:e})=>[u(E,null,{default:m((()=>[u(Ue,{modelValue:v(Q).type,"onUpdate:modelValue":i[12]||(i[12]=e=>v(Q).type=e),attrs:{id:e},placeholder:"Select a type",autocomplete:"type",label:"name",options:[{value:"Employment",name:"Employement"},{value:"Acdamin",name:"Academia"},{value:"Activity",name:"Activity"}]},{singlelabel:m((({value:e})=>[p("div",qi,[p("span",Pi,S(e.name),1)])])),option:m((({option:e})=>[p("span",$i,S(e.name),1)])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})])])]),p("div",Fi,[p("div",Bi,[Wi,p("div",Yi,[_(p("input",{type:"text",name:"refereeName",required:"",class:"input",onChange:i[13]||(i[13]=e=>ge(e)),placeholder:"Referee Name","onUpdate:modelValue":i[14]||(i[14]=e=>v(Q).refereeName=e)},null,544),[[w,v(Q).refereeName]])])])])]),p("div",Ki,[p("div",Hi,[p("div",Xi,[Ji,p("div",Gi,[_(p("input",{type:"tel",name:"refereeContact",class:"input",onChange:i[15]||(i[15]=e=>ge(e)),placeholder:"Referee Phone","onUpdate:modelValue":i[16]||(i[16]=e=>v(Q).refereeContact=e)},null,544),[[w,v(Q).refereeContact]])])])]),p("div",Zi,[p("div",Qi,[en,p("div",ln,[_(p("input",{type:"email",name:"refereeEmail",required:"",class:"input",onChange:i[17]||(i[17]=e=>ge(e)),placeholder:"Referee Email","onUpdate:modelValue":i[18]||(i[18]=e=>v(Q).refereeEmail=e)},null,544),[[w,v(Q).refereeEmail]])])])])]),an,p("div",tn,[p("div",sn,[p("div",nn,[on,p("div",rn,[_(p("input",{type:"text",name:"companyName",class:"input",required:"",placeholder:"Company","onUpdate:modelValue":i[19]||(i[19]=e=>v(Q).companyName=e),onChange:i[20]||(i[20]=e=>ge(e))},null,544),[[w,v(Q).companyName]])])])]),p("div",cn,[p("div",dn,[un,p("div",mn,[_(p("input",{type:"text",name:"jobTitle",required:"",class:"input",onChange:i[21]||(i[21]=e=>ge(e)),placeholder:"Job Title ","onUpdate:modelValue":i[22]||(i[22]=e=>v(Q).jobTitle=e)},null,544),[[w,v(Q).jobTitle]])])])])]),p("div",pn,[p("div",vn,[p("div",fn,[yn,p("div",hn,[_(p("input",{type:"date",name:"employedFrom",required:"",class:"input",onChange:i[23]||(i[23]=e=>ge(e)),placeholder:"Referee email","onUpdate:modelValue":i[24]||(i[24]=e=>v(Q).employedFrom=e)},null,544),[[w,v(Q).employedFrom]])])])]),p("div",gn,[p("div",bn,[_n,p("div",wn,[_(p("input",{type:"date",name:"employedTo",required:"",class:"input",onChange:i[25]||(i[25]=e=>ge(e)),placeholder:"Referee email","onUpdate:modelValue":i[26]||(i[26]=e=>v(Q).employedTo=e)},null,544),[[w,v(Q).employedTo]])])])])])])])),action:m((()=>[u(r,{type:"submit",color:"primary",loading:v(j),raised:""},{default:m((()=>[x("Update")])),_:1},8,["loading"])])),_:1},8,["open"]),u(ze,{is:"form",open:v(V),title:"Add Employement Reference",size:"big",actions:"right",onSubmit:g(be,["prevent"]),onClose:i[44]||(i[44]=e=>V.value=!1)},{content:m((()=>[p("div",xn,[p("div",kn,[p("div",Cn,[p("div",Sn,[An,p("div",Nn,[u(Le,{class:"is-image-select"},{default:m((({id:e})=>[u(E,null,{default:m((()=>[u(Ue,{modelValue:v(ce).type,"onUpdate:modelValue":i[29]||(i[29]=e=>v(ce).type=e),attrs:{id:e},placeholder:"Select a type",autocomplete:"type",label:"name",options:[{value:"Employment",name:"Employement"},{value:"Acdamin",name:"Academia"},{value:"Activity",name:"Activity"}]},{singlelabel:m((({value:e})=>[p("div",Vn,[p("span",Tn,S(e.name),1)])])),option:m((({option:e})=>[p("span",In,S(e.name),1)])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})])])]),p("div",Dn,[p("div",jn,[Rn,p("div",On,[_(p("input",{type:"text",name:"jobTitle",onChange:i[30]||(i[30]=e=>ye(e)),class:"input",placeholder:"Job title","onUpdate:modelValue":i[31]||(i[31]=e=>v(ce).jobTitle=e)},null,544),[[w,v(ce).jobTitle]])])])])]),p("div",En,[p("div",Un,[p("div",Ln,[zn,p("div",Mn,[_(p("input",{type:"date",name:"employedFrom",required:"",onChange:i[32]||(i[32]=e=>ye(e)),class:"input",placeholder:"Start date","onUpdate:modelValue":i[33]||(i[33]=e=>v(ce).employedFrom=e)},null,544),[[w,v(ce).employedFrom]])])])]),p("div",qn,[p("div",Pn,[$n,p("div",Fn,[_(p("input",{type:"date",name:"employedTo",required:"",onChange:i[34]||(i[34]=e=>ye(e)),class:"input",placeholder:"End date","onUpdate:modelValue":i[35]||(i[35]=e=>v(ce).employedTo=e)},null,544),[[w,v(ce).employedTo]])])])])]),Bn,Wn,p("div",Yn,[p("div",Kn,[p("div",Hn,[Xn,p("div",Jn,[_(p("input",{type:"text",name:"refereeName",onChange:i[36]||(i[36]=e=>ye(e)),class:"input",placeholder:"Referee name","onUpdate:modelValue":i[37]||(i[37]=e=>v(ce).refereeName=e)},null,544),[[w,v(ce).refereeName]])])])]),p("div",Gn,[p("div",Zn,[Qn,p("div",eo,[_(p("input",{type:"email",name:"refereeEmail",required:"",onChange:i[38]||(i[38]=e=>ye(e)),class:"input",placeholder:"Referee email","onUpdate:modelValue":i[39]||(i[39]=e=>v(ce).refereeEmail=e)},null,544),[[w,v(ce).refereeEmail]])])])])]),p("div",lo,[p("div",ao,[p("div",to,[so,p("div",io,[_(p("input",{type:"text",name:"companyName",onChange:i[40]||(i[40]=e=>ye(e)),class:"input",placeholder:"Company","onUpdate:modelValue":i[41]||(i[41]=e=>v(ce).companyName=e)},null,544),[[w,v(ce).companyName]])])])]),p("div",no,[p("div",oo,[ro,p("div",co,[_(p("input",{type:"tel",name:"refereeContact",onChange:i[42]||(i[42]=e=>ye(e)),class:"input",placeholder:"Referee phone","onUpdate:modelValue":i[43]||(i[43]=e=>v(ce).refereeContact=e)},null,544),[[w,v(ce).refereeContact]])])])])])])])),action:m((()=>[p("div",uo,[u(r,{type:"submit",icon:"fas fa-plus",loading:v(j),color:"primary",raised:""},{default:m((()=>[x(" Create Reference ")])),_:1},8,["loading"])])])),cancel:m((()=>[u(r,{style:{display:"none"}},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open","onSubmit"]),u(ze,{title:"PDF File",open:v(I),size:"big",actions:"right",onClose:i[46]||(i[46]=e=>I.value=!1)},{content:m((()=>[p("div",mo,[v(D).includes(".pdf")?(c(),d("iframe",{key:0,src:v(D),style:{width:"100%",height:"800px",border:"none"}},"\n            Oops! an error has occurred.\n          ",8,po)):(c(),d("img",{key:1,src:v(D),alt:""},null,8,vo))])])),action:m((()=>[])),cancel:m((()=>[u(r,{rounded:"",onClick:i[45]||(i[45]=e=>I.value=!1)},{default:m((()=>[x(" Close ")])),_:1})])),_:1},8,["open"]),u(ze,{title:"Reference link",size:"small",open:v(T),actions:"right",onClose:i[53]||(i[53]=e=>T.value=!1)},{content:m((()=>[p("div",fo,[p("div",yo,[ho,u(Le,{addons:""},{default:m((()=>[u(E,{expanded:""},{default:m((()=>[u(Pe,{modelValue:v(O),"onUpdate:modelValue":i[47]||(i[47]=e=>b(O)?O.value=e:null),type:"text",class:"input",placeholder:l.Loading?"Loading...":"Invitation Link"},null,8,["modelValue","placeholder"])])),_:1}),u(E,null,{default:m((()=>[u(r,{icon:"fas fa-copy",onClick:i[48]||(i[48]=e=>{return l=v(O),navigator.clipboard.writeText(l),n.success("Link copied"),void ve({message:"shared <b>Employment Reference</b> through link",objectId:s.params.id,method:"patch"});var l}),color:"info"},{default:m((()=>[x(" Copy ")])),_:1})])),_:1})])),_:1})]),p("div",go,[bo,u(Le,{addons:""},{default:m((()=>[u(E,{expanded:""},{default:m((()=>[u(Pe,{modelValue:a.worker.emailAddress,"onUpdate:modelValue":i[49]||(i[49]=e=>a.worker.emailAddress=e),type:"email",name:"employedFrom",class:"input",placeholder:"Email address"},null,8,["modelValue"])])),_:1}),u(E,null,{default:m((()=>[u(r,{icon:"fas fa-envelope",onClick:i[50]||(i[50]=e=>fe(a.worker.emailAddress)),color:"primary"},{default:m((()=>[x(" Send ")])),_:1})])),_:1})])),_:1})])])])),action:m((()=>[u(r,{onClick:i[51]||(i[51]=e=>fe(a.worker.emailAddress)),color:"primary",style:{display:"none"},raised:"",icon:"fas fa-envelope"},{default:m((()=>[x("Send ")])),_:1})])),cancel:m((()=>[u(r,{onClick:i[52]||(i[52]=e=>T.value=!1),style:{display:"none"}},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open"])]),v(X).isSweetAlertOpen?(c(),y($e,{key:0,isSweetAlertOpen:v(X).isSweetAlertOpen,title:v(X).title,subtitle:v(X).subtitle,btntext:v(X).btntext,onConfirm:Ce,onCancel:()=>v(X).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0),v(J).isRequestSweetAlertOpen?(c(),y($e,{key:1,isRequestSweetAlertOpen:v(J).isRequestSweetAlertOpen,title:v(J).title,subtitle:v(J).subtitle,btntext:v(J).btntext,onConfirm:Se,onCancel:()=>v(J).isRequestSweetAlertOpen=!1},null,8,["isRequestSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0),v(G).isDeleteRequestInfoSweetAlertOpen?(c(),y($e,{key:2,isDeleteRequestInfoSweetAlertOpen:v(G).isDeleteRequestInfoSweetAlertOpen,title:v(G).title,subtitle:v(G).subtitle,btntext:v(G).btntext,onConfirm:Ae,onCancel:()=>v(G).isDeleteRequestInfoSweetAlertOpen=!1},null,8,["isDeleteRequestInfoSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0),v(Z).isEmailSweetAlertOpen?(c(),y($e,{key:3,isEmailSweetAlertOpen:v(Z).isEmailSweetAlertOpen,title:v(Z).title,subtitle:v(Z).subtitle,btntext:v(Z).btntext,onConfirm:xe,onCancel:()=>v(Z).isEmailSweetAlertOpen=!1},null,8,["isEmailSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0)],64)}}}),wo=I(_o,[["__scopeId","data-v-50e7445e"]]),xo={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},ko={itemsToShow:{default:xo.itemsToShow,type:Number},itemsToScroll:{default:xo.itemsToScroll,type:Number},wrapAround:{default:xo.wrapAround,type:Boolean},throttle:{default:xo.throttle,type:Number},snapAlign:{default:xo.snapAlign,validator:e=>["start","end","center","center-even","center-odd"].includes(e)},transition:{default:xo.transition,type:Number},breakpoints:{default:xo.breakpoints,type:Object},autoplay:{default:xo.autoplay,type:Number},pauseAutoplayOnHover:{default:xo.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:xo.mouseDrag,type:Boolean},touchDrag:{default:xo.touchDrag,type:Boolean},dir:{default:xo.dir,validator:e=>["rtl","ltr"].includes(e)},i18n:{default:xo.i18n,type:Object},settings:{default:()=>({}),type:Object}};function Co({val:e,max:l,min:a}){return l<a?e:Math.min(Math.max(e,a),l)}function So(e){return e?e.reduce(((e,l)=>{var a;return l.type===k?[...e,...So(l.children)]:"CarouselSlide"===(null===(a=l.type)||void 0===a?void 0:a.name)?[...e,l]:e}),[]):[]}function Ao({val:e,max:l,min:a=0}){return e>l?Ao({val:e-(l+1),max:l,min:a}):e<a?Ao({val:e+(l+1),max:l,min:a}):e}function No(e="",l={}){return Object.entries(l).reduce(((e,[l,a])=>e.replace(`{${l}}`,String(a))),e)}var Vo,To=s({name:"ARIA",setup(){const e=Y("config",M(Object.assign({},xo))),l=Y("currentSlide",o(0)),a=Y("slidesCount",o(0));return()=>W("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},No(e.i18n.itemXofY,{currentSlide:l.value+1,slidesCount:a.value}))}}),Io=s({name:"Carousel",props:ko,setup(e,{slots:l,emit:a,expose:t}){var s;const i=o(null),n=o([]),c=o(0),d=o(0),u=M(Object.assign({},xo));let m,p=Object.assign({},xo);const v=o(null!==(s=e.modelValue)&&void 0!==s?s:0),f=o(0),y=o(0),h=o(0),g=o(0);let b,_;function w(){m=Object.assign({},e.breakpoints),p=Object.assign(Object.assign(Object.assign({},p),e),{i18n:Object.assign(Object.assign({},p.i18n),e.i18n),breakpoints:void 0}),k(p)}function x(){if(!m||!Object.keys(m).length)return;const e=Object.keys(m).map((e=>Number(e))).sort(((e,l)=>+l-+e));let l=Object.assign({},p);e.some((e=>{const a=window.matchMedia(`(min-width: ${e}px)`).matches;return a&&(l=Object.assign(Object.assign({},l),m[e])),a})),k(l)}function k(e){Object.entries(e).forEach((([e,l])=>u[e]=l))}q("config",u),q("slidesCount",d),q("currentSlide",v),q("maxSlide",h),q("minSlide",g),q("slideWidth",c);const C=function(e,l){let a;return function(...t){a&&clearTimeout(a),a=setTimeout((()=>{e(...t),a=null}),l)}}((()=>{x(),A(),S()}),16);function S(){if(!i.value)return;const e=i.value.getBoundingClientRect();c.value=e.width/u.itemsToShow}function A(){d.value<=0||(y.value=Math.ceil((d.value-1)/2),h.value=function({config:e,slidesCount:l}){const{snapAlign:a,wrapAround:t,itemsToShow:s=1}=e;if(t)return Math.max(l-1,0);let i;switch(a){case"start":i=l-s;break;case"end":i=l-1;break;case"center":case"center-odd":i=l-Math.ceil((s-.5)/2);break;case"center-even":i=l-Math.ceil(s/2);break;default:i=0}return Math.max(i,0)}({config:u,slidesCount:d.value}),g.value=function({config:e,slidesCount:l}){const{wrapAround:a,snapAlign:t,itemsToShow:s=1}=e;let i=0;if(a||s>l)return i;switch(t){case"start":default:i=0;break;case"end":i=s-1;break;case"center":case"center-odd":i=Math.floor((s-1)/2);break;case"center-even":i=Math.floor((s-2)/2)}return i}({config:u,slidesCount:d.value}),u.wrapAround||(v.value=Co({val:v.value,max:h.value,min:g.value})))}r((()=>{P((()=>S())),setTimeout((()=>S()),1e3),x(),Y(),window.addEventListener("resize",C,{passive:!0}),a("init")})),$((()=>{_&&clearTimeout(_),b&&clearInterval(b),window.removeEventListener("resize",C,{passive:!0})}));let N=!1;const V={x:0,y:0},T={x:0,y:0},I=M({x:0,y:0}),D=o(!1),j=o(!1),R=()=>{D.value=!0},O=()=>{D.value=!1};function U(e){["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||(N="touchstart"===e.type,N||e.preventDefault(),!N&&0!==e.button||H.value||(V.x=N?e.touches[0].clientX:e.clientX,V.y=N?e.touches[0].clientY:e.clientY,document.addEventListener(N?"touchmove":"mousemove",L,!0),document.addEventListener(N?"touchend":"mouseup",z,!0)))}const L=function(e,l){let a;return l?function(...t){const s=this;a||(e.apply(s,t),a=!0,setTimeout((()=>a=!1),l))}:e}((e=>{j.value=!0,T.x=N?e.touches[0].clientX:e.clientX,T.y=N?e.touches[0].clientY:e.clientY;const l=T.x-V.x,a=T.y-V.y;I.y=a,I.x=l}),u.throttle);function z(){const e="rtl"===u.dir?-1:1,l=.4*Math.sign(I.x),a=Math.round(I.x/c.value+l)*e;if(a&&!N){const e=l=>{window.removeEventListener("click",e,!0)};window.addEventListener("click",e,!0)}X(v.value-a),I.x=0,I.y=0,j.value=!1,document.removeEventListener(N?"touchmove":"mousemove",L,!0),document.removeEventListener(N?"touchend":"mouseup",z,!0)}function Y(){!u.autoplay||u.autoplay<=0||(b=setInterval((()=>{u.pauseAutoplayOnHover&&D.value||J()}),u.autoplay))}function K(){b&&(clearInterval(b),b=null),Y()}const H=o(!1);function X(e){const l=u.wrapAround?e:Co({val:e,max:h.value,min:g.value});v.value===l||H.value||(a("slide-start",{slidingToIndex:e,currentSlideIndex:v.value,prevSlideIndex:f.value,slidesCount:d.value}),H.value=!0,f.value=v.value,v.value=l,_=setTimeout((()=>{if(u.wrapAround){const t=Ao({val:l,max:h.value,min:0});t!==v.value&&(v.value=t,a("loop",{currentSlideIndex:v.value,slidingToIndex:e}))}a("update:modelValue",v.value),a("slide-end",{currentSlideIndex:v.value,prevSlideIndex:f.value,slidesCount:d.value}),H.value=!1,K()}),u.transition))}function J(){X(v.value+u.itemsToScroll)}function G(){X(v.value-u.itemsToScroll)}const Z={slideTo:X,next:J,prev:G};q("nav",Z),q("isSliding",H);const Q=E((()=>function({config:e,currentSlide:l,slidesCount:a}){const{snapAlign:t,wrapAround:s,itemsToShow:i=1}=e;let n=l;switch(t){case"center":case"center-odd":n-=(i-1)/2;break;case"center-even":n-=(i-2)/2;break;case"end":n-=i-1}return s?n:Co({val:n,max:a-i,min:0})}({config:u,currentSlide:v.value,slidesCount:d.value})));q("slidesToScroll",Q);const ee=E((()=>{const e="rtl"===u.dir?-1:1,l=Q.value*c.value*e;return{transform:`translateX(${I.x-l}px)`,transition:`${H.value?u.transition:0}ms`,margin:u.wrapAround?`0 -${d.value*c.value}px`:"",width:"100%"}}));function le(){w(),x(),A(),S(),K()}Object.keys(ko).forEach((l=>{["modelValue"].includes(l)||F((()=>e[l]),le)})),F((()=>e.modelValue),(e=>{e!==v.value&&X(Number(e))})),F(d,A),a("before-init"),w();const ae={config:u,slidesCount:d,slideWidth:c,next:J,prev:G,slideTo:X,currentSlide:v,maxSlide:h,minSlide:g,middleSlide:y};t({updateBreakpointsConfigs:x,updateSlidesData:A,updateSlideWidth:S,initDefaultConfigs:w,restartCarousel:le,slideTo:X,next:J,prev:G,nav:Z,data:ae});const te=l.default||l.slides,se=l.addons,ie=M(ae);return()=>{const e=So(null==te?void 0:te(ie)),l=(null==se?void 0:se(ie))||[];e.forEach(((e,l)=>e.props.index=l));let a=e;if(u.wrapAround){const l=e.map(((l,a)=>B(l,{index:-e.length+a,isClone:!0,key:`clone-before-${a}`}))),t=e.map(((l,a)=>B(l,{index:e.length+a,isClone:!0,key:`clone-after-${a}`})));a=[...l,...e,...t]}n.value=e,d.value=Math.max(e.length,1);const t=W("ol",{class:"carousel__track",style:ee.value,onMousedownCapture:u.mouseDrag?U:null,onTouchstartPassiveCapture:u.touchDrag?U:null},a),s=W("div",{class:"carousel__viewport"},t);return W("section",{ref:i,class:{carousel:!0,"is-sliding":H.value,"is-dragging":j.value,"is-hover":D.value,"carousel--rtl":"rtl"===u.dir},dir:u.dir,"aria-label":u.i18n.ariaGallery,tabindex:"0",onMouseenter:R,onMouseleave:O},[s,l,W(To)])}}});!function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"}(Vo||(Vo={}));const Do={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};const jo=e=>{const l=Y("config",M(Object.assign({},xo))),a=String(e.name),t=`icon${a.charAt(0).toUpperCase()+a.slice(1)}`;if(!a||"string"!=typeof a||!(a in Vo))return;const s=W("path",{d:Do[a]}),i=l.i18n[t]||e.title||a,n=W("title",i);return W("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":i},[n,s])};jo.props={name:String,title:String};const Ro=(e,{slots:l,attrs:a})=>{const{next:t,prev:s}=l||{},i=Y("config",M(Object.assign({},xo))),n=Y("maxSlide",o(1)),r=Y("minSlide",o(1)),c=Y("currentSlide",o(1)),d=Y("nav",{}),{dir:u,wrapAround:m,i18n:p}=i,v="rtl"===u;return[W("button",{type:"button",class:["carousel__prev",!m&&c.value<=r.value&&"carousel__prev--disabled",null==a?void 0:a.class],"aria-label":p.ariaPreviousSlide,onClick:d.prev},(null==s?void 0:s())||W(jo,{name:v?"arrowRight":"arrowLeft"})),W("button",{type:"button",class:["carousel__next",!m&&c.value>=n.value&&"carousel__next--disabled",null==a?void 0:a.class],"aria-label":p.ariaNextSlide,onClick:d.next},(null==t?void 0:t())||W(jo,{name:v?"arrowLeft":"arrowRight"}))]},Oo=()=>{const e=Y("config",M(Object.assign({},xo))),l=Y("maxSlide",o(1)),a=Y("minSlide",o(1)),t=Y("currentSlide",o(1)),s=Y("nav",{}),i=e=>Ao({val:t.value,max:l.value,min:0})===e,n=[];for(let o=a.value;o<l.value+1;o++){const l=W("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":i(o)},"aria-label":No(e.i18n.ariaNavigateToSlide,{slideNumber:o+1}),onClick:()=>s.slideTo(o)}),a=W("li",{class:"carousel__pagination-item",key:o},l);n.push(a)}return W("ol",{class:"carousel__pagination"},n)};var Eo=s({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:l}){const a=Y("config",M(Object.assign({},xo))),t=Y("currentSlide",o(0)),s=Y("slidesToScroll",o(0)),i=Y("isSliding",o(!1)),n=E((()=>e.index===t.value)),r=E((()=>e.index===t.value-1)),c=E((()=>e.index===t.value+1)),d=E((()=>{const l=Math.floor(s.value),t=Math.ceil(s.value+a.itemsToShow-1);return e.index>=l&&e.index<=t}));return()=>{var t;return W("li",{style:{width:100/a.itemsToShow+"%"},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":d.value,"carousel__slide--active":n.value,"carousel__slide--prev":r.value,"carousel__slide--next":c.value,"carousel__slide--sliding":i.value},"aria-hidden":!d.value},null===(t=l.default)||void 0===t?void 0:t.call(l,{isActive:n.value,isClone:e.isClone,isPrev:r.value,isNext:c.value,isSliding:i.value,isVisible:d.value}))}}});const Uo=e=>(V("data-v-1380b223"),e=e(),T(),e),Lo={class:"tab-content is-active"},zo={class:"columns mt-1"},Mo={key:0,class:"column is-12"},qo=K('<div class="row" data-v-1380b223><div class="columns is-multiline mb-1" style="padding:0px 4px;" data-v-1380b223><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Last Updated</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Status</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Person Name</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Country</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Documents</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Detail</h1></div></div></div>',1),Po={class:"row"},$o={class:"columns is-multiline cu-flex-center"},Fo={class:"box-cell column is-2"},Bo={class:"box-cell column is-2"},Wo={class:"box-cell column is-2"},Yo={class:"box-cell column is-2"},Ko={class:"box-cell column is-2"},Ho={class:"box-cell column is-2"},Xo={key:0,clas:"detail-info "},Jo=Uo((()=>p("div",{class:"row mb-1"},[p("h1",{style:{"font-size":"14px"},class:"light-text ml-4"},"Response")],-1))),Go={class:"row mb-6"},Zo={class:"columns is-multiline"},Qo=Uo((()=>p("div",{class:"box-cell column is-1"},[p("div",{class:"is-flex"},[p("img",{style:{width:"60px","margin-left":"14px","margin-top":"8px"},src:"/images/Logo.svg"})])],-1))),er={class:"box-cell column is-2"},lr={class:"is-flex mt-2"},ar={class:"mt-0",style:{color:"#52c528"}},tr={class:"is-flex weighted"},sr=Uo((()=>p("div",{style:{"margin-left":"14px","border-radius":"6px","background-color":"var(--primary)",padding:"2px",width:"3%"}},null,-1))),ir={class:"row p-4",style:{"margin-bottom":"20px"}},nr={class:"columns is-multiline"},or={class:"column is-5"},rr={class:"columns is-multiline"},cr={class:"box-cell column is-4"},dr=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Name:")],-1))),ur={class:"is-flex mb-2"},mr={style:{"font-size":"14px"}},pr=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Date of birth:")],-1))),vr={class:"is-flex mb-2"},fr={style:{"font-size":"14px"}},yr=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Nationality:")],-1))),hr={class:"is-flex mb-2"},gr={style:{"font-size":"14px"}},br=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"PEP Sanction:")],-1))),_r={class:"is-flex mb-2"},wr={style:{"font-size":"14px"}},xr={class:"box-cell column is-4"},kr=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Type:")],-1))),Cr={class:"is-flex mb-2"},Sr={style:{"font-size":"14px"}},Ar=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Number:")],-1))),Nr={class:"is-flex mb-2"},Vr={style:{"font-size":"14px"}},Tr=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Country:")],-1))),Ir={class:"is-flex mb-2"},Dr={style:{"font-size":"14px"}},jr=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Valid Until:")],-1))),Rr={class:"is-flex mb-2"},Or={style:{"font-size":"14px"}},Er={class:"box-cell column is-4"},Ur=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"IP:")],-1))),Lr={class:"is-flex mb-2"},zr={style:{"font-size":"14px"}},Mr=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Accepted Time:")],-1))),qr={class:"is-flex mb-2"},Pr={style:{"font-size":"14px"}},$r=Uo((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Decision Time:")],-1))),Fr={class:"is-flex mb-2"},Br={style:{"font-size":"14px"}},Wr={class:"column is-7"},Yr={class:"columns is-multiline"},Kr={class:"column box-cell column is-4"},Hr=Uo((()=>p("h1",{style:{"text-align":"center"}},"Portrait",-1))),Xr={style:{height:"300px"}},Jr=["src"],Gr={key:1},Zr={class:"box-cell column is-4"},Qr=Uo((()=>p("h1",{style:{"text-align":"center"}},"Document front",-1))),ec={style:{height:"300px"}},lc=["src"],ac={key:1},tc={class:"box-cell column is-4"},sc=Uo((()=>p("h1",{style:{"text-align":"center"}},"Document Back",-1))),ic={style:{height:"300px"}},nc=["src"],oc={key:1},rc={key:1,style:{width:"100%",display:"flex","justify-content":"center"}},cc=s({__name:"VeriffResponse",props:{id:{type:String,default:0}},setup(e){const l=e;i(),re();const a=ne();o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),o(!1),o(""),o([]);const t=o([{id:11,worker:"8107",status:"pending",link_id:"a20b94b9-cd2a-455d-bb2a-1007cb17ac95",veriff_response:null,created_at:"2024-03-07T08:55:40.832036Z",updated_at:"2024-03-07T08:55:40.832056Z"}]),s=o([]),n={Notstarted:"warning",declined:"danger",approved:"primary",pending:"info"};return r((async()=>{(async()=>{try{const e=await a.get(`/v3/api/worker/veriff/${l.id}/worker/`,{});console.log("resopnse data",e.data);let i=e.data;i.forEach((e=>{e.frontDoc=e.veriff_media.filter((e=>e.context.includes("document-front"))),e.docBack=e.veriff_media.filter((e=>e.context.includes("document-back"))),e.face=e.veriff_media.filter((e=>e.context.includes("face"))),s.value=e.face,e.openDetail=!1})),t.value=i,console.log("mediaaa",i)}catch(e){console.log(e)}})()})),(e,l)=>{const a=N,s=Oe;return c(),d("div",null,[p("div",Lo,[p("div",zo,[v(t).length>0?(c(),d("div",Mo,[qo,(c(!0),d(k,null,C(v(t),((e,l)=>(c(),d("div",{key:l,class:"cus-card mb-3",style:{"padding-left":"16px"}},[p("div",Po,[p("div",$o,[p("div",Fo,[p("h3",null,S(e.updated_at?e.updated_at.slice(0,10):"-----"),1)]),p("div",Bo,[u(a,{color:n[e.status.replace(" ","")],style:{width:"max-content"},light:""},{default:m((()=>[x(S(e.status?e.status.replace(/^\w/,(e=>e.toUpperCase())):"-- --"),1)])),_:2},1032,["color"])]),p("div",Wo,[p("h3",null,S(e.veriff_response?e.veriff_response.verification.person.firstName:"Not found"),1)]),p("div",Yo,[p("h3",null,S(e.veriff_response?e.veriff_response.verification.document.country:"----"),1)]),p("div",Ko,[p("h3",null,S(e.veriff_response?e.veriff_response.verification.document.type:"----"),1)]),p("div",Ho,[u(a,{color:e.veriff_response?"primary":"light",light:"",disable:!e.veriff_response,onClick:()=>{e.veriff_response&&(e.openDetail=!e.openDetail)}},{default:m((()=>[x("View "),p("i",{class:O(e.openDetail?"lnir lnir-chevron-up ml-2":"lnir lnir-chevron-down ml-2"),"aria-hidden":"true"},null,2)])),_:2},1032,["color","disable","onClick"])])]),e.openDetail?(c(),d("div",Xo,[Jo,p("div",Go,[p("div",Zo,[Qo,p("div",er,[p("div",lr,[p("h1",ar,S(e.veriff_response.verification.status?e.veriff_response.verification.status.replace(/^\w/,(e=>e.toUpperCase())):""),1)]),p("div",tr,S(e.veriff_response.verification.reason),1)])]),sr]),p("div",ir,[p("div",nr,[p("div",or,[p("div",rr,[p("div",cr,[p("div",null,[dr,p("div",ur,[p("span",mr,S(e.veriff_response?e.veriff_response.verification.person.firstName:"Pending"),1)])]),p("div",null,[pr,p("div",vr,[p("span",fr,S(e.veriff_response?e.veriff_response.verification.person.dateOfBirth:"Pending"),1)])]),p("div",null,[yr,p("div",hr,[p("span",gr,S(e.veriff_response&&e.veriff_response.verification.person.nationality?e.veriff_response.verification.person.nationality:"Not found"),1)])]),p("div",null,[br,p("div",_r,[p("span",wr,S(e.veriff_response&&e.veriff_response.verification.person.pepSanctionMatch?"Match":"No match"),1)])])]),p("div",xr,[p("div",null,[kr,p("div",Cr,[p("span",Sr,S(e.veriff_response?e.veriff_response.verification.document.type:"Pending"),1)])]),p("div",null,[Ar,p("div",Nr,[p("span",Vr,S(e.veriff_response?e.veriff_response.verification.document.number:"Pending"),1)])]),p("div",null,[Tr,p("div",Ir,[p("span",Dr,S(e.veriff_response&&e.veriff_response.verification.document.country?e.veriff_response.verification.document.country:"Not found"),1)])]),p("div",null,[jr,p("div",Rr,[p("span",Or,S(e.veriff_response&&e.veriff_response.verification.document.validUntil?e.veriff_response.verification.document.validUntil:"No match"),1)])])]),p("div",Er,[p("div",null,[Ur,p("div",Lr,[p("span",zr,S(e.veriff_response.technicalData.ip?e.veriff_response.technicalData.ip:"Not found"),1)])]),p("div",null,[Mr,p("div",qr,[p("span",Pr,S(e.veriff_response.verification.acceptanceTime?e.veriff_response.verification.acceptanceTime.slice(0,10):"-----")+" - "+S(e.veriff_response.verification.acceptanceTime?e.veriff_response.verification.acceptanceTime.slice(11,16):"-- -- "),1)])]),p("div",null,[$r,p("div",Fr,[p("span",Br,S(e.veriff_response.verification.decisionTime?e.veriff_response.verification.decisionTime.slice(0,10):"-- ----")+" - "+S(e.veriff_response.verification.decisionTime?e.veriff_response.verification.decisionTime.slice(11,16):"-- ----"),1)])])])])]),p("div",Wr,[p("div",Yr,[p("div",Kr,[Hr,e.face.length?(c(),y(v(Io),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:m((()=>[u(v(Ro)),u(v(Oo))])),default:m((()=>[(c(!0),d(k,null,C(e.face,(e=>(c(),y(v(Eo),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:m((()=>[p("div",Xr,[p("img",{style:{height:"300px"},src:e.media},null,8,Jr)])])),_:2},1024)))),128))])),_:2},1024)):(c(),d("h2",Gr,"No image found"))]),p("div",Zr,[Qr,e.frontDoc.length?(c(),y(v(Io),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:m((()=>[u(v(Ro)),u(v(Oo))])),default:m((()=>[(c(!0),d(k,null,C(e.frontDoc,(e=>(c(),y(v(Eo),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:m((()=>[p("div",ec,[p("img",{style:{height:"300px"},src:e.media},null,8,lc)])])),_:2},1024)))),128))])),_:2},1024)):(c(),d("h2",ac,"No image found"))]),p("div",tc,[sc,e.docBack.length?(c(),y(v(Io),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:m((()=>[u(v(Ro)),u(v(Oo))])),default:m((()=>[(c(!0),d(k,null,C(e.docBack,(e=>(c(),y(v(Eo),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:m((()=>[p("div",ic,[p("img",{style:{height:"300px"},src:e.media},null,8,nc)])])),_:2},1024)))),128))])),_:2},1024)):(c(),d("h2",oc,"No image found"))])])])])])])):f("",!0)])])))),128))])):(c(),d("div",rc,[u(s,{class:"cus-main-heading",color:"info",style:{"text-align":"center"}},{default:m((()=>[x("No resquest sent yet !")])),_:1})]))])])])}}}),dc=I(cc,[["__scopeId","data-v-1380b223"]]),uc={class:"profile-card-section no-padding"},mc={class:"section-content no-padding"},pc={class:"tools-wrapper"},vc={class:"banking-dashboard banking-dashboard-v1"},fc={class:"columns is-multiline"},yc={class:"",style:{width:"100%"}},hc={class:"dashboard-card is-credit-cards column is-12"},gc={class:"card-block"},bc={class:"columns is-multiline"},_c={style:{width:"100%"}},wc={class:"card-block-inner is-dark-bordered-12"},xc={style:{width:"420px",height:"max-content"},class:"credit-card is-theme-1"},kc={class:"top"},Cc={class:"card-number"},Sc={class:"mt-3",style:{"font-size":"1rem"}},Ac={class:"mt-1",style:{"font-size":"1.5rem"}},Nc={key:0,src:Pe,alt:""},Vc={class:"card-number mt-2"},Tc={style:{"font-size":"1rem"}},Ic={class:"card-number mt-1"},Dc={style:{"font-size":"1rem"}},jc={class:"bottom"},Rc={key:0},Oc={key:1},Ec=s({__name:"WorkerSiaCard",props:{siaCard:{}},setup(e){const l=e;return r((()=>{})),(e,a)=>(c(),d("div",uc,[p("div",mc,[p("div",pc,[p("div",vc,[p("div",fc,[p("div",yc,[p("div",hc,[p("div",gc,[p("div",bc,[p("div",_c,[p("div",wc,[p("div",xc,[p("div",kc,[p("div",Cc,[p("div",null,[p("span",Sc,S(l.siaCard?l.siaCard.licenceNumber:"----"),1),p("span",Ac,S(l.siaCard?l.siaCard.firstName:"No license")+" "+S(l.siaCard?l.siaCard.surName:""),1)]),l.siaCard?(c(),d("img",Nc)):f("",!0)]),p("div",Vc,[p("span",Tc,S(l.siaCard?l.siaCard.licenceSector:"----"),1)]),p("div",Ic,[p("span",Dc,S(l.siaCard?l.siaCard.role:"----"),1)])]),p("div",jc,[l.siaCard?(c(),d("span",Rc,"SIA Licence")):(c(),d("span",Oc,"----"))])])])])])])])])])])])])]))}}),Uc={class:"banking-dashboard banking-dashboard-v1"},Lc={class:"columns is-multiline"},zc={class:"column is-12"},Mc={class:"dashboard-card is-credit-cards"},qc={class:"title-wrap"},Pc=p("h3",{class:"dark-inverted"},"My Licences",-1),$c={class:"card-block"},Fc={class:"columns is-multiline"},Bc={style:{display:"flex","flex-direction":"column","align-items":"center","margin-bottom":"18px"}},Wc={class:"info-block-inner"},Yc={class:"info-block-line"},Kc=p("h4",{class:"dark-inverted"},"Verify",-1),Hc=["onClick"],Xc=p("i",{class:"iconify","data-icon":"feather:refresh-ccw","aria-hidden":"true",style:{color:"var(--primary)","margin-right":"8px",cursor:"pointer"}},null,-1),Jc={class:"info-block-line"},Gc=p("h4",{class:"dark-inverted"},"Status",-1),Zc=p("i",{"aria-hidden":"true",class:"fas fa-circle text-success",style:{color:"var(--primary)"}},null,-1),Qc={class:"info-block-line"},ed=p("h4",{class:"dark-inverted"},"Expires in",-1),ld=p("div",{class:"info-block-line"},[p("h4",{class:"dark-inverted"},"Type"),p("span",{class:"has-image"}," SIA card ")],-1),ad={class:"column is-12 pb-5"},td=p("img",{class:"light-image",src:Ue,alt:""},null,-1),sd=p("img",{class:"dark-image",src:Le,alt:""},null,-1),id={class:"modal-form"},nd={class:"stats-wrapper"},od={class:"columns is-multiline is-flex-tablet-p"},rd=["onClick"],cd=["src"],dd=p("label",{for:""},"SIA Licence Number *",-1),ud=s({__name:"WorkerLicences",props:{id:{type:String,default:0}},setup(l){const a=l,s=i(),n=ne(),h=re(),_=o(0),w=o(!1),A=o(0),V=o(!1),T=o(""),I=o(!1),D=o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),j=o([{id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",worker:""}]),R=[{name:"Security",icon:"/images/photo/Security-Guarding.png"},{name:"CIVT",icon:"/images/photo/CVIT.png"},{name:"CCTV",icon:"/images/photo/CCTV.png"},{name:"Door Supervisor",icon:"/images/photo/Door-Supervision.png"},{name:"Close Protection",icon:"/images/photo/Close-Protection.png"},{name:"Key Holding",icon:"/images/photo/Key-Holding.png"},{name:"Veichile Immoblishing",icon:"/images/photo/Vehicle-Immobilising.png"},{name:"K9",icon:"/images/photo/K9.png"}],E=async()=>{try{if(T.value.length<16)return void h.error("Please enter valid SIA");V.value=!0;await n.post(`/v3/api/worker/worker_sia/${a.id}/add_sia_licence/`,{siaNumber:T.value});h.success("worker updated, worker"),ve({message:"added worker <b>licence</b>",objectId:s.params.id,method:"patch"}),V.value=!1,w.value=!1,T.value="",L()}catch(e){V.value=!1,h.error("Invalid SIA or worker with this SIA already register")}},U=async()=>{try{D.value.isSweetAlertOpen=!1;await n.delete(`/v3/api/worker/worker_sia/${_.value}/`,{});h.dismissAll(),h.success("Delete worker licence, Worker"),L()}catch{}},L=async()=>{try{j.value=[];const e=await n.get(`/v3/api/worker/worker_sia/${a.id}/get-worker-sia/`,{});j.value=e.data,console.log(e.data)}catch(e){console.error("ok",e)}};return r((()=>{L()})),(l,a)=>{const i=N,o=Ec,r=ke,_=we,L=qe,z=ge,M=ee,q=te,P=t,$=e;return c(),d(k,null,[p("div",Uc,[p("div",Lc,[p("div",zc,[p("div",Mc,[p("div",qc,[Pc,p("div",null,[u(i,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:a[0]||(a[0]=e=>w.value=!0)},{default:m((()=>[x(" Licence ")])),_:1})])]),p("div",$c,[p("div",Fc,[(c(!0),d(k,null,C(v(j),((e,l)=>(c(),d("div",{key:l,class:"column is-4"},[p("div",Bc,[u(o,{style:{width:"400px"},"sia-card":e},null,8,["sia-card"])]),p("div",Wc,[p("div",Yc,[Kc,p("span",{onClick:l=>(async e=>{try{(await n.post(`v3/api/worker/worker_sia/${s.params.id}/verify-sia-number/`,{siaNumber:e})).data&&h.success("Licence Verified, Verify")}catch(l){h.error("Licence Unverified")}})(e.licenceNumber)},[Xc,x(" Verify again ")],8,Hc)]),p("div",Jc,[Gc,p("span",null,[Zc,x(" "+S(e.status?"Active":"InActive"),1)])]),p("div",Qc,[ed,p("span",null,S(e.expiryDate),1)]),ld])])))),128)),p("div",ad,[0==v(j).length?(c(),y(r,{key:0,title:"No Licence is added for this employee.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\nsearch terms you've entered. Please try different search terms or\ncriteria.",larger:""},{image:m((()=>[td,sd])),_:1})):f("",!0)])])])])])])]),v(I)?(c(),y(_,{key:0})):f("",!0),u(P,{is:"form",open:v(w),onSubmit:g(E,["prevent"]),title:"Add Licence",size:"big",actions:"right",onClose:a[2]||(a[2]=e=>w.value=!1)},{content:m((()=>[p("div",id,[p("div",nd,[p("div",od,[(c(),d(k,null,C(R,((e,l)=>p("div",{key:l,class:"column is-3"},[p("div",{class:O(["dashboard-card",v(A)==l?"active-licence":""]),style:{height:"150px"},onClick:e=>A.value=l},[u(L,{style:{cursor:"pointer","flex-direction":"column","align-items":"center","justify-content":"center","text-align":"center",gap:"10px","font-size":"0.75rem"},title:e.name,center:""},{icon:m((()=>[p("img",{src:e.icon,alt:""},null,8,cd)])),_:2},1032,["title"])],10,rd)]))),64)),u(q,{class:"column is-6"},{default:m((({id:e})=>[dd,u(M,null,{default:m((()=>[u(z,{id:e,modelValue:v(T),"onUpdate:modelValue":a[1]||(a[1]=e=>b(T)?T.value=e:null),autocomplete:"cc-csc",required:"",class:"input",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["id","modelValue"])])),_:2},1024)])),_:1})])])])])),action:m((()=>[u(i,{type:"submit",color:"primary",loading:v(V),icon:"fa fa-plus",raised:""},{default:m((()=>[x("Licence")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"]),v(D).isSweetAlertOpen?(c(),y($,{key:1,isSweetAlertOpen:v(D).isSweetAlertOpen,title:v(D).title,subtitle:v(D).subtitle,btntext:v(D).btntext,onConfirm:U,onCancel:()=>v(D).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0)],64)}}}),md=e=>(V("data-v-e5a83033"),e=e(),T(),e),pd=md((()=>p("h4",null,"Comments",-1))),vd=md((()=>p("i",{class:"fas fa-plus","aria-hidden":"true",style:{color:"var(--primary-light-12)","font-size":"9px"}},null,-1))),fd={class:"section-content"},yd={class:"network-notifications"},hd={key:1,class:"noteInput"},gd=["onMouseover"],bd={class:"noteContent"},_d=["onClick"],wd=[md((()=>p("i",{style:{color:"#2db998"},class:"lnir lnir-close"},null,-1)))],xd=s({__name:"WorkerComments",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(e){const l=e,a=re(),t=ne(),s=i(),n=o(!0),v=o(null),g=o(!1),b=o(!1),_=o(""),w=o([{id:0,content:"",created_at:"",created_by:{first_name:"",last_name:""}}]),A=()=>{b.value=!1},V=()=>{g.value=!g.value},T=async()=>{if(_.value)try{let e={content:_.value,worker:l.id};_.value="";const i=await t.post("/v3/api/worker/notes/",e);w.value.push(i.data),I(),ve({message:"added a <b>comment</b>",objectId:s.params.id,method:"post"}),a.success("note added")}catch(e){console.log(e)}},I=async()=>{try{const e=await t.get(`/v3/api/worker/notes/${l.id}/notes-worker/`);console.log(e.data),w.value=e.data??[]}catch(e){console.error("ok",e)}};return r((()=>{I()})),(e,l)=>{const i=Oe,o=he,r=ee,D=te,j=N;return c(),d(k,null,[p("div",{class:"section-title"},[pd,p("button",{onClick:V,class:"add-btn"},[vd,x(" Add ")])]),p("div",fd,[p("div",yd,[0==w.value.length?(c(),y(i,{key:0,color:"solid",label:"No comments are available.",rounded:""})):f("",!0),g.value?(c(),d("div",hd,[u(D,null,{default:m((()=>[u(r,{icon:"lnil lnil-plus"},{default:m((()=>[n.value?(c(),y(o,{key:0,onBlur:T,modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value=e),onKeyup:l[1]||(l[1]=h((()=>{T()}),["enter"])),placeholder:"Enter Comment",type:"text"},null,8,["modelValue"])):f("",!0)])),_:1})])),_:1}),u(D,{style:{display:"flex","align-items":"center","justify-content":"flex-end"}},{default:m((()=>[u(j,{color:"primary",outlined:"",onClick:l[2]||(l[2]=()=>{_.value.length>0&&T()})},{default:m((()=>[x("Save")])),_:1})])),_:1})])):f("",!0),(c(!0),d(k,null,C(w.value,((e,l)=>(c(),d("div",{class:"noteBlock",key:e.id,"data-cy":"dark-mode-toggle",onMouseover:e=>(e=>{b.value=!0,v.value=e})(l),onMouseleave:A},[p("div",bd,[p("p",null,S(e.content),1),p("p",null,S(e.created_by.first_name&&e.created_by.first_name)+" "+S(e.created_by.last_name&&e.created_by.last_name)+" | "+S(e.created_at&&e.created_at.slice(0,10)),1)]),b.value&&v.value===l?(c(),d("button",{key:0,class:"DelBtn",elevated:"",onClick:l=>(async e=>{try{const l=w.value.findIndex((l=>l.id===e));-1!==l&&w.value.splice(l,1),await t.delete(`/v3/api/worker/notes/${e}`),ve({message:"deleted a <b>comment</b>",objectId:s.params.id,method:"delete"}),a.warning("note deleted"),I()}catch(l){console.log(l)}})(e.id)},wd,8,_d)):f("",!0)],40,gd)))),128))])])],64)}}}),kd=I(xd,[["__scopeId","data-v-e5a83033"]]),Cd=e=>(V("data-v-80c29675"),e=e(),T(),e),Sd={class:"lifestyle-dashboard lifestyle-dashboard-v1"},Ad={class:"row"},Nd=Cd((()=>p("div",{class:"wrapper-anim"},[p("div",{class:"box-anim"},[p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div")])],-1))),Vd={class:"dashboard-header"},Td={class:"avatar-container",style:{"border-radius":"22px","min-width":"170px",border:"0px solid #fff"}},Id=["src"],Dd={class:"header-meta"},jd={class:"username-wrap"},Rd={class:"username ml-6"},Od={class:"user-rating is-block"},Ed={class:"ratings"},Ud={style:{color:"white !important","font-size":"23px","font-weight":"700 !important","margin-top":"0px"}},Ld={style:{"white-space":"nowrap"}},zd={class:"username-wrap"},Md={class:"switches mt-1"},qd={class:"username cu-align-cen\\ter"},Pd={class:"",style:{"font-weight":"400",color:"white"}},$d={class:"switches mt-3"},Fd={class:"ml-0",style:{"font-weight":"400",color:"white"}},Bd={key:0,src:"/images/icons/workerProfile/whatsapp.webp",style:{width:"20px",height:"20px","margin-left":"14px"}},Wd=Cd((()=>p("div",{class:"switches mt-0"},[p("div",{class:"username cu-align-center"})],-1))),Yd=Cd((()=>p("div",{class:"is-divider-vertical"},null,-1))),Kd={class:"header-meta",style:{"margin-inline-start":"27px"}},Hd={class:"user-switch"},Xd={class:"username-wrap"},Jd={class:"switches mb-0"},Gd={class:"username"},Zd=Cd((()=>p("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}}," Account Status:",-1))),Qd={class:"switches mb-0 mt-0"},eu={class:"username cu-align-center"},lu=Cd((()=>p("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}},"Activation Code:",-1))),au={style:{"letter-spacing":"1px",color:"white"}},tu={class:"switches mb-0 mt-1"},su={class:"username cu-align-center"},iu=Cd((()=>p("span",{style:{"white-space":"nowrap","font-weight":"500","margin-left":"4px",color:"white"}},"Veriff Status: ",-1))),nu={style:{fontSize:"15px",marginLeft:"2px",color:"white"}},ou={class:"switches mb-0 mt-1"},ru={class:"username cu-pointer cu-align-center"},cu=Cd((()=>p("span",{style:{color:"white","font-weight":"500","margin-left":"4px"}},"UK sanctions:",-1))),du=Cd((()=>p("div",{class:"is-divider-vertical"},null,-1))),uu={class:"header-meta"},mu={class:"user-switch space-between"},pu={class:"username-wrap"},vu={class:"switches mb-0 is-flex"},fu={class:"username"},yu=Cd((()=>p("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}},"BS7858:",-1))),hu={key:0},gu=Cd((()=>p("div",{class:"switches"},[p("div",{class:"username"},[p("span",{style:{"font-weight":"500",color:"white"}},"Current Industries:")])],-1))),bu={class:"switches"},_u={class:"username",style:{gap:"20px"}},wu=["onClick"],xu=["src"],ku={class:"header-meta",style:{"margin-top":"-12px"}},Cu={class:"user-switch space-between"},Su={class:"username-wrap"},Au={class:"switches mb-4 is-flex"},Nu={class:"username"},Vu={class:"header-meta"},Tu={class:"user-switch"},Iu={class:"cus-justify-center"},Du=Cd((()=>p("i",{class:"fas fa-share","aria-hidden":"true"},null,-1))),ju=Cd((()=>p("i",{class:"fas fa-edit","aria-hidden":"true"},null,-1))),Ru={class:"link-message"},Ou={key:0,class:"mb-3 list-flex-toolbar is-reversed"},Eu=Cd((()=>p("i",{class:"fas fa-copy mr-1 cus-onhover",style:{cursor:"pointer",color:"var(--info)","font-size":"large"},"aria-hidden":"true"},null,-1))),Uu=Cd((()=>p("br",null,null,-1))),Lu=Cd((()=>p("i",{class:"fas fa-copy mr-1 cus-onhover",style:{cursor:"pointer",color:"var(--info)","font-size":"large"},"aria-hidden":"true"},null,-1))),zu=Cd((()=>p("i",{class:"iconify","data-icon":"feather:alert-triangle","aria-hidden":"true"},null,-1))),Mu={class:"profile-wrapper mt-0",style:{width:"100%"}},qu={class:"profile-body"},Pu={class:"tabs-wrapper"},$u={class:"tabs-inner mt-4"},Fu={class:"tabs is-toggle"},Bu=[Cd((()=>p("span",null,"Profile",-1)))],Wu=[Cd((()=>p("span",null,"Licence",-1)))],Yu=[Cd((()=>p("span",null,"References",-1)))],Ku=[Cd((()=>p("span",null,"Identity Verification",-1)))],Hu=[Cd((()=>p("span",null,"Comments",-1)))],Xu=[Cd((()=>p("span",null,"Questions",-1)))],Ju=[Cd((()=>p("span",null,"Warnings",-1)))],Gu=[Cd((()=>p("span",null,"Logs",-1)))],Zu=[Cd((()=>p("span",null,"Timesheet",-1)))],Qu=[Cd((()=>p("span",null,"Worker Rota",-1)))],em={class:"tab-content is-active"},lm={class:"columns"},am={class:"column is-8"},tm={class:"profile-card"},sm={class:"profile-card-section"},im={class:"section-content"},nm={class:"column"},om={key:0,class:"incoming"},rm={class:"cus-docTitles"},cm={id:"titles"},dm={class:"item-name mb-1 dark-inverted"},um={key:0,style:{width:"12px",height:"12px"},src:"/images/docmandatory.png"},mm={class:"item-meta"},pm={key:0,style:{color:"var(--light-text)","font-weight":"500"},class:"cu-pointer"},vm={class:"item-meta"},fm={class:"cu-pointer cus-sub-title"},ym={key:0,class:"item-meta"},hm=["onClick"],gm={key:0,style:{position:"absolute","background-color":"#fff",padding:"6px",width:"220px"}},bm={key:0,id:"cus-toggle-center",class:"navbar-item is-theme-toggle cell-end"},_m={class:"theme-toggle"},wm=["onUpdate:modelValue","onClick"],xm=Cd((()=>p("span",{class:"toggler"},[p("span",{class:"dark"},[p("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"})]),p("span",{class:"light"},[p("i",{class:"iconify","data-icon":"feather:x","aria-hidden":"true"})])],-1))),km={key:1,id:"cus-toggle-center",class:"navbar-item is-theme-toggle"},Cm={class:"theme-toggle"},Sm=["onUpdate:modelValue","onClick"],Am=Cd((()=>p("span",{class:"toggler",style:{"border-color":"var(\n                                          --primary-grey\n                                        ) !important"}},[p("span",{class:"cus-dark"},[p("i",{color:"info",class:"iconify","data-icon":"feather:check","aria-hidden":"true"})]),p("span",{class:"light",style:{"background-color":"var(\n                                            --primary-grey\n                                          ) !important"}},[p("i",{color:"info",class:"iconify","data-icon":"feather:x","aria-hidden":"true"})])],-1))),Nm={key:0},Vm={key:0},Tm=["onClick"],Im={key:1},Dm={class:"png-icon"},jm=["onClick"],Rm=Cd((()=>p("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Om=Cd((()=>p("i",{class:"iconify","data-icon":"feather:trash-2","aria-hidden":"true"},null,-1))),Em={key:1},Um={class:"column is-4"},Lm={class:"profile-card is-relative"},zm={class:"profile-card-section no-padding cus-comment"},Mm=K('<div class="profile-card is-relative" data-v-80c29675><div class="profile-card-section no-padding" data-v-80c29675><div class="section-title" data-v-80c29675><h4 data-v-80c29675>Location</h4></div><div class="section-content no-padding" data-v-80c29675><div id="myMap" style="height:300px;width:100%;border-radius:10px;" data-v-80c29675></div></div></div></div>',1),qm={class:"profile-card is-relative"},Pm={class:"profile-card-section no-padding"},$m=Cd((()=>p("div",{class:"section-title"},[p("h4",null,"License")],-1))),Fm={class:"section-content no-padding"},Bm={class:"tools-wrapper"},Wm={class:"banking-dashboard banking-dashboard-v1"},Ym={class:"columns is-multiline"},Km={class:"column is-12",style:{width:"max-content"}},Hm={class:"tab-content is-active"},Xm={key:0},Jm={class:"list-flex-toolbar mb-3 mt-2"},Gm=Cd((()=>p("h6",{class:"cus-main-heading ml-1"},"Veriff Requests",-1))),Zm={class:"buttons"},Qm=Cd((()=>p("span",null,[p("img",{src:"/images/veriff-logo-round.svg",style:{width:"auto",height:"20px","margin-top":"4px","margin-right":"6px","border-radius":"6px"}})],-1))),ep=Cd((()=>p("h5",{class:"light-text mr-4",style:{"font-weight":"500"}}," Send Veriff link ",-1))),lp={key:1,class:"tab-content is-active"},ap={key:2,class:"tab-content is-active"},tp={key:3,class:"tab-content is-active"},sp={key:4,class:"tab-content is-active"},ip={key:5,class:"tab-content is-active"},np={key:6,class:"tab-content is-active"},op={key:7,class:"tab-content is-active"},rp={class:"columns is-multiline"},cp={key:1,class:"column is-6"},dp=Cd((()=>p("label",{class:"light-text mb-2"},"SIA Number :",-1))),up={class:"modal-form"},mp=["src"],pp=["src"],vp=s({__name:"WorkerProfile",setup(l){const s=n(),b=He(),w=i(),V=ne(),T=o(!1),I=o(!1),D=o([]),j=re(),R=o(!1);o(!1);const U=o(""),z=o(0),M=o(null),q=o({}),P=o("personal"),$=o(!1),B=o(!0),W=o(0),Y=o(""),K=o(0),G=o(""),Z=o(""),le=o(!1),ae=o(0),oe=o(""),ce=o(""),de=o(!1),ue=o(""),me=o(""),pe=o(!1),ye=o(!1),be=o(0),_e=o(!1),xe=o("worker"),ke=o(""),Ce=o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"});o({id:0,last_updated:"",date_designated:"",unique_id:"",ofsi_group_id:0,un_reference_number:"",regime_name:"",individual_entity_ship:"",designation_source:"",sanctions_imposed:"",other_information:"",names:[],addresses:[]});const Ae=o({id:0,firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",signedDeclerationForm:" ",veriffStatus:"",sanctionStatus:!1,warning:!1,warningMessage:"",default_sia:{id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",updated_at:"",worker:0},industry:{id:0,name:"",industryLogo:""},arezCompany:"",status:!1,postCode:"",rating:0,activationCode:"",transport:"",archive:!1,bs7858:!1,profileStat:{percentage:"56"},pre_industries:[{id:0,name:"",industryLogo:""}],bgColor:{id:1,backgroundColor:"linear-gradient(to right, #1D2671, #C33764)"}}),Ne={documentTitle:{label:"Documents",grow:!1,media:!0},status:{label:"Status",align:"center"},actions:{label:"Actions",align:"end"}},De=async(e,l)=>{try{const a=new window.FormData;for(const e in l)a.append(e,l[e]);await V.patch(`/v3/api/worker/document/${e}/`,a);"status"in l?ve({message:`Updated the status of <b> ${l.docTitle} </b> to <b>${1==l.status?"Approved":"Disapproved"}.</b>`,objectId:w.params.id,method:"patch"}):"expiryDate"in l&&ve({message:`update the expiry date of <b>${l.docTitle}</b> to <b>${l.expiryDate}</b>`,objectId:w.params.id,method:"patch"}),j.dismissAll(),j.success("worker document updated, Worker"),ze(),Ee(!1),be.value=0}catch(a){console.error("ok",a)}},je=async(e,l,a=!0)=>{try{const t=new window.FormData;for(const e in l)t.append(e,l[e]);await V.patch(`/v3/api/worker/${e}/`,t);j.dismissAll(),j.success("Worker  updated successfuly"),a&&Le()}catch(t){console.error("ok",t)}},Ee=e=>{let l=D.value;const a=l.findIndex((e=>e.id===q.value.id));-1!==a&&(l[a].loading=e),D.value=[...l]},Ue=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(Ee(!0),q.value.worker?De(q.value.id,{document:a}):(async(e,l)=>{try{let a={status:!1,worker:w.params.id,companyDocument:e.id,document:l};const t=new window.FormData;for(const e in a)t.append(e,a[e]);console.log(e),await V.post("/v3/api/worker/document/",t),ve({message:`added a document  <b>${e.documentTitle}</b>`,objectId:w.params.id,method:"post"}),ze()}catch(a){j.error("Please reduce file size to upload")}finally{Ee(!1)}})(q.value,a),ve({message:`updated <b> ${q.value.documentTitle} </b> document.`,objectId:w.params.id,method:"patch"}))},Le=async()=>{try{T.value=!0;const e=await V.get(`/v3/api/worker/${w.params.id}/profile/`,{});Ae.value=e.data,ke.value=e.data.default_sia?e.data.default_sia.licenceNumber:"",0==Ae.value.pre_industries.length&&Ae.value.pre_industries.push(e.data.industry),e.data.latitude?Ge(e.data.latitude,e.data.longitude):Ge(51.4497984,-.3464489),ze(),T.value=!1}catch(e){console.error("ok",e)}},ze=async()=>{try{B&&(I.value=!0,B.value=!1);const e=await V.get(`/v3/api/worker/document/${w.params.id}/get_documents_of_a_worker/`,{});I.value=!1,D.value=e.data}catch(e){I.value=!1,console.error("ok",e)}},Me=e=>{navigator.clipboard.writeText(e),j.success("Activation code copied"),ve({message:"shared profile using <b> share link </b>",objectId:w.params.id,method:"patch"})},Pe=()=>{2==K.value?ll():1==K.value?Qe():3==K.value&&al()},Xe=()=>{K.value=3;let e=`Yes, ${Ae.value.status?"In-Active":"Active"} it`;Ce.value={title:"Are you sure?",subtitle:"This worker will be "+(Ae.value.status?"In-Active":"Active"),btntext:e,isSweetAlertOpen:!0}};let Je={};const Ge=(e,l)=>{let a={lat:e,lng:length};Je=new google.maps.Map(document.getElementById("myMap"),{center:a,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:6}),new google.maps.Marker({position:{lat:e,lng:l},map:Je,title:"Worker"})},Ze=()=>{je(Ae.value.id,{bs7858:!Ae.value.bs7858},!1)},Qe=async()=>{try{Ce.value.isSweetAlertOpen=!1;await V.delete(`/v3/api/worker/document/${z.value}/`,{});ze(),ve({message:`deleted <b>${me.value}</b> document`,objectId:w.params.id,method:"delete"}),j.dismissAll(),j.success("Delete worker document, Worker"),K.value=0}catch(e){console.error("ok",e)}},el=H({series:[0],chart:{height:160,type:"radialBar",toolbar:{show:!1}},colors:[b.accent],plotOptions:{radialBar:{hollow:{size:"40%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontWeight:500,offsetY:-10,color:b.lightText},value:{show:!0,fontWeight:600,color:"#fff",fontSize:"16px",offsetY:-10}}}},labels:[""]}),ll=()=>{Ce.value.isSweetAlertOpen=!1,je(Ae.value.id,{industry:ae.value}),ve({message:`switched to the <b>${ue.value}</b> industry`,objectId:w.params.id,method:"patch"}),K.value=0},al=()=>{je(Ae.value.id,{status:Ae.value.status},!1),ve({message:`change status to <b>${Ae.value.status?"Active":"In-Active"}</b>`,objectId:w.params.id,method:"patch"}),Ce.value.isSweetAlertOpen=!1,K.value=0},tl=()=>{je(Ae.value.id,{warning:!Ae.value.warning},!1),ve({message:`Set to <b>${Ae.value.warning?"Clear":"Warning"}</b>`,objectId:w.params.id,method:"patch"}),P.value="warnings"},sl=()=>{je(Ae.value.id,{warningMessage:Ae.value.warningMessage},!1)},il=()=>{Ae.value.sanctionStatus&&(ye.value=!ye.value)},nl=()=>{const e=encodeURIComponent(Ae.value.firstName+" "+Ae.value.lastName);window.open(`/worker-certificate?name=${e}`,"_blank")},ol=()=>{const e={name:encodeURIComponent(Ae.value.firstName+""+Ae.value.lastName)};s.push({query:e,replace:!0}),_e.value=!_e.value},rl=async()=>{try{if(ke.value.length<16)return j.error("Invalid Number");(await V.post(`v3/api/worker/worker_sia/${w.params.id}/verify-sia-number/`,{siaNumber:ke.value})).data&&j.success("Licence Verified, Verify")}catch(e){j.error("Licence Unverified")}},cl=E((()=>Ae.value.warningMessage?Ae.value.warningMessage.slice(0,80):Ae.value.warningMessage));return F((()=>w.params.id),(async()=>{Le()})),r((async()=>{await Le()})),(l,s)=>{const i=We,n=ee,o=te,r=Q,b=Oe,V=Be,I=Fe,j=Ie,E=qe,F=Se,B=se,H=$e,ne=he,re=ie,Ee=Re,ze=kd,He=Ec,Je=ud,Ge=N,Qe=dc,ll=wo,al=Bt,dl=Te,ul=Ve,ml=At,pl=a,vl=we,fl=t,yl=Ha,hl=ge,gl=la,bl=Gl,_l=e,wl=X("tooltip");return c(),d(k,null,[p("div",Sd,[p("div",{class:"dashboard-header-wrapper mb-6",style:A({backgroundImage:Ae.value.bgColor.backgroundColor})},[p("div",Ad,[Nd,p("div",Vd,[p("div",Td,[p("img",{size:"medium",style:{"border-radius":"15px"},src:Ae.value.profileImageURL?Ae.value.profileImageURL:"/images/avatars/placeholder.jpg"},null,8,Id)]),p("div",Dd,[p("div",jd,[p("div",Rd,[p("div",Od,[p("div",Ed,[u(o,null,{default:m((()=>[u(n,null,{default:m((()=>[u(i,{onClick:s[0]||(s[0]=e=>(()=>{const e={rating:Ae.value.rating};je(Ae.value.id,e,!1),ve({message:`updated rating to <b>${Ae.value.rating} </b> stars`,objectId:w.params.id,method:"patch"})})()),"readonly:false":"",modelValue:Ae.value.rating,"onUpdate:modelValue":s[1]||(s[1]=e=>Ae.value.rating=e)},null,8,["modelValue"])])),_:1})])),_:1})]),p("h3",Ud,[p("span",Ld,S(Ae.value.firstName)+" "+S(Ae.value.lastName),1)])]),p("div",zd,[p("div",Md,[p("div",qd,[p("span",Pd,S(Ae.value.emailAddress),1)])]),p("div",$d,[p("div",{class:"username cu-pointer cu-align-center",onClick:s[2]||(s[2]=e=>{return l=Ae.value.phoneNumber,fe(l),void ve({message:"started chat on <b>WhatsApp</b>",objectId:w.params.id,method:"patch"});var l})},[p("span",Fd,S(Ae.value.phoneNumber),1),Ae.value.phoneNumber?(c(),d("img",Bd)):f("",!0)])]),Wd])])])]),Yd,p("div",Kd,[p("div",Hd,[p("div",Xd,[p("div",Jd,[p("div",Gd,[Zd,u(o,{horizontal:"",style:{"margin-top":"-3px"}},{default:m((()=>[u(n,null,{default:m((()=>[u(r,{onClick:Xe,modelValue:Ae.value.status,"onUpdate:modelValue":s[3]||(s[3]=e=>Ae.value.status=e),"label-true":"",color:"primary",style:{color:"#f1f1f1"}},null,8,["modelValue"])])),_:1})])),_:1})])]),p("div",Qd,[p("div",eu,[lu,p("span",au,[x(S(Ae.value.activationCode?Ae.value.activationCode:"-----")+" ",1),p("i",{onClick:s[4]||(s[4]=e=>Me(Ae.value.activationCode)),class:"fas fa-copy mr-1 cus-onhover","aria-hidden":"true"})])])]),p("div",tu,[p("div",su,[iu,p("span",nu,S(Ae.value.veriffStatus.charAt(0).toUpperCase()+Ae.value.veriffStatus.slice(1)),1),"No attempt"==Ae.value.veriffStatus?(c(),y(b,{key:0,style:{cursor:"pointer"},color:"warning",outlined:"",label:"Create link",curved:"",elevated:"",onClick:s[5]||(s[5]=()=>{pe.value=!pe.value})})):f("",!0)])]),p("div",ou,[p("div",ru,[cu,p("span",{class:"ml-1 cu-pointer",onClick:il,style:A({fontWeight:"400",textDecoration:Ae.value.sanctionStatus?"underline":"",color:(Ae.value.sanctionStatus,"#fff")})},S(Ae.value.sanctionStatus?"Not Cleared":"Cleared"),5)])])])])]),du,p("div",uu,[p("div",mu,[p("div",pu,[p("div",vu,[p("div",fu,[yu,u(o,{horizontal:"",style:{"margin-top":"-3px"}},{default:m((()=>[u(n,null,{default:m((()=>[u(V,{onClick:Ze,modelValue:Ae.value.bs7858,"onUpdate:modelValue":s[6]||(s[6]=e=>Ae.value.bs7858=e),"label-true":"",color:"primary",style:{color:"#f1f1f1"}},null,8,["modelValue"])])),_:1})])),_:1}),Ae.value.bs7858?(c(),d("span",hu,[p("img",{onClick:ol,class:"cu-pointer",style:{height:"24px",width:"auto"},src:"/images/view-48.png"})])):f("",!0)])]),gu,p("div",bu,[p("div",_u,[(c(!0),d(k,null,C(Ae.value.pre_industries,((e,l)=>_((c(),d("span",{key:l,class:O(Ae.value.industry.name!=e.name?"":"cus-default"),onClick:l=>(e=>{K.value=2,ae.value=e.id,ue.value=e.name,Ce.value={title:"Are you sure?",subtitle:"Your documents and other informations will be changed according to your industry.",btntext:"Yes, switch it",isSweetAlertOpen:!0}})(e),style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white"}},[e.id?(c(),d("img",{key:0,src:e.industryLogo,style:{width:"42px",height:"42px",padding:"1px","border-radius":"6px"}},null,8,xu)):f("",!0),p("span",{class:"active-industry",style:A({backgroundColor:Ae.value.industry.name==e.name?"":"#F5F5F5",color:Ae.value.industry.name==e.name?"":"black"})},S(e.name),5)],10,wu)),[[wl,"Switch industry",void 0,{primary:!0,top:!0,rounded:!0}]]))),128))])])])])]),p("div",ku,[p("div",Cu,[p("div",Su,[p("div",Au,[p("div",Nu,[u(o,null,{default:m((()=>[u(n,null,{default:m((()=>[u(V,{onClick:tl,color:"warning",modelValue:Ae.value.warning,"onUpdate:modelValue":s[7]||(s[7]=e=>Ae.value.warning=e),label:"Set warning"},null,8,["modelValue"])])),_:1})])),_:1})])])])])]),p("div",Vu,[p("div",Tu,[p("div",Iu,[u(v(Ke),{id:"radial-circle",class:"circle-chart-wrapper",height:v(el).chart.height,type:v(el).chart.type,series:[Ae.value.profileStat?Ae.value.profileStat.percentage:0],options:v(el)},null,8,["height","type","series","options"])])])])]),p("button",{onClick:s[8]||(s[8]=()=>{G.value=`https://vms.arez.io/worker-profile/share/?id=${Ae.value.id}&code=${Ae.value.activationCode}`,le.value=!0,Z.value=`https://vms.arez.io/worker-profile/?code=${Ae.value.activationCode}`}),rounded:"",color:"solid",label:"Error",class:"share-btn",style:{color:"#fff"}},[Du,x(" Share ")]),_((c(),d("button",{onClick:s[9]||(s[9]=()=>{W.value=Ae.value.id,$.value=!0}),class:"edit-btn tooltip-custom-class",style:{color:"#fff"}},[ju,x(" Edit ")])),[[wl,"Edit Woker Profile",void 0,{success:!0,bottom:!0,rounded:!0}]]),p("div",Ru,[le.value?(c(),d("div",Ou,[u(I,{color:"primary",class:"is-flex copyLinkStyle",closable:"",onClose:s[12]||(s[12]=e=>le.value=!1)},{default:m((()=>[x(S(G.value)+" ",1),_((c(),y(b,{style:{"background-color":"transparent"},onClick:s[10]||(s[10]=e=>Me(G.value))},{default:m((()=>[Eu])),_:1})),[[wl,"Copy Link",void 0,{rounded:!0,info:!0}]]),Uu,x(" "+S(Z.value)+" ",1),_((c(),y(b,{style:{"background-color":"transparent"},onClick:s[11]||(s[11]=e=>Me(Z.value))},{default:m((()=>[Lu])),_:1})),[[wl,"Copy Link",void 0,{rounded:!0,info:!0}]])])),_:1})])):f("",!0)]),Ae.value.warning?(c(),y(E,{key:0,title:"Warning Note",class:"cus-warning-block mt-1 column dark-text col-12",subtitle:v(cl)},{icon:m((()=>[u(j,{color:"warning",rounded:""},{default:m((()=>[zu])),_:1})])),_:1},8,["subtitle"])):f("",!0)])],4),p("div",Mu,[p("div",qu,[p("div",Pu,[p("div",$u,[p("div",Fu,[p("ul",null,[p("li",{class:O(["personal"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=h(g((e=>P.value="personal"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>P.value="personal")},Bu,32)],2),p("li",{class:O(["licence"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=h(g((e=>P.value="licence"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>P.value="licence")},Wu,32)],2),p("li",{class:O(["reference"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[17]||(s[17]=h(g((e=>P.value="reference"),["prevent"]),["space"])),onClick:s[18]||(s[18]=e=>P.value="reference")},Yu,32)],2),p("li",{class:O(["veriffTab"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[19]||(s[19]=h(g((e=>P.value="veriffTab"),["prevent"]),["space"])),onClick:s[20]||(s[20]=e=>P.value="veriffTab")},Ku,32)],2),p("li",{class:O(["comments"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[21]||(s[21]=h(g((e=>P.value="comments"),["prevent"]),["space"])),onClick:s[22]||(s[22]=e=>P.value="comments")},Hu,32)],2),p("li",{class:O(["questions"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[23]||(s[23]=h(g((e=>P.value="questions"),["prevent"]),["space"])),onClick:s[24]||(s[24]=e=>P.value="questions")},Xu,32)],2),p("li",{class:O(["warnings"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[25]||(s[25]=h(g((e=>P.value="warnings"),["prevent"]),["space"])),onClick:s[26]||(s[26]=e=>P.value="warnings")},Ju,32)],2),p("li",{class:O(["activity"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[27]||(s[27]=h(g((e=>P.value="activity"),["prevent"]),["space"])),onClick:s[28]||(s[28]=e=>P.value="activity")},Gu,32)],2),p("li",{class:O(["timeSheet"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[29]||(s[29]=h(g((e=>P.value="timeSheet"),["prevent"]),["space"])),onClick:s[30]||(s[30]=e=>P.value="timeSheet")},Zu,32)],2),p("li",{class:O(["worker-rota"===P.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onClick:s[31]||(s[31]=e=>P.value="worker-rota")},Qu)],2)])])]),_(p("div",em,[p("div",lm,[p("div",am,[p("div",tm,[p("div",sm,[T.value?(c(),y(F,{key:0})):f("",!0),p("input",{ref_key:"fileInput",ref:M,type:"file",style:{display:"none"},onChange:Ue,accept:"image/*,application/pdf"},null,544),p("div",im,[p("div",nm,[D.value.length>0?(c(),d("div",om,[u(Ee,{rounded:"",data:D.value,columns:Ne,class:"noborder",id:"doc-table"},{"body-cell":m((({row:e,column:l,value:a})=>["documentTitle"===l.key?(c(),d(k,{key:0},[u(B,{picture:e.icon,squared:!0},null,8,["picture"]),p("div",rm,[p("div",cm,[p("span",dm,[x(S(e.documentTitle)+" ",1),"step_1"==e.step?(c(),d("img",um)):f("",!0)]),p("span",mm,[e.expiryDateRequired?_((c(),d("span",pm," Date required",512)),[[L,!e.expiryDate]]):f("",!0)]),p("span",vm,[p("span",fm,S(e.subTitle&&e.subTitle.length>60?e.subTitle.slice(0,69):"Not Added")+"...",1)]),e.expiryDateRequired&&e.document?(c(),d("span",ym,[p("span",{style:A({color:e.expiryDate?"var(--primary)":"var(--danger)"}),class:"cu-pointer"},"Expiry date: "+S(e.expiryDate),5),p("i",{onClick:l=>{return a=e.id,t=e.expiryDate,oe.value=t,void(be.value=a);var a,t},class:"lnil lnil-pencil ml-2 cu-pointer",style:{color:"var(--primary)","font-size":"10px"},"aria-hidden":"true"},null,8,hm)])):f("",!0)])]),be.value==e.id?(c(),d("div",gm,[u(o,null,{default:m((()=>[p("i",{class:"lnil lnil-close cu-pointer",onClick:s[32]||(s[32]=()=>{be.value=0}),style:{float:"right"},"aria-hidden":"true"}),u(H,null,{default:m((()=>[x("Enter expiry date :")])),_:1}),u(n,null,{default:m((()=>[u(ne,{modelValue:oe.value,"onUpdate:modelValue":s[33]||(s[33]=e=>oe.value=e),onChange:l=>De(e.id,{expiryDate:oe.value,docTitle:Y.value}),type:"Date",placeholder:"Document expiry date"},null,8,["modelValue","onChange"])])),_:2},1024)])),_:2},1024)])):f("",!0)],64)):"status"===l.key?(c(),d(k,{key:1},[e.worker?(c(),d("div",bm,[p("label",_m,[_(p("input",{id:"navbar-night-toggle--daynight","onUpdate:modelValue":l=>e.status=l,onClick:l=>De(e.id,{status:!e.status,docTitle:e.documentTitle}),"data-cy":"dark-mode-toggle",type:"checkbox"},null,8,wm),[[J,e.status]]),xm])])):(c(),d("div",km,[p("label",Cm,[_(p("input",{style:{"background-color":"var(info) !important"},disabled:"","onUpdate:modelValue":l=>e.status=l,onClick:l=>De(e.id,{status:!e.status,docTitle:e.documentTitle}),"data-cy":"dark-mode-toggle",type:"checkbox"},null,8,Sm),[[J,e.status]]),Am])]))],64)):"actions"===l.key?(c(),d(k,{key:2},[e.document?(c(),d("div",Nm,[e.document.includes(".pdf")?(c(),d("div",Vm,[p("img",{onClick:()=>{U.value=e.document,ce.value=e.id,de.value=e.expiryDateRequired,R.value=!0,Y.value=e.documentTitle,oe.value=e.expiryDate},class:"image-icon",src:Ye,alt:"",style:{"margin-right":"10px",width:"34px",height:"34px",cursor:"pointer","border-radius":"50%"}},null,8,Tm)])):(c(),d("div",Im,[p("div",Dm,[p("i",{onClick:()=>{U.value=e.document,R.value=!0,ce.value=e.id,de.value=e.expiryDateRequired,Y.value=e.documentTitle,oe.value=e.expiryDate},class:"fas fa-file-image",style:{"font-size":"18px",cursor:"pointer",color:"var(--primary)"}},null,8,jm)])]))])):f("",!0),e.loading?f("",!0):(c(),y(j,{key:1,size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:()=>(e=>{q.value=e,M.value&&M.value.click()})(e)},{default:m((()=>[Rm])),_:2},1032,["onClick"])),e.loading?(c(),y(re,{key:2,color:"primary",outlined:"",loading:"",circle:"",icon:"feather:plus"})):f("",!0),e.worker?(c(),y(j,{key:3,size:"small",color:"danger",class:"ml-3",style:{cursor:"pointer"},rounded:"",onClick:l=>(e=>{K.value=1,z.value=e.id,me.value=e.documentTitle,Ce.value={title:"Are you sure?",subtitle:"You will not be able to recover this Worker Document!",btntext:"Yes, Delete it",isSweetAlertOpen:!0}})(e)},{default:m((()=>[Om])),_:2},1032,["onClick"])):f("",!0)],64)):f("",!0)])),_:1},8,["data"])])):(c(),d("div",Em,[u(b,{color:"solid",label:"No Documents Are Available!",rounded:""})]))])])])])]),p("div",Um,[p("div",Lm,[p("i",{class:"fas fa-expand-arrows-alt expand-arrow",style:{color:"var(--primary-light-12)",cursor:"pointer",position:"absolute",top:"10px",right:"10px"},"aria-hidden":"true",onClick:s[34]||(s[34]=e=>P.value="comments")}),p("div",zm,[u(ze,{id:v(w).params.id},null,8,["id"])])]),Mm,p("div",qm,[p("i",{class:"fas fa-expand-arrows-alt expand-arrow",style:{color:"var(--primary-light-12)",cursor:"pointer",position:"absolute",top:"10px",right:"10px"},"aria-hidden":"true",onClick:s[35]||(s[35]=e=>P.value="licence")}),p("div",Pm,[$m,p("div",Fm,[p("div",Bm,[p("div",Wm,[p("div",Ym,[p("div",Km,[u(He,{style:{width:"max-content"},siaCard:Ae.value.default_sia},null,8,["siaCard"])])])])])])])])])])],512),[[L,"personal"===P.value]]),_(p("div",Hm,[u(Je,{id:v(w).params.id},null,8,["id"])],512),[[L,"licence"==P.value]]),"veriffTab"===P.value?(c(),d("div",Xm,[p("div",Jm,[Gm,p("div",Zm,[Qm,ep,u(Ge,{color:"info",onClick:s[36]||(s[36]=()=>{pe.value=!pe.value}),icon:"fas fa-link",elevated:""},{default:m((()=>[x(" Create link ")])),_:1})])]),u(Qe,{id:v(w).params.id},null,8,["id"])])):f("",!0),"reference"===P.value?(c(),d("div",lp,[u(ll,{id:v(w).params.id,worker:Ae.value},null,8,["id","worker"])])):f("",!0),"activity"===P.value?(c(),d("div",ap,[u(al,{id:v(w).params.id,worker:Ae.value},null,8,["id","worker"])])):f("",!0),"comments"===P.value?(c(),d("div",tp,[u(ze,{id:v(w).params.id},null,8,["id"])])):f("",!0),"questions"===P.value?(c(),d("div",sp,[u(dl,{type:xe.value,memberId:v(w).params.id},null,8,["type","memberId"])])):f("",!0),"warnings"===P.value?(c(),d("div",ip,[u(o,null,{default:m((()=>[u(n,null,{default:m((()=>[u(ul,{style:{"border-radius":"15px !important","background-color":"#f5f5f5 !important",border:"none !important",padding:"16px 20px !important"},onBlur:sl,modelValue:Ae.value.warningMessage,"onUpdate:modelValue":s[37]||(s[37]=e=>Ae.value.warningMessage=e),class:"textarea is-warning-focus",rows:"2",placeholder:"Enter warning note..."},null,8,["modelValue"])])),_:1})])),_:1})])):f("",!0),"timeSheet"===P.value?(c(),d("div",np,[u(ml,{id:v(w).params.id,worker:Ae.value},null,8,["id","worker"])])):f("",!0),"worker-rota"===P.value?(c(),d("div",op,[u(pl,{workerId:v(w).params.id},null,8,["workerId"])])):f("",!0)])])])]),u(fl,{is:"form",open:_e.value,title:Y.value,size:"big",actions:"right",onClose:s[38]||(s[38]=e=>_e.value=!1)},{content:m((()=>[u(vl)])),action:m((()=>[u(Ge,{color:"primary",onClick:nl,raised:""},{default:m((()=>[x("Print")])),_:1})])),_:1},8,["open","title"]),ye.value?(c(),y(yl,{key:0,firstName:Ae.value.firstName,lastName:Ae.value.lastName,openSanctionModal:ye.value,"onUpdate:openSanctionModal":s[39]||(s[39]=e=>ye.value=e)},null,8,["firstName","lastName","openSanctionModal"])):f("",!0),u(fl,{is:"form",open:R.value,title:Y.value,size:"big",actions:"right",onClose:s[43]||(s[43]=e=>R.value=!1)},{content:m((()=>[p("div",rp,[de.value?(c(),y(o,{key:0,class:O("SIA Card"==Y.value?"column is-6":"column is-12")},{default:m((()=>[u(H,null,{default:m((()=>[x("Document expiry date :")])),_:1}),u(n,null,{default:m((()=>[u(ne,{modelValue:oe.value,"onUpdate:modelValue":s[40]||(s[40]=e=>oe.value=e),onChange:s[41]||(s[41]=e=>De(ce.value,{expiryDate:oe.value,docTitle:Y.value})),type:"Date",placeholder:"Document expiry date"},null,8,["modelValue"])])),_:1})])),_:1},8,["class"])):f("",!0),"SIA Card"==Y.value?(c(),d("div",cp,[dp,u(o,{addons:"",class:"mt-1"},{default:m((()=>[u(n,{expanded:""},{default:m((()=>[u(hl,{modelValue:ke.value,"onUpdate:modelValue":s[42]||(s[42]=e=>ke.value=e),required:"",class:"input",id:"siacard",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["modelValue"])])),_:1}),u(n,null,{default:m((()=>[u(Ge,{onClick:rl,color:"primary",rounded:""},{default:m((()=>[x(" Verify ")])),_:1})])),_:1})])),_:1}),p("label",{class:O([Ae.value.default_sia&&Ae.value.default_sia.status?"light-text":"danger-text","mb-2"])},"Status: "+S(Ae.value.default_sia&&Ae.value.default_sia.status?"Approved":"Un-approved"),3)])):f("",!0)]),p("div",up,[U.value.includes(".pdf")?(c(),d("iframe",{key:0,src:U.value,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,mp)):(c(),d("img",{key:1,src:U.value,alt:""},null,8,pp))])])),cancel:m((()=>[u(Ge,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open","title"]),pe.value?(c(),y(gl,{key:1,veriffModal:pe.value,id:Ae.value.id,email:Ae.value.emailAddress,phone:Ae.value.phoneNumber,"onUpdate:modalHandler":s[44]||(s[44]=e=>pe.value=e)},null,8,["veriffModal","id","email","phone"])):f("",!0),$.value?(c(),y(bl,{key:2,EditCompanyModalOpen:$.value,id:W.value,"onUpdate:modalHandler":s[45]||(s[45]=e=>$.value=e),"onUpdate:OnSuccess":Le},null,8,["EditCompanyModalOpen","id"])):f("",!0),Ce.value.isSweetAlertOpen?(c(),y(_l,{key:3,isSweetAlertOpen:Ce.value.isSweetAlertOpen,title:Ce.value.title,subtitle:Ce.value.subtitle,btntext:Ce.value.btntext,onConfirm:Pe,onCancel:()=>Ce.value.isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0)],64)}}}),fp=I(vp,[["__scopeId","data-v-80c29675"]]),yp={class:""},hp=p("div",{class:"lifestyle-dashboard-bg"},null,-1),gp=s({__name:"[id]",setup:e=>(Xe().setPageTitle("Worker Info"),G({title:"Workers - Arez"}),(e,l)=>{const a=fp;return c(),d("div",yp,[(c(),y(Z,{to:"[data-teleport-bg]"},[hp])),u(a)])})});export{gp as default};
