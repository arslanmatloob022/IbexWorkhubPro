import{_ as a}from"./VFlex.vue_vue_type_style_index_0_lang-ffffc989.js";import{e,G as t,N as n,Z as i,M as l,y as r,H as o,B as s,C as c,V as u,A as p,D as g,O as d,l as f,I as v,z as h,P as y,R as m,Q as k,J as x,K as P}from"./index-da733775.js";const _={class:"pagination-list"},b={key:0},K=[c("span",{class:"pagination-ellipsis"},"…",-1)],M={key:1},C=[c("span",{class:"pagination-ellipsis"},"…",-1)],w={key:2},D=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"},null,-1),R=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"},null,-1),L=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),Q=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),$=e({__name:"VFlexPagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(e,{emit:$}){const j=e,{t:F}=t(),I=n(),V=i((()=>Math.ceil(j.totalItems/j.itemPerPage)||1)),q=i((()=>V.value>j.maxLinksDisplayed+2?j.maxLinksDisplayed+2:V.value)),B=i((()=>{const a=[];let e=j.currentPage-Math.floor(q.value/2),t=e+(q.value-Math.ceil(q.value%2));e<1&&(e=1,t=e+(q.value-1)),t>V.value&&(t=V.value,e=t-(q.value-1));for(let n=e;n<=t;n+=1)n!==e&&n!==t&&a.push(n);return a})),z=i((()=>V.value>1)),A=(a=1)=>{if(j.noRouter)return{};const e=Math.max(1,Math.min(a,V.value)),t={...I.query};return j.routerQueryKey&&(t[j.routerQueryKey]=e<=1?void 0:e),{name:I.name,params:I.params,query:t}},G=(a,e=1)=>{const t=Math.max(1,Math.min(e,V.value));if($("update:currentPage",t),j.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(e,t)=>{const n=l("RouterLink"),i=a;return r(),o(i,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:s((()=>[c("ul",_,[u(e.$slots,"before-pagination"),c("li",null,[p(n,{to:A(1),tabindex:"0",class:d(["pagination-link",[1===e.currentPage&&"is-current"]]),"aria-label":f(F)("components.v-flex-pagination.goto-page-title",{page:1}),onKeydown:t[0]||(t[0]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[1]||(t[1]=a=>G(a,1))},{default:s((()=>[g(" 1 ")])),_:1},8,["to","aria-label","class"])]),f(z)&&(0===f(B).length||f(B)[0]>2)?(r(),h("li",b,K)):y("",!0),(r(!0),h(k,null,m(f(B),(a=>(r(),h("li",{key:a},[p(n,{to:A(a),tabindex:"0",class:d(["pagination-link",[e.currentPage===a&&"is-current"]]),"aria-label":f(F)("components.v-flex-pagination.goto-page-title",{page:a}),"aria-current":e.currentPage===a?"page":void 0,onKeydown:t[2]||(t[2]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:e=>G(e,a)},{default:s((()=>[g(x(a),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),f(z)&&f(B)[f(B).length-1]<f(V)-1?(r(),h("li",M,C)):y("",!0),f(z)?(r(),h("li",w,[p(n,{to:A(f(V)),tabindex:"0",class:d(["pagination-link",[e.currentPage===f(V)&&"is-current"]]),"aria-label":f(F)("components.v-flex-pagination.goto-page-title",{page:f(V)}),onKeydown:t[3]||(t[3]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[4]||(t[4]=a=>G(a,f(V)))},{default:s((()=>[g(x(f(V)),1)])),_:1},8,["to","aria-label","class"])])):y("",!0),u(e.$slots,"after-pagination")]),u(e.$slots,"before-navigation"),p(n,{to:A(e.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:t[5]||(t[5]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[6]||(t[6]=a=>G(a,e.currentPage-1))},{default:s((()=>[D,R])),_:1},8,["to"]),p(n,{to:A(e.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:t[7]||(t[7]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[8]||(t[8]=a=>G(a,e.currentPage+1))},{default:s((()=>[L,Q])),_:1},8,["to"]),u(e.$slots,"after-navigation")])),_:3})}}});export{$ as _};
