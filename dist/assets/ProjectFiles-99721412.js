import{_ as e}from"./UpdateTask.vue_vue_type_script_setup_true_lang-528152b8.js";import{_ as t}from"./SweetAlert.vue_vue_type_style_index_0_lang-e9591d59.js";import{_ as s}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-1c6d360c.js";import{F as a}from"./FullCalendar-b2c71253.js";import{i as l}from"./index-2da01692.js";import{P as i,v as n,aS as r,aT as o,b as d,aU as c,X as u,Q as f,R as g,x as p,ae as h,y as m,_ as v,a8 as y,a7 as b,a9 as k,aa as x,aq as R,B as C,au as w,aV as S,aW as D,aX as _,aY as E,t as T,aZ as j,ap as M,a_ as P,a$ as O,ad as z,ac as I,aw as H,b0 as N,b1 as W,T as A,O as F,ab as V,b2 as U,b3 as B,av as $,Z as G,c as q,b4 as L,W as Y,b5 as K}from"./index-a5ae5c6d.js";import{i as Q}from"./index-4b4cb630.js";import{u as X}from"./useAPI-9b3b30e1.js";import{b as Z}from"./useSupportElement-ace64250.js";import{f as J,r as ee,o as te,C as se,D as ae,F as le,G as ie,E as ne,U as re,m as oe,b as de,$ as ce,av as ue,O as fe,L as ge,X as pe,k as he,K as me,N as ve,I as ye,H as be,V as ke,W as xe,P as Re,al as Ce,J as we,a4 as Se,Q as De,R as _e,S as Ee,aS as Te}from"./index-ff8cc036.js";import{_ as je}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-8b891c2c.js";import{_ as Me}from"./VTag.vue_vue_type_style_index_0_lang-7a24d6d2.js";import{_ as Pe}from"./VAvatar.vue_vue_type_style_index_0_lang-ab92b7f4.js";import{_ as Oe}from"./VDropdown.vue_vue_type_style_index_0_lang-28e393c4.js";import{_ as ze}from"./VControl-328926fd.js";import{_ as Ie}from"./PlaceloadV3.vue_vue_type_style_index_0_lang-ce6ba946.js";import{_ as He,a as Ne}from"./projects-dark-4a371d8a.js";import{u as We}from"./useNotyf-9ffdf924.js";import{_ as Ae}from"./VModal.vue_vue_type_style_index_0_lang-9110d096.js";import{_ as Fe}from"./VField.vue_vue_type_script_setup_true_lang-0842cb1a.js";import{_ as Ve}from"./VInput.vue_vue_type_script_setup_true_lang-fc59c4b4.js";import{_ as Ue}from"./VLabel.vue_vue_type_script_setup_true_lang-1e6c0b2b.js";import{_ as Be,a as $e}from"./search-4-dark-2b5b440c.js";import{_ as Ge}from"./sheet-50221dfe.js";import{o as qe}from"./via-placeholder-24645670.js";function Le(e,t){let s=[];for(let a=0;a<t;a+=1)s[a]=[];for(let a of e)s[a.row].push(a);return s}function Ye(e,t){let s=[];for(let a=0;a<t;a+=1)s[a]=[];for(let a of e)s[a.firstCol].push(a);return s}function Ke(e,t){let s=[];if(e){for(let a=0;a<t;a+=1)s[a]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let t of e.segs)s[t.row].segs.push(t)}else for(let a=0;a<t;a+=1)s[a]=null;return s}const Qe=i({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Xe(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class Ze extends C{render(){let{props:e}=this;return m(w,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Qe,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Je extends C{render(){let{props:e,context:t}=this,{options:s}=t,{seg:a}=e,l=s.eventTimeFormat||Qe,i=S(a,l,t,!0,e.defaultDisplayEventEnd);return m(_,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:D(e.seg,t),defaultGenerator:et,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function et(e){return m(v,null,m("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&m("div",{className:"fc-event-time"},e.timeText),m("div",{className:"fc-event-title"},e.event.title||m(v,null," ")))}class tt extends C{constructor(){super(...arguments),this.compileSegs=A(st)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:s}=this.compileSegs(e.singlePlacements);return m($,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:s,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return m(v,null,t.map((t=>{let a=t.eventRange.instance.instanceId;return m("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:s[a]?"hidden":""}},Xe(t)?m(Je,Object.assign({seg:t,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},y(t,e.todayRange))):m(Ze,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},y(t,e.todayRange))))})))}})}}function st(e){let t=[],s=[];for(let a of e)t.push(a.seg),a.isVisible||s.push(a.seg);return{allSegs:t,invisibleSegs:s}}const at=i({week:"narrow"});class lt extends f{constructor(){super(...arguments),this.rootElRef=p(),this.state={dayNumberId:E()},this.handleRootEl=e=>{T(this.rootElRef,e),T(this.props.elRef,e)}}render(){let{context:e,props:t,state:s,rootElRef:a}=this,{options:l,dateEnv:i}=e,{date:n,dateProfile:r}=t;const o=t.showDayNumber&&function(e,t,s){const{start:a,end:l}=t,i=z(l,-1),n=s.getYear(a),r=s.getMonth(a),o=s.getYear(i),d=s.getMonth(i);return!(n===o&&r===d)&&Boolean(e.valueOf()===a.valueOf()||1===s.getDay(e)&&e.valueOf()<l.valueOf())}(n,r.currentRange,i);return m(O,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:it,date:n,dateProfile:r,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:o,extraRenderProps:t.extraRenderProps},((i,r)=>m("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&m(j,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:M(e,n,"week"),date:n,defaultFormat:at}),!r.isDisabled&&(t.showDayNumber||P(l)||t.forceDayTop)?m("div",{className:"fc-daygrid-day-top"},m(i,{elTag:"a",elClasses:["fc-daygrid-day-number",o&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},M(e,n)),{id:s.dayNumberId})})):t.showDayNumber?m("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},m("a",{className:"fc-daygrid-day-number"}," ")):void 0,m("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,m("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},m(tt,{allDayDate:n,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),m("div",{className:"fc-daygrid-day-bg"},t.bgContent))))}}function it(e){return e.dayNumberText||m(v,null," ")}function nt(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function rt(e){return nt(e)+":"+e.lastCol}function ot(e,t,s,a,l,i,n){let r=new ct((t=>{let s=e[t.index].eventRange.instance.instanceId+":"+t.span.start+":"+(t.span.end-1);return l[s]||1}));r.allowReslicing=!0,r.strictOrder=a,!0===t||!0===s?(r.maxCoord=i,r.hiddenConsumes=!0):"number"==typeof t?r.maxStackCnt=t:"number"==typeof s&&(r.maxStackCnt=s,r.hiddenConsumes=!0);let o=[],d=[];for(let v=0;v<e.length;v+=1){let t=e[v],s=rt(t);null!=l[s]?o.push({index:v,span:{start:t.firstCol,end:t.lastCol+1}}):d.push(t)}let c=r.addSegs(o),u=r.toRects(),{singleColPlacements:f,multiColPlacements:g,leftoverMargins:p}=function(e,t,s){let a=function(e,t){let s=[];for(let a=0;a<t;a+=1)s.push([]);for(let a of e)for(let e=a.span.start;e<a.span.end;e+=1)s[e].push(a);return s}(e,s.length),l=[],i=[],n=[];for(let r=0;r<s.length;r+=1){let e=a[r],o=[],d=0,c=0;for(let a of e){let e=t[a.index];o.push({seg:dt(e,r,r+1,s),isVisible:!0,isAbsolute:!1,absoluteTop:a.levelCoord,marginTop:a.levelCoord-d}),d=a.levelCoord+a.thickness}let u=[];d=0,c=0;for(let a of e){let e=t[a.index],l=a.span.end-a.span.start>1,i=a.span.start===r;c+=a.levelCoord-d,d=a.levelCoord+a.thickness,l?(c+=a.thickness,i&&u.push({seg:dt(e,a.span.start,a.span.end,s),isVisible:!0,isAbsolute:!0,absoluteTop:a.levelCoord,marginTop:0})):i&&(u.push({seg:dt(e,a.span.start,a.span.end,s),isVisible:!0,isAbsolute:!1,absoluteTop:a.levelCoord,marginTop:c}),c=0)}l.push(o),i.push(u),n.push(c)}return{singleColPlacements:l,multiColPlacements:i,leftoverMargins:n}}(u,e,n),h=[],m=[];for(let v of d){g[v.firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=v.firstCol;e<=v.lastCol;e+=1)f[e].push({seg:dt(v,e,e+1,n),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<n.length;v+=1)h.push(0);for(let v of c){let t=e[v.index],s=v.span;g[s.start].push({seg:dt(t,s.start,s.end,n),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=s.start;e<s.end;e+=1)h[e]+=1,f[e].push({seg:dt(t,e,e+1,n),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<n.length;v+=1)m.push(p[v]);return{singleColPlacements:f,multiColPlacements:g,moreCnts:h,moreMarginTops:m}}function dt(e,t,s,a){if(e.firstCol===t&&e.lastCol===s-1)return e;let l=e.eventRange,i=l.range,n=I(i,{start:a[t].date,end:d(a[s-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:s-1,eventRange:{def:l.def,ui:Object.assign(Object.assign({},l.ui),{durationEditable:!1}),instance:l.instance,range:n},isStart:e.isStart&&n.start.valueOf()===i.start.valueOf(),isEnd:e.isEnd&&n.end.valueOf()===i.end.valueOf()})}class ct extends H{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:s}=this,a=e=>!this.forceHidden[N(e)];for(let l=0;l<s.length;l+=1)s[l]=s[l].filter(a);return t}handleInvalidInsertion(e,t,s){const{entriesByLevel:a,forceHidden:l}=this,{touchingEntry:i,touchingLevel:n,touchingLateral:r}=e;if(this.hiddenConsumes&&i){const e=N(i);if(!l[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},i),{span:W(i.span,t.span)});l[N(e)]=!0,a[n][r]=e,s.push(e),this.splitEntry(i,t,s)}else l[e]=!0,s.push(i)}super.handleInvalidInsertion(e,t,s)}}class ut extends f{constructor(){super(...arguments),this.cellElRefs=new g,this.frameElRefs=new g,this.fgElRefs=new g,this.segHarnessRefs=new g,this.rootElRef=p(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:s}=this,{options:a}=s,l=e.cells.length,i=Ye(e.businessHourSegs,l),n=Ye(e.bgEventSegs,l),r=Ye(this.getHighlightSegs(),l),o=Ye(this.getMirrorSegs(),l),{singleColPlacements:d,multiColPlacements:c,moreCnts:u,moreMarginTops:f}=ot(h(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return m("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map(((t,s)=>{let a=this.renderFgSegs(s,e.forPrint?d[s]:c[s],e.todayRange,g),l=this.renderFgSegs(s,function(e,t){if(!e.length)return[];let s=function(e){let t={};for(let s of e)for(let e of s)t[e.seg.eventRange.instance.instanceId]=e.absoluteTop;return t}(t);return e.map((e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:s[e.eventRange.instance.instanceId],marginTop:0})))}(o[s],c),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return m(lt,{key:t.key,elRef:this.cellElRefs.createRef(t.key),innerElRef:this.frameElRefs.createRef(t.key),dateProfile:e.dateProfile,date:t.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&0===s,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:t.extraRenderProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:u[s],moreMarginTop:f[s],singlePlacements:d[s],fgContentElRef:this.fgElRefs.createRef(t.key),fgContent:m(v,null,m(v,null,a),m(v,null,l)),bgContent:m(v,null,this.renderFillSegs(r[s],"highlight"),this.renderFillSegs(i[s],"non-business"),this.renderFillSegs(n[s],"bg-event")),minHeight:e.cellMinHeight})})))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let s=this.props;this.updateSizing(!n(e,s))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,s,a,l,i,n){let{context:r}=this,{eventSelection:o}=this.props,{framePositions:d}=this.state,c=1===this.props.cells.length,u=l||i||n,f=[];if(d)for(let g of t){let{seg:e}=g,{instanceId:t}=e.eventRange.instance,p=g.isVisible&&!a[t],h=g.isAbsolute,v="",b="";h&&(r.isRtl?(b=0,v=d.lefts[e.lastCol]-d.lefts[e.firstCol]):(v=0,b=d.rights[e.firstCol]-d.rights[e.lastCol])),f.push(m("div",{className:"fc-daygrid-event-harness"+(h?" fc-daygrid-event-harness-abs":""),key:nt(e),ref:u?null:this.segHarnessRefs.createRef(rt(e)),style:{visibility:p?"":"hidden",marginTop:h?"":g.marginTop,top:h?g.absoluteTop:"",left:v,right:b}},Xe(e)?m(Je,Object.assign({seg:e,isDragging:l,isSelected:t===o,defaultDisplayEventEnd:c},y(e,s))):m(Ze,Object.assign({seg:e,isDragging:l,isResizing:i,isDateSelecting:n,isSelected:t===o,defaultDisplayEventEnd:c},y(e,s)))))}return f}renderFillSegs(e,t){let{isRtl:s}=this.context,{todayRange:a}=this.props,{framePositions:l}=this.state,i=[];if(l)for(let n of e){let e=s?{right:0,left:l.lefts[n.lastCol]-l.lefts[n.firstCol]}:{left:0,right:l.rights[n.firstCol]-l.rights[n.lastCol]};i.push(m("div",{key:x(n.eventRange),className:"fc-daygrid-bg-harness",style:e},"bg-event"===t?m(b,Object.assign({seg:n},y(n,a))):k(t)))}return m(v,{},...i)}updateSizing(e){let{props:t,state:s,frameElRefs:a}=this;if(!t.forPrint&&null!==t.clientWidth){if(e){let e=t.cells.map((e=>a.currentMap[e.key]));if(e.length){let t=this.rootElRef.current,a=new R(t,e,!0,!1);s.framePositions&&s.framePositions.similarTo(a)||this.setState({framePositions:new R(t,e,!0,!1)})}}const l=this.state.segHeights,i=this.querySegHeights(),n=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},l),i),maxContentHeight:n?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let s in e){let a=Math.round(e[s].getBoundingClientRect().height);t[s]=Math.max(t[s]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],s=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-s.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map((t=>e[t.key]))}}ut.addStateEquality({segHeights:n});class ft extends f{constructor(){super(...arguments),this.splitBusinessHourSegs=A(Le),this.splitBgEventSegs=A(Le),this.splitFgEventSegs=A(Le),this.splitDateSelectionSegs=A(Le),this.splitEventDrag=A(Ke),this.splitEventResize=A(Ke),this.rowRefs=new g}render(){let{props:e,context:t}=this,s=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,s),l=this.splitBgEventSegs(e.bgEventSegs,s),i=this.splitFgEventSegs(e.fgEventSegs,s),n=this.splitDateSelectionSegs(e.dateSelectionSegs,s),r=this.splitEventDrag(e.eventDrag,s),o=this.splitEventResize(e.eventResize,s),d=s>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return m(F,{unit:"day"},((t,c)=>m(v,null,e.cells.map(((t,u)=>m(ut,{ref:this.rowRefs.createRef(u),key:t.length?t[0].date.toISOString():u,showDayNumbers:s>1,showWeekNumbers:e.showWeekNumbers,todayRange:c,dateProfile:e.dateProfile,cells:t,renderIntro:e.renderRowIntro,businessHourSegs:a[u],eventSelection:e.eventSelection,bgEventSegs:l[u].filter(gt),fgEventSegs:i[u],dateSelectionSegs:n[u],eventDrag:r[u],eventResize:o[u],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new R(this.rootEl,this.rowRefs.collect().map((e=>e.getCellEls()[0])),!1,!0),this.colPositions=new R(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:s,rowPositions:a}=this,l=s.leftToIndex(e),i=a.topToIndex(t);if(null!=i&&null!=l){let e=this.props.cells[i][l];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(i,l),allDay:!0},e.extraDateSpan),dayEl:this.getCellEl(i,l),rect:{left:s.lefts[l],right:s.rights[l],top:a.tops[i],bottom:a.bottoms[i]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let s=this.props.cells[e][t].date;return{start:s,end:d(s,1)}}}function gt(e){return e.eventRange.def.allDay}class pt extends V{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}function ht(e,t){let s=new U(e.renderRange,t);return new B(s,/year|month|week/.test(e.currentRangeUnit))}function mt(e){let t,{dateEnv:s,currentRange:a}=e,{start:l,end:i}=a;if(e.snapToWeek&&(l=s.startOfWeek(l),t=s.startOfWeek(i),t.valueOf()!==i.valueOf()&&(i=o(t,1))),e.fixedWeekCount){let e=s.startOfWeek(s.startOfMonth(d(a.end,-1))),t=Math.ceil(c(e,i));i=o(i,6-t)}return{start:l,end:i}}u(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');class vt extends f{constructor(){super(...arguments),this.buildDayTableModel=A(ht),this.slicer=new pt,this.state={labelId:E()}}render(){const{props:e,state:t,context:s}=this,{dateProfile:a,forPrint:l}=e,{options:i}=s,n=this.buildDayTableModel(a,s.dateProfileGenerator),r=this.slicer.sliceProps(e,a,i.nextDayThreshold,s,n),o=null!=e.tableWidth?e.tableWidth/i.aspectRatio:null,d=n.cells.length,c=null!=o?o/d:null;return m("div",{ref:e.elRef,"data-date":e.isoDateStr,className:"fc-multimonth-month",style:{width:e.width},role:"grid","aria-labelledby":t.labelId},m("div",{className:"fc-multimonth-header",style:{marginBottom:c},role:"presentation"},m("div",{className:"fc-multimonth-title",id:t.labelId},s.dateEnv.format(e.dateProfile.currentRange.start,e.titleFormat)),m("table",{className:["fc-multimonth-header-table",s.theme.getClass("table")].join(" "),role:"presentation"},m("thead",{role:"rowgroup"},m(K,{dateProfile:e.dateProfile,dates:n.headerDates,datesRepDistinctDays:!1})))),m("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!l&&"fc-daygrid-body-balanced",l&&"fc-daygrid-body-unbalanced",l&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-c}},m("table",{className:["fc-multimonth-daygrid-table",s.theme.getClass("table")].join(" "),style:{height:l?"":o},role:"presentation"},m("tbody",{role:"rowgroup"},m(ft,Object.assign({},r,{dateProfile:a,cells:n.cells,eventSelection:e.eventSelection,dayMaxEvents:!l,dayMaxEventRows:!l,showWeekNumbers:i.weekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:l}))))))}}const yt=G(1,"month");function bt(e,t,s,a,l){const{start:i,end:n}=t.currentRange;let r=i;const o=[];for(;r.valueOf()<n.valueOf();){const i=s.add(r,yt),n={start:e.skipHiddenDays(r),end:e.skipHiddenDays(i,-1,!0)};let d=mt({currentRange:n,snapToWeek:!0,fixedWeekCount:a,dateEnv:s});d={start:e.skipHiddenDays(d.start),end:e.skipHiddenDays(d.end,-1,!0)};const c=t.activeRange?I(t.activeRange,l?d:n):null;o.push({currentDate:t.currentDate,isValid:t.isValid,validRange:t.validRange,renderRange:d,activeRange:c,currentRange:n,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:t.dateIncrement,slotMinTime:t.slotMaxTime,slotMaxTime:t.slotMinTime}),r=i}return o}const kt=i({year:"numeric",month:"long"}),xt=i({month:"long"});function Rt(e,t){return e||(t[0].currentRange.start.getUTCFullYear()!==t[t.length-1].currentRange.start.getUTCFullYear()?kt:xt)}const Ct={multiMonthTitleFormat:i,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};u(".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}");var wt=q({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:Ct,views:{multiMonth:{component:class extends f{constructor(){super(...arguments),this.splitDateProfileByMonth=A(bt),this.buildMonthFormat=A(Rt),this.scrollElRef=p(),this.firstMonthElRef=p(),this.needsScrollReset=!1,this.handleSizing=e=>{e&&this.updateSize()}}render(){const{context:e,props:t,state:s}=this,{options:a}=e,{clientWidth:l,clientHeight:i}=s,n=s.monthHPadding||0,r=Math.min(null!=l?Math.floor(l/(a.multiMonthMinWidth+n)):1,a.multiMonthMaxColumns)||1,o=100/r+"%",d=null==l?null:l/r-n,c=null!=l&&1===r,u=this.splitDateProfileByMonth(e.dateProfileGenerator,t.dateProfile,e.dateEnv,!c&&a.fixedWeekCount,a.showNonCurrentDates),f=this.buildMonthFormat(a.multiMonthTitleFormat,u),g=["fc-multimonth",c?"fc-multimonth-singlecol":"fc-multimonth-multicol",null!=d&&d<400?"fc-multimonth-compact":"",t.isHeightAuto?"":"fc-scroller"];return m(Y,{elRef:this.scrollElRef,elClasses:g,viewSpec:e.viewSpec},u.map(((e,s)=>{const a=L(e.currentRange.start);return m(vt,Object.assign({},t,{key:a,isoDateStr:a,elRef:0===s?this.firstMonthElRef:void 0,titleFormat:f,dateProfile:e,width:o,tableWidth:d,clientWidth:l,clientHeight:i}))})))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(e){n(e,this.props)||this.handleSizing(!1),e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){const e=this.scrollElRef.current,t=this.firstMonthElRef.current;e&&this.setState({clientWidth:e.clientWidth,clientHeight:e.clientHeight}),t&&e&&null==this.state.monthHPadding&&this.setState({monthHPadding:e.clientWidth-t.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&null!=this.state.monthHPadding){const{currentDate:e}=this.props.dateProfile,t=this.scrollElRef.current,s=t.querySelector(`[data-date="${L(e)}"]`);t.scrollTop=s.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}shouldComponentUpdate(){return!0}},dateProfileGeneratorClass:class extends r{buildRenderRange(e,t,s){let a=super.buildRenderRange(e,t,s),{props:l}=this;return mt({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:l.fixedWeekCount,dateEnv:l.dateEnv})}},multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});const St={class:"column is-12",id:"CalendarStyling"},Dt=["onClick"],_t={style:{"font-weight":"600","margin-bottom":"0px","padding-left":"10px",color:"#f1f1f1"}},Et={style:{"padding-right":"10px",color:"#f1f1f1"}},Tt=J({__name:"ProjectTasksCalendar",props:{projectID:{type:Number,required:!0}},setup(e){const t=e,s=X(),i=ee([]),n=ee(!1),r=ee([]),o={pending:"#f39c12",in_progress:"#3498db",completed:"#2ecc71",cancelled:"#e74c3c"},d=ee({plugins:[l,wt,Q],initialView:"dayGridMonth",dayMaxEventRows:!1,height:"auto",selectable:!0,editable:!1,views:{dayGridMonth:{slotDuration:{week:3,day:7},slotLabelFormat:{weekday:"short",month:"numeric",day:"numeric",year:"numeric"}}},headerToolbar:{left:"today prev,next",center:"title",right:"dayGridWeek,dayGridMonth,multiMonthYear"},events:[]});return te((()=>{(async()=>{try{n.value=!0;const e=await s.get(`api/task/${t.projectID}/project/`);i.value=e.data,r.value=i.value.map((e=>({id:e.id,start:e.startDate,end:Z(e.endDate),title:e.title,color:e.color||"#2c3e50",description:e.description,borderColor:o[e.status]||"#2c3e50",status:e.status,project:e.project}))),d.value.events=r.value}catch(e){console.error("Failed to fetch tasks:",e)}finally{n.value=!1}})()})),(e,t)=>(se(),ae("div",St,[le(oe(a),{options:d.value},{eventContent:ie((e=>[ne("div",{onClick:t=>{return s=e.event.extendedProps,void alert(`Task Detail:\n${s.title}\nStatus: ${s.status}`);var s},style:{display:"flex","flex-wrap":"wrap","align-items":"center","justify-content":"space-between",padding:"6px","background-color":"rgba(0, 0, 0, 0.3)"}},[ne("p",_t,re(e.event.title),1),ne("p",Et,re(new Date(e.event.start).toDateString())+" to "+re(new Date(e.event.end).toDateString()),1)],8,Dt)])),_:1},8,["options"])]))}}),jt=e=>(De("data-v-13f64b69"),e=e(),_e(),e),Mt={key:1},Pt={class:"list-flex-toolbar is-reversed"},Ot={class:"tabs-inner"},zt={class:"tabs"},It=[jt((()=>ne("span",null,"All",-1)))],Ht=[jt((()=>ne("span",null,"Calendar",-1)))],Nt=[jt((()=>ne("span",null,"Completed",-1)))],Wt=jt((()=>ne("li",{class:"tab-naver"},null,-1))),At={class:"flex-list-wrapper flex-list-v2"},Ft={key:0},Vt={class:"all-projects"},Ut={class:"all-projects-header"},Bt={class:"header-item"},$t={class:"item-inner"},Gt=jt((()=>ne("i",{"aria-hidden":"true",class:"lnil lnil-analytics-alt-1"},null,-1))),qt=jt((()=>ne("p",null,"Total Tasks",-1))),Lt={class:"header-item"},Yt={class:"item-inner"},Kt=jt((()=>ne("i",{"aria-hidden":"true",class:"lnil lnil-target-alt-1"},null,-1))),Qt=jt((()=>ne("p",null,"Completed Tasks",-1))),Xt={class:"header-item"},Zt={class:"item-inner"},Jt=jt((()=>ne("i",{"aria-hidden":"true",class:"lnil lnil-pie-chart-alt"},null,-1))),es=jt((()=>ne("p",null,"Pending Tasks",-1))),ts={class:"header-item"},ss={class:"item-inner"},as=jt((()=>ne("i",{"aria-hidden":"true",class:"lnil lnil-leaf"},null,-1))),ls=jt((()=>ne("p",null,"Active Tasks",-1))),is={key:0,class:"columns is-multiline projects-card-grid"},ns={class:"column is-6"},rs={class:"top-section"},os={class:"head"},ds=["onClick"],cs=["onClick"],us=[jt((()=>ne("div",{class:"icon"},[ne("i",{class:"lnir lnir-play","aria-hidden":"true"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Active"),ne("span",null,"Start work on this task")],-1)))],fs=["onClick"],gs=[jt((()=>ne("div",{class:"icon"},[ne("i",{class:"lnir lnir-playlist-alt","aria-hidden":"true"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Pending"),ne("span",null,"Waiting to work on")],-1)))],ps=["onClick"],hs=[jt((()=>ne("div",{class:"icon"},[ne("i",{class:"lnir lnir-round-box-check","aria-hidden":"true"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Completed"),ne("span",null,"Mark task as completed")],-1)))],ms=jt((()=>ne("hr",{class:"dropdown-divider"},null,-1))),vs=["onClick"],ys=[jt((()=>ne("div",{class:"icon"},[ne("i",{class:"lnir lnir-pencil-alt","aria-hidden":"true"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Edit"),ne("span",null,"Edit Task detail")],-1)))],bs=["onClick"],ks=[jt((()=>ne("div",{class:"icon"},[ne("i",{class:"lnir lnir-trash-can-alt-1","aria-hidden":"true"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Delete "),ne("span",null,"Delete this task")],-1)))],xs=["onClick"],Rs=["innerHTML"],Cs=["onClick"],ws={class:"foot-block"},Ss=jt((()=>ne("h4",{class:"heading"},"Worker(s)",-1))),Ds={class:"developers"},_s={class:"foot-block"},Es=jt((()=>ne("h4",{class:"heading"},"Start date",-1))),Ts={class:"foot-block"},js=jt((()=>ne("h4",{class:"heading"},"End date",-1))),Ms={class:"foot-block"},Ps=jt((()=>ne("h4",{class:"heading"},"Status",-1))),Os=jt((()=>ne("img",{class:"light-image is-larger",src:He,alt:""},null,-1))),zs=jt((()=>ne("img",{class:"dark-image is-larger",src:Ne,alt:""},null,-1))),Is={key:1},Hs={class:"all-projects"},Ns={key:0,class:"columns is-multiline projects-card-grid"},Ws=["onClick"],As={class:"grid-item"},Fs={class:"top-section"},Vs={class:"head"},Us=["onClick"],Bs=[jt((()=>ne("div",{class:"icon"},[ne("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Active"),ne("span",null,"Start work on this task")],-1)))],$s=["onClick"],Gs=[jt((()=>ne("div",{class:"icon"},[ne("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Pending"),ne("span",null,"Waiting to work on")],-1)))],qs=["onClick"],Ls=[jt((()=>ne("div",{class:"icon"},[ne("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Completed"),ne("span",null,"Mark task as completed")],-1)))],Ys=jt((()=>ne("hr",{class:"dropdown-divider"},null,-1))),Ks=["onClick"],Qs=[jt((()=>ne("div",{class:"icon"},[ne("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Edit"),ne("span",null,"Edit Task detail")],-1)))],Xs=["onClick"],Zs=[jt((()=>ne("div",{class:"icon"},[ne("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),jt((()=>ne("div",{class:"meta"},[ne("span",null,"Delete "),ne("span",null,"Delete this task")],-1)))],Js={class:"body"},ea={class:"bottom-section"},ta={class:"foot-block"},sa=jt((()=>ne("h4",{class:"heading"},"Worker(s)",-1))),aa={class:"developers"},la={class:"foot-block"},ia=jt((()=>ne("h4",{class:"heading"},"Start date",-1))),na={class:"foot-block"},ra=jt((()=>ne("h4",{class:"heading"},"End date",-1))),oa={class:"foot-block"},da=jt((()=>ne("h4",{class:"heading"},"Status",-1))),ca=jt((()=>ne("img",{class:"light-image is-larger",src:He,alt:""},null,-1))),ua=jt((()=>ne("img",{class:"dark-image is-larger",src:Ne,alt:""},null,-1))),fa={key:2},ga={class:"all-projects"},pa=Ee(J({__name:"ProjectsTasks",props:{projectID:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(a,{emit:l}){const i=a,n=de(),r=X(),o=We();ee(1);const d=ee("");ee("Edit Project"),ee("Add Task");const c=ee(""),u=ee("active"),f=ee(0),g=ee(!1),p=ee(!1),h=ee(0),m=ee({}),v=ee(""),y=ee(!1),b=ee("");ee([{id:0,username:"",email:"",phoneNumber:""}]);const k=ee([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}],quantity:"",unit:"",costCode:""}]),x=ee({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),R=(e,t)=>{console.log("detail",e),m.value=e,b.value=t,y.value=!0},C=e=>{h.value=e,x.value={title:"Delete Task?",subtitle:"Do you really want to delete this task permanently?",btntext:"Yes, Delete",isSweetAlertOpen:!0}},w=async()=>{try{g.value=!0;const e=await r.get(`api/task/${i.projectID}/project/`);k.value=e.data,console.log(e.data)}catch(e){console.log(e)}finally{g.value=!1}},S={active:"#336aeb",pending:"#faad42",canceled:"#e62864",completed:"#f3c2c2ff"},D={active:"info",pending:"warning",canceled:"danger",completed:"primary"},_=ce((()=>{let e=k.value.filter((e=>"active"==e.status));return l("update:completedTasks",e.length),e.length})),E=ce((()=>{let e=k.value.filter((e=>"pending"==e.status));return l("update:activeTasks",e.length),e.length})),T=ce((()=>k.value.filter((e=>"completed"==e.status)).length)),j=e=>{v.value=e,p.value=!0},M=()=>{w(),p.value=!1,v.value=""},P=async(e,t)=>{try{g.value=!0;await r.patch(`/api/task/${e}/`,{status:t,schedule_mode:localStorage.getItem("isScheduleMode")});w(),o.success(`Task set to ${t} successfully`),f.value=0,g.value=!1}catch(s){console.log(s)}},O=async()=>{try{g.value=!0;const e=await r.delete(`/api/task/${h.value}/`);console.log(e),o.success("Task deleted successfully"),w(),x.value.isSweetAlertOpen=!1,f.value=0}catch(e){console.log(e)}finally{g.value=!1}},z=ce((()=>{if(c.value){const e=new RegExp(c.value,"i");return k.value.filter((t=>"completed"!=t.status&&(t.title.match(e)||t.description.match(e)||t.status.match(e))))}return k.value.filter((e=>"completed"!=e.status))})),I=ce((()=>{if(c.value){const e=new RegExp(c.value,"i");return k.value.filter((t=>"completed"==t.status&&(t.title.match(e)||t.description.match(e)||t.status.match(e))))}return k.value.filter((e=>"completed"==e.status))}));return te((()=>{w()})),(a,l)=>{const r=Ie,o=ze,f=Re,h=Ce,H=Oe,N=Pe,W=Me,A=je,F=Tt,V=s,U=t,B=e,$=ue("tooltip");return se(),ae(ke,null,[oe(g)?(se(),fe(r,{key:0})):(se(),ae("div",Mt,[ne("div",Pt,[le(h,null,{default:ie((()=>[le(o,{class:"mr-2 h-hidden-mobile",icon:"feather:search"},{default:ie((()=>[ge(ne("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>he(c)?c.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[pe,oe(c)]])])),_:1}),"client"!=oe(n).user.role?(se(),fe(f,{key:0,onClick:l[1]||(l[1]=e=>j()),color:"primary",icon:"fas fa-plus",elevated:"",raised:""},{default:ie((()=>[me("Task")])),_:1})):ve("",!0)])),_:1}),ne("div",Ot,[ne("div",zt,[ne("ul",null,[ne("li",{class:ye(["active"===oe(u)&&"is-active"])},[ne("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=be(we((e=>u.value="active"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>u.value="active")},It,32)],2),ne("li",{class:ye(["calendar"===oe(u)&&"is-active"])},[ne("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=be(we((e=>u.value="calendar"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>u.value="calendar")},Ht,32)],2),ne("li",{class:ye(["closed"===oe(u)&&"is-active"])},[ne("a",{tabindex:"0",role:"button",onKeydown:l[6]||(l[6]=be(we((e=>u.value="closed"),["prevent"]),["space"])),onClick:l[7]||(l[7]=e=>u.value="closed")},Nt,32)],2),Wt])])])]),ne("div",At,["active"===oe(u)?(se(),ae("div",Ft,[ne("div",Vt,[ne("div",Ut,[ne("div",Bt,[ne("div",$t,[Gt,ne("span",null,re(oe(k).length),1),qt])]),ne("div",Lt,[ne("div",Yt,[Kt,ne("span",null,re(oe(T)),1),Qt])]),ne("div",Xt,[ne("div",Zt,[Jt,ne("span",null,re(oe(E)),1),es])]),ne("div",ts,[ne("div",ss,[as,ne("span",null,re(oe(_)),1),ls])])]),oe(z).length?(se(),ae("div",is,[(se(!0),ae(ke,null,xe(oe(z),(e=>(se(),ae("div",ns,[ne("div",{class:"grid-item cu-pointer",style:Se({backgroundImage:`linear-gradient(350deg, transparent 65%, ${S[e.status]}30)`})},[ne("div",rs,[ne("div",os,[ne("h3",{onClick:t=>R(e,e.id),class:"cu-pointer"},re(e.title),9,ds),"client"!=oe(n).user.role?(se(),fe(H,{key:0,icon:"feather:more-vertical",spaced:"",right:""},{content:ie((()=>[ne("a",{onClick:t=>P(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},us,8,cs),ne("a",{onClick:t=>P(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},gs,8,fs),ne("a",{onClick:t=>P(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},hs,8,ps),ms,ne("a",{onClick:t=>j(e.id),role:"menuitem",class:"dropdown-item is-media"},ys,8,vs),ne("a",{onClick:t=>C(e.id),role:"menuitem",class:"dropdown-item is-media"},ks,8,bs)])),_:2},1024)):ve("",!0)]),ne("div",{onClick:t=>R(e,e.id),class:"body cu-pointer"},[ne("p",{innerHTML:e.description},null,8,Rs)],8,xs)]),ne("div",{onClick:t=>R(e,e.id),class:"cu-pointer bottom-section"},[ne("div",ws,[Ss,ne("div",Ds,[(se(!0),ae(ke,null,xe(e.workers,(e=>ge((se(),fe(N,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[$,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),ne("div",_s,[Es,ne("p",null,re(e.startDate),1)]),ne("div",Ts,[js,ne("p",null,re(e.endDate),1)]),ne("div",Ms,[Ps,le(W,{outlined:"",rounded:"",style:{"text-transform":"capitalize"},color:D[e.status]},{default:ie((()=>[me(re(e.status),1)])),_:2},1032,["color"])])],8,Cs)],4)])))),256))])):(se(),fe(A,{key:1,title:"There is no task added on this projects.",subtitle:"Looks like you don't have any task on this project yet. When you'll\n                start creating tasks of this project, they will be showing up in here."},{image:ie((()=>[Os,zs])),_:1}))])])):"closed"===oe(u)?(se(),ae("div",Is,[ne("div",Hs,[oe(I).length?(se(),ae("div",Ns,[(se(!0),ae(ke,null,xe(oe(I),(e=>(se(),ae("div",{onClick:t=>R(e,e.id),class:"column is-6"},[ne("div",As,[ne("div",Fs,[ne("div",Vs,[ne("h3",null,re(e.title),1),le(H,{icon:"feather:more-vertical",spaced:"",right:""},{content:ie((()=>[ne("a",{onClick:t=>P(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Bs,8,Us),ne("a",{onClick:t=>P(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Gs,8,$s),ne("a",{onClick:t=>P(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Ls,8,qs),Ys,ne("a",{onClick:t=>j(e.id),role:"menuitem",class:"dropdown-item is-media"},Qs,8,Ks),ne("a",{onClick:t=>C(e.id),role:"menuitem",class:"dropdown-item is-media"},Zs,8,Xs)])),_:2},1024)]),ne("div",Js,[ne("p",null,re(e.description),1)])]),ne("div",ea,[ne("div",ta,[sa,ne("div",aa,[(se(!0),ae(ke,null,xe(e.workers,(e=>ge((se(),fe(N,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[$,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),ne("div",la,[ia,ne("p",null,re(e.startDate),1)]),ne("div",na,[ra,ne("p",null,re(e.endDate),1)]),ne("div",oa,[da,ne("p",null,re(e.status),1)])])])],8,Ws)))),256))])):(se(),fe(A,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:ie((()=>[ca,ua])),_:1}))])])):"calendar"===oe(u)?(se(),ae("div",fa,[ne("div",ga,[le(F,{projectID:i.projectID},null,8,["projectID"])])])):ve("",!0)])])),oe(y)?(se(),fe(V,{key:2,taskDetailModal:oe(y),taskData:oe(m),taskId:oe(b),"onUpdate:modalHandler":l[8]||(l[8]=e=>y.value=!1)},null,8,["taskDetailModal","taskData","taskId"])):ve("",!0),oe(x).isSweetAlertOpen?(se(),fe(U,{key:3,isSweetAlertOpen:oe(x).isSweetAlertOpen,title:oe(x).title,subtitle:oe(x).subtitle,btntext:oe(x).btntext,onConfirm:O,loading:oe(g),onCancel:()=>oe(x).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","loading","onCancel"])):ve("",!0),oe(p)?(se(),fe(B,{key:4,projectID:i.projectID,isOpen:oe(p),taskIdSelected:oe(v),startDate:oe(d),"onUpdate:modalHandler":M,"onUpdate:OnSuccess":w},null,8,["projectID","isOpen","taskIdSelected","startDate"])):ve("",!0)],64)}}}),[["__scopeId","data-v-13f64b69"]]),ha=e=>(De("data-v-0c7f5f21"),e=e(),_e(),e),ma={class:"tile-grid-toolbar"},va={class:"buttons"},ya={class:"tile-grid tile-grid-v2"},ba=ha((()=>ne("img",{class:"light-image",src:Be,alt:""},null,-1))),ka=ha((()=>ne("img",{class:"dark-image",src:$e,alt:""},null,-1))),xa={class:"tile-grid-item"},Ra={class:"tile-grid-item-inner"},Ca={class:"meta"},wa={class:"dark-inverted"},Sa=["onClick"],Da=[ha((()=>ne("div",{class:"icon"},[ne("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1))),ha((()=>ne("div",{class:"meta"},[ne("span",null,"Delete"),ne("span",null,"Delete this file")],-1)))],_a={class:"modal-form columns is-multiline"},Ea={class:"file has-name"},Ta={class:"file-label"},ja=ha((()=>ne("span",{class:"file-cta"},[ne("span",{class:"file-icon"},[ne("i",{class:"fas fa-cloud-upload-alt"})]),ne("span",{class:"file-label"}," Choose a file… ")],-1))),Ma={class:"file-name light-text"},Pa=Ee(J({__name:"ProjectFiles",props:{projectId:{},files:{}},emits:["update:onUploadFile"],setup(e,{emit:s}){const a=e,l=X(),i=We(),n=ee(!1),r=ee(!1),o=ee(""),d=ce((()=>o.value?a.files.filter((e=>e.match(new RegExp(o.value,"i")))):a.files)),c=ee(""),u=ee(""),f=ee("");let g=null;const p=async()=>{try{n.value=!0;const e=await l.post(`/api/task/bulk-upload/${a.projectId}/`,{file:g,start:f.value});i.green("Tasks Will be generated automatically"),console.log(e),s("update:onUploadFile",null),n.value=!1}catch(e){console.log(e)}finally{r.value=!1}},h=e=>{const t=e.match(/\d{4}-\d{2}-\d{2}/);if(t){return t[0]}return"N/A"},m=e=>{let t=e.target.files[0];g=t,u.value=t.name},v=ee({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),y=async()=>{try{n.value=!0;await l.patch(`/api/project/${a.projectId}/delete-doc-tasks/`,{document_name:c.value});s("update:onUploadFile",null),i.success("Sheet deleted successfully!"),v.value.isSweetAlertOpen=!1}catch(e){console.log(e)}finally{n.value=!1}};return(e,s)=>{const a=ze,l=Re,i=je,n=Oe,g=t,b=Ue,k=Ve,x=Fe,R=Ae;return se(),ae(ke,null,[ne("div",null,[ne("div",ma,[le(a,{icon:"feather:search"},{default:ie((()=>[ge(ne("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>he(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[pe,oe(o)]])])),_:1}),ne("div",va,[le(l,{icon:"fas fa-plus",raised:"",size:"small",light:"",onClick:s[1]||(s[1]=e=>r.value=!oe(r)),outlined:"",color:"primary"},{default:ie((()=>[me(" File ")])),_:1})])]),ne("div",ya,[le(i,{class:ye([0!==oe(d).length&&"is-hidden"]),title:"There is not file uploaded",subtitle:"There is no file uploaded on this project to create the tasks. As you will upload the file and that will appear here on the spot",larger:""},{image:ie((()=>[ba,ka])),_:1},8,["class"]),le(Te,{name:"list",tag:"div",class:"columns is-multiline"},{default:ie((()=>[(se(!0),ae(ke,null,xe(oe(d),(e=>(se(),ae("div",{key:e.id,class:"column is-6"},[ne("div",xa,[ne("div",Ra,[ne("img",{src:Ge,alt:"",onErrorOnce:s[2]||(s[2]=e=>oe(qe)(150))},null,32),ne("div",Ca,[ne("span",wa,re(e.length>20?e.slice(0,24):e),1),ne("span",null,[ne("span",null,"Updated: "+re(h(e)),1)])]),le(n,{icon:"feather:more-vertical",spaced:"",right:""},{content:ie((()=>[ne("a",{onClick:t=>{return s=e,c.value=s,void(v.value={title:"Are you sure?",subtitle:"This file and all task generated from this file will be deleted permanently!",btntext:"Yes, Delete it",isSweetAlertOpen:!0});var s},role:"menuitem",class:"dropdown-item is-media"},Da,8,Sa)])),_:2},1024)])])])))),128))])),_:1})])]),oe(v).isSweetAlertOpen?(se(),fe(g,{key:0,isSweetAlertOpen:oe(v).isSweetAlertOpen,title:oe(v).title,subtitle:oe(v).subtitle,btntext:oe(v).btntext,onConfirm:y,onCancel:()=>oe(v).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):ve("",!0),le(R,{is:"form",open:oe(r),title:"Upload Task File",size:"medium",actions:"right",onClose:s[5]||(s[5]=e=>r.value=!1),onSubmit:we(p,["prevent"])},{content:ie((()=>[ne("div",_a,[le(x,{class:"column is-12"},{default:ie((()=>[le(b,null,{default:ie((()=>[me("Start date of task")])),_:1}),le(a,null,{default:ie((()=>[le(k,{modelValue:oe(f),"onUpdate:modelValue":s[3]||(s[3]=e=>he(f)?f.value=e:null),type:"date"},null,8,["modelValue"])])),_:1})])),_:1}),le(x,{class:"column is-12",grouped:""},{default:ie((()=>[le(a,null,{default:ie((()=>[ne("div",Ea,[ne("label",Ta,[ne("input",{onChange:m,class:"file-input",type:"file",name:"file",required:""},null,32),ja,ne("span",Ma,re(oe(u)?oe(u):"Upload any file"),1)])])])),_:1})])),_:1})])])),cancel:ie((()=>[le(l,{onClick:s[4]||(s[4]=e=>r.value=!1),raised:""},{default:ie((()=>[me("Close")])),_:1})])),action:ie((()=>[le(l,{type:"submit",color:"primary",raised:""},{default:ie((()=>[me("Upload")])),_:1})])),_:1},8,["open","onSubmit"])],64)}}}),[["__scopeId","data-v-0c7f5f21"]]);export{Pa as _,pa as a,Tt as b};
