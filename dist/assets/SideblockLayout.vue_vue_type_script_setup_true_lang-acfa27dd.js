import{_ as e,a as s,b as a,c as l,d as i,e as r,f as n}from"./UserProfileDropdown-945463a8.js";import{_ as t}from"./VPageContent-77316b43.js";import{_ as o}from"./VField.vue_vue_type_script_setup_true_lang-0842cb1a.js";import{_ as c}from"./VControl-328926fd.js";import{_ as d}from"./VAvatar.vue_vue_type_style_index_0_lang-ab92b7f4.js";import{f as u,y as p,r as h,x as m,C as b,O as g,G as y,F as k,m as v,D as f,V as _,W as x,N as w,L as C,X as T,E as j,k as I,K as P,U as S,H as L,J as A,$ as M,Z as U,I as $,b as D,B as K,v as N,T as J,aq as O,o as V,j as B,w as F,a1 as W}from"./index-ff8cc036.js";import{_ as R}from"./whatsapp-93d30726.js";import{u as q}from"./useAPI-9b3b30e1.js";import{u as E}from"./company-915907e4.js";import{s as H,h as z}from"./useSupportElement-ace64250.js";import{_ as G,a as X,b as Q}from"./LayoutsMobileSubsidebar-af0c0253.js";import{_ as Z}from"./SearchPanel.vue_vue_type_style_index_0_lang-320651af.js";import{_ as Y}from"./CircularMenu.vue_vue_type_style_index_0_lang-3e83fd6f.js";import{_ as ee}from"./AnimatedLogo-a2fb5274.js";import{u as se}from"./panels-c9c0f50c.js";import{u as ae}from"./viewWrapper-16b9e937.js";import{u as le}from"./layoutSwitcher-905ca81e.js";import{u as ie}from"./useNotyf-9ffdf924.js";const re={key:0,class:"is-active search-results has-slimscroll"},ne={class:"ml-2",style:{display:"flex","flex-direction":"column","text-align":"left"}},te=["onClick"],oe=["src","onClick"],ce=["onClick"],de=j("img",{src:R,style:{width:"12px",height:"12px","margin-top":"3px","margin-right":"2px"}},null,-1),ue={key:1,class:"is-active search-results has-slimscroll"},pe=[j("h1",{class:"p-4 light-text"},"No result found",-1)],he=["onKeydown"],me=[j("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],be=u({__name:"SearchWorkerInput",setup(e){const s=q();p();const a=h(!1),l=E(),i=h(""),r=m(),n=h([]),t=z((()=>{i.value?u():n.value=[]}),500),u=async()=>{try{a.value=!0;const e=await s.get(`/v3/api/worker/workers-for-options/${l.loggedCompany.id}/?search=${i.value}`,{});n.value=e.data}catch(e){console.error("Error while searching",e)}finally{a.value=!1}},M=e=>{r.push(`/sidebar/company/workers/${e}`),U()},U=()=>{i.value="",n.value=[]};return(e,s)=>{const l=d,r=c,u=o;return b(),g(u,{class:"mt-4"},{default:y((()=>[k(r,{icon:v(a)?"feather:loader":"feather:search"},{extra:y((()=>[v(n).length>0?(b(),f("div",re,[(b(!0),f(_,null,x(v(n),(e=>(b(),f("div",{key:e.id,class:"search-result cu-pointer"},[k(l,{class:"cus-pointer",picture:e.profileImageURL,onClick:s=>M(e.id)},null,8,["picture","onClick"]),j("div",ne,[j("span",{class:"item-name dark-inverted",style:{"margin-bottom":"2px !important","font-weight":"500"},onClick:s=>M(e.id)},[P(S(e.firstName)+" "+S(e.lastName)+" ",1),j("img",{style:{width:"20px",height:"20px"},src:e.industry.industryLogo,onClick:s=>M(e.id)},null,8,oe)],8,te),j("div",{onClick:s=>v(H)(e.phoneNumber),style:{color:"var(--light-text)",display:"flex",gap:"4px","algin-items":"center"}},[de,P(" "+S(e.phoneNumber),1)],8,ce)])])))),128))])):w("",!0),v(n).length||!v(i)||v(a)?w("",!0):(b(),f("div",ue,pe))])),default:y((()=>[C(j("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>I(i)?i.value=e:null),type:"text",class:"input is-rounded search-input cus-searchInput",placeholder:"Search...",onInput:s[1]||(s[1]=(...e)=>v(t)&&v(t)(...e))},null,544),[[T,v(i)]]),v(i)?(b(),f("div",{key:0,class:"form-icon is-right",tabindex:"0",role:"button",onKeydown:L(A(U,["prevent"]),["space"]),onClick:U},me,40,he)):w("",!0)])),_:1},8,["icon"])])),_:1})}}}),ge={class:"sidebar-block-header"},ye={class:"sidebar-block-inner"},ke={class:"sidebar-block-footer"},ve=u({__name:"Sideblock",props:{theme:{default:"default"},isOpen:{type:Boolean}},setup(e){const s=e,a=M((()=>{switch(s.theme){case"color":return"is-colored";case"curved":return"is-curved";case"color-curved":return"is-colored is-curved";default:return""}}));return(e,s)=>(b(),f("div",{class:$(["sidebar-block is-active",[v(a)]])},[j("div",ge,[U(e.$slots,"header")]),j("div",ye,[j("ul",null,[U(e.$slots,"links")])]),j("div",ke,[U(e.$slots,"bottom-links")])],2))}}),fe=h([{title:"Dashboard",icon:"lnir lnir-bar-chart",class:"single-link",route:"/sidebar/dashboard",linkType:"single"},{title:"Jobs & Leads",icon:"lnir lnir-library",collapseId:"estimates",class:"collapse-wrap",headerIcon:"lnir lnir-library",headerTitle:"Jobs & Leads",linkType:"collapse",children:[{title:"Lead Opportunity",icon:"lnir lnir-cloud-search",class:"is-submenu",route:"/sidebar/dashboard/leads",activeClass:"leads"},{title:"All Jobs",icon:"lnir lnir-suitcase",class:"is-submenu",route:"/sidebar/dashboard/jobs",activeClass:"projects"},{title:"Jobs Manager",icon:"lnir lnir-appointment",class:"is-submenu",route:"/sidebar/dashboard/manage-projects",activeClass:"manage-projects"},{title:"Workers Chart",icon:"lnir lnir-calendar",class:"is-submenu",route:"/sidebar/dashboard/workers-tasks",activeClass:"workers-tasks"},{title:"Lead Proposals",icon:"lnir lnir-add-files",class:"is-submenu",route:"/sidebar/dashboard/proposals"},{title:"Completed Jobs",icon:"lnir lnir-list",class:"is-submenu",route:"/sidebar/dashboard/completed-projects",activeClass:"pre-construction"}]},{title:"Finance",icon:"lnir lnir-bank",collapseId:"payments",class:"collapse-wrap",headerIcon:"lnir lnir-bank",userIds:["f6c283ec-9499-4983-997c-0456362e6650","73462666-c7f0-41eb-b978-24f5ffe7a539"],linkType:"collapse",headerTitle:"Finance",children:[{title:"Create Payment",icon:"lnir lnir-paypal",class:"is-submenu",route:"/sidebar/dashboard/create-payment",activeClass:"projects"},{title:"All Payments",icon:"lnir lnir-invest-monitor",class:"is-submenu",route:"/sidebar/dashboard/received-payments",activeClass:"received-payments"},{title:"Approved Payments",icon:"lnir lnir-diagnosis-alt",class:"is-submenu",route:"/sidebar/dashboard/approved-payments",activeClass:"approved-payments"}]},{title:"System Users",icon:"lnir lnir-users",collapseId:"users",class:"collapse-wrap",headerIcon:"lnir lnir-users",headerTitle:"System Users",linkType:"collapse",children:[{title:"Clients",icon:"lnir lnir-user-alt-2",class:"is-submenu",route:"/sidebar/dashboard/clients"},{title:"Managers",icon:"lnir lnir-user-alt-1",class:"is-submenu",route:"/sidebar/dashboard/managers"},{title:"Contractors",icon:"lnir lnir-user-alt",class:"is-submenu",route:"/sidebar/dashboard/contractors"},{title:"Sub Contractors",icon:"lnir lnir-user",class:"is-submenu",route:"/sidebar/dashboard/subcontractors"},{title:"Workers",icon:"lnir lnir-users",class:"is-submenu",route:"/sidebar/dashboard/workers"}]},{title:"Settings",icon:"lnir lnir-cogs",collapseId:"setting",class:"collapse-wrap",headerIcon:"lnir lnir-cogs",headerTitle:"Settings",linkType:"collapse",children:[{title:"Company Settings",icon:"lnir lnir-cog",class:"is-submenu",route:"/sidebar/dashboard/company-settings"},{title:"Templates & Catalogs",icon:"lnir lnir-files",class:"is-submenu",route:"/sidebar/dashboard/proposal-templates"}]},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/dashboard/profile",linkType:"single"}]),_e=h([{title:"My Tasks",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/worker/tasks",linkType:"single"},{title:"Tasks Calendar",icon:"lnir lnir-calender-alt-1",class:"single-link",route:"/sidebar/worker/calendar",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/worker/profile",linkType:"single"}]),xe=h([{title:"My Projects",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/contractor/projects",linkType:"single"},{title:"Projects Calendar",icon:"lnir lnir-calender-alt-1",class:"single-link",route:"/sidebar/contractor/calendar",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/contractor/profile",linkType:"single"}]),we=h([{title:"My Projects",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/manager/projects",linkType:"single"},{title:"Projects Calendar",icon:"lnir lnir-calender-alt-1",class:"single-link",route:"/sidebar/manager/calendar",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/manager/profile",linkType:"single"}]),Ce=h([{title:"My Projects",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/client/projects",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/client/profile",linkType:"single"}]),Te={class:"mobile-subsidebar"},je={class:"inner"},Ie=j("div",{class:"sidebar-title"},[j("h3",null,"Ibex WorkHub")],-1),Pe={class:"submenu","data-simplebar":""},Se={key:0},Le=j("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),Ae=j("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),Me=j("li",{class:"divider"},null,-1),Ue=u({__name:"CustomAdminMobileSidebar",setup(e){const s=D(),a=h({worker:_e,client:Ce,manager:we,contractor:xe,admin:fe,superAdmin:fe});return(e,l)=>{const i=K("RouterLink"),r=G;return b(),f("div",Te,[j("div",je,[Ie,j("ul",Pe,[(b(!0),f(_,null,x(v(a)[v(s).user.role],(e=>(b(),f(_,{key:e.title},["single"==e.linkType?(b(),f("li",Se,[k(i,{to:e.route},{default:y((()=>[P(S(e.title),1)])),_:2},1032,["to"])])):"collapse"==e.linkType?(b(),g(r,{key:1},{header:y((()=>[P(S(e.headerTitle)+" ",1),Le,Ae])),default:y((()=>[(b(!0),f(_,null,x(e.children,(e=>(b(),g(i,{to:e.route,class:"is-submenu"},{default:y((()=>[j("i",{class:$(e.icon),"aria-hidden":"true"},null,2),j("span",null,S(e.title),1)])),_:2},1032,["to"])))),256))])),_:2},1024)):w("",!0)],64)))),128)),Me])])])}}}),$e="/logos/ibexwhite.png",De={class:"sidebar-layout"},Ke={class:"brand-end"},Ne=[j("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:activity"},null,-1)],Je={key:0},Oe=[j("img",{style:{height:"26px",width:"24px",cursor:"pointer",float:"right"},src:"/images/icons/sidebarclose.png"},null,-1)],Ve={key:0},Be={class:"icon"},Fe={class:"icon"},We=j("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),Re=j("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),qe={class:"icon"},Ee=j("div",{class:"pb-3"},null,-1),He={style:{width:"100%",height:"100%","margin-top":"60px",display:"flex",gap:"12px","flex-direction":"column","justify-content":"center","align-items":"center"}},ze=j("div",{style:{width:"100%",height:"auto",display:"flex","justify-content":"center","border-radius":"16px","align-items":"center"}},[j("img",{style:{width:"120px",height:"100%","background-color":"transparent","border-radius":"12px",display:"block"},src:$e})],-1),Ge=[j("span",{class:"menu-toggle has-chevron"},[j("img",{style:{height:"22px",width:"20px",cursor:"pointer"},src:"/images/icons/sidebarOpen.png"})],-1)],Xe={key:0},Qe={class:"icon",id:"cus-spanLink"},Ze={key:1},Ye={class:"icon"},es={class:"icon"},ss={class:"page-title has-text-centered"},as={class:"vuero-hamburger nav-trigger push-resize",tabindex:"0",role:"button"},ls=[j("span",null,[j("i",{style:{color:"var(--primary)","background-color":"transparent"},class:"lnir lnir-chevron-left","aria-hidden":"true"})],-1)],is={class:"title-wrap is-flex cu-align-center"},rs={class:"title is-4 mr-2"},ns={class:"toolbar"},ts=[j("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:grid"},null,-1)],os={class:"toolbar-link"},cs=["checked"],ds=j("span",null,null,-1),us=u({__name:"SideblockLayout",props:{theme:{default:"default"},defaultSideblock:{default:"dashboard"},closeOnChange:{type:Boolean},openOnMounted:{type:Boolean},nowrap:{type:Boolean}},setup(o){const c=o,d=D(),u=h({worker:_e,client:Ce,manager:we,contractor:xe,admin:fe,superAdmin:fe,ultraAdmin:fe}),C=h({worker:!1,client:!1,manager:!0,contractor:!0,admin:!0,superAdmin:!0});ie(),h([{id:0,page:"",count:0,user:0}]);const T=le(),P=m(),R=p();q(),h(!1),h(!1);const H=ae(),z=se(),re=h(""),ne=h(!1),te=h(!0),oe=h(c.defaultSideblock);E();const ce=N(),{locale:de}=J();h({all:0,archived:0,industries:[]}),h({all:0,archived:0,industries:[]}),M((()=>{switch(de.value){case"fr":return"/images/icons/flags/france.svg";case"es":return"/images/icons/flags/spain.svg";case"es-MX":return"/images/icons/flags/mexico.svg";case"de":return"/images/icons/flags/germany.svg";case"zh-CN":return"/images/icons/flags/china.svg";case"ar":return"/images/icons/flags/saudi-arabia.svg";default:return"/images/icons/flags/united-states-of-america.svg"}})),O((()=>{H.setPushedBlock(te.value??!1)})),O((()=>{T.setDynamicLayoutId(ce.isDark?"sideblock-default":"sideblock-color")})),h(!1);const ue=M((()=>"/sidebar/company"!==R.path)),pe=h(""),he=()=>{const e=new Date;pe.value=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})};let me=h(0);return V((()=>{he(),me.value=setInterval(he,1e3)})),B((()=>{clearInterval(me.value)})),F((()=>R.fullPath),((e,s)=>{ne.value=!1,c.closeOnChange&&te.value})),V((()=>{H.setPushed(!1)})),(o,p)=>{const h=ee,m=K("RouterLink"),T=e,M=s,D=a,N=Ue,J=X,O=Y,V=G,B=ve,F=l,q=i,E=Z,se=Q,ae=be,le=t,ie=r,de=n;return b(),f("div",De,[k(M,{"is-open":v(ne),onToggle:p[0]||(p[0]=e=>ne.value=!v(ne))},{brand:y((()=>[k(m,{to:"/sidebar/dashboard",class:"navbar-item is-brand"},{default:y((()=>[k(h,{width:"38px",height:"38px",style:{cursor:"pointer"}})])),_:1}),j("div",Ke,[k(T)])])),_:1},8,["is-open"]),k(D,{"is-open":v(ne),onToggle:p[3]||(p[3]=e=>ne.value=!v(ne))},{links:y((()=>[j("li",null,[j("a",{class:$(["dashboard"===v(oe)&&"is-active"]),"aria-label":"Display dashboard content",tabindex:"0",role:"button",onKeydown:p[1]||(p[1]=L(A((e=>oe.value="dashboard"),["prevent"]),["space"])),onClick:p[2]||(p[2]=e=>oe.value="dashboard")},Ne,34)])])),"bottom-links":y((()=>[j("li",null,[k(h)])])),_:1},8,["is-open"]),k(W,{name:"slide-x"},{default:y((()=>[v(ne)&&"dashboard"===v(oe)?(b(),g(N,{key:0})):v(ne)&&"layout"===v(oe)?(b(),g(J,{key:1})):w("",!0)])),_:1}),k(O),k(W,{name:"slide-x"},{default:y((()=>[v(te)?(b(),g(B,{key:0,class:"is-curved is-colored",theme:c.theme},{header:y((()=>[j("div",{onClick:p[5]||(p[5]=e=>v(P).push("/sidebar/dashboard")),style:{width:"280px","margin-top":"20px","margin-left":"20px",height:"100%",overflow:"hidden"}},[j("img",{style:{width:"auto",height:"100%",display:"block",margin:"0","border-radius":"12px",cursor:"pointer"},onClick:p[4]||(p[4]=e=>v(P).push("/sidebar/dashboard")),src:$e})]),j("div",{onKeydown:p[6]||(p[6]=L(A((e=>te.value=!v(te)),["prevent"]),["space"])),onClick:p[7]||(p[7]=e=>te.value=!v(te)),style:{width:"100%",display:"flex, align-items:right"}},[v(te)?(b(),f("span",Je,Oe)):w("",!0)],32)])),links:y((()=>[(b(!0),f(_,null,x(v(u)[v(d).user.role],(e=>(b(),f(_,{key:e.title},["single"===e.linkType?(b(),f("li",Ve,[k(m,{to:e.route,class:$(e.class)},{default:y((()=>[j("span",Be,[j("i",{class:$(e.icon),"aria-hidden":"true"},null,2)]),j("span",null,S(e.title),1)])),_:2},1032,["to","class"])])):"collapse"===e.linkType?(b(),g(V,{key:1,open:v(re),"onUpdate:open":p[8]||(p[8]=e=>I(re)?re.value=e:null),"collapse-id":e.collapseId,class:"collapse-wrap"},{header:y((()=>[j("div",Fe,[j("i",{class:$(e.headerIcon),"aria-hidden":"true"},null,2)]),j("span",null,S(e.headerTitle),1),We,Re])),default:y((()=>[(b(!0),f(_,null,x(e.children,(e=>(b(),g(m,{key:e.title,to:e.route,class:$(["is-submenu",{active:v(R).query.tab===e.activeClass}])},{default:y((()=>[j("span",qe,[j("i",{class:$(e.icon),"aria-hidden":"true"},null,2)]),j("span",null,S(e.title),1)])),_:2},1032,["to","class"])))),128))])),_:2},1032,["open","collapse-id"])):w("",!0)],64)))),128))])),"bottom-links":y((()=>[k(T,{left:""}),j("p",null,S(v(pe)),1),Ee])),_:1},8,["theme"])):(b(),g(B,{key:1,style:{width:"100px"},class:"is-curved",theme:c.theme},{header:y((()=>[j("div",He,[ze,j("div",{onKeydown:p[9]||(p[9]=L(A((e=>te.value=!v(te)),["prevent"]),["space"])),onClick:p[10]||(p[10]=e=>te.value=!v(te)),style:{"margin-top":"16px",display:"flex","justify-content":"center","align-items":"center"}},Ge,32)])])),links:y((()=>[(b(!0),f(_,null,x(v(u)[v(d).user.role],((e,s)=>(b(),f(_,{key:s},["single"==e.linkType?(b(),f("li",Xe,[k(m,{id:"cus-routerLinks",to:e.route,class:"single-link"},{default:y((()=>[j("span",Qe,[j("i",{class:$(e.icon),"aria-hidden":"true"},null,2)])])),_:2},1032,["to"])])):"collapse"==e.linkType?(b(),f("li",Ze,[k(V,{open:v(re),"onUpdate:open":p[11]||(p[11]=e=>I(re)?re.value=e:null),"collapse-id":e.collapseId},{header:y((()=>[j("span",Ye,[j("i",{class:$(e.headerIcon),"aria-hidden":"true"},null,2)])])),default:y((()=>[(b(!0),f(_,null,x(e.children,(e=>(b(),g(m,{class:"is-submenu",to:e.route},{default:y((()=>[j("span",es,[j("i",{class:$(e.icon),"aria-hidden":"true"},null,2)])])),_:2},1032,["to"])))),256))])),_:2},1032,["open","collapse-id"])])):w("",!0)],64)))),128))])),"bottom-links":y((()=>[])),_:1},8,["theme"]))])),_:1}),k(F),k(q),k(E),k(se),k(de,{class:"mt-0",full:v(te)},{default:y((()=>[k(ie,null,{default:y((()=>[c.nowrap?U(o.$slots,"default",{key:0}):(b(),g(le,{key:1,class:"is-relative"},{default:y((()=>[j("div",ss,[j("div",as,[v(ue)?(b(),f("span",{key:0,onClick:p[12]||(p[12]=()=>{v(P).go(-1)}),class:"menu-toggle has-chevron"},ls)):w("",!0)]),j("div",is,[j("h1",rs,S(v(H).pageTitle),1)]),j("div",ns,[k(ae),v(C)[v(d).user.role]?(b(),f("a",{key:0,class:"toolbar-link right-panel-trigger","aria-label":"View activity panel",tabindex:"0",role:"button",onKeydown:p[13]||(p[13]=L(A((e=>v(z).setActive("activity")),["prevent"]),["space"])),onClick:p[14]||(p[14]=e=>v(z).setActive("activity"))},ts,32)):w("",!0),j("div",os,[j("label",{tabindex:"0",class:"dark-mode",role:"button",onKeydown:p[16]||(p[16]=L(A((e=>e.target.click()),["prevent"]),["space"]))},[j("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!v(ce).isDark,onChange:p[15]||(p[15]=(...e)=>v(ce).onChange&&v(ce).onChange(...e))},null,40,cs),ds],32)]),k(T)])]),U(o.$slots,"default")])),_:3}))])),_:3})])),_:3},8,["full"])])}}});export{us as _};
