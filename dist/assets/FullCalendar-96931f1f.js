import{C as e,a as t}from"./index-55eb4335.js";import{f as n,i as r,V as s,am as i}from"./index-4f2cf886.js";const o={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},d=n({props:{options:Object},data:()=>({renderId:0,customRenderingMap:new Map}),methods:{getApi(){return this.calendar},buildOptions(e){return{...e,customRenderingMetaMap:p(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const e=[];for(const t of this.customRenderingMap.values())e.push(r(a,{key:t.id,customRendering:t}));return r("div",{attrs:{"data-fc-render-id":this.renderId}},r(s,e))},mounted(){const n=new e;this.handleCustomRendering=n.handle.bind(n);const r=this.buildOptions(this.options),s=new t(this.$el,r);this.calendar=s,s.render(),n.subscribe((e=>{this.customRenderingMap=e,this.renderId++,this.needCustomRenderingResize=!0}))},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:function(){let e={options:{deep:!0,handler(e){let t=this.getApi();t.pauseRendering();let n=this.buildOptions(e);t.resetOptions(n),this.renderId++}}};for(let t in o)e[`options.${t}`]={deep:!0,handler(e){if(void 0!==e){let n=this.getApi();n.pauseRendering(),n.resetOptions({[t]:e},[t]),this.renderId++}}};return e}()}),a=n({props:{customRendering:Object},render(){const e=this.customRendering,t="function"==typeof e.generatorMeta?e.generatorMeta(e.renderProps):e.generatorMeta;return r(i,{to:e.containerEl},t)}});function p(e){const t={};for(const r in e)t[(n=r,n.split("-").map(((e,t)=>t?function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e):e)).join(""))]=e[r];var n;return t}export{d as F};
