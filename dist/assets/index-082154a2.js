import{_ as e}from"./VLoader.vue_vue_type_style_index_0_lang-2202d419.js";import{e as a,t as o,N as l,r as t,o as s,M as r,y as u,z as n,l as i,C as m,D as p,J as c,A as d,B as y,j as _,P as v,E as f}from"./index-94b0decd.js";import{_ as g}from"./VField.vue_vue_type_script_setup_true_lang-df35fbf6.js";import{_ as h}from"./VTextarea.vue_vue_type_script_setup_true_lang-807fbaa8.js";import{_ as b}from"./VControl-268f8966.js";import{_ as k}from"./VCheckbox.vue_vue_type_style_index_0_lang-e8bcb7a4.js";import{_ as w,a as j}from"./launch-dark-70994d09.js";import{u as x}from"./useNotyf-4c5e2a2c.js";import{u as V}from"./useAPI-f19b1499.js";import"./VLabel.vue_vue_type_script_setup_true_lang-cc97d481.js";import"./useVFieldContext-7cac6ea8.js";import"./notyf-c21a4bc8.js";import"./useThemeColors-9cf9bcef.js";import"./userSession-2bbe7c4c.js";const q={class:"confirm-account-wrapper"},T={key:0,class:"wrapper-inner"},C={class:"action-box cu-input-all"},N=m("h1",{class:"mb-2",style:{color:"var(--primary)","font-weight":"500","text-align":"center","font-size":"24px","text-decoration":"underline"}},"Thanks For Your Time !",-1),F={class:"mt-5 cu-message"},A={class:"mt-4",style:{display:"flex","align-items":"center"}},Y={class:""},I={key:1,class:"wrapper-inner"},L={class:"action-box"},U={class:"box-content"},$=m("img",{class:"light-image",src:w,alt:""},null,-1),z=m("img",{class:"dark-image",src:j,alt:""},null,-1),D=m("h3",{class:"dark-inverted"}," Thank You for your precious time ! ",-1),P=m("p",null," We appreciate your prompt response regarding the employer we inquired about. Your input will greatly assist us in evaluating the employment timeline of the mentioned employer. Thank you for your assistance. ",-1),R={class:"buttons"},S=a({__name:"index",setup(a){const w=V(),j=x(),S=o(),W=l(),B=t(!1),E=t(!1),G=t("Approved"),H=t(""),J=t({id:57,worker:{firstName:"",lastName:""},jobTitle:"",companyName:"",employedFrom:"",employedTo:""});return s((()=>{(async()=>{try{E.value=!0;const e=await w.get(`v3/api/worker/reference_requests/check-token/${W.query.token}/`);console.log(e),J.value=e.data}catch(e){j.error("Invalid token or  request already processed"),console.log(e),S.push("/")}finally{E.value=!1}})(),G.value=W.query.status})),(a,o)=>{const l=k,t=b,s=h,j=g,x=f,V=r("RouterLink"),S=e;return u(),n("div",q,[i(B)?v("",!0):(u(),n("div",T,[m("div",C,[N,m("p",F,[p(" I am reaching out to request your assistance in verifying "),m("b",null,c(i(J).worker.firstName)+" "+c(i(J).worker.lastName),1),p(" employment at "),m("b",null,c(i(J).companyName),1),p(" for the period from "),m("b",null,c(i(J).employedFrom),1),p(" to "),m("b",null,c(i(J).employedTo),1),p(" Your prompt response using the buttons below would be greatly appreciated. ")]),m("div",A,[d(t,{raw:"",subcontrol:""},{default:y((()=>[d(l,{modelValue:i(G),"onUpdate:modelValue":o[0]||(o[0]=e=>_(G)?G.value=e:null),"true-value":"Approved",label:"Confirm",color:"primary",solid:"",circle:""},null,8,["modelValue"])])),_:1}),d(t,{raw:"",subcontrol:""},{default:y((()=>[d(l,{modelValue:i(G),"onUpdate:modelValue":o[1]||(o[1]=e=>_(G)?G.value=e:null),"true-value":"Rejected",label:"Deny",color:"danger",solid:"",circle:""},null,8,["modelValue"])])),_:1})]),d(j,null,{default:y((()=>[d(t,{class:"mt-5",style:{"margin-bottom":"40px"}},{default:y((()=>[d(s,{modelValue:i(H),"onUpdate:modelValue":o[2]||(o[2]=e=>_(H)?H.value=e:null),class:"is-primary-focus",rows:"6",placeholder:"Comment please..."},null,8,["modelValue"])])),_:1})])),_:1}),m("div",Y,[d(x,{style:{width:"100%"},color:"primary",raised:"",loading:i(E),onClick:o[3]||(o[3]=e=>(async()=>{try{E.value=!0;const e=await w.patch(`v3/api/worker/reference_requests/approve-through-token/${W.query.token}/`,{status:G.value,comment:H.value});B.value=!0,console.log(e)}catch(e){console.log(e)}finally{E.value=!1}})())},{default:y((()=>[p(" Submit ")])),_:1},8,["loading"])])])])),i(B)?(u(),n("div",I,[m("div",L,[d(S,{active:i(E)},{default:y((()=>[m("div",U,[$,z,D,P,m("div",R,[d(V,{to:"/",color:"primary",raised:"",tabindex:"0"},{default:y((()=>[p(" Go Home ")])),_:1})])])])),_:1},8,["active"])])])):v("",!0)])}}});export{S as default};
