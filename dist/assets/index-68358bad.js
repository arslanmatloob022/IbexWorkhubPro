import{n as e,f as t,b as n,s as r,r as u,c as i,a as o,d as l}from"./index-0c7421de.js";import{c as s}from"./index-ef6a7e57.js";import{c,v as a}from"./index-76358a05.js";const f=d(/[A-Za-z]/),h=d(/[\dA-Za-z]/);function p(e){return null!==e&&(e<0||32===e)}const g=d(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),F=d(/\s/);function d(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}const m={tokenize:function(e,t,n){let r=0;return function t(i){if((87===i||119===i)&&r<3)return r++,e.consume(i),t;if(46===i&&3===r)return e.consume(i),u;return n(i)};function u(e){return null===e?n(e):t(e)}},partial:!0},k={tokenize:function(e,t,n){let r,u,i;return o;function o(t){return 46===t||95===t?e.check(A,s,l)(t):null===t||p(t)||F(t)||45!==t&&g(t)?s(t):(i=!0,e.consume(t),o)}function l(t){return 95===t?r=!0:(u=r,r=void 0),e.consume(t),o}function s(e){return u||r||!i?n(e):t(e)}},partial:!0},b={tokenize:function(e,t){let n=0,r=0;return u;function u(o){return 40===o?(n++,e.consume(o),u):41===o&&r<n?i(o):33===o||34===o||38===o||39===o||41===o||42===o||44===o||46===o||58===o||59===o||60===o||63===o||93===o||95===o||126===o?e.check(A,t,i)(o):null===o||p(o)||F(o)?t(o):(e.consume(o),u)}function i(t){return 41===t&&r++,e.consume(t),u}},partial:!0},A={tokenize:function(e,t,n){return r;function r(o){return 33===o||34===o||39===o||41===o||42===o||44===o||46===o||58===o||59===o||63===o||95===o||126===o?(e.consume(o),r):38===o?(e.consume(o),i):93===o?(e.consume(o),u):60===o||null===o||p(o)||F(o)?t(o):n(o)}function u(e){return null===e||40===e||91===e||p(e)||F(e)?t(e):r(e)}function i(e){return f(e)?o(e):n(e)}function o(t){return 59===t?(e.consume(t),r):f(t)?(e.consume(t),o):n(t)}},partial:!0},x={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return h(e)?n(e):t(e)}},partial:!0},C={tokenize:function(e,t,n){const r=this;return function(t){if(87!==t&&119!==t||!B.call(r,r.previous)||M(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(m,e.attempt(k,e.attempt(b,u),n),n)(t)};function u(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:B},D={tokenize:function(e,t,n){const r=this;let u="",i=!1;return function(t){if((72===t||104===t)&&L.call(r,r.previous)&&!M(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),u+=String.fromCodePoint(t),e.consume(t),o;return n(t)};function o(t){if(f(t)&&u.length<5)return u+=String.fromCodePoint(t),e.consume(t),o;if(58===t){const n=u.toLowerCase();if("http"===n||"https"===n)return e.consume(t),l}return n(t)}function l(t){return 47===t?(e.consume(t),i?s:(i=!0,l)):n(t)}function s(t){return null===t||function(e){return null!==e&&(e<32||127===e)}(t)||p(t)||F(t)||g(t)?n(t):e.attempt(k,e.attempt(b,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:L},y={tokenize:function(e,t,n){const r=this;let u,i;return function(t){if(!S(t)||!j.call(r,r.previous)||M(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(t)};function o(t){return S(t)?(e.consume(t),o):64===t?(e.consume(t),l):n(t)}function l(t){return 46===t?e.check(x,c,s)(t):45===t||95===t||h(t)?(i=!0,e.consume(t),l):c(t)}function s(t){return e.consume(t),u=!0,l}function c(o){return i&&u&&f(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(o)):n(o)}},previous:j},E={},v={text:E};let w=48;for(;w<123;)E[w]=y,w++,58===w?w=65:91===w&&(w=97);function B(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||p(e)}function L(e){return!f(e)}function j(e){return!(47===e||S(e))}function S(e){return 43===e||45===e||46===e||95===e||h(e)}function M(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function O(e){return null!==e&&(e<0||32===e)}E[43]=y,E[45]=y,E[46]=y,E[95]=y,E[72]=[y,D],E[104]=[y,D],E[87]=[y,C],E[119]=[y,C];const z={tokenize:function(e,n,r){const u=this;return t(e,(function(e){const t=u.events[u.events.length-1];return t&&"gfmFootnoteDefinitionIndent"===t[1].type&&4===t[2].sliceSerialize(t[1],!0).length?n(e):r(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function R(t,n,r){const u=this;let i=u.events.length;const o=u.parser.gfmFootnotes||(u.parser.gfmFootnotes=[]);let l;for(;i--;){const e=u.events[i][1];if("labelImage"===e.type){l=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(i){if(!l||!l._balanced)return r(i);const s=e(u.sliceSerialize({start:l.end,end:u.now()}));if(94!==s.codePointAt(0)||!o.includes(s.slice(1)))return r(i);return t.enter("gfmFootnoteCallLabelMarker"),t.consume(i),t.exit("gfmFootnoteCallLabelMarker"),n(i)}}function T(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};u.end.column++,u.end.offset++,u.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},u.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",u,t],["exit",u,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function I(t,n,r){const u=this,i=u.parser.gfmFootnotes||(u.parser.gfmFootnotes=[]);let o,l=0;return function(e){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(e),t.exit("gfmFootnoteCallLabelMarker"),s};function s(e){return 94!==e?r(e):(t.enter("gfmFootnoteCallMarker"),t.consume(e),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(s){if(l>999||93===s&&!o||null===s||91===s||O(s))return r(s);if(93===s){t.exit("chunkString");const o=t.exit("gfmFootnoteCallString");return i.includes(e(u.sliceSerialize(o)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(s),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),n):r(s)}return O(s)||(o=!0),l++,t.consume(s),92===s?a:c}function a(e){return 91===e||92===e||93===e?(t.consume(e),l++,c):c(e)}}function _(n,r,u){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let l,s,c=0;return function(e){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(e),n.exit("gfmFootnoteDefinitionLabelMarker"),a};function a(e){return 94===e?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(e),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",f):u(e)}function f(t){if(c>999||93===t&&!s||null===t||91===t||O(t))return u(t);if(93===t){n.exit("chunkString");const r=n.exit("gfmFootnoteDefinitionLabelString");return l=e(i.sliceSerialize(r)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(t),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),p}return O(t)||(s=!0),c++,n.consume(t),92===t?h:f}function h(e){return 91===e||92===e||93===e?(n.consume(e),c++,f):f(e)}function p(e){return 58===e?(n.enter("definitionMarker"),n.consume(e),n.exit("definitionMarker"),o.includes(l)||o.push(l),t(n,g,"gfmFootnoteDefinitionWhitespace")):u(e)}function g(e){return r(e)}}function H(e,t,r){return e.check(n,t,e.attempt(z,t,r))}function P(e){e.exit("gfmFootnoteDefinition")}function $(e){let t=(e||{}).singleTilde;const n={tokenize:function(e,n,r){const u=this.previous,o=this.events;let l=0;return function(t){if(126===u&&"characterEscape"!==o[o.length-1][1].type)return r(t);return e.enter("strikethroughSequenceTemporary"),s(t)};function s(o){const c=i(u);if(126===o)return l>1?r(o):(e.consume(o),l++,s);if(l<2&&!t)return r(o);const a=e.exit("strikethroughSequenceTemporary"),f=i(o);return a._open=!f||2===f&&Boolean(c),a._close=!c||2===c&&Boolean(f),n(o)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const o={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},l={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},s=[["enter",o,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",l,t]],c=t.parser.constructs.insideSpan.null;c&&r(s,s.length,0,u(c,e.slice(i+1,n),t)),r(s,s.length,0,[["exit",l,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",o,t]]),r(e,i-1,n-i+3,s),n=i+s.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}function q(e){return null!==e&&e<-2}function W(e){return null!==e&&(e<0||32===e)}function V(e){return-2===e||-1===e||32===e}class U{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let u=0;if(0===n&&0===r.length)return;for(;u<e.map.length;){if(e.map[u][0]===t)return e.map[u][1]+=n,void e.map[u][2].push(...r);u+=1}e.map.push([t,n,r])}(this,e,t,n)}consume(e){if(this.map.sort(((e,t)=>e[0]-t[0])),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1])),n.push(this.map[t][2]),e.length=this.map[t][0];n.push([...e]),e.length=0;let r=n.pop();for(;r;)e.push(...r),r=n.pop();this.map.length=0}}function Z(e,t){let n=!1;const r=[];for(;t<e.length;){const u=e[t];if(n){if("enter"===u[0])"tableContent"===u[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===u[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===u[1].type)break}else"enter"===u[0]&&"tableDelimiterRow"===u[1].type&&(n=!0);t+=1}return r}const Q={flow:{null:{tokenize:function(e,n,r){const u=this;let i,o=0,l=0;return function(e){let t=u.events.length-1;for(;t>-1;){const e=u.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const n=t>-1?u.events[t][1].type:null,i="tableHead"===n||"tableRow"===n?x:s;if(i===x&&u.parser.lazy[u.now().line])return r(e);return i(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return c(e);return i=!0,l+=1,c(e)}(t)}function c(n){return null===n?r(n):q(n)?l>1?(l=0,u.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),h):r(n):V(n)?t(e,c,"whitespace")(n):(l+=1,i&&(i=!1,o+=1),124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),i=!0,c):(e.enter("data"),a(n)))}function a(t){return null===t||124===t||W(t)?(e.exit("data"),c(t)):(e.consume(t),92===t?f:a)}function f(t){return 92===t||124===t?(e.consume(t),a):a(t)}function h(n){return u.interrupt=!1,u.parser.lazy[u.now().line]?r(n):(e.enter("tableDelimiterRow"),i=!1,V(n)?t(e,p,"linePrefix",u.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(n):p(n))}function p(t){return 45===t||58===t?F(t):124===t?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),g):A(t)}function g(n){return V(n)?t(e,F,"whitespace")(n):F(n)}function F(t){return 58===t?(l+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),d):45===t?(l+=1,d(t)):null===t||q(t)?b(t):A(t)}function d(t){return 45===t?(e.enter("tableDelimiterFiller"),m(t)):A(t)}function m(t){return 45===t?(e.consume(t),m):58===t?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),k):(e.exit("tableDelimiterFiller"),k(t))}function k(n){return V(n)?t(e,b,"whitespace")(n):b(n)}function b(t){return 124===t?p(t):(null===t||q(t))&&i&&o===l?(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(t)):A(t)}function A(e){return r(e)}function x(t){return e.enter("tableRow"),C(t)}function C(r){return 124===r?(e.enter("tableCellDivider"),e.consume(r),e.exit("tableCellDivider"),C):null===r||q(r)?(e.exit("tableRow"),n(r)):V(r)?t(e,C,"whitespace")(r):(e.enter("data"),D(r))}function D(t){return null===t||124===t||W(t)?(e.exit("data"),C(t)):(e.consume(t),92===t?y:D)}function y(t){return 92===t||124===t?(e.consume(t),D):D(t)}},resolveAll:function(e,t){let n,r,u,i=-1,o=!0,l=0,s=[0,0,0,0],c=[0,0,0,0],a=!1,f=0;const h=new U;for(;++i<e.length;){const p=e[i],g=p[1];"enter"===p[0]?"tableHead"===g.type?(a=!1,0!==f&&(J(h,t,f,n,r),r=void 0,f=0),n={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(i,0,[["enter",n,t]])):"tableRow"===g.type||"tableDelimiterRow"===g.type?(o=!0,u=void 0,s=[0,0,0,0],c=[0,i+1,0,0],a&&(a=!1,r={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(i,0,[["enter",r,t]])),l="tableDelimiterRow"===g.type?2:r?3:1):!l||"data"!==g.type&&"tableDelimiterMarker"!==g.type&&"tableDelimiterFiller"!==g.type?"tableCellDivider"===g.type&&(o?o=!1:(0!==s[1]&&(c[0]=c[1],u=G(h,t,s,l,void 0,u)),s=c,c=[s[1],i,0,0])):(o=!1,0===c[2]&&(0!==s[1]&&(c[0]=c[1],u=G(h,t,s,l,void 0,u),s=[0,0,0,0]),c[2]=i)):"tableHead"===g.type?(a=!0,f=i):"tableRow"===g.type||"tableDelimiterRow"===g.type?(f=i,0!==s[1]?(c[0]=c[1],u=G(h,t,s,l,i,u)):0!==c[1]&&(u=G(h,t,c,l,i,u)),l=0):!l||"data"!==g.type&&"tableDelimiterMarker"!==g.type&&"tableDelimiterFiller"!==g.type||(c[3]=i)}0!==f&&J(h,t,f,n,r);h.consume(t.events),i=-1;for(;++i<t.events.length;){const e=t.events[i];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=Z(t.events,i))}return e}}}};function G(e,t,n,r,u,i){const o=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(i.end=Object.assign({},K(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=K(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),0!==n[2]){const u=K(t.events,n[2]),i=K(t.events,n[3]),o={type:"tableContent",start:Object.assign({},u),end:Object.assign({},i)};if(e.add(n[2],0,[["enter",o,t]]),2!==r){const r=t.events[n[2]],u=t.events[n[3]];if(r[1].end=Object.assign({},u[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",o,t]])}return void 0!==u&&(i.end=Object.assign({},K(t.events,u)),e.add(u,0,[["exit",i,t]]),i=void 0),i}function J(e,t,n,r,u){const i=[],o=K(t.events,n);u&&(u.end=Object.assign({},o),i.push(["exit",u,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function K(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const N={tokenize:function(e,t,n){const r=this;return function(t){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),u};function u(t){return function(e){return null!==e&&(e<0||32===e)}(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),i):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),i):n(t)}function i(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(t)}function o(r){return function(e){return null!==e&&e<-2}(r)?t(r):function(e){return-2===e||-1===e||32===e}(r)?e.check({tokenize:Y},t,n)(r):n(r)}}},X={text:{91:N}};function Y(e,n,r){return t(e,(function(e){return null===e?r(e):n(e)}),"whitespace")}const ee={}.hasOwnProperty,te=function(e,t,n,r){let u,i;"string"==typeof t||t instanceof RegExp?(i=[[t,n]],u=r):(i=t,u=n),u||(u={});const o=c(u.ignore||[]),l=function(e){const t=[];if("object"!=typeof e)throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([ne(e[n][0]),re(e[n][1])])}else{let n;for(n in e)ee.call(e,n)&&t.push([ne(n),re(e[n])])}return t}(i);let s=-1;for(;++s<l.length;)a(e,"text",f);return e;function f(e,t){let n,r=-1;for(;++r<t.length;){const e=t[r];if(o(e,n?n.children.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=l[s][0],u=l[s][1];let i=0;const o=n.children.indexOf(e);let c=!1,a=[];r.lastIndex=0;let f=r.exec(e.value);for(;f;){const n=f.index,o={index:f.index,input:f.input,stack:[...t,e]};let l=u(...f,o);if("string"==typeof l&&(l=l.length>0?{type:"text",value:l}:void 0),!1!==l&&(i!==n&&a.push({type:"text",value:e.value.slice(i,n)}),Array.isArray(l)?a.push(...l):l&&a.push(l),i=n+f[0].length,c=!0),!r.global)break;f=r.exec(e.value)}c?(i<e.value.length&&a.push({type:"text",value:e.value.slice(i)}),n.children.splice(o,1,...a)):a=[e];return o+a.length}(e,t)}};function ne(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function re(e){return"function"==typeof e?e:()=>e}const ue=oe(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),ie=oe(/\s/);function oe(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}const le="phrasing",se=["autolink","link","image","label"],ce={transforms:[function(e){te(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,he],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,pe]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:fe,literalAutolinkHttp:fe,literalAutolinkWww:fe},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e);this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(e)}}},ae={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:le,notInConstruct:se},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:le,notInConstruct:se},{character:":",before:"[ps]",after:"\\/",inConstruct:le,notInConstruct:se}]};function fe(e){this.config.enter.autolinkProtocol.call(this,e)}function he(e,t,n,r,u){let i="";if(!ge(u))return!1;if(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const o=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const u=s(e,"(");let i=s(e,")");for(;-1!==r&&u>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function pe(e,t,n,r){return!(!ge(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function ge(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||ie(n)||ue(n))&&(!t||47!==n)}function Fe(e){return e.label||!e.identifier?e.label||"":l(e.identifier)}function de(e,t,n,r){let u=r.join.length;for(;u--;){const i=r.join[u](e,t,n,r);if(!0===i||1===i)break;if("number"==typeof i)return"\n".repeat(1+i);if(!1===i)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}const me=/\r?\n|\r/g;function ke(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function be(e,t){return Ae(e,t.inConstruct,!0)&&!Ae(e,t.notInConstruct,!1)}function Ae(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function xe(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),u=[],i=[],o={};let l=-1;for(;++l<e.unsafe.length;){const t=e.unsafe[l];if(!be(e.stack,t))continue;const n=ke(t);let i;for(;i=n.exec(r);){const e="before"in t||Boolean(t.atBreak),n="after"in t,r=i.index+(e?i[1].length:0);u.includes(r)?(o[r].before&&!e&&(o[r].before=!1),o[r].after&&!n&&(o[r].after=!1)):(u.push(r),o[r]={before:e,after:n})}}u.sort(Ce);let s=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(l=-1;++l<u.length;){const e=u[l];e<s||e>=c||(e+1<c&&u[l+1]===e+1&&o[e].after&&!o[e+1].before&&!o[e+1].after||u[l-1]===e-1&&o[e].before&&!o[e-1].before&&!o[e-1].after||(s!==e&&i.push(De(r.slice(s,e),"\\")),s=e,!/[!-/:-@[-`{-~]/.test(r.charAt(e))||n.encode&&n.encode.includes(r.charAt(e))?(i.push("&#x"+r.charCodeAt(e).toString(16).toUpperCase()+";"),s++):i.push("\\")))}return i.push(De(r.slice(s,c),n.after)),i.join("")}function Ce(e,t){return e-t}function De(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],u=[],i=e+t;let o,l=-1,s=0;for(;o=n.exec(i);)r.push(o.index);for(;++l<r.length;)s!==r[l]&&u.push(e.slice(s,r[l])),u.push("\\"),s=r[l];return u.push(e.slice(s)),u.join("")}function ye(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,u=n.line||1,i=n.column||1;return{move:function(e){const t=e||"",n=t.split(/\r?\n|\r/g),o=n[n.length-1];return u+=n.length-1,i=1===n.length?i+o.length:1+o.length+r,t},current:function(){return{now:{line:u,column:i},lineShift:r}},shift:function(e){r+=e}}}function Ee(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function ve(){this.buffer()}function we(t){const n=this.resume(),r=this.stack[this.stack.length-1];r.label=n,r.identifier=e(this.sliceSerialize(t)).toLowerCase()}function Be(e){this.exit(e)}function Le(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function je(){this.buffer()}function Se(t){const n=this.resume(),r=this.stack[this.stack.length-1];r.label=n,r.identifier=e(this.sliceSerialize(t)).toLowerCase()}function Me(e){this.exit(e)}function Oe(e,t,n,r){const u=ye(r);let i=u.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return i+=u.move(xe(n,Fe(e),{...u.current(),before:i,after:"]"})),l(),o(),i+=u.move("]"),i}function ze(e,t,n,r){const u=ye(r);let i=u.move("[^");const o=n.enter("footnoteDefinition"),l=n.enter("label");return i+=u.move(xe(n,Fe(e),{...u.current(),before:i,after:"]"})),l(),i+=u.move("]:"+(e.children&&e.children.length>0?" ":"")),u.shift(4),i+=u.move(function(e,t){const n=[];let r,u=0,i=0;for(;r=me.exec(e);)o(e.slice(u,r.index)),n.push(r[0]),u=r.index+r[0].length,i++;return o(e.slice(u)),n.join("");function o(e){n.push(t(e,i,!e))}}(function(e,t,n){const r=t.indexStack,u=e.children||[],i=t.createTracker(n),o=[];let l=-1;for(r.push(-1);++l<u.length;){const n=u[l];r[r.length-1]=l,o.push(i.move(t.handle(n,e,t,{before:"\n",after:"\n",...i.current()}))),"list"!==n.type&&(t.bulletLastUsed=void 0),l<u.length-1&&o.push(i.move(de(n,u[l+1],e,t)))}return r.pop(),o.join("")}(e,n,u.current()),Re)),o(),i}function Re(e,t,n){return 0===t?e:(n?"":"    ")+e}function Te(e,t,n){const r=t.indexStack,u=e.children||[],i=[];let o=-1,l=n.before;r.push(-1);let s=t.createTracker(n);for(;++o<u.length;){const c=u[o];let a;if(r[r.length-1]=o,o+1<u.length){let n=t.handle.handlers[u[o+1].type];n&&n.peek&&(n=n.peek),a=n?n(u[o+1],e,t,{before:"",after:"",...s.current()}).charAt(0):""}else a=n.after;i.length>0&&("\r"===l||"\n"===l)&&"html"===c.type&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),l=" ",s=t.createTracker(n),s.move(i.join(""))),i.push(s.move(t.handle(c,e,t,{...s.current(),before:l,after:a}))),l=i[i.length-1].slice(-1)}return r.pop(),i.join("")}Oe.peek=function(){return"["};He.peek=function(){return"~"};const Ie={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}},_e={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]}],handlers:{delete:He}};function He(e,t,n,r){const u=ye(r),i=n.enter("strikethrough");let o=u.move("~~");return o+=Te(e,n,{...u.current(),before:o,after:"~"}),o+=u.move("~~"),i(),o}function Pe(e,t,n){let r=e.value||"",u="`",i=-1;for(;new RegExp("(^|[^`])"+u+"([^`]|$)").test(r);)u+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const e=n.unsafe[i],t=ke(e);let u;if(e.atBreak)for(;u=t.exec(r);){let e=u.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(u.index+1)}}return u+r+u}function $e(e){return e.length}function qe(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}Pe.peek=function(){return"`"};const We={enter:{table:function(e){const t=e._align;this.enter({type:"table",align:t.map((e=>"none"===e?null:e)),children:[]},e),this.setData("inTable",!0)},tableData:Ue,tableHeader:Ue,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,Ze));this.stack[this.stack.length-1].value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:Ve,tableHeader:Ve,tableRow:Ve}};function Ve(e){this.exit(e)}function Ue(e){this.enter({type:"tableCell",children:[]},e)}function Ze(e,t){return"|"===t?t:e}function Qe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,u=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,n,r){return l(function(e,t,n){const r=e.children;let u=-1;const i=[],o=t.enter("table");for(;++u<r.length;)i[u]=s(r[u],t,n);return o(),i}(e,n,r),e.align)},tableRow:function(e,t,n,r){const u=l([s(e,n,r)]);return u.slice(0,u.indexOf("\n"))},tableCell:o,inlineCode:function(e,t,n){let r=Pe(e,0,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r}}};function o(e,t,n,r){const u=n.enter("tableCell"),o=n.enter("phrasing"),l=Te(e,n,{...r,before:i,after:i});return o(),u(),l}function l(e,t){return function(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||$e,u=[],i=[],o=[],l=[];let s=0,c=-1;for(;++c<e.length;){const n=[],u=[];let f=-1;for(e[c].length>s&&(s=e[c].length);++f<e[c].length;){const i=null==(a=e[c][f])?"":String(a);if(!1!==t.alignDelimiters){const e=r(i);u[f]=e,(void 0===l[f]||e>l[f])&&(l[f]=e)}n.push(i)}i[c]=n,o[c]=u}var a;let f=-1;if("object"==typeof n&&"length"in n)for(;++f<s;)u[f]=qe(n[f]);else{const e=qe(n);for(;++f<s;)u[f]=e}f=-1;const h=[],p=[];for(;++f<s;){const e=u[f];let n="",r="";99===e?(n=":",r=":"):108===e?n=":":114===e&&(r=":");let i=!1===t.alignDelimiters?1:Math.max(1,l[f]-n.length-r.length);const o=n+"-".repeat(i)+r;!1!==t.alignDelimiters&&(i=n.length+i+r.length,i>l[f]&&(l[f]=i),p[f]=i),h[f]=o}i.splice(1,0,h),o.splice(1,0,p),c=-1;const g=[];for(;++c<i.length;){const e=i[c],n=o[c];f=-1;const r=[];for(;++f<s;){const i=e[f]||"";let o="",c="";if(!1!==t.alignDelimiters){const e=l[f]-(n[f]||0),t=u[f];114===t?o=" ".repeat(e):99===t?e%2?(o=" ".repeat(e/2+.5),c=" ".repeat(e/2-.5)):(o=" ".repeat(e/2),c=o):c=" ".repeat(e)}!1===t.delimiterStart||f||r.push("|"),!1===t.padding||!1===t.alignDelimiters&&""===i||!1===t.delimiterStart&&!f||r.push(" "),!1!==t.alignDelimiters&&r.push(o),r.push(i),!1!==t.alignDelimiters&&r.push(c),!1!==t.padding&&r.push(" "),!1===t.delimiterEnd&&f===s-1||r.push("|")}g.push(!1===t.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return g.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:u})}function s(e,t,n){const r=e.children;let u=-1;const i=[],l=t.enter("tableRow");for(;++u<r.length;)i[u]=o(r[u],0,t,n);return l(),i}}function Ge(e,t,n,r){const u=function(e){const t=e.options.listItemIndent||"tab";if(1===t||"1"===t)return"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let i=n.bulletCurrent||function(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}(n);t&&"list"===t.type&&t.ordered&&(i=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+i);let o=i.length+1;("tab"===u||"mixed"===u&&(t&&"list"===t.type&&t.spread||e.spread))&&(o=4*Math.ceil(o/4));const l=n.createTracker(r);l.move(i+" ".repeat(o-i.length)),l.shift(o);const s=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,l.current()),(function(e,t,n){if(t)return(n?"":" ".repeat(o))+e;return(n?i:i+" ".repeat(o-i.length))+e}));return s(),c}const Je={exit:{taskListCheckValueChecked:Ne,taskListCheckValueUnchecked:Ne,paragraph:function(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1],n=e.children[0];if(n&&"text"===n.type){const r=t.children;let u,i=-1;for(;++i<r.length;){const e=r[i];if("paragraph"===e.type){u=e;break}}u===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}}},Ke={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n,r){const u=e.children[0],i="boolean"==typeof e.checked&&u&&"paragraph"===u.type,o="["+(e.checked?"x":" ")+"] ",l=ye(r);i&&l.move(o);let s=Ge(e,t,n,{...r,...l.current()});i&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(e){return e+o})));return s}}};function Ne(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}function Xe(e={}){const t=this.data();function n(e,n){(t[e]?t[e]:t[e]=[]).push(n)}n("micromarkExtensions",function(e){return o([v,{document:{91:{tokenize:_,continuation:{tokenize:H},exit:P}},text:{91:{tokenize:I},93:{add:"after",tokenize:R,resolveTo:T}}},$(e),Q,X])}(e)),n("fromMarkdownExtensions",[ce,{enter:{gfmFootnoteDefinition:Ee,gfmFootnoteDefinitionLabelString:ve,gfmFootnoteCall:Le,gfmFootnoteCallString:je},exit:{gfmFootnoteDefinition:Be,gfmFootnoteDefinitionLabelString:we,gfmFootnoteCall:Me,gfmFootnoteCallString:Se}},Ie,We,Je]),n("toMarkdownExtensions",function(e){return{extensions:[ae,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:ze,footnoteReference:Oe}},_e,Qe(e),Ke]}}(e))}export{Xe as default};
