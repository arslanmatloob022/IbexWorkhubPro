import{_ as a}from"./VFlex.vue_vue_type_style_index_0_lang-b2ffba14.js";import{e,S as t,x as n,Z as i,A as l,B as r,N as o,F as s,D as c,Y as u,E as p,J as g,H as d,l as f,G as v,C as h,M as y,V as m,U as k,T as x,I as P}from"./index-bd02fd97.js";const _={class:"pagination-list"},b={key:0},K=[c("span",{class:"pagination-ellipsis"},"…",-1)],M={key:1},C=[c("span",{class:"pagination-ellipsis"},"…",-1)],w={key:2},D=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"},null,-1),L=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"},null,-1),R=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),$=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),j=e({__name:"VFlexPagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(e,{emit:j}){const F=e,{t:I}=t(),Q=n(),V=i((()=>Math.ceil(F.totalItems/F.itemPerPage)||1)),q=i((()=>V.value>F.maxLinksDisplayed+2?F.maxLinksDisplayed+2:V.value)),B=i((()=>{const a=[];let e=F.currentPage-Math.floor(q.value/2),t=e+(q.value-Math.ceil(q.value%2));e<1&&(e=1,t=e+(q.value-1)),t>V.value&&(t=V.value,e=t-(q.value-1));for(let n=e;n<=t;n+=1)n!==e&&n!==t&&a.push(n);return a})),A=i((()=>V.value>1)),E=(a=1)=>{if(F.noRouter)return{};const e=Math.max(1,Math.min(a,V.value)),t={...Q.query};return F.routerQueryKey&&(t[F.routerQueryKey]=e<=1?void 0:e),{name:Q.name,params:Q.params,query:t}},G=(a,e=1)=>{const t=Math.max(1,Math.min(e,V.value));if(j("update:currentPage",t),F.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(e,t)=>{const n=l("RouterLink"),i=a;return r(),o(i,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:s((()=>[c("ul",_,[u(e.$slots,"before-pagination"),c("li",null,[p(n,{to:E(1),tabindex:"0",class:d(["pagination-link",[1===e.currentPage&&"is-current"]]),"aria-label":f(I)("components.v-flex-pagination.goto-page-title",{page:1}),onKeydown:t[0]||(t[0]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[1]||(t[1]=a=>G(a,1))},{default:s((()=>[g(" 1 ")])),_:1},8,["to","aria-label","class"])]),f(A)&&(0===f(B).length||f(B)[0]>2)?(r(),h("li",b,K)):y("",!0),(r(!0),h(k,null,m(f(B),(a=>(r(),h("li",{key:a},[p(n,{to:E(a),tabindex:"0",class:d(["pagination-link",[e.currentPage===a&&"is-current"]]),"aria-label":f(I)("components.v-flex-pagination.goto-page-title",{page:a}),"aria-current":e.currentPage===a?"page":void 0,onKeydown:t[2]||(t[2]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:e=>G(e,a)},{default:s((()=>[g(x(a),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),f(A)&&f(B)[f(B).length-1]<f(V)-1?(r(),h("li",M,C)):y("",!0),f(A)?(r(),h("li",w,[p(n,{to:E(f(V)),tabindex:"0",class:d(["pagination-link",[e.currentPage===f(V)&&"is-current"]]),"aria-label":f(I)("components.v-flex-pagination.goto-page-title",{page:f(V)}),onKeydown:t[3]||(t[3]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[4]||(t[4]=a=>G(a,f(V)))},{default:s((()=>[g(x(f(V)),1)])),_:1},8,["to","aria-label","class"])])):y("",!0),u(e.$slots,"after-pagination")]),u(e.$slots,"before-navigation"),p(n,{to:E(e.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:t[5]||(t[5]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[6]||(t[6]=a=>G(a,e.currentPage-1))},{default:s((()=>[D,L])),_:1},8,["to"]),p(n,{to:E(e.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:t[7]||(t[7]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[8]||(t[8]=a=>G(a,e.currentPage+1))},{default:s((()=>[R,$])),_:1},8,["to"]),u(e.$slots,"after-navigation")])),_:3})}}});export{j as _};
