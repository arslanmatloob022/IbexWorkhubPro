import{u as e,a as t}from"./useAPI-fc2f6b33.js";import{b as n,r as o}from"./index-9ef04237.js";import{u as a}from"./useNotyf-001b909d.js";const r=e(),s=n();function i(e,t="data-list",n=[]){var o=(new Date).toLocaleString();console.log(o);let a="data:text/csv;charset=utf-8,"+function(e,t,n=[]){var o=Object.keys(e[0]);o=o.filter((e=>!n.includes(e)));var a=`** ${t} ** \n \n \n`;return a+=o.map((e=>`**${e}**`)).join("\t")+"\n ",a+="\n",e.forEach((function(e){o.forEach((function(t){if(Array.isArray(e[t])){const n=e[t].map((e=>`${e.title} (${e.status})`)).join(",");a+=n+","}else a+=e[t]+","})),a+="\n"})),a}(e,t,n),r=encodeURI(a),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",`${t+o}.csv`),s.click()}function c(e={}){const{actor:t=s.user.id,object_type:n="ibexUser",action:o="UPDATE",message:a="",performedOnName:i="user",object_id:c=""}=e,d={actor:t,object_type:n,action:o,message:a,performedOnName:i,object_id:c};try{r.post("/api/activity-logs/",d)}catch(l){console.log(l)}}a();const d=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e(...o)}),t)}},l=e=>{let t=e;"07"==t.slice(0,2)?t="44"+t.slice(1):"+44"==t.slice(0,3)?t=t.slice(1):"7"==t.slice(0,1)&&(t="44"+t),window.open("https://wa.me/"+t.replace(/\s/g),"_blank")},u=async e=>{try{const n=await t.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${e}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);if(console.log("Full API Response:",n),!n||!n.data)throw new Error("Invalid API response");if("OK"===n.data.status&&n.data.results.length>0){const e=n.data.results[0],t=e.geometry?.location?.lat??null,o=e.geometry?.location?.lng??null,a=e.address_components?.find((e=>e.types.includes("postal_town")))?.long_name??"",r=e.address_components?.find((e=>e.types.includes("administrative_area_level_1")))?.long_name??"";return{status:!0,data:{city:a,state:r,address:e.formatted_address??"",lat:t,lng:o}}}return{status:!1,data:null}}catch(n){return console.error("Error fetching address:",n),{status:!1,data:null}}},m=e=>{const t=document.querySelector('link[rel="icon"]'),n=document.head||document.getElementsByTagName("head")[0];t&&n.removeChild(t);const o=document.createElement("link");o.rel="shortcut icon",o.href=e,n.appendChild(o)};function h(e,t){const n=new FormData;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];Array.isArray(a)?a.forEach(((e,t)=>{console.log(t),n.append(o,e)})):null!==a&&(!t.includes(o)||t.includes(o)&&"object"==typeof a)&&n.append(o,a)}return n}const p=o([{id:1,hexCode:"#FFD700"},{id:3,hexCode:"#98FB98"},{id:4,hexCode:"#FF69B4"},{id:5,hexCode:"#F0E68C"},{id:6,hexCode:"#00CED1"},{id:7,hexCode:"#FFA07A"},{id:9,hexCode:"#FF6347"},{id:10,hexCode:"#00FA9A"},{id:11,hexCode:"#FFE4B5"},{id:12,hexCode:"#40E0D0"},{id:13,hexCode:"#FF8C00"},{id:15,hexCode:"#FF4500"},{id:17,hexCode:"#FF1493"},{id:18,hexCode:"#7FFFD4"},{id:19,hexCode:"#FFB6C1"},{id:20,hexCode:"#00BFFF"},{id:21,hexCode:"#008B8B"},{id:22,hexCode:"#FF00FF"},{id:23,hexCode:"#8B008B"},{id:24,hexCode:"#A52A2A"}]);function f(e){return new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})}function g(e){const t=new Date(e);if(isNaN(t.getTime()))return"";return t.toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}function F(e){const t=new Date(e);if(isNaN(t.getTime()))return"";return t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})}const y=e=>{let t=new Date(e);return t.setDate(t.getDate()+1),t.toISOString().slice(0,10)};function C(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}async function x(e){try{return(await t.get(`https://api.locationiq.com/v1/autocomplete?key=pk.26eb33474e805c6deeea40508e844d84&q=${e}&limit=5&dedupe=1&`)).data}catch(n){return console.error("Error fetching reverse geocode:",n),{status:!1,data:null}}}export{c as C,h as a,y as b,m as c,f as d,i as e,g as f,u as g,d as h,F as i,C as j,x as k,p as m,l as s};
