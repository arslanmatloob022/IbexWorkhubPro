import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-776f3a3f.js";import{c as l,_ as a,a as t,b as i}from"./view-48-84efbbfe.js";import{_ as s}from"./VModal.vue_vue_type_style_index_0_lang-5bc69d1a.js";import{_ as n}from"./VField.vue_vue_type_script_setup_true_lang-e06a2d38.js";import{e as o,E as r,r as c,o as d,v as u,x as p,y as m,z as v,A as f,l as y,j as g,B as h,I as b,a0 as w,C as _,J as k,F as x,O as C,P as S,Q as A,H as T,V as N,W as D,N as V,a3 as I,M as j,Z as R,K as O,R as E,Y as L,S as z,aR as q,f as M,al as U,n as $,i as P,w as F,aq as B,h as W,a7 as Y,T as K,G as H,L as X,s as G,av as J,aa as Z}from"./index-a3511ab8.js";import{_ as Q}from"./VControl-f6dba4dd.js";import{_ as ee}from"./VInput.vue_vue_type_script_setup_true_lang-17074c81.js";import{u as le}from"./useNotyf-bee6672a.js";import{u as ae,b as te}from"./useAPI-2f913358.js";import{_ as ie}from"./VIMaskInput.vue_vue_type_script_lang-d7f4148d.js";import{_ as se}from"./BScertificate-012bce6c.js";import{_ as ne}from"./RotaView-db6c8a2b.js";import{_ as oe}from"./TimeSheetDetail.vue_vue_type_script_setup_true_lang-dc4bb729.js";import{_ as re}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-75564e1d.js";import{_ as ce}from"./VDropdown.vue_vue_type_style_index_0_lang-dab44eb0.js";import{_ as de}from"./VAvatar.vue_vue_type_style_index_0_lang-584dd1be.js";import{_ as ue}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-203bc318.js";import{_ as pe,a as me}from"./projects-dark-4a371d8a.js";import{f as ve,e as fe,C as ye,s as ge}from"./useSupportElement-ec851bb5.js";import{_ as he}from"./VTextarea.vue_vue_type_script_setup_true_lang-e1d809a1.js";import{a as be,_ as we}from"./docmandatory-a5126801.js";import{_ as _e}from"./VIconBox.vue_vue_type_style_index_0_lang-51da0b67.js";import{_ as ke}from"./VIconWrap.vue_vue_type_style_index_0_lang-065b703e.js";import{c as xe,_ as Ce}from"./VFlexTable.vue_vue_type_style_index_0_lang-ab11cfa6.js";import{_ as Se}from"./VTag.vue_vue_type_style_index_0_lang-d04753a5.js";import{_ as Ae}from"./VProgress.vue_vue_type_style_index_0_lang-bb7098c8.js";import{_ as Te,a as Ne}from"./search-4-dark-2b5b440c.js";import{i as De,F as Ve}from"./index-405e4760.js";import{_ as Ie}from"./VBlock.vue_vue_type_style_index_0_lang-63cb9f62.js";import{_ as je}from"./sia-476d3e58.js";import{_ as Re}from"./VIconButton-87810f23.js";import{_ as Oe}from"./VLabel.vue_vue_type_script_setup_true_lang-dfa6e2cd.js";import{_ as Ee}from"./VMessage.vue_vue_type_style_index_0_lang-2ef527f9.js";import{_ as Le}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-9ab5aaf2.js";import{_ as ze}from"./VSwitchSegment.vue_vue_type_style_index_0_lang-17e4fc05.js";import{_ as qe}from"./VRangeRating-2d2972dd.js";import{_ as Me}from"./pdf-9ba17336.js";import{A as Ue}from"./vue3-apexcharts.common-763b2026.js";import{u as $e}from"./useThemeColors-9cb1eefd.js";const Pe={class:"modal-form columns is-multiline"},Fe={class:"mb-3 is-reversed",style:{width:"100%"}},Be=o({__name:"VeriffLink",props:{veriffModal:{type:Boolean},id:{},email:{},phone:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;r();const t=ae(),i=c(!1),o=le(),k=c(""),x=c(!1),C=c(!1),S=()=>{l("update:modalHandler",!1)};return d((()=>{(async()=>{try{const e=await t.post("/v3/api/worker/veriff/create-session/",{worker:a.id});k.value=e.data.verification.url}catch(e){console.log(e)}})()})),(e,l)=>{const r=ee,c=Q,d=_,A=n,T=s;return u(),p("template",null,[m(w,{name:"fade-slow"},{default:v((()=>[m(T,{is:"form",open:a.veriffModal,title:"Send Veriff Link",size:"small",actions:"right",onClose:S,class:"crete-link-modal"},{content:v((()=>[f("div",Pe,[f("div",Fe,[m(A,{addons:""},{default:v((()=>[m(c,{expanded:""},{default:v((()=>[m(r,{modelValue:y(k),"onUpdate:modelValue":l[0]||(l[0]=e=>g(k)?k.value=e:null),type:"text",class:"input",placeholder:"Find a repository"},null,8,["modelValue"])])),_:1}),m(c,null,{default:v((()=>[m(d,{icon:"fas fa-copy",onClick:l[1]||(l[1]=e=>{return l=y(k),navigator.clipboard.writeText(l),void o.success("Link Copied");var l}),color:"primary"},{default:v((()=>[h(" Link ")])),_:1})])),_:1})])),_:1}),f("div",null,[f("form",{onSubmit:l[3]||(l[3]=b((e=>(async()=>{try{x.value=!0,await t.post(`/v3/api/worker/veriff/${a.id}/send-veriff-email/`,{link:k.value,email:a.email}),o.success("Invitation Email sent successfully")}catch{o.error("Invalid email address")}finally{x.value=!1}})()),["prevent"])),id:"cus-invitation-tools"},[m(A,{style:{width:"100%"},addons:""},{default:v((()=>[m(c,{expanded:""},{default:v((()=>[m(r,{modelValue:a.email,"onUpdate:modelValue":l[2]||(l[2]=e=>a.email=e),type:"email",class:"input",placeholder:"example@gmail.com"},null,8,["modelValue"])])),_:1}),m(c,null,{default:v((()=>[m(d,{type:"submit",icon:"feather:mail",loading:y(x),color:"primary"},{default:v((()=>[h(" Mail ")])),_:1},8,["loading"])])),_:1})])),_:1})],32)]),f("div",null,[f("form",{onSubmit:l[5]||(l[5]=b((e=>(async()=>{try{C.value=!0,await t.post("/v3/api/worker/worker_invitation/send-invitation-sms/",{message:k.value,phone:a.phone}),o.success("Invitation SMS sent successfully")}catch{o.error("Invalid phone number")}finally{C.value=!1}})()),["prevent"])),id:"cus-invitation-tools"},[m(A,{style:{width:"100%"},addons:""},{default:v((()=>[m(c,{expanded:""},{default:v((()=>[m(r,{modelValue:a.phone,"onUpdate:modelValue":l[4]||(l[4]=e=>a.phone=e),pattern:"^\\+44\\d{10}$",type:"phone",class:"input",required:"",placeholder:"+4400000000"},null,8,["modelValue"])])),_:1}),m(c,null,{default:v((()=>[m(d,{type:"submit",icon:"feather:message-circle",loading:y(x),color:"primary"},{default:v((()=>[h(" SMS ")])),_:1},8,["loading"])])),_:1})])),_:1})],32)])])])])),action:v((()=>[m(d,{style:{display:"none"},type:"submit",color:"primary",rounded:"",loading:y(i),icon:"fas fa-link",raised:""},{default:v((()=>[h(" Create")])),_:1},8,["loading"])])),cancel:v((()=>[m(d,{style:{display:"none"},rounded:"",color:"light",onClick:S,raised:""},{default:v((()=>[h("Close ")])),_:1})])),_:1},8,["open"])])),_:1})])}}}),We=k(Be,[["__scopeId","data-v-ad47fc25"]]),Ye=e=>(N("data-v-cf424a7c"),e=e(),D(),e),Ke={class:"timeline-wrapper"},He=Ye((()=>f("div",{class:"timeline-header"},null,-1))),Xe={class:"timeline-wrapper-inner"},Ge={class:"timeline-container"},Je={class:"timeline-item is-unread"},Ze={class:"date"},Qe=Ye((()=>f("div",{class:"dot is-success"},null,-1))),el={class:"content-wrap"},ll=["onClick"],al=Ye((()=>f("div",{class:"no-status"},null,-1))),tl={class:"container"},il={class:"half"},sl={class:"",style:{display:"flex","align-items":"center"}},nl={class:"box-text"},ol={class:"meta-text"},rl={class:""},cl=Ye((()=>f("i",{class:"lnir lnir-hospital-location mr-2",style:{"font-size":"larger",color:"var(--primary)"},"aria-hidden":"true"},null,-1))),dl={class:"half"},ul={class:"",style:{display:"flex","align-items":"center"}},pl={class:"box-text"},ml={class:"meta-text"},vl={style:{display:"flex"}},fl=Ye((()=>f("i",{class:"lnir lnir-hospital-location mr-2",style:{"font-size":"larger",color:"var(--primary)"},"aria-hidden":"true"},null,-1))),yl={class:"box-end"},gl=Ye((()=>f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-bubble"})],-1))),hl=Ye((()=>f("div",{class:"meta"},[f("span",null,"Activity"),f("span",null,"View activity of Timesheet")],-1))),bl=[gl,hl],wl=Ye((()=>f("img",{class:"light-image is-larger",src:pe,alt:""},null,-1))),_l=Ye((()=>f("img",{class:"dark-image is-larger",src:me,alt:""},null,-1))),kl=o({__name:"WorkerTimeSheet",props:{id:{type:String,default:0}},setup(e){const l=e;ae();const a=te(),t=c(!1),i=c(!1),s=c(0),n=c([]);return d((()=>{(async()=>{try{t.value=!0;const e=await a.get(`/api/timesheetdata/worker/${l.id}/`);n.value=e.data,console.log("timesheeeet",n.value),t.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=ue,o=de,r=ce,c=re,d=oe;return u(),p("div",Ke,[He,f("div",Xe,[f("div",Ge,[y(t)?(u(),x(a,{key:0})):C("",!0),(u(!0),p(S,null,A(y(n),(e=>(u(),p("div",Je,[f("div",Ze,[f("span",null,T(y(ve)(e.created_at)),1)]),Qe,f("div",el,[f("div",{class:"content-box",onClick:()=>{i.value=!0,s.value=e.timeSheetID}},[al,f("div",tl,[f("div",il,[f("div",sl,[m(o,{picture:e.bookOnImageURL,squared:"",size:"medium"},null,8,["picture"]),f("div",nl,[f("div",ol,[f("p",null,[f("span",null,T(y(fe)(e.bookOnTime)),1)]),f("span",rl,[cl,h(" "+T(e.bookOnLocation&&e.bookOnLocation.length>90?e.bookOnLocation.slice(0,90)+"...":e.bookOnLocation),1)])])])])]),f("div",dl,[f("div",ul,[m(o,{picture:e.bookOffImageURL,squared:"",size:"medium"},null,8,["picture"]),f("div",pl,[f("div",ml,[f("p",null,[f("span",null,T(y(fe)(e.bookOffTime)),1)]),f("span",vl,[fl,h(" "+T(e.bookOffLocation&&e.bookOffLocation.length>90?e.bookOffLocation.slice(0,90)+"...":e.bookOffLocation),1)])])])])])]),f("div",yl,[m(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:v((()=>[f("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:l[0]||(l[0]=e=>i.value=!0)},bl)])),_:1})])],8,ll)])])))),256)),0==y(n).length?(u(),x(c,{key:1,title:"No Activity found.",subtitle:"Looks like you don't have done any activity on this worker yet as you will do anything, that will be showing up in here."},{image:v((()=>[wl,_l])),_:1})):C("",!0)])]),y(i)?(u(),x(d,{key:0,timeSheetDetailModal:y(i),timesheetId:y(s),"onUpdate:modalHandler":l[1]||(l[1]=()=>{i.value=!1})},null,8,["timeSheetDetailModal","timesheetId"])):C("",!0)])}}}),xl=k(kl,[["__scopeId","data-v-cf424a7c"]]),Cl=e=>(N("data-v-43920bbc"),e=e(),D(),e),Sl={class:"timeline-wrapper"},Al=Cl((()=>f("div",{class:"timeline-header"},null,-1))),Tl={class:"timeline-wrapper-inner"},Nl={class:"timeline-container"},Dl={class:"timeline-item is-unread"},Vl={class:"date"},Il={class:"content-wrap"},jl={class:"content-box"},Rl={key:0,class:"status"},Ol={key:1,class:"no-status"},El={class:"box-text"},Ll={class:"meta-text"},zl=["innerHTML"],ql=Cl((()=>f("div",{class:"box-end"},null,-1))),Ml=Cl((()=>f("img",{class:"light-image is-larger",src:pe,alt:""},null,-1))),Ul=Cl((()=>f("img",{class:"dark-image is-larger",src:me,alt:""},null,-1))),$l=k(o({__name:"WorkerActivityLogs",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(e){const l=e,a=ae(),t=c(!1),i=c([]),s={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};return d((()=>{(async()=>{t.value=!0;try{const e=await a.get(`/v3/api/account/actions/${l.id}/worker-activity-logs/`,{});i.value=e.data,t.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=ue,n=de,o=re;return u(),p("div",Sl,[Al,f("div",Tl,[f("div",Nl,[y(t)?(u(),x(a,{key:0})):C("",!0),(u(!0),p(S,null,A(y(i),(e=>{return u(),p("div",Dl,[f("div",Vl,[f("span",null,T((l=e.action_datetime.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),f("div",{class:V(["dot",s[e.method]])},null,2),f("div",Il,[f("div",jl,[e.performedById===e.objectId?(u(),p("div",Rl)):(u(),p("div",Ol)),m(n,{picture:e.performer_detail.profileImage},null,8,["picture"]),f("div",El,[f("div",Ll,[f("p",null,[f("span",{style:I({color:""+(e.performedById===e.objectId?"var(--red)":"")})},T(e.performer_detail.first_name)+" "+T(e.performer_detail.last_name)+". ",5),f("span",{class:"action-message",innerHTML:e.message},null,8,zl)]),f("span",null,T(e.action_datetime.slice(11,16)),1)])]),ql])])]);var l})),256)),y(i).length<1?(u(),x(o,{key:1,title:"No Activity found.",subtitle:"Looks like you don't have done any activity on this worker yet as you will do anything, that will be showing up in here."},{image:v((()=>[Ml,Ul])),_:1})):C("",!0)])])])}}}),[["__scopeId","data-v-43920bbc"]]),Pl=e=>(N("data-v-50e7445e"),e=e(),D(),e),Fl={class:"tab-content is-active"},Bl=Pl((()=>f("div",{class:"section-title mt-0",style:{display:"flex","justify-content":"space-between"}},null,-1))),Wl={class:"columns is-multiline"},Yl={class:"column is-7 is-flex space-between"},Kl=Pl((()=>f("h6",{style:{"white-space":"nowrap"},class:"cus-main-heading mr-3 ml-1 mt-5"}," Approval Requests ",-1))),Hl={class:"cu-align-center"},Xl={key:0,style:{"font-weight":"600",color:"var(--primary)","margin-left":"8px"}},Gl={class:"column is-5 mt-4"},Jl={class:"list-flex-toolbar is-reversed"},Zl={class:"buttons"},Ql={class:"column is-12"},ea={class:"light-text item-meta",style:{"font-weight":"500"}},la={class:"item-name dark-inverted"},aa={class:"item-meta"},ta={class:"light-text item-meta"},ia={class:"light-text item-meta"},sa=["onClick"],na=Pl((()=>f("h6",{style:{"font-weight":"500","font-size":"20px","text-align":"left","margin-bottom":"6px","padding-left":"2px"}}," Timeline ",-1))),oa={class:"p-2",style:{}},ra={style:{"font-weight":"600","margin-bottom":"0px","padding-left":"10px",color:"white"}},ca={class:"item-name dark-inverted",style:{"font-weight":"500"}},da=Pl((()=>f("hr",null,null,-1))),ua={class:"columns is-multiline"},pa={class:"column is-8"},ma=Pl((()=>f("div",{class:"is-flex space-between mb-4"},[f("h6",{class:"cus-main-heading ml-1 mb-2"},"Employment References")],-1))),va=["id"],fa={class:"is-flex"},ya={class:"dark-text light-weight mb-1"},ga={class:"is-flex cu-align-center"},ha={style:{"font-weight":"500","font-size":"17px",color:"#000"}},ba={style:{"margin-left":"6px","white-space":"nowrap","font-weight":"500","font-size":"12px",color:"#666"}},wa={style:{display:"flex",width:"100%",gap:"16px","justify-content":"flex-end",cursor:"pointer"}},_a={class:"row mt-4"},ka={class:"columns is multiline"},xa={class:"column is-2"},Ca={class:"light-dark weighted"},Sa={class:"column is-2"},Aa={class:"light-dark weighted"},Ta={class:"column is-2"},Na={class:"light-dark weighted"},Da={class:"column is-2"},Va=Pl((()=>f("hr",null,null,-1))),Ia={class:"columns is multiline"},ja={class:"column is-2"},Ra={class:"light-dark weighted"},Oa={class:"column is-2"},Ea={class:"light-dark weighted"},La={class:"column is-2"},za={class:"light-dark weighted"},qa={class:"column is-2"},Ma={class:"light-dark weighted"},Ua=["onClick"],$a={class:"column is-2"},Pa={class:"columns is multiline"},Fa={class:"column is-12"},Ba={key:0,class:"light-dark light-weight",style:{}},Wa={class:"column is-4 mt-6"},Ya={class:"profile-card is-relative mt-0"},Ka={class:"profile-card-section no-padding"},Ha=Pl((()=>f("div",{class:"section-title"},[f("h5",{style:{"font-weight":"500",color:"#444"}}," Reference Requests To Employee ")],-1))),Xa={class:"section-content no-padding"},Ga=Pl((()=>f("i",{class:"fas fa-circle",style:{color:"var(--info)","font-size":"10px"},"aria-hidden":"true"},null,-1))),Ja={class:"ml-6",style:{"font-weight":"500"}},Za={class:"ml-6",style:{"font-weight":"500"}},Qa={style:{width:"80px"}},et=["onClick"],lt=Pl((()=>f("img",{class:"light-image",src:Te,alt:""},null,-1))),at=Pl((()=>f("img",{class:"dark-image",src:Ne,alt:""},null,-1))),tt={class:"tab-content is-active"},it={class:"is-flex is-align-items-center is-justify-content-space-between"},st={class:"is-flex is-align-items-center"},nt=Pl((()=>f("p",{class:"title is-6 is-narrow toc-ignore ml-3"}," Employement Reference Details ",-1))),ot={class:"is-flex is-justify-content-space-between"},rt=Pl((()=>f("hr",null,null,-1))),ct={class:"columns is-raised s-card"},dt=Pl((()=>f("div",{class:"column is-2"},[f("div",{class:"content"},[f("ol",{class:"",style:{"list-style-type":"none","font-weight":"bold"}},[f("li",null,"Referee Name:"),f("li",null,"Rferee Contact:"),f("li",null,"Job Title:"),f("li",null,"Employed From:"),f("li",null,"Is Date Confirmed?:")])])],-1))),ut={class:"column is-2"},pt={class:"content mb-4"},mt={style:{"list-style-type":"none"}},vt={key:0},ft={key:1},yt=Pl((()=>f("div",{class:"column is-2"},[f("div",{class:"content"},[f("ol",{style:{"list-style-type":"none","font-weight":"bold"}},[f("li",null,"Referee Email:"),f("li",null,"No of Requests:"),f("li",null,"Alternate Proof:"),f("li",null,"Employed To:"),f("li",null,"Verbal Confirmation")])])],-1))),gt={class:"column is-2"},ht={class:"content"},bt={style:{"list-style-type":"none"}},wt={style:{width:"100%","word-wrap":"break-word"}},_t={class:"is-flex is-align-items-center"},kt={key:0},xt=Pl((()=>f("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Ct=Pl((()=>f("div",{class:"column is-2"},[f("div",{class:"content"},[f("ol",{style:{"list-style-type":"none","font-weight":"bold"}},[f("li",null,"Company Name:"),f("li",null,"Last Request Date:"),f("li",null,"Reference Documnet:"),f("li",null,"Months/Years:"),f("li",null,"Employee Name:")])])],-1))),St={class:"column is-2"},At={class:"content"},Tt={style:{"list-style-type":"none"}},Nt={class:"is-flex is-align-items-center"},Dt={key:0},Vt=Pl((()=>f("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),It={class:"modal-form"},jt={class:"columns"},Rt={class:"column is-half"},Ot={class:"field"},Et=Pl((()=>f("label",{class:"label"},"Employement Type",-1))),Lt={class:"control"},zt={class:"multiselect-single-label"},qt={class:"select-label-text"},Mt={class:"select-label-text"},Ut={class:"column is-half"},$t={class:"field"},Pt=Pl((()=>f("label",{class:"label"},"Referee Name *",-1))),Ft={class:"control"},Bt={class:"columns"},Wt={class:"column is-half"},Yt={class:"field"},Kt=Pl((()=>f("label",{class:"label"},"Referee Phone ",-1))),Ht={class:"control"},Xt={class:"column is-half"},Gt={class:"field"},Jt=Pl((()=>f("label",{class:"label"},"Referee Email *",-1))),Zt={class:"control"},Qt=Pl((()=>f("hr",null,null,-1))),ei={class:"columns"},li={class:"column is-half"},ai={class:"field"},ti=Pl((()=>f("label",{class:"label"},"Company *",-1))),ii={class:"control"},si={class:"column is-half"},ni={class:"field"},oi=Pl((()=>f("label",{class:"label"},"Job Title *",-1))),ri={class:"control"},ci={class:"columns"},di={class:"column is-half"},ui={class:"field"},pi=Pl((()=>f("label",{class:"label"},"Employment Start Date *",-1))),mi={class:"control"},vi={class:"column is-half"},fi={class:"field"},yi=Pl((()=>f("label",{class:"label"},"Employment End Date *",-1))),gi={class:"control"},hi={class:"modal-form"},bi={class:"columns"},wi={class:"column is-half"},_i={class:"field"},ki=Pl((()=>f("label",{class:"label"},"Employement Type",-1))),xi={class:"control"},Ci={class:"multiselect-single-label"},Si={class:"select-label-text"},Ai={class:"select-label-text"},Ti={class:"column is-half"},Ni={class:"field"},Di=Pl((()=>f("label",{class:"label"},"Job Title ",-1))),Vi={class:"control"},Ii={class:"columns"},ji={class:"column is-half"},Ri={class:"field"},Oi=Pl((()=>f("label",{class:"label"},"Employement Start Date *",-1))),Ei={class:"control"},Li={class:"column is-half"},zi={class:"field"},qi=Pl((()=>f("label",{class:"label"},"Employement End Date *",-1))),Mi={class:"control"},Ui=Pl((()=>f("hr",null,null,-1))),$i=Pl((()=>f("span",{style:{"font-weight":"bold","line-height":"3"}},"Referee Information",-1))),Pi={class:"columns"},Fi={class:"column is-half"},Bi={class:"field"},Wi=Pl((()=>f("label",{class:"label"},"Referee Name ",-1))),Yi={class:"control"},Ki={class:"column is-half"},Hi={class:"field"},Xi=Pl((()=>f("label",{class:"label"},"Referee Email *",-1))),Gi={class:"control"},Ji={class:"columns"},Zi={class:"column is-half"},Qi={class:"field"},es=Pl((()=>f("label",{class:"label"},"Company ",-1))),ls={class:"control"},as={class:"column is-half"},ts={class:"field"},is=Pl((()=>f("label",{class:"label"},"Referee Phone ",-1))),ss={class:"control"},ns={class:"d-flex justify-center"},os={class:"modal-form"},rs=["src"],cs=["src"],ds={class:"content rounded px-5"},us={class:"field mb-6"},ps=Pl((()=>f("label",{class:"label"},"Link :",-1))),ms={class:"field"},vs=Pl((()=>f("label",{class:"label"},"Email",-1))),fs=o({__name:"WorkerRefrence",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(l){const a=l,t=j(),i=le(),o=ae(),r=c(!1),w=c(!1),k=c(!1),N=c(""),D=c(!1),V=c("");c("");const M=c(""),U=c(!1),$=c(!1),P=c(0),F=c(""),B=c({}),W=c(!1),Y=c([]),K=c(null),H=c({}),X=c([]),G=c({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),J=c({title:"",subtitle:"test",isRequestSweetAlertOpen:!1,btntext:"text"}),Z=c({title:"",subtitle:"test",isDeleteRequestInfoSweetAlertOpen:!1,btntext:"text"}),te=c({title:"",subtitle:"test",isEmailSweetAlertOpen:!1,btntext:"text"}),ie=c({id:0,refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",duration:"",companyName:"",worker:"",noOfRequests:"",lastRequestDate:"",alternateProof:"",referenceDocument:"",isDatesConfirmed:"",verbalConfirmationDate:"",isCompleted:"",status:"",type:"",created_at:"",refereeStatus:"",comment:""}),se=c({id:0,refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",duration:"",worker:"",noOfRequests:"",lastRequestDate:"",alternateProof:"",referenceDocument:"",isDatesConfirmed:"",verbalConfirmationDate:"",isCompleted:"",status:"",type:"",created_at:"",comment:"",refereeStatus:""}),ne=[],oe={Id:"Ref Id",reference:{label:"Referee",grow:!0},type:"Type",Name:"Position",Requested:"Requested",Status:"Status",Completed:"Completed at",actions:{label:"Actions",align:"end"}},ce=c([{id:0,reference:{id:0,refereeName:"",refereeEmail:"",refereeContact:"",jobTitle:"",companyName:"",alternateProof:null,referenceDocument:null,type:"",refereeStatus:"",status:"",employedFrom:"",employedTo:"",created_at:"",updated_at:"",noOfRequests:0,lastRequestDate:null,isDatesConfirmed:!1,verbalConfirmationDate:null,isCompleted:!1,worker:0,comment:"",created_by:0},status:"",token:"",completedAt:null,created_at:""}]);c("Pending");const de=c({Pending:"warning",Approved:"primary",Rejected:"danger"});c({Employment:"info",Acdamin:"primary",Activity:"danger"});const ue=c({refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",type:"Employment",worker:""}),pe=e=>{console.log(e),ie.value=e,$.value=!0},me=e=>{F.value=e,K.value&&K.value.click()},ve=async e=>{const l=e.target,a=l.files?.[0];await fe(se.value.id,{[F.value]:a}),(async e=>{try{const l=await o.get(`/v3/api/worker/reference/${e}/`);se.value=l.data,console.log("reference updated",se.value)}catch{}})(se.value.id)},fe=async(e,l)=>{console.log(l),await o.patch(`/v3/api/worker/reference/${e}/`,l),Te(),i.success("Reference updated")},ge=async e=>{try{W.value=!0;await o.post(`/v3/api/worker/reference/${H.value.id}/send-reference-mail/`,{email:e});ye({message:"sent <b>Employment Reference</b> by email",objectId:t.params.id,method:"patch"}),i.success("Email sent succesfully"),w.value=!1}catch(l){i.error("Error while sending email"),w.value=!1}finally{W.value=!1}},he=e=>{ue.value={...ue.value,[e.target.name]:e.target.value}},be=e=>{console.log(B.value),B.value={...B.value,[e.target.name]:e.target.value}},we=async()=>{console.log(ue.value),ue.value={...ue.value,worker:a.id};try{D.value=!0;await o.post("/v3/api/worker/reference/",ue.value);i.success("New reference added"),ye({message:"added a new <b>Reference</b>",objectId:t.params.id,method:"patch"}),D.value=!1,r.value=!1,Te(),ue.value={refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",type:"Employment",worker:""}}catch{D.value=!1,i.error("Error accured")}},Te=async()=>{const e=await o.get(`/v3/api/worker/reference/worker-references/${a.id}/`);ne.length=0,Y.value=e.data,console.log("resources",Y.value),ne.push(...e.data),V.value="fa",V.value="",Pe()},Ne=e=>{P.value=e,G.value={title:"Are you sure?",subtitle:"You will not be able to recover this reference!",btntext:"Yes, Delete it",isSweetAlertOpen:!0}},Ie=async()=>{try{D.value=!0,te.value.isEmailSweetAlertOpen=!1;const e=await o.post("v3/api/worker/reference_requests/",{reference:P.value});i.success("Mail sent succesfuly"),console.log(e),Fe(),Te(),Be()}catch(e){console.log(e),D.value=!1}finally{D.value=!1}},je=async()=>{console.log(P.value),G.value.isSweetAlertOpen=!1,await o.delete(`v3/api/worker/reference/${P.value}`),i.success("Reference deleted successfully"),P.value=0,U.value=!1,Te()},Re=async()=>{console.log(P.value),J.value.isRequestSweetAlertOpen=!1,await o.delete(`/v3/api/worker/reference_requests/${P.value}/`),i.error("Request deleted successfully"),P.value=0,U.value=!1,Fe(),Be()},Oe=async()=>{console.log(P.value),Z.value.isDeleteRequestInfoSweetAlertOpen=!1,await o.delete(`v3/api/worker/reference_tokens/${P.value}/`),i.error("Request record deleted successfully"),P.value=0,U.value=!1,Fe(),Be()},Ee=(e,l)=>{const a=l;if(e&&a){const l=new Date(e),t=new Date(a).getTime()-l.getTime(),i=Math.floor(t/2592e6),s=Math.floor(i/12);return`${s}Yr - ${i%12}Mo - ${Math.floor(s%365)}Dy`}return"N/A"},Le=R((()=>{if(V.value){const e=new RegExp(V.value,"i");return ne.filter((l=>l.refereeName.match(e)||l.refereeEmail.match(e)))}return ne})),ze=R((()=>Y.value.filter((e=>"Approved"==e.status)).length)),qe=new Date;qe.setFullYear(qe.getFullYear()-5);const Me=qe.toISOString().slice(0,10);qe.getFullYear();const Ue=c({plugins:[De],schedulerLicenseKey:"0965592368-fcs-1694657447",initialView:"resourceTimeline5Year",height:"auto",resourceAreaWidth:"10%",selectable:!0,now:Me,headerToolbar:{left:"",center:"",right:""},droppable:!0,editable:!0,views:{resourceTimeline5Year:{type:"resourceTimeline",duration:{years:6},slotDuration:{months:2},slotWidth:10}},resourceAreaHeaderContent:"Companies",eventClick:e=>{console.log("event",e.event.id),console.log("clicked");const l=document.getElementById(`ref-${e.event.id}`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}}),$e={Pending:"#FAAD42",Approved:"#05D69E",Rejected:"#E62864"},Pe=()=>{console.log("references",ne);const e=ne.map(((e,l)=>({id:e.id,resourceId:e.id,start:e.employedFrom,end:e.employedTo,title:e.companyName,jobTitle:e.jobTitle,status:e.status,color:$e[e.status]}))),l=ne.map(((e,l)=>({id:e.id,title:e.companyName,jobTitle:e.jobTitle,status:e.status,color:$e[e.status]})));Ue.value.resources=l,console.log("options",Ue.value),Ue.value.events=e},Fe=async()=>{try{const e=await o.get(`/v3/api/worker/reference_requests/${a.id}/worker/`);ce.value=e.data,console.log("requests",ce.value)}catch(e){console.log(e)}},Be=async()=>{try{const e=await o.get(`/v3/api/worker/reference/worker-reference-requests/${a.id}/`);X.value=e.data}catch(e){console.log(e)}};return d((async()=>{Fe(),await Te(),Be(),console.log("no",ze)})),(l,c)=>{const d=Ae,j=_,R=Q,F=xe,W=Se,Y=Ce,le=ke,ae=O("P"),ne=re,fe=_e,De=O("Multiselect"),qe=n,Me=s,$e=ee,Pe=e;return u(),p(S,null,[f("div",null,[f("input",{ref_key:"fileInput",ref:K,type:"file",style:{display:"none"},onChange:ve,accept:"image/*,application/pdf"},null,544),E(f("div",Fl,[Bl,f("div",Wl,[f("div",Yl,[Kl,f("div",Hl,[m(d,{class:"mb-1",style:{height:"18px",width:"300px"},value:y(ze)?y(ze)/y(Le).length*100:0},null,8,["value"]),y(ze)?(u(),p("p",Xl,T((y(ze)/y(Le).length*100).toFixed(2))+"% ",1)):C("",!0)])]),f("div",Gl,[f("div",Jl,[f("div",Zl,[m(j,{color:"info",onClick:c[0]||(c[0]=e=>(async()=>{try{w.value=!0;const e=window.location.origin,l=await o.post("/v3/api/worker/reference/create-reference-link/",{worker:a.id});H.value=l.data,M.value=`${e}/add-reference/${l.data.token}`,Be()}catch(e){console.error(e)}})()),icon:"fas fa-link",elevated:""},{default:v((()=>[h(" Reference link ")])),_:1}),m(j,{color:"primary",onClick:c[1]||(c[1]=()=>{r.value=!y(r)}),icon:"fas fa-plus",elevated:""},{default:v((()=>[h(" Reference ")])),_:1}),m(R,{icon:"feather:search"},{default:v((()=>[E(f("input",{"onUpdate:modelValue":c[2]||(c[2]=e=>g(V)?V.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,y(V)]])])),_:1})])])]),f("div",Ql,[y(Le).length?(u(),x(Y,{key:0,class:"mb-4",data:y(ce),columns:oe,rounded:""},{body:v((()=>[m(q,{name:"list",tag:"div",class:"flex-list-inner"},{default:v((()=>[(u(!0),p(S,null,A(y(ce),((e,l)=>(u(),p("div",{key:l,class:"flex-table-item",style:{cursor:"pointer"}},[m(F,{column:{grow:!1}},{default:v((()=>[f("div",null,[f("span",ea,"REF-9876"+T(e.reference.id),1)])])),_:2},1024),m(F,{column:{media:!0,grow:!0}},{default:v((()=>[f("div",null,[f("span",la,T(e.reference.refereeName),1),f("span",aa,[f("span",null,T(e.reference.refereeEmail),1)])])])),_:2},1024),m(F,null,{default:v((()=>[f("div",null,[f("span",ta,T(e.reference.type),1)])])),_:2},1024),m(F,null,{default:v((()=>[f("span",ia,T(e.reference.jobTitle),1)])),_:2},1024),m(F,null,{default:v((()=>[m(W,{color:"light"},{default:v((()=>[h(T(e.created_at.slice(0,10)),1)])),_:2},1024)])),_:2},1024),m(F,null,{default:v((()=>[m(W,{color:y(de)[e.status]},{default:v((()=>[h(T(e.status),1)])),_:2},1032,["color"])])),_:2},1024),m(F,{column:{align:"start"}},{default:v((()=>[m(W,{color:"light"},{default:v((()=>[h(T(e.completedAt?e.completedAt.slice(0,10):"-- -- ----"),1)])),_:2},1024)])),_:2},1024),m(F,{column:{align:"end"}},{default:v((()=>[f("i",{onClick:l=>{return a=e.id,P.value=a,J.value={title:"Are you sure?",subtitle:"You want to delete this Request permanentaly ?",btntext:"Yes, Delete it",isRequestSweetAlertOpen:!0},void Be();var a},class:"fas fa-trash-alt cu-pointer cus-del-icon","aria-hidden":"true"},null,8,sa)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):(u(),x(W,{key:1,color:"warning",class:"mb-2 ml-5"},{default:v((()=>[h("No Request sent to the Referee yet")])),_:1}))])]),na,m(y(Ve),{options:y(Ue)},{eventContent:v((e=>[f("div",oa,[f("p",ra,[m(W,{light:"",color:"info",class:"mr-5"},{default:v((()=>[f("span",ca,"REF-9876"+T(e.event.id),1)])),_:2},1024),h(" "+T(e.event.extendedProps.jobTitle)+" -- "+T(e.event.extendedProps.status),1)])])])),_:1},8,["options"]),da,f("div",ua,[f("div",pa,[ma,(u(!0),p(S,null,A(y(Le),((e,l)=>(u(),p("div",{key:l,style:{"background-color":"#fff","border-radius":"16px"},class:"p-6 mb-4",id:`ref-${e.id}`},[f("div",fa,[f("div",null,[f("p",ya,"REF-9876"+T(e.id),1),f("div",ga,[f("h1",ha,T(e.companyName),1),f("h3",ba," (Mail sent: "+T(e.mails_sent)+" time) ",1)])]),f("div",wa,[m(le,{icon:"feather:edit-2",onClick:l=>pe(e),color:"info"},null,8,["onClick"]),m(le,{onClick:l=>Ne(e.id),icon:"feather:trash",color:"danger"},null,8,["onClick"])])]),f("div",_a,[f("div",ka,[f("div",xa,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Type")])),_:1}),f("p",Ca,T(e.type),1)]),f("div",Sa,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Company")])),_:1}),f("p",Aa,T(e.companyName?e.companyName:"Not Mentioned"),1)]),f("div",Ta,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Requested At")])),_:1}),f("p",Na,T(e.created_at?e.created_at.slice(0,10):"-- -- ----"),1)]),f("div",Da,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Status")])),_:1}),f("p",{style:I({color:`var(--${y(de)[e.status]})`}),class:"light-dark weighted"},T(e.status),5)])]),Va,f("div",Ia,[f("div",ja,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Start Date")])),_:1}),f("p",Ra,T(e.employedFrom),1)]),f("div",Oa,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("End Date")])),_:1}),f("p",Ea,T(e.employedTo),1)]),f("div",La,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Position")])),_:1}),f("p",za,T(e.jobTitle),1)]),f("div",qa,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Verification")])),_:1}),f("p",Ma,[f("a",{style:{color:"var(--primary)","text-decoration":"underline"},onClick:l=>{return a=e.id,P.value=a,te.value={title:"Sending mail?",subtitle:"An automated generated email will be sent to the referee",btntext:"Yes, Send",isEmailSweetAlertOpen:!0},void Be();var a},class:"cu-pointer"}," Send email ",8,Ua)])]),f("div",$a,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Contact status")])),_:1}),f("p",{style:I({color:"Contacted"==e.refereeStatus?"var(--primary)":"var(--info)"}),class:"light-dark weighted"},T(e.refereeStatus),5)])]),f("div",Pa,[f("div",Fa,[m(ae,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:v((()=>[h("Comment:")])),_:1}),e.comment?(u(),p("p",Ba,T(e.comment),1)):C("",!0),e.comment?C("",!0):(u(),x(W,{key:1},{default:v((()=>[h("No comments added yet")])),_:1}))])])])],8,va)))),128))]),f("div",Wa,[f("div",Ya,[f("div",Ka,[Ha,f("div",Xa,[(u(!0),p(S,null,A(y(X),(e=>(u(),p("div",{key:e.id,style:{display:"flex","align-items":"center"},class:"mb-2"},[Ga,f("p",Ja,T(e.created_at.slice(0,10)),1),f("p",Za,T(e.created_at.slice(11,16)),1),f("div",Qa,[m(W,{class:"ml-6",color:"Pending"==e.status?"light":"purple"},{default:v((()=>[h(T(e.status),1)])),_:2},1032,["color"])]),f("i",{class:"fas fa-trash-alt ml-6 cu-pointer cus-del-icon",onClick:l=>{return a=e.id,P.value=a,Z.value={title:"Are you sure?",subtitle:"You want to delete this referee request record permanentaly ?",btntext:"Yes, Delete",isDeleteRequestInfoSweetAlertOpen:!0},void Be();var a},style:{},"aria-hidden":"true"},null,8,et)])))),128)),0==y(X).length?(u(),x(W,{key:0,color:"warning",class:"mb-5 ml-5"},{default:v((()=>[h(" No Request sent to the Referee yet")])),_:1})):C("",!0)])])])])]),0==y(Le).length?(u(),x(ne,{key:0,title:"No Reference is added for this employee.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n\t\t\t\t\t\tsearch terms you've entered. Please try different search terms or\n\t\t\t\t\t\tcriteria.",larger:""},{image:v((()=>[lt,at])),_:1})):C("",!0)],512),[[L,!y(U)]]),E(f("section",tt,[f("div",it,[f("div",st,[f("i",{class:"fas fa-arrow-left","aria-hidden":"true",onClick:c[3]||(c[3]=e=>U.value=!1),style:{cursor:"pointer"}}),nt]),f("div",ot,[m(j,{class:"ml-3 mr-3",color:"info",icon:"fas fa-edit",onClick:c[4]||(c[4]=e=>pe(l.item))},{default:v((()=>[h(" Edit ")])),_:1}),m(j,{color:"danger",icon:"fas fa-trash-alt",onClick:c[5]||(c[5]=e=>Ne(y(se).id))},{default:v((()=>[h(" Delete ")])),_:1})])]),rt,f("div",ct,[dt,f("div",ut,[f("div",pt,[f("ol",mt,[f("li",null,T(y(se).refereeName?y(se).refereeName:"--"),1),f("li",null,T(y(se).refereeContact?y(se).refereeContact:"--"),1),f("li",null,T(y(se).jobTitle?y(se).jobTitle:"--"),1),f("li",null,T(y(se).employedFrom?y(se).employedFrom:"--"),1),y(se).isDatesConfirmed?(u(),p("li",vt,[m(W,{color:"primary",icon:"fas fa-question-circle",label:"Confirmed",rounded:"",elevated:""})])):(u(),p("li",ft,[m(W,{color:"danger",icon:"fas fa-question-circle",label:"not Confirmed",rounded:"",elevated:""})]))])])]),yt,f("div",gt,[f("div",ht,[f("ol",bt,[f("li",wt,T(y(se).refereeEmail?y(se).refereeEmail:"--"),1),f("li",null,T(y(se).noOfRequests?y(se).noOfRequests:"--"),1),f("li",null,[f("div",_t,[y(se).alternateProof?(u(),p("div",kt,[y(se).alternateProof.includes(".pdf")?(u(),p("i",{key:0,onClick:c[6]||(c[6]=()=>{k.value=!0,N.value=y(se).alternateProof}),class:"fas fa-file-pdf mr-5","aria-hidden":"true",style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}})):(u(),p("i",{key:1,class:"fas fa-file-pdf mr-5","aria-hidden":"true",onClick:c[7]||(c[7]=()=>{k.value=!0,N.value=y(se).alternateProof}),style:{cursor:"pointer",color:"var(--pink)","font-size":"20px"}}))])):C("",!0),m(fe,{size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:c[8]||(c[8]=()=>me("alternateProof"))},{default:v((()=>[xt])),_:1})])]),f("li",null,T(y(se).employedTo?y(se).employedTo:"--"),1),f("li",null,T(y(se).verbalConfirmationDate?y(se).verbalConfirmationDate:"--"),1)])])]),Ct,f("div",St,[f("div",At,[f("ol",Tt,[f("li",null,T(y(se).companyName?y(se).companyName:"--"),1),f("li",null,T(y(se).lastRequestDate?y(se).lastRequestDate:"--"),1),f("li",null,[f("div",Nt,[y(se).referenceDocument?(u(),p("div",Dt,[y(se).referenceDocument.includes(".pdf")?(u(),p("i",{key:0,onClick:c[9]||(c[9]=()=>{k.value=!0,N.value=y(se).referenceDocument}),class:"fas fa-file-pdf mr-5","aria-hidden":"true",style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}})):(u(),p("i",{key:1,class:"fas fa-file-image mr-5","aria-hidden":"true",onClick:c[10]||(c[10]=()=>{k.value=!0,N.value=y(se).referenceDocument}),style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}}))])):C("",!0),m(fe,{size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:c[11]||(c[11]=()=>me("referenceDocument"))},{default:v((()=>[Vt])),_:1})])]),f("li",null,T(Ee(y(se).employedFrom,y(se).employedTo)),1),f("li",null,T(a.worker.firstName),1)])])])])],512),[[L,y(U)]]),m(Me,{is:"form",open:y($),title:"Update Employment Reference",size:"big",actions:"right",onSubmit:c[27]||(c[27]=b((e=>(async()=>{console.log("edit form submit");try{D.value=!0,await o.patch(`/v3/api/worker/reference/${ie.value.id}/`,B.value),$.value=!1,i.success("Reference Updated"),ye({message:"edited <b>Employment Reference</b>",objectId:t.params.id,method:"patch"}),D.value=!1,Te()}catch{D.value=!1}})()),["prevent"])),onClose:c[28]||(c[28]=e=>$.value=!1)},{content:v((()=>[f("div",It,[f("div",jt,[f("div",Rt,[f("div",Ot,[Et,f("div",Lt,[m(qe,{class:"is-image-select"},{default:v((({id:e})=>[m(R,null,{default:v((()=>[m(De,{modelValue:y(ie).type,"onUpdate:modelValue":c[12]||(c[12]=e=>y(ie).type=e),attrs:{id:e},placeholder:"Select a type",autocomplete:"type",label:"name",options:[{value:"Employment",name:"Employement"},{value:"Acdamin",name:"Academia"},{value:"Activity",name:"Activity"}]},{singlelabel:v((({value:e})=>[f("div",zt,[f("span",qt,T(e.name),1)])])),option:v((({option:e})=>[f("span",Mt,T(e.name),1)])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})])])]),f("div",Ut,[f("div",$t,[Pt,f("div",Ft,[E(f("input",{type:"text",name:"refereeName",required:"",class:"input",onChange:c[13]||(c[13]=e=>be(e)),placeholder:"Referee Name","onUpdate:modelValue":c[14]||(c[14]=e=>y(ie).refereeName=e)},null,544),[[z,y(ie).refereeName]])])])])]),f("div",Bt,[f("div",Wt,[f("div",Yt,[Kt,f("div",Ht,[E(f("input",{type:"tel",name:"refereeContact",class:"input",onChange:c[15]||(c[15]=e=>be(e)),placeholder:"Referee Phone","onUpdate:modelValue":c[16]||(c[16]=e=>y(ie).refereeContact=e)},null,544),[[z,y(ie).refereeContact]])])])]),f("div",Xt,[f("div",Gt,[Jt,f("div",Zt,[E(f("input",{type:"email",name:"refereeEmail",required:"",class:"input",onChange:c[17]||(c[17]=e=>be(e)),placeholder:"Referee Email","onUpdate:modelValue":c[18]||(c[18]=e=>y(ie).refereeEmail=e)},null,544),[[z,y(ie).refereeEmail]])])])])]),Qt,f("div",ei,[f("div",li,[f("div",ai,[ti,f("div",ii,[E(f("input",{type:"text",name:"companyName",class:"input",required:"",placeholder:"Company","onUpdate:modelValue":c[19]||(c[19]=e=>y(ie).companyName=e),onChange:c[20]||(c[20]=e=>be(e))},null,544),[[z,y(ie).companyName]])])])]),f("div",si,[f("div",ni,[oi,f("div",ri,[E(f("input",{type:"text",name:"jobTitle",required:"",class:"input",onChange:c[21]||(c[21]=e=>be(e)),placeholder:"Job Title ","onUpdate:modelValue":c[22]||(c[22]=e=>y(ie).jobTitle=e)},null,544),[[z,y(ie).jobTitle]])])])])]),f("div",ci,[f("div",di,[f("div",ui,[pi,f("div",mi,[E(f("input",{type:"date",name:"employedFrom",required:"",class:"input",onChange:c[23]||(c[23]=e=>be(e)),placeholder:"Referee email","onUpdate:modelValue":c[24]||(c[24]=e=>y(ie).employedFrom=e)},null,544),[[z,y(ie).employedFrom]])])])]),f("div",vi,[f("div",fi,[yi,f("div",gi,[E(f("input",{type:"date",name:"employedTo",required:"",class:"input",onChange:c[25]||(c[25]=e=>be(e)),placeholder:"Referee email","onUpdate:modelValue":c[26]||(c[26]=e=>y(ie).employedTo=e)},null,544),[[z,y(ie).employedTo]])])])])])])])),action:v((()=>[m(j,{type:"submit",color:"primary",loading:y(D),raised:""},{default:v((()=>[h("Update")])),_:1},8,["loading"])])),_:1},8,["open"]),m(Me,{is:"form",open:y(r),title:"Add Employement Reference",size:"big",actions:"right",onSubmit:b(we,["prevent"]),onClose:c[44]||(c[44]=e=>r.value=!1)},{content:v((()=>[f("div",hi,[f("div",bi,[f("div",wi,[f("div",_i,[ki,f("div",xi,[m(qe,{class:"is-image-select"},{default:v((({id:e})=>[m(R,null,{default:v((()=>[m(De,{modelValue:y(ue).type,"onUpdate:modelValue":c[29]||(c[29]=e=>y(ue).type=e),attrs:{id:e},placeholder:"Select a type",autocomplete:"type",label:"name",options:[{value:"Employment",name:"Employement"},{value:"Acdamin",name:"Academia"},{value:"Activity",name:"Activity"}]},{singlelabel:v((({value:e})=>[f("div",Ci,[f("span",Si,T(e.name),1)])])),option:v((({option:e})=>[f("span",Ai,T(e.name),1)])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})])])]),f("div",Ti,[f("div",Ni,[Di,f("div",Vi,[E(f("input",{type:"text",name:"jobTitle",onChange:c[30]||(c[30]=e=>he(e)),class:"input",placeholder:"Job title","onUpdate:modelValue":c[31]||(c[31]=e=>y(ue).jobTitle=e)},null,544),[[z,y(ue).jobTitle]])])])])]),f("div",Ii,[f("div",ji,[f("div",Ri,[Oi,f("div",Ei,[E(f("input",{type:"date",name:"employedFrom",required:"",onChange:c[32]||(c[32]=e=>he(e)),class:"input",placeholder:"Start date","onUpdate:modelValue":c[33]||(c[33]=e=>y(ue).employedFrom=e)},null,544),[[z,y(ue).employedFrom]])])])]),f("div",Li,[f("div",zi,[qi,f("div",Mi,[E(f("input",{type:"date",name:"employedTo",required:"",onChange:c[34]||(c[34]=e=>he(e)),class:"input",placeholder:"End date","onUpdate:modelValue":c[35]||(c[35]=e=>y(ue).employedTo=e)},null,544),[[z,y(ue).employedTo]])])])])]),Ui,$i,f("div",Pi,[f("div",Fi,[f("div",Bi,[Wi,f("div",Yi,[E(f("input",{type:"text",name:"refereeName",onChange:c[36]||(c[36]=e=>he(e)),class:"input",placeholder:"Referee name","onUpdate:modelValue":c[37]||(c[37]=e=>y(ue).refereeName=e)},null,544),[[z,y(ue).refereeName]])])])]),f("div",Ki,[f("div",Hi,[Xi,f("div",Gi,[E(f("input",{type:"email",name:"refereeEmail",required:"",onChange:c[38]||(c[38]=e=>he(e)),class:"input",placeholder:"Referee email","onUpdate:modelValue":c[39]||(c[39]=e=>y(ue).refereeEmail=e)},null,544),[[z,y(ue).refereeEmail]])])])])]),f("div",Ji,[f("div",Zi,[f("div",Qi,[es,f("div",ls,[E(f("input",{type:"text",name:"companyName",onChange:c[40]||(c[40]=e=>he(e)),class:"input",placeholder:"Company","onUpdate:modelValue":c[41]||(c[41]=e=>y(ue).companyName=e)},null,544),[[z,y(ue).companyName]])])])]),f("div",as,[f("div",ts,[is,f("div",ss,[E(f("input",{type:"tel",name:"refereeContact",onChange:c[42]||(c[42]=e=>he(e)),class:"input",placeholder:"Referee phone","onUpdate:modelValue":c[43]||(c[43]=e=>y(ue).refereeContact=e)},null,544),[[z,y(ue).refereeContact]])])])])])])])),action:v((()=>[f("div",ns,[m(j,{type:"submit",icon:"fas fa-plus",loading:y(D),color:"primary",raised:""},{default:v((()=>[h(" Create Reference ")])),_:1},8,["loading"])])])),cancel:v((()=>[m(j,{style:{display:"none"}},{default:v((()=>[h("Close")])),_:1})])),_:1},8,["open","onSubmit"]),m(Me,{title:"PDF File",open:y(k),size:"big",actions:"right",onClose:c[46]||(c[46]=e=>k.value=!1)},{content:v((()=>[f("div",os,[y(N).includes(".pdf")?(u(),p("iframe",{key:0,src:y(N),style:{width:"100%",height:"800px",border:"none"}},"\n            Oops! an error has occurred.\n          ",8,rs)):(u(),p("img",{key:1,src:y(N),alt:""},null,8,cs))])])),action:v((()=>[])),cancel:v((()=>[m(j,{rounded:"",onClick:c[45]||(c[45]=e=>k.value=!1)},{default:v((()=>[h(" Close ")])),_:1})])),_:1},8,["open"]),m(Me,{title:"Reference link",size:"small",open:y(w),actions:"right",onClose:c[53]||(c[53]=e=>w.value=!1)},{content:v((()=>[f("div",ds,[f("div",us,[ps,m(qe,{addons:""},{default:v((()=>[m(R,{expanded:""},{default:v((()=>[m($e,{modelValue:y(M),"onUpdate:modelValue":c[47]||(c[47]=e=>g(M)?M.value=e:null),type:"text",class:"input",placeholder:l.Loading?"Loading...":"Invitation Link"},null,8,["modelValue","placeholder"])])),_:1}),m(R,null,{default:v((()=>[m(j,{icon:"fas fa-copy",onClick:c[48]||(c[48]=e=>{return l=y(M),navigator.clipboard.writeText(l),i.success("Link copied"),void ye({message:"shared <b>Employment Reference</b> through link",objectId:t.params.id,method:"patch"});var l}),color:"info"},{default:v((()=>[h(" Copy ")])),_:1})])),_:1})])),_:1})]),f("div",ms,[vs,m(qe,{addons:""},{default:v((()=>[m(R,{expanded:""},{default:v((()=>[m($e,{modelValue:a.worker.emailAddress,"onUpdate:modelValue":c[49]||(c[49]=e=>a.worker.emailAddress=e),type:"email",name:"employedFrom",class:"input",placeholder:"Email address"},null,8,["modelValue"])])),_:1}),m(R,null,{default:v((()=>[m(j,{icon:"fas fa-envelope",onClick:c[50]||(c[50]=e=>ge(a.worker.emailAddress)),color:"primary"},{default:v((()=>[h(" Send ")])),_:1})])),_:1})])),_:1})])])])),action:v((()=>[m(j,{onClick:c[51]||(c[51]=e=>ge(a.worker.emailAddress)),color:"primary",style:{display:"none"},raised:"",icon:"fas fa-envelope"},{default:v((()=>[h("Send ")])),_:1})])),cancel:v((()=>[m(j,{onClick:c[52]||(c[52]=e=>w.value=!1),style:{display:"none"}},{default:v((()=>[h("Close")])),_:1})])),_:1},8,["open"])]),y(G).isSweetAlertOpen?(u(),x(Pe,{key:0,isSweetAlertOpen:y(G).isSweetAlertOpen,title:y(G).title,subtitle:y(G).subtitle,btntext:y(G).btntext,onConfirm:je,onCancel:()=>y(G).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0),y(J).isRequestSweetAlertOpen?(u(),x(Pe,{key:1,isRequestSweetAlertOpen:y(J).isRequestSweetAlertOpen,title:y(J).title,subtitle:y(J).subtitle,btntext:y(J).btntext,onConfirm:Re,onCancel:()=>y(J).isRequestSweetAlertOpen=!1},null,8,["isRequestSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0),y(Z).isDeleteRequestInfoSweetAlertOpen?(u(),x(Pe,{key:2,isDeleteRequestInfoSweetAlertOpen:y(Z).isDeleteRequestInfoSweetAlertOpen,title:y(Z).title,subtitle:y(Z).subtitle,btntext:y(Z).btntext,onConfirm:Oe,onCancel:()=>y(Z).isDeleteRequestInfoSweetAlertOpen=!1},null,8,["isDeleteRequestInfoSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0),y(te).isEmailSweetAlertOpen?(u(),x(Pe,{key:3,isEmailSweetAlertOpen:y(te).isEmailSweetAlertOpen,title:y(te).title,subtitle:y(te).subtitle,btntext:y(te).btntext,onConfirm:Ie,onCancel:()=>y(te).isEmailSweetAlertOpen=!1},null,8,["isEmailSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0)],64)}}}),ys=k(fs,[["__scopeId","data-v-50e7445e"]]),gs={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},hs={itemsToShow:{default:gs.itemsToShow,type:Number},itemsToScroll:{default:gs.itemsToScroll,type:Number},wrapAround:{default:gs.wrapAround,type:Boolean},throttle:{default:gs.throttle,type:Number},snapAlign:{default:gs.snapAlign,validator:e=>["start","end","center","center-even","center-odd"].includes(e)},transition:{default:gs.transition,type:Number},breakpoints:{default:gs.breakpoints,type:Object},autoplay:{default:gs.autoplay,type:Number},pauseAutoplayOnHover:{default:gs.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:gs.mouseDrag,type:Boolean},touchDrag:{default:gs.touchDrag,type:Boolean},dir:{default:gs.dir,validator:e=>["rtl","ltr"].includes(e)},i18n:{default:gs.i18n,type:Object},settings:{default:()=>({}),type:Object}};function bs({val:e,max:l,min:a}){return l<a?e:Math.min(Math.max(e,a),l)}function ws(e){return e?e.reduce(((e,l)=>{var a;return l.type===S?[...e,...ws(l.children)]:"CarouselSlide"===(null===(a=l.type)||void 0===a?void 0:a.name)?[...e,l]:e}),[]):[]}function _s({val:e,max:l,min:a=0}){return e>l?_s({val:e-(l+1),max:l,min:a}):e<a?_s({val:e+(l+1),max:l,min:a}):e}function ks(e="",l={}){return Object.entries(l).reduce(((e,[l,a])=>e.replace(`{${l}}`,String(a))),e)}var xs,Cs=o({name:"ARIA",setup(){const e=Y("config",M(Object.assign({},gs))),l=Y("currentSlide",c(0)),a=Y("slidesCount",c(0));return()=>W("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},ks(e.i18n.itemXofY,{currentSlide:l.value+1,slidesCount:a.value}))}}),Ss=o({name:"Carousel",props:hs,setup(e,{slots:l,emit:a,expose:t}){var i;const s=c(null),n=c([]),o=c(0),r=c(0),u=M(Object.assign({},gs));let p,m=Object.assign({},gs);const v=c(null!==(i=e.modelValue)&&void 0!==i?i:0),f=c(0),y=c(0),g=c(0),h=c(0);let b,w;function _(){p=Object.assign({},e.breakpoints),m=Object.assign(Object.assign(Object.assign({},m),e),{i18n:Object.assign(Object.assign({},m.i18n),e.i18n),breakpoints:void 0}),x(m)}function k(){if(!p||!Object.keys(p).length)return;const e=Object.keys(p).map((e=>Number(e))).sort(((e,l)=>+l-+e));let l=Object.assign({},m);e.some((e=>{const a=window.matchMedia(`(min-width: ${e}px)`).matches;return a&&(l=Object.assign(Object.assign({},l),p[e])),a})),x(l)}function x(e){Object.entries(e).forEach((([e,l])=>u[e]=l))}U("config",u),U("slidesCount",r),U("currentSlide",v),U("maxSlide",g),U("minSlide",h),U("slideWidth",o);const C=function(e,l){let a;return function(...t){a&&clearTimeout(a),a=setTimeout((()=>{e(...t),a=null}),l)}}((()=>{k(),A(),S()}),16);function S(){if(!s.value)return;const e=s.value.getBoundingClientRect();o.value=e.width/u.itemsToShow}function A(){r.value<=0||(y.value=Math.ceil((r.value-1)/2),g.value=function({config:e,slidesCount:l}){const{snapAlign:a,wrapAround:t,itemsToShow:i=1}=e;if(t)return Math.max(l-1,0);let s;switch(a){case"start":s=l-i;break;case"end":s=l-1;break;case"center":case"center-odd":s=l-Math.ceil((i-.5)/2);break;case"center-even":s=l-Math.ceil(i/2);break;default:s=0}return Math.max(s,0)}({config:u,slidesCount:r.value}),h.value=function({config:e,slidesCount:l}){const{wrapAround:a,snapAlign:t,itemsToShow:i=1}=e;let s=0;if(a||i>l)return s;switch(t){case"start":default:s=0;break;case"end":s=i-1;break;case"center":case"center-odd":s=Math.floor((i-1)/2);break;case"center-even":s=Math.floor((i-2)/2)}return s}({config:u,slidesCount:r.value}),u.wrapAround||(v.value=bs({val:v.value,max:g.value,min:h.value})))}d((()=>{$((()=>S())),setTimeout((()=>S()),1e3),k(),Y(),window.addEventListener("resize",C,{passive:!0}),a("init")})),P((()=>{w&&clearTimeout(w),b&&clearInterval(b),window.removeEventListener("resize",C,{passive:!0})}));let T=!1;const N={x:0,y:0},D={x:0,y:0},V=M({x:0,y:0}),I=c(!1),j=c(!1),O=()=>{I.value=!0},E=()=>{I.value=!1};function L(e){["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||(T="touchstart"===e.type,T||e.preventDefault(),!T&&0!==e.button||H.value||(N.x=T?e.touches[0].clientX:e.clientX,N.y=T?e.touches[0].clientY:e.clientY,document.addEventListener(T?"touchmove":"mousemove",z,!0),document.addEventListener(T?"touchend":"mouseup",q,!0)))}const z=function(e,l){let a;return l?function(...t){const i=this;a||(e.apply(i,t),a=!0,setTimeout((()=>a=!1),l))}:e}((e=>{j.value=!0,D.x=T?e.touches[0].clientX:e.clientX,D.y=T?e.touches[0].clientY:e.clientY;const l=D.x-N.x,a=D.y-N.y;V.y=a,V.x=l}),u.throttle);function q(){const e="rtl"===u.dir?-1:1,l=.4*Math.sign(V.x),a=Math.round(V.x/o.value+l)*e;if(a&&!T){const e=l=>{window.removeEventListener("click",e,!0)};window.addEventListener("click",e,!0)}X(v.value-a),V.x=0,V.y=0,j.value=!1,document.removeEventListener(T?"touchmove":"mousemove",z,!0),document.removeEventListener(T?"touchend":"mouseup",q,!0)}function Y(){!u.autoplay||u.autoplay<=0||(b=setInterval((()=>{u.pauseAutoplayOnHover&&I.value||G()}),u.autoplay))}function K(){b&&(clearInterval(b),b=null),Y()}const H=c(!1);function X(e){const l=u.wrapAround?e:bs({val:e,max:g.value,min:h.value});v.value===l||H.value||(a("slide-start",{slidingToIndex:e,currentSlideIndex:v.value,prevSlideIndex:f.value,slidesCount:r.value}),H.value=!0,f.value=v.value,v.value=l,w=setTimeout((()=>{if(u.wrapAround){const t=_s({val:l,max:g.value,min:0});t!==v.value&&(v.value=t,a("loop",{currentSlideIndex:v.value,slidingToIndex:e}))}a("update:modelValue",v.value),a("slide-end",{currentSlideIndex:v.value,prevSlideIndex:f.value,slidesCount:r.value}),H.value=!1,K()}),u.transition))}function G(){X(v.value+u.itemsToScroll)}function J(){X(v.value-u.itemsToScroll)}const Z={slideTo:X,next:G,prev:J};U("nav",Z),U("isSliding",H);const Q=R((()=>function({config:e,currentSlide:l,slidesCount:a}){const{snapAlign:t,wrapAround:i,itemsToShow:s=1}=e;let n=l;switch(t){case"center":case"center-odd":n-=(s-1)/2;break;case"center-even":n-=(s-2)/2;break;case"end":n-=s-1}return i?n:bs({val:n,max:a-s,min:0})}({config:u,currentSlide:v.value,slidesCount:r.value})));U("slidesToScroll",Q);const ee=R((()=>{const e="rtl"===u.dir?-1:1,l=Q.value*o.value*e;return{transform:`translateX(${V.x-l}px)`,transition:`${H.value?u.transition:0}ms`,margin:u.wrapAround?`0 -${r.value*o.value}px`:"",width:"100%"}}));function le(){_(),k(),A(),S(),K()}Object.keys(hs).forEach((l=>{["modelValue"].includes(l)||F((()=>e[l]),le)})),F((()=>e.modelValue),(e=>{e!==v.value&&X(Number(e))})),F(r,A),a("before-init"),_();const ae={config:u,slidesCount:r,slideWidth:o,next:G,prev:J,slideTo:X,currentSlide:v,maxSlide:g,minSlide:h,middleSlide:y};t({updateBreakpointsConfigs:k,updateSlidesData:A,updateSlideWidth:S,initDefaultConfigs:_,restartCarousel:le,slideTo:X,next:G,prev:J,nav:Z,data:ae});const te=l.default||l.slides,ie=l.addons,se=M(ae);return()=>{const e=ws(null==te?void 0:te(se)),l=(null==ie?void 0:ie(se))||[];e.forEach(((e,l)=>e.props.index=l));let a=e;if(u.wrapAround){const l=e.map(((l,a)=>B(l,{index:-e.length+a,isClone:!0,key:`clone-before-${a}`}))),t=e.map(((l,a)=>B(l,{index:e.length+a,isClone:!0,key:`clone-after-${a}`})));a=[...l,...e,...t]}n.value=e,r.value=Math.max(e.length,1);const t=W("ol",{class:"carousel__track",style:ee.value,onMousedownCapture:u.mouseDrag?L:null,onTouchstartPassiveCapture:u.touchDrag?L:null},a),i=W("div",{class:"carousel__viewport"},t);return W("section",{ref:s,class:{carousel:!0,"is-sliding":H.value,"is-dragging":j.value,"is-hover":I.value,"carousel--rtl":"rtl"===u.dir},dir:u.dir,"aria-label":u.i18n.ariaGallery,tabindex:"0",onMouseenter:O,onMouseleave:E},[i,l,W(Cs)])}}});!function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"}(xs||(xs={}));const As={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};const Ts=e=>{const l=Y("config",M(Object.assign({},gs))),a=String(e.name),t=`icon${a.charAt(0).toUpperCase()+a.slice(1)}`;if(!a||"string"!=typeof a||!(a in xs))return;const i=W("path",{d:As[a]}),s=l.i18n[t]||e.title||a,n=W("title",s);return W("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":s},[n,i])};Ts.props={name:String,title:String};const Ns=(e,{slots:l,attrs:a})=>{const{next:t,prev:i}=l||{},s=Y("config",M(Object.assign({},gs))),n=Y("maxSlide",c(1)),o=Y("minSlide",c(1)),r=Y("currentSlide",c(1)),d=Y("nav",{}),{dir:u,wrapAround:p,i18n:m}=s,v="rtl"===u;return[W("button",{type:"button",class:["carousel__prev",!p&&r.value<=o.value&&"carousel__prev--disabled",null==a?void 0:a.class],"aria-label":m.ariaPreviousSlide,onClick:d.prev},(null==i?void 0:i())||W(Ts,{name:v?"arrowRight":"arrowLeft"})),W("button",{type:"button",class:["carousel__next",!p&&r.value>=n.value&&"carousel__next--disabled",null==a?void 0:a.class],"aria-label":m.ariaNextSlide,onClick:d.next},(null==t?void 0:t())||W(Ts,{name:v?"arrowLeft":"arrowRight"}))]},Ds=()=>{const e=Y("config",M(Object.assign({},gs))),l=Y("maxSlide",c(1)),a=Y("minSlide",c(1)),t=Y("currentSlide",c(1)),i=Y("nav",{}),s=e=>_s({val:t.value,max:l.value,min:0})===e,n=[];for(let o=a.value;o<l.value+1;o++){const l=W("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":s(o)},"aria-label":ks(e.i18n.ariaNavigateToSlide,{slideNumber:o+1}),onClick:()=>i.slideTo(o)}),a=W("li",{class:"carousel__pagination-item",key:o},l);n.push(a)}return W("ol",{class:"carousel__pagination"},n)};var Vs=o({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:l}){const a=Y("config",M(Object.assign({},gs))),t=Y("currentSlide",c(0)),i=Y("slidesToScroll",c(0)),s=Y("isSliding",c(!1)),n=R((()=>e.index===t.value)),o=R((()=>e.index===t.value-1)),r=R((()=>e.index===t.value+1)),d=R((()=>{const l=Math.floor(i.value),t=Math.ceil(i.value+a.itemsToShow-1);return e.index>=l&&e.index<=t}));return()=>{var t;return W("li",{style:{width:100/a.itemsToShow+"%"},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":d.value,"carousel__slide--active":n.value,"carousel__slide--prev":o.value,"carousel__slide--next":r.value,"carousel__slide--sliding":s.value},"aria-hidden":!d.value},null===(t=l.default)||void 0===t?void 0:t.call(l,{isActive:n.value,isClone:e.isClone,isPrev:o.value,isNext:r.value,isSliding:s.value,isVisible:d.value}))}}});const Is=e=>(N("data-v-1380b223"),e=e(),D(),e),js={class:"tab-content is-active"},Rs={class:"columns mt-1"},Os={key:0,class:"column is-12"},Es=K('<div class="row" data-v-1380b223><div class="columns is-multiline mb-1" style="padding:0px 4px;" data-v-1380b223><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Last Updated</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Status</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Person Name</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Country</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Documents</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Detail</h1></div></div></div>',1),Ls={class:"row"},zs={class:"columns is-multiline cu-flex-center"},qs={class:"box-cell column is-2"},Ms={class:"box-cell column is-2"},Us={class:"box-cell column is-2"},$s={class:"box-cell column is-2"},Ps={class:"box-cell column is-2"},Fs={class:"box-cell column is-2"},Bs={key:0,clas:"detail-info "},Ws=Is((()=>f("div",{class:"row mb-1"},[f("h1",{style:{"font-size":"14px"},class:"light-text ml-4"},"Response")],-1))),Ys={class:"row mb-6"},Ks={class:"columns is-multiline"},Hs=Is((()=>f("div",{class:"box-cell column is-1"},[f("div",{class:"is-flex"},[f("img",{style:{width:"60px","margin-left":"14px","margin-top":"8px"},src:"/images/Logo.svg"})])],-1))),Xs={class:"box-cell column is-2"},Gs={class:"is-flex mt-2"},Js={class:"mt-0",style:{color:"#52c528"}},Zs={class:"is-flex weighted"},Qs=Is((()=>f("div",{style:{"margin-left":"14px","border-radius":"6px","background-color":"var(--primary)",padding:"2px",width:"3%"}},null,-1))),en={class:"row p-4",style:{"margin-bottom":"20px"}},ln={class:"columns is-multiline"},an={class:"column is-5"},tn={class:"columns is-multiline"},sn={class:"box-cell column is-4"},nn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Name:")],-1))),on={class:"is-flex mb-2"},rn={style:{"font-size":"14px"}},cn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Date of birth:")],-1))),dn={class:"is-flex mb-2"},un={style:{"font-size":"14px"}},pn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Nationality:")],-1))),mn={class:"is-flex mb-2"},vn={style:{"font-size":"14px"}},fn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"PEP Sanction:")],-1))),yn={class:"is-flex mb-2"},gn={style:{"font-size":"14px"}},hn={class:"box-cell column is-4"},bn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Type:")],-1))),wn={class:"is-flex mb-2"},_n={style:{"font-size":"14px"}},kn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Number:")],-1))),xn={class:"is-flex mb-2"},Cn={style:{"font-size":"14px"}},Sn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Country:")],-1))),An={class:"is-flex mb-2"},Tn={style:{"font-size":"14px"}},Nn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Valid Until:")],-1))),Dn={class:"is-flex mb-2"},Vn={style:{"font-size":"14px"}},In={class:"box-cell column is-4"},jn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"IP:")],-1))),Rn={class:"is-flex mb-2"},On={style:{"font-size":"14px"}},En=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Accepted Time:")],-1))),Ln={class:"is-flex mb-2"},zn={style:{"font-size":"14px"}},qn=Is((()=>f("div",{class:"is-flex mb-1"},[f("div",{class:"light-text"},"Decision Time:")],-1))),Mn={class:"is-flex mb-2"},Un={style:{"font-size":"14px"}},$n={class:"column is-7"},Pn={class:"columns is-multiline"},Fn={class:"column box-cell column is-4"},Bn=Is((()=>f("h1",{style:{"text-align":"center"}},"Portrait",-1))),Wn={style:{height:"300px"}},Yn=["src"],Kn={key:1},Hn={class:"box-cell column is-4"},Xn=Is((()=>f("h1",{style:{"text-align":"center"}},"Document front",-1))),Gn={style:{height:"300px"}},Jn=["src"],Zn={key:1},Qn={class:"box-cell column is-4"},eo=Is((()=>f("h1",{style:{"text-align":"center"}},"Document Back",-1))),lo={style:{height:"300px"}},ao=["src"],to={key:1},io={key:1,style:{width:"100%",display:"flex","justify-content":"center"}},so=o({__name:"VeriffResponse",props:{id:{type:String,default:0}},setup(e){const l=e;j(),le();const a=ae();c({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),c(!1),c(""),c([]);const t=c([{id:11,worker:"8107",status:"pending",link_id:"a20b94b9-cd2a-455d-bb2a-1007cb17ac95",veriff_response:null,created_at:"2024-03-07T08:55:40.832036Z",updated_at:"2024-03-07T08:55:40.832056Z"}]),i=c([]),s={Notstarted:"warning",declined:"danger",approved:"primary",pending:"info"};return d((async()=>{(async()=>{try{const e=await a.get(`/v3/api/worker/veriff/${l.id}/worker/`,{});console.log("resopnse data",e.data);let s=e.data;s.forEach((e=>{e.frontDoc=e.veriff_media.filter((e=>e.context.includes("document-front"))),e.docBack=e.veriff_media.filter((e=>e.context.includes("document-back"))),e.face=e.veriff_media.filter((e=>e.context.includes("face"))),i.value=e.face,e.openDetail=!1})),t.value=s,console.log("mediaaa",s)}catch(e){console.log(e)}})()})),(e,l)=>{const a=_,i=Se;return u(),p("div",null,[f("div",js,[f("div",Rs,[y(t).length>0?(u(),p("div",Os,[Es,(u(!0),p(S,null,A(y(t),((e,l)=>(u(),p("div",{key:l,class:"cus-card mb-3",style:{"padding-left":"16px"}},[f("div",Ls,[f("div",zs,[f("div",qs,[f("h3",null,T(e.updated_at?e.updated_at.slice(0,10):"-----"),1)]),f("div",Ms,[m(a,{color:s[e.status.replace(" ","")],style:{width:"max-content"},light:""},{default:v((()=>[h(T(e.status?e.status.replace(/^\w/,(e=>e.toUpperCase())):"-- --"),1)])),_:2},1032,["color"])]),f("div",Us,[f("h3",null,T(e.veriff_response?e.veriff_response.verification.person.firstName:"Not found"),1)]),f("div",$s,[f("h3",null,T(e.veriff_response?e.veriff_response.verification.document.country:"----"),1)]),f("div",Ps,[f("h3",null,T(e.veriff_response?e.veriff_response.verification.document.type:"----"),1)]),f("div",Fs,[m(a,{color:e.veriff_response?"primary":"light",light:"",disable:!e.veriff_response,onClick:()=>{e.veriff_response&&(e.openDetail=!e.openDetail)}},{default:v((()=>[h("View "),f("i",{class:V(e.openDetail?"lnir lnir-chevron-up ml-2":"lnir lnir-chevron-down ml-2"),"aria-hidden":"true"},null,2)])),_:2},1032,["color","disable","onClick"])])]),e.openDetail?(u(),p("div",Bs,[Ws,f("div",Ys,[f("div",Ks,[Hs,f("div",Xs,[f("div",Gs,[f("h1",Js,T(e.veriff_response.verification.status?e.veriff_response.verification.status.replace(/^\w/,(e=>e.toUpperCase())):""),1)]),f("div",Zs,T(e.veriff_response.verification.reason),1)])]),Qs]),f("div",en,[f("div",ln,[f("div",an,[f("div",tn,[f("div",sn,[f("div",null,[nn,f("div",on,[f("span",rn,T(e.veriff_response?e.veriff_response.verification.person.firstName:"Pending"),1)])]),f("div",null,[cn,f("div",dn,[f("span",un,T(e.veriff_response?e.veriff_response.verification.person.dateOfBirth:"Pending"),1)])]),f("div",null,[pn,f("div",mn,[f("span",vn,T(e.veriff_response&&e.veriff_response.verification.person.nationality?e.veriff_response.verification.person.nationality:"Not found"),1)])]),f("div",null,[fn,f("div",yn,[f("span",gn,T(e.veriff_response&&e.veriff_response.verification.person.pepSanctionMatch?"Match":"No match"),1)])])]),f("div",hn,[f("div",null,[bn,f("div",wn,[f("span",_n,T(e.veriff_response?e.veriff_response.verification.document.type:"Pending"),1)])]),f("div",null,[kn,f("div",xn,[f("span",Cn,T(e.veriff_response?e.veriff_response.verification.document.number:"Pending"),1)])]),f("div",null,[Sn,f("div",An,[f("span",Tn,T(e.veriff_response&&e.veriff_response.verification.document.country?e.veriff_response.verification.document.country:"Not found"),1)])]),f("div",null,[Nn,f("div",Dn,[f("span",Vn,T(e.veriff_response&&e.veriff_response.verification.document.validUntil?e.veriff_response.verification.document.validUntil:"No match"),1)])])]),f("div",In,[f("div",null,[jn,f("div",Rn,[f("span",On,T(e.veriff_response.technicalData.ip?e.veriff_response.technicalData.ip:"Not found"),1)])]),f("div",null,[En,f("div",Ln,[f("span",zn,T(e.veriff_response.verification.acceptanceTime?e.veriff_response.verification.acceptanceTime.slice(0,10):"-----")+" - "+T(e.veriff_response.verification.acceptanceTime?e.veriff_response.verification.acceptanceTime.slice(11,16):"-- -- "),1)])]),f("div",null,[qn,f("div",Mn,[f("span",Un,T(e.veriff_response.verification.decisionTime?e.veriff_response.verification.decisionTime.slice(0,10):"-- ----")+" - "+T(e.veriff_response.verification.decisionTime?e.veriff_response.verification.decisionTime.slice(11,16):"-- ----"),1)])])])])]),f("div",$n,[f("div",Pn,[f("div",Fn,[Bn,e.face.length?(u(),x(y(Ss),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:v((()=>[m(y(Ns)),m(y(Ds))])),default:v((()=>[(u(!0),p(S,null,A(e.face,(e=>(u(),x(y(Vs),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:v((()=>[f("div",Wn,[f("img",{style:{height:"300px"},src:e.media},null,8,Yn)])])),_:2},1024)))),128))])),_:2},1024)):(u(),p("h2",Kn,"No image found"))]),f("div",Hn,[Xn,e.frontDoc.length?(u(),x(y(Ss),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:v((()=>[m(y(Ns)),m(y(Ds))])),default:v((()=>[(u(!0),p(S,null,A(e.frontDoc,(e=>(u(),x(y(Vs),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:v((()=>[f("div",Gn,[f("img",{style:{height:"300px"},src:e.media},null,8,Jn)])])),_:2},1024)))),128))])),_:2},1024)):(u(),p("h2",Zn,"No image found"))]),f("div",Qn,[eo,e.docBack.length?(u(),x(y(Ss),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:v((()=>[m(y(Ns)),m(y(Ds))])),default:v((()=>[(u(!0),p(S,null,A(e.docBack,(e=>(u(),x(y(Vs),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:v((()=>[f("div",lo,[f("img",{style:{height:"300px"},src:e.media},null,8,ao)])])),_:2},1024)))),128))])),_:2},1024)):(u(),p("h2",to,"No image found"))])])])])])])):C("",!0)])])))),128))])):(u(),p("div",io,[m(i,{class:"cus-main-heading",color:"info",style:{"text-align":"center"}},{default:v((()=>[h("No resquest sent yet !")])),_:1})]))])])])}}}),no=k(so,[["__scopeId","data-v-1380b223"]]),oo={class:"profile-card-section no-padding"},ro={class:"section-content no-padding"},co={class:"tools-wrapper"},uo={class:"banking-dashboard banking-dashboard-v1"},po={class:"columns is-multiline"},mo={class:"",style:{width:"100%"}},vo={class:"dashboard-card is-credit-cards column is-12"},fo={class:"card-block"},yo={class:"columns is-multiline"},go={style:{width:"100%"}},ho={class:"card-block-inner is-dark-bordered-12"},bo={style:{width:"420px",height:"max-content"},class:"credit-card is-theme-1"},wo={class:"top"},_o={class:"card-number"},ko={class:"mt-3",style:{"font-size":"1rem"}},xo={class:"mt-1",style:{"font-size":"1.5rem"}},Co={key:0,src:je,alt:""},So={class:"card-number mt-2"},Ao={style:{"font-size":"1rem"}},To={class:"card-number mt-1"},No={style:{"font-size":"1rem"}},Do={class:"bottom"},Vo={key:0},Io={key:1},jo=o({__name:"WorkerSiaCard",props:{siaCard:{}},setup(e){const l=e;return d((()=>{})),(e,a)=>(u(),p("div",oo,[f("div",ro,[f("div",co,[f("div",uo,[f("div",po,[f("div",mo,[f("div",vo,[f("div",fo,[f("div",yo,[f("div",go,[f("div",ho,[f("div",bo,[f("div",wo,[f("div",_o,[f("div",null,[f("span",ko,T(l.siaCard?l.siaCard.licenceNumber:"----"),1),f("span",xo,T(l.siaCard?l.siaCard.firstName:"No license")+" "+T(l.siaCard?l.siaCard.surName:""),1)]),l.siaCard?(u(),p("img",Co)):C("",!0)]),f("div",So,[f("span",Ao,T(l.siaCard?l.siaCard.licenceSector:"----"),1)]),f("div",To,[f("span",No,T(l.siaCard?l.siaCard.role:"----"),1)])]),f("div",Do,[l.siaCard?(u(),p("span",Vo,"SIA Licence")):(u(),p("span",Io,"----"))])])])])])])])])])])])])]))}}),Ro={class:"banking-dashboard banking-dashboard-v1"},Oo={class:"columns is-multiline"},Eo={class:"column is-12"},Lo={class:"dashboard-card is-credit-cards"},zo={class:"title-wrap"},qo=f("h3",{class:"dark-inverted"},"My Licences",-1),Mo={class:"card-block"},Uo={class:"columns is-multiline"},$o={style:{display:"flex","flex-direction":"column","align-items":"center","margin-bottom":"18px"}},Po={class:"info-block-inner"},Fo={class:"info-block-line"},Bo=f("h4",{class:"dark-inverted"},"Verify",-1),Wo=["onClick"],Yo=f("i",{class:"iconify","data-icon":"feather:refresh-ccw","aria-hidden":"true",style:{color:"var(--primary)","margin-right":"8px",cursor:"pointer"}},null,-1),Ko={class:"info-block-line"},Ho=f("h4",{class:"dark-inverted"},"Status",-1),Xo=f("i",{"aria-hidden":"true",class:"fas fa-circle text-success",style:{color:"var(--primary)"}},null,-1),Go={class:"info-block-line"},Jo=f("h4",{class:"dark-inverted"},"Expires in",-1),Zo=f("div",{class:"info-block-line"},[f("h4",{class:"dark-inverted"},"Type"),f("span",{class:"has-image"}," SIA card ")],-1),Qo={class:"column is-12 pb-5"},er=f("img",{class:"light-image",src:Te,alt:""},null,-1),lr=f("img",{class:"dark-image",src:Ne,alt:""},null,-1),ar={class:"modal-form"},tr={class:"stats-wrapper"},ir={class:"columns is-multiline is-flex-tablet-p"},sr=["onClick"],nr=["src"],or=f("label",{for:""},"SIA Licence Number *",-1),rr=o({__name:"WorkerLicences",props:{id:{type:String,default:0}},setup(l){const a=l,t=j(),i=ae(),o=le(),r=c(0),w=c(!1),k=c(0),N=c(!1),D=c(""),I=c(!1),R=c({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),O=c([{id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",worker:""}]),E=[{name:"Security",icon:"/images/photo/Security-Guarding.png"},{name:"CIVT",icon:"/images/photo/CVIT.png"},{name:"CCTV",icon:"/images/photo/CCTV.png"},{name:"Door Supervisor",icon:"/images/photo/Door-Supervision.png"},{name:"Close Protection",icon:"/images/photo/Close-Protection.png"},{name:"Key Holding",icon:"/images/photo/Key-Holding.png"},{name:"Veichile Immoblishing",icon:"/images/photo/Vehicle-Immobilising.png"},{name:"K9",icon:"/images/photo/K9.png"}],L=async()=>{try{if(D.value.length<16)return void o.error("Please enter valid SIA");N.value=!0;await i.post(`/v3/api/worker/worker_sia/${a.id}/add_sia_licence/`,{siaNumber:D.value});o.success("worker updated, worker"),ye({message:"added worker <b>licence</b>",objectId:t.params.id,method:"patch"}),N.value=!1,w.value=!1,D.value="",q()}catch(e){N.value=!1,o.error("Invalid SIA or worker with this SIA already register")}},z=async()=>{try{R.value.isSweetAlertOpen=!1;await i.delete(`/v3/api/worker/worker_sia/${r.value}/`,{});o.dismissAll(),o.success("Delete worker licence, Worker"),q()}catch{}},q=async()=>{try{O.value=[];const e=await i.get(`/v3/api/worker/worker_sia/${a.id}/get-worker-sia/`,{});O.value=e.data,console.log(e.data)}catch(e){console.error("ok",e)}};return d((()=>{q()})),(l,a)=>{const r=_,c=jo,d=re,j=se,q=Ie,M=ie,U=Q,$=n,P=s,F=e;return u(),p(S,null,[f("div",Ro,[f("div",Oo,[f("div",Eo,[f("div",Lo,[f("div",zo,[qo,f("div",null,[m(r,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:a[0]||(a[0]=e=>w.value=!0)},{default:v((()=>[h(" Licence ")])),_:1})])]),f("div",Mo,[f("div",Uo,[(u(!0),p(S,null,A(y(O),((e,l)=>(u(),p("div",{key:l,class:"column is-4"},[f("div",$o,[m(c,{style:{width:"400px"},"sia-card":e},null,8,["sia-card"])]),f("div",Po,[f("div",Fo,[Bo,f("span",{onClick:l=>(async e=>{try{(await i.post(`v3/api/worker/worker_sia/${t.params.id}/verify-sia-number/`,{siaNumber:e})).data&&o.success("Licence Verified, Verify")}catch(l){o.error("Licence Unverified")}})(e.licenceNumber)},[Yo,h(" Verify again ")],8,Wo)]),f("div",Ko,[Ho,f("span",null,[Xo,h(" "+T(e.status?"Active":"InActive"),1)])]),f("div",Go,[Jo,f("span",null,T(e.expiryDate),1)]),Zo])])))),128)),f("div",Qo,[0==y(O).length?(u(),x(d,{key:0,title:"No Licence is added for this employee.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\nsearch terms you've entered. Please try different search terms or\ncriteria.",larger:""},{image:v((()=>[er,lr])),_:1})):C("",!0)])])])])])])]),y(I)?(u(),x(j,{key:0})):C("",!0),m(P,{is:"form",open:y(w),onSubmit:b(L,["prevent"]),title:"Add Licence",size:"big",actions:"right",onClose:a[2]||(a[2]=e=>w.value=!1)},{content:v((()=>[f("div",ar,[f("div",tr,[f("div",ir,[(u(),p(S,null,A(E,((e,l)=>f("div",{key:l,class:"column is-3"},[f("div",{class:V(["dashboard-card",y(k)==l?"active-licence":""]),style:{height:"150px"},onClick:e=>k.value=l},[m(q,{style:{cursor:"pointer","flex-direction":"column","align-items":"center","justify-content":"center","text-align":"center",gap:"10px","font-size":"0.75rem"},title:e.name,center:""},{icon:v((()=>[f("img",{src:e.icon,alt:""},null,8,nr)])),_:2},1032,["title"])],10,sr)]))),64)),m($,{class:"column is-6"},{default:v((({id:e})=>[or,m(U,null,{default:v((()=>[m(M,{id:e,modelValue:y(D),"onUpdate:modelValue":a[1]||(a[1]=e=>g(D)?D.value=e:null),autocomplete:"cc-csc",required:"",class:"input",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["id","modelValue"])])),_:2},1024)])),_:1})])])])])),action:v((()=>[m(r,{type:"submit",color:"primary",loading:y(N),icon:"fa fa-plus",raised:""},{default:v((()=>[h("Licence")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"]),y(R).isSweetAlertOpen?(u(),x(F,{key:1,isSweetAlertOpen:y(R).isSweetAlertOpen,title:y(R).title,subtitle:y(R).subtitle,btntext:y(R).btntext,onConfirm:z,onCancel:()=>y(R).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0)],64)}}}),cr=e=>(N("data-v-e5a83033"),e=e(),D(),e),dr=cr((()=>f("h4",null,"Comments",-1))),ur=cr((()=>f("i",{class:"fas fa-plus","aria-hidden":"true",style:{color:"var(--primary-light-12)","font-size":"9px"}},null,-1))),pr={class:"section-content"},mr={class:"network-notifications"},vr={key:1,class:"noteInput"},fr=["onMouseover"],yr={class:"noteContent"},gr=["onClick"],hr=[cr((()=>f("i",{style:{color:"#2db998"},class:"lnir lnir-close"},null,-1)))],br=o({__name:"WorkerComments",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(e){const l=e,a=le(),t=ae(),i=j(),s=c(!0),o=c(null),r=c(!1),y=c(!1),g=c(""),b=c([{id:0,content:"",created_at:"",created_by:{first_name:"",last_name:""}}]),w=()=>{y.value=!1},k=()=>{r.value=!r.value},N=async()=>{if(g.value)try{let e={content:g.value,worker:l.id};g.value="";const s=await t.post("/v3/api/worker/notes/",e);b.value.push(s.data),D(),ye({message:"added a <b>comment</b>",objectId:i.params.id,method:"post"}),a.success("note added")}catch(e){console.log(e)}},D=async()=>{try{const e=await t.get(`/v3/api/worker/notes/${l.id}/notes-worker/`);console.log(e.data),b.value=e.data??[]}catch(e){console.error("ok",e)}};return d((()=>{D()})),(e,l)=>{const c=Se,d=ee,V=Q,I=n,j=_;return u(),p(S,null,[f("div",{class:"section-title"},[dr,f("button",{onClick:k,class:"add-btn"},[ur,h(" Add ")])]),f("div",pr,[f("div",mr,[0==b.value.length?(u(),x(c,{key:0,color:"solid",label:"No comments are available.",rounded:""})):C("",!0),r.value?(u(),p("div",vr,[m(I,null,{default:v((()=>[m(V,{icon:"lnil lnil-plus"},{default:v((()=>[s.value?(u(),x(d,{key:0,onBlur:N,modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e),onKeyup:l[1]||(l[1]=H((()=>{N()}),["enter"])),placeholder:"Enter Comment",type:"text"},null,8,["modelValue"])):C("",!0)])),_:1})])),_:1}),m(I,{style:{display:"flex","align-items":"center","justify-content":"flex-end"}},{default:v((()=>[m(j,{color:"primary",outlined:"",onClick:l[2]||(l[2]=()=>{g.value.length>0&&N()})},{default:v((()=>[h("Save")])),_:1})])),_:1})])):C("",!0),(u(!0),p(S,null,A(b.value,((e,l)=>(u(),p("div",{class:"noteBlock",key:e.id,"data-cy":"dark-mode-toggle",onMouseover:e=>(e=>{y.value=!0,o.value=e})(l),onMouseleave:w},[f("div",yr,[f("p",null,T(e.content),1),f("p",null,T(e.created_by.first_name&&e.created_by.first_name)+" "+T(e.created_by.last_name&&e.created_by.last_name)+" | "+T(e.created_at&&e.created_at.slice(0,10)),1)]),y.value&&o.value===l?(u(),p("button",{key:0,class:"DelBtn",elevated:"",onClick:l=>(async e=>{try{const l=b.value.findIndex((l=>l.id===e));-1!==l&&b.value.splice(l,1),await t.delete(`/v3/api/worker/notes/${e}`),ye({message:"deleted a <b>comment</b>",objectId:i.params.id,method:"delete"}),a.warning("note deleted"),D()}catch(l){console.log(l)}})(e.id)},hr,8,gr)):C("",!0)],40,fr)))),128))])])],64)}}}),wr=k(br,[["__scopeId","data-v-e5a83033"]]),_r=e=>(N("data-v-80c29675"),e=e(),D(),e),kr={class:"lifestyle-dashboard lifestyle-dashboard-v1"},xr={class:"row"},Cr=_r((()=>f("div",{class:"wrapper-anim"},[f("div",{class:"box-anim"},[f("div"),f("div"),f("div"),f("div"),f("div"),f("div"),f("div"),f("div"),f("div"),f("div")])],-1))),Sr={class:"dashboard-header"},Ar={class:"avatar-container",style:{"border-radius":"22px","min-width":"170px",border:"0px solid #fff"}},Tr=["src"],Nr={class:"header-meta"},Dr={class:"username-wrap"},Vr={class:"username ml-6"},Ir={class:"user-rating is-block"},jr={class:"ratings"},Rr={style:{color:"white !important","font-size":"23px","font-weight":"700 !important","margin-top":"0px"}},Or={style:{"white-space":"nowrap"}},Er={class:"username-wrap"},Lr={class:"switches mt-1"},zr={class:"username cu-align-cen\\ter"},qr={class:"",style:{"font-weight":"400",color:"white"}},Mr={class:"switches mt-3"},Ur={class:"ml-0",style:{"font-weight":"400",color:"white"}},$r={key:0,src:"/images/icons/workerProfile/whatsapp.webp",style:{width:"20px",height:"20px","margin-left":"14px"}},Pr=_r((()=>f("div",{class:"switches mt-0"},[f("div",{class:"username cu-align-center"})],-1))),Fr=_r((()=>f("div",{class:"is-divider-vertical"},null,-1))),Br={class:"header-meta",style:{"margin-inline-start":"27px"}},Wr={class:"user-switch"},Yr={class:"username-wrap"},Kr={class:"switches mb-0"},Hr={class:"username"},Xr=_r((()=>f("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}}," Account Status:",-1))),Gr={class:"switches mb-0 mt-0"},Jr={class:"username cu-align-center"},Zr=_r((()=>f("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}},"Activation Code:",-1))),Qr={style:{"letter-spacing":"1px",color:"white"}},ec={class:"switches mb-0 mt-1"},lc={class:"username cu-align-center"},ac=_r((()=>f("span",{style:{"white-space":"nowrap","font-weight":"500","margin-left":"4px",color:"white"}},"Veriff Status: ",-1))),tc={style:{fontSize:"15px",marginLeft:"2px",color:"white"}},ic={class:"switches mb-0 mt-1"},sc={class:"username cu-pointer cu-align-center"},nc=_r((()=>f("span",{style:{color:"white","font-weight":"500","margin-left":"4px"}},"UK sanctions:",-1))),oc=_r((()=>f("div",{class:"is-divider-vertical"},null,-1))),rc={class:"header-meta"},cc={class:"user-switch space-between"},dc={class:"username-wrap"},uc={class:"switches mb-0 is-flex"},pc={class:"username"},mc=_r((()=>f("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}},"BS7858:",-1))),vc={key:0},fc=_r((()=>f("div",{class:"switches"},[f("div",{class:"username"},[f("span",{style:{"font-weight":"500",color:"white"}},"Current Industries:")])],-1))),yc={class:"switches"},gc={class:"username",style:{gap:"20px"}},hc=["onClick"],bc=["src"],wc={class:"header-meta",style:{"margin-top":"-12px"}},_c={class:"user-switch space-between"},kc={class:"username-wrap"},xc={class:"switches mb-4 is-flex"},Cc={class:"username"},Sc={class:"header-meta"},Ac={class:"user-switch"},Tc={class:"cus-justify-center"},Nc=_r((()=>f("i",{class:"fas fa-share","aria-hidden":"true"},null,-1))),Dc=_r((()=>f("i",{class:"fas fa-edit","aria-hidden":"true"},null,-1))),Vc={class:"link-message"},Ic={key:0,class:"mb-3 list-flex-toolbar is-reversed"},jc=_r((()=>f("i",{class:"fas fa-copy mr-1 cus-onhover",style:{cursor:"pointer",color:"var(--info)","font-size":"large"},"aria-hidden":"true"},null,-1))),Rc=_r((()=>f("br",null,null,-1))),Oc=_r((()=>f("i",{class:"fas fa-copy mr-1 cus-onhover",style:{cursor:"pointer",color:"var(--info)","font-size":"large"},"aria-hidden":"true"},null,-1))),Ec=_r((()=>f("i",{class:"iconify","data-icon":"feather:alert-triangle","aria-hidden":"true"},null,-1))),Lc={class:"profile-wrapper mt-0",style:{width:"100%"}},zc={class:"profile-body"},qc={class:"tabs-wrapper"},Mc={class:"tabs-inner mt-4"},Uc={class:"tabs is-toggle"},$c=[_r((()=>f("span",null,"Profile",-1)))],Pc=[_r((()=>f("span",null,"Licence",-1)))],Fc=[_r((()=>f("span",null,"References",-1)))],Bc=[_r((()=>f("span",null,"Identity Verification",-1)))],Wc=[_r((()=>f("span",null,"Comments",-1)))],Yc=[_r((()=>f("span",null,"Questions",-1)))],Kc=[_r((()=>f("span",null,"Warnings",-1)))],Hc=[_r((()=>f("span",null,"Logs",-1)))],Xc=[_r((()=>f("span",null,"Timesheet",-1)))],Gc=[_r((()=>f("span",null,"Worker Rota",-1)))],Jc={class:"tab-content is-active"},Zc={class:"columns"},Qc={class:"column is-8"},ed={class:"profile-card"},ld={class:"profile-card-section"},ad={class:"section-content"},td={class:"column"},id={key:0,class:"incoming"},sd={class:"cus-docTitles"},nd={id:"titles"},od={class:"item-name mb-1 dark-inverted"},rd={key:0,style:{width:"12px",height:"12px"},src:be},cd={class:"item-meta"},dd={key:0,style:{color:"var(--light-text)","font-weight":"500"},class:"cu-pointer"},ud={class:"item-meta"},pd={class:"cu-pointer cus-sub-title"},md={key:0,class:"item-meta"},vd=["onClick"],fd={key:0,style:{position:"absolute","background-color":"#fff",padding:"6px",width:"220px"}},yd={key:0,id:"cus-toggle-center",class:"navbar-item is-theme-toggle cell-end"},gd={class:"theme-toggle"},hd=["onUpdate:modelValue","onClick"],bd=_r((()=>f("span",{class:"toggler"},[f("span",{class:"dark"},[f("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"})]),f("span",{class:"light"},[f("i",{class:"iconify","data-icon":"feather:x","aria-hidden":"true"})])],-1))),wd={key:1,id:"cus-toggle-center",class:"navbar-item is-theme-toggle"},_d={class:"theme-toggle"},kd=["onUpdate:modelValue","onClick"],xd=_r((()=>f("span",{class:"toggler",style:{"border-color":"var(\n                                          --primary-grey\n                                        ) !important"}},[f("span",{class:"cus-dark"},[f("i",{color:"info",class:"iconify","data-icon":"feather:check","aria-hidden":"true"})]),f("span",{class:"light",style:{"background-color":"var(\n                                            --primary-grey\n                                          ) !important"}},[f("i",{color:"info",class:"iconify","data-icon":"feather:x","aria-hidden":"true"})])],-1))),Cd={key:0},Sd={key:0},Ad=["onClick"],Td={key:1},Nd={class:"png-icon"},Dd=["onClick"],Vd=_r((()=>f("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Id=_r((()=>f("i",{class:"iconify","data-icon":"feather:trash-2","aria-hidden":"true"},null,-1))),jd={key:1},Rd={class:"column is-4"},Od={class:"profile-card is-relative"},Ed={class:"profile-card-section no-padding cus-comment"},Ld=K('<div class="profile-card is-relative" data-v-80c29675><div class="profile-card-section no-padding" data-v-80c29675><div class="section-title" data-v-80c29675><h4 data-v-80c29675>Location</h4></div><div class="section-content no-padding" data-v-80c29675><div id="myMap" style="height:300px;width:100%;border-radius:10px;" data-v-80c29675></div></div></div></div>',1),zd={class:"profile-card is-relative"},qd={class:"profile-card-section no-padding"},Md=_r((()=>f("div",{class:"section-title"},[f("h4",null,"License")],-1))),Ud={class:"section-content no-padding"},$d={class:"tools-wrapper"},Pd={class:"banking-dashboard banking-dashboard-v1"},Fd={class:"columns is-multiline"},Bd={class:"column is-12",style:{width:"max-content"}},Wd={class:"tab-content is-active"},Yd={key:0},Kd={class:"list-flex-toolbar mb-3 mt-2"},Hd=_r((()=>f("h6",{class:"cus-main-heading ml-1"},"Veriff Requests",-1))),Xd={class:"buttons"},Gd=_r((()=>f("span",null,[f("img",{src:i,style:{width:"auto",height:"20px","margin-top":"4px","margin-right":"6px","border-radius":"6px"}})],-1))),Jd=_r((()=>f("h5",{class:"light-text mr-4",style:{"font-weight":"500"}}," Send Veriff link ",-1))),Zd={key:1,class:"tab-content is-active"},Qd={key:2,class:"tab-content is-active"},eu={key:3,class:"tab-content is-active"},lu={key:4,class:"tab-content is-active"},au={key:5,class:"tab-content is-active"},tu={key:6,class:"tab-content is-active"},iu={key:7,class:"tab-content is-active"},su={class:"columns is-multiline"},nu={key:1,class:"column is-6"},ou=_r((()=>f("label",{class:"light-text mb-2"},"SIA Number :",-1))),ru={class:"modal-form"},cu=["src"],du=["src"],uu=o({__name:"WorkerProfile",setup(i){const o=X(),r=$e(),g=j(),w=ae(),k=c(!1),N=c(!1),D=c([]),O=le(),z=c(!1);c(!1);const q=c(""),M=c(0),U=c(null),$=c({}),P=c("personal"),B=c(!1),W=c(!0),Y=c(0),K=c(""),te=c(0),oe=c(""),re=c(""),ce=c(!1),pe=c(0),me=c(""),ve=c(""),fe=c(!1),be=c(""),ke=c(""),xe=c(!1),Ae=c(!1),Te=c(0),Ne=c(!1),De=c("worker"),Ve=c(""),je=c({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"});c({id:0,last_updated:"",date_designated:"",unique_id:"",ofsi_group_id:0,un_reference_number:"",regime_name:"",individual_entity_ship:"",designation_source:"",sanctions_imposed:"",other_information:"",names:[],addresses:[]});const Pe=c({id:0,firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",signedDeclerationForm:" ",veriffStatus:"",sanctionStatus:!1,warning:!1,warningMessage:"",default_sia:{id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",updated_at:"",worker:0},industry:{id:0,name:"",industryLogo:""},arezCompany:"",status:!1,postCode:"",rating:0,activationCode:"",transport:"",archive:!1,bs7858:!1,profileStat:{percentage:"56"},pre_industries:[{id:0,name:"",industryLogo:""}],bgColor:{id:1,backgroundColor:"linear-gradient(to right, #1D2671, #C33764)"}}),Fe={documentTitle:{label:"Documents",grow:!1,media:!0},status:{label:"Status",align:"center"},actions:{label:"Actions",align:"end"}},Be=async(e,l)=>{try{const a=new window.FormData;for(const e in l)a.append(e,l[e]);await w.patch(`/v3/api/worker/document/${e}/`,a);"status"in l?ye({message:`Updated the status of <b> ${l.docTitle} </b> to <b>${1==l.status?"Approved":"Disapproved"}.</b>`,objectId:g.params.id,method:"patch"}):"expiryDate"in l&&ye({message:`update the expiry date of <b>${l.docTitle}</b> to <b>${l.expiryDate}</b>`,objectId:g.params.id,method:"patch"}),O.dismissAll(),O.success("worker document updated, Worker"),Ge(),Ke(!1),Te.value=0}catch(a){console.error("ok",a)}},Ye=async(e,l,a=!0)=>{try{const t=new window.FormData;for(const e in l)t.append(e,l[e]);await w.patch(`/v3/api/worker/${e}/`,t);O.dismissAll(),O.success("Worker  updated successfuly"),a&&Xe()}catch(t){console.error("ok",t)}},Ke=e=>{let l=D.value;const a=l.findIndex((e=>e.id===$.value.id));-1!==a&&(l[a].loading=e),D.value=[...l]},He=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(Ke(!0),$.value.worker?Be($.value.id,{document:a}):(async(e,l)=>{try{let a={status:!1,worker:g.params.id,companyDocument:e.id,document:l};const t=new window.FormData;for(const e in a)t.append(e,a[e]);console.log(e),await w.post("/v3/api/worker/document/",t),ye({message:`added a document  <b>${e.documentTitle}</b>`,objectId:g.params.id,method:"post"}),Ge()}catch(a){O.error("Please reduce file size to upload")}finally{Ke(!1)}})($.value,a),ye({message:`updated <b> ${$.value.documentTitle} </b> document.`,objectId:g.params.id,method:"patch"}))},Xe=async()=>{try{k.value=!0;const e=await w.get(`/v3/api/worker/${g.params.id}/profile/`,{});Pe.value=e.data,Ve.value=e.data.default_sia?e.data.default_sia.licenceNumber:"",0==Pe.value.pre_industries.length&&Pe.value.pre_industries.push(e.data.industry),e.data.latitude?ll(e.data.latitude,e.data.longitude):ll(51.4497984,-.3464489),Ge(),k.value=!1}catch(e){console.error("ok",e)}},Ge=async()=>{try{W&&(N.value=!0,W.value=!1);const e=await w.get(`/v3/api/worker/document/${g.params.id}/get_documents_of_a_worker/`,{});N.value=!1,D.value=e.data}catch(e){N.value=!1,console.error("ok",e)}},Je=e=>{navigator.clipboard.writeText(e),O.success("Activation code copied"),ye({message:"shared profile using <b> share link </b>",objectId:g.params.id,method:"patch"})},Ze=()=>{2==te.value?sl():1==te.value?tl():3==te.value&&nl()},Qe=()=>{te.value=3;let e=`Yes, ${Pe.value.status?"In-Active":"Active"} it`;je.value={title:"Are you sure?",subtitle:"This worker will be "+(Pe.value.status?"In-Active":"Active"),btntext:e,isSweetAlertOpen:!0}};let el={};const ll=(e,l)=>{let a={lat:e,lng:length};el=new google.maps.Map(document.getElementById("myMap"),{center:a,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:6}),new google.maps.Marker({position:{lat:e,lng:l},map:el,title:"Worker"})},al=()=>{Ye(Pe.value.id,{bs7858:!Pe.value.bs7858},!1)},tl=async()=>{try{je.value.isSweetAlertOpen=!1;await w.delete(`/v3/api/worker/document/${M.value}/`,{});Ge(),ye({message:`deleted <b>${ke.value}</b> document`,objectId:g.params.id,method:"delete"}),O.dismissAll(),O.success("Delete worker document, Worker"),te.value=0}catch(e){console.error("ok",e)}},il=G({series:[0],chart:{height:160,type:"radialBar",toolbar:{show:!1}},colors:[r.accent],plotOptions:{radialBar:{hollow:{size:"40%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontWeight:500,offsetY:-10,color:r.lightText},value:{show:!0,fontWeight:600,color:"#fff",fontSize:"16px",offsetY:-10}}}},labels:[""]}),sl=()=>{je.value.isSweetAlertOpen=!1,Ye(Pe.value.id,{industry:pe.value}),ye({message:`switched to the <b>${be.value}</b> industry`,objectId:g.params.id,method:"patch"}),te.value=0},nl=()=>{Ye(Pe.value.id,{status:Pe.value.status},!1),ye({message:`change status to <b>${Pe.value.status?"Active":"In-Active"}</b>`,objectId:g.params.id,method:"patch"}),je.value.isSweetAlertOpen=!1,te.value=0},ol=()=>{Ye(Pe.value.id,{warning:!Pe.value.warning},!1),ye({message:`Set to <b>${Pe.value.warning?"Clear":"Warning"}</b>`,objectId:g.params.id,method:"patch"}),P.value="warnings"},rl=()=>{Ye(Pe.value.id,{warningMessage:Pe.value.warningMessage},!1)},cl=()=>{Pe.value.sanctionStatus&&(Ae.value=!Ae.value)},dl=()=>{const e=encodeURIComponent(Pe.value.firstName+" "+Pe.value.lastName);window.open(`/worker-certificate?name=${e}`,"_blank")},ul=()=>{const e={name:encodeURIComponent(Pe.value.firstName+""+Pe.value.lastName)};o.push({query:e,replace:!0}),Ne.value=!Ne.value},pl=async()=>{try{if(Ve.value.length<16)return O.error("Invalid Number");(await w.post(`v3/api/worker/worker_sia/${g.params.id}/verify-sia-number/`,{siaNumber:Ve.value})).data&&O.success("Licence Verified, Verify")}catch(e){O.error("Licence Unverified")}},ml=R((()=>Pe.value.warningMessage?Pe.value.warningMessage.slice(0,80):Pe.value.warningMessage));return F((()=>g.params.id),(async()=>{Xe()})),d((async()=>{await Xe()})),(i,o)=>{const r=qe,c=Q,d=n,w=ze,N=Se,j=Le,R=Ee,O=_e,F=Ie,W=ue,X=de,G=Oe,le=ee,ae=Re,$e=Ce,Ke=wr,Ge=jo,el=rr,ll=_,tl=no,sl=ys,nl=$l,vl=we,fl=he,yl=xl,gl=ne,hl=se,bl=s,wl=a,_l=ie,kl=We,Cl=t,Sl=e,Al=J("tooltip");return u(),p(S,null,[f("div",kr,[f("div",{class:"dashboard-header-wrapper mb-6",style:I({backgroundImage:Pe.value.bgColor.backgroundColor})},[f("div",xr,[Cr,f("div",Sr,[f("div",Ar,[f("img",{size:"medium",style:{"border-radius":"15px"},src:Pe.value.profileImageURL?Pe.value.profileImageURL:"/images/avatars/placeholder.jpg"},null,8,Tr)]),f("div",Nr,[f("div",Dr,[f("div",Vr,[f("div",Ir,[f("div",jr,[m(d,null,{default:v((()=>[m(c,null,{default:v((()=>[m(r,{onClick:o[0]||(o[0]=e=>(()=>{const e={rating:Pe.value.rating};Ye(Pe.value.id,e,!1),ye({message:`updated rating to <b>${Pe.value.rating} </b> stars`,objectId:g.params.id,method:"patch"})})()),"readonly:false":"",modelValue:Pe.value.rating,"onUpdate:modelValue":o[1]||(o[1]=e=>Pe.value.rating=e)},null,8,["modelValue"])])),_:1})])),_:1})]),f("h3",Rr,[f("span",Or,T(Pe.value.firstName)+" "+T(Pe.value.lastName),1)])]),f("div",Er,[f("div",Lr,[f("div",zr,[f("span",qr,T(Pe.value.emailAddress),1)])]),f("div",Mr,[f("div",{class:"username cu-pointer cu-align-center",onClick:o[2]||(o[2]=e=>{return l=Pe.value.phoneNumber,ge(l),void ye({message:"started chat on <b>WhatsApp</b>",objectId:g.params.id,method:"patch"});var l})},[f("span",Ur,T(Pe.value.phoneNumber),1),Pe.value.phoneNumber?(u(),p("img",$r)):C("",!0)])]),Pr])])])]),Fr,f("div",Br,[f("div",Wr,[f("div",Yr,[f("div",Kr,[f("div",Hr,[Xr,m(d,{horizontal:"",style:{"margin-top":"-3px"}},{default:v((()=>[m(c,null,{default:v((()=>[m(w,{onClick:Qe,modelValue:Pe.value.status,"onUpdate:modelValue":o[3]||(o[3]=e=>Pe.value.status=e),"label-true":"",color:"primary",style:{color:"#f1f1f1"}},null,8,["modelValue"])])),_:1})])),_:1})])]),f("div",Gr,[f("div",Jr,[Zr,f("span",Qr,[h(T(Pe.value.activationCode?Pe.value.activationCode:"-----")+" ",1),f("i",{onClick:o[4]||(o[4]=e=>Je(Pe.value.activationCode)),class:"fas fa-copy mr-1 cus-onhover","aria-hidden":"true"})])])]),f("div",ec,[f("div",lc,[ac,f("span",tc,T(Pe.value.veriffStatus.charAt(0).toUpperCase()+Pe.value.veriffStatus.slice(1)),1),"No attempt"==Pe.value.veriffStatus?(u(),x(N,{key:0,style:{cursor:"pointer"},color:"warning",outlined:"",label:"Create link",curved:"",elevated:"",onClick:o[5]||(o[5]=()=>{xe.value=!xe.value})})):C("",!0)])]),f("div",ic,[f("div",sc,[nc,f("span",{class:"ml-1 cu-pointer",onClick:cl,style:I({fontWeight:"400",textDecoration:Pe.value.sanctionStatus?"underline":"",color:(Pe.value.sanctionStatus,"#fff")})},T(Pe.value.sanctionStatus?"Not Cleared":"Cleared"),5)])])])])]),oc,f("div",rc,[f("div",cc,[f("div",dc,[f("div",uc,[f("div",pc,[mc,m(d,{horizontal:"",style:{"margin-top":"-3px"}},{default:v((()=>[m(c,null,{default:v((()=>[m(j,{onClick:al,modelValue:Pe.value.bs7858,"onUpdate:modelValue":o[6]||(o[6]=e=>Pe.value.bs7858=e),"label-true":"",color:"primary",style:{color:"#f1f1f1"}},null,8,["modelValue"])])),_:1})])),_:1}),Pe.value.bs7858?(u(),p("span",vc,[f("img",{onClick:ul,class:"cu-pointer",style:{height:"24px",width:"auto"},src:l})])):C("",!0)])]),fc,f("div",yc,[f("div",gc,[(u(!0),p(S,null,A(Pe.value.pre_industries,((e,l)=>E((u(),p("span",{key:l,class:V(Pe.value.industry.name!=e.name?"":"cus-default"),onClick:l=>(e=>{te.value=2,pe.value=e.id,be.value=e.name,je.value={title:"Are you sure?",subtitle:"Your documents and other informations will be changed according to your industry.",btntext:"Yes, switch it",isSweetAlertOpen:!0}})(e),style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white"}},[e.id?(u(),p("img",{key:0,src:e.industryLogo,style:{width:"42px",height:"42px",padding:"1px","border-radius":"6px"}},null,8,bc)):C("",!0),f("span",{class:"active-industry",style:I({backgroundColor:Pe.value.industry.name==e.name?"":"#F5F5F5",color:Pe.value.industry.name==e.name?"":"black"})},T(e.name),5)],10,hc)),[[Al,"Switch industry",void 0,{primary:!0,top:!0,rounded:!0}]]))),128))])])])])]),f("div",wc,[f("div",_c,[f("div",kc,[f("div",xc,[f("div",Cc,[m(d,null,{default:v((()=>[m(c,null,{default:v((()=>[m(j,{onClick:ol,color:"warning",modelValue:Pe.value.warning,"onUpdate:modelValue":o[7]||(o[7]=e=>Pe.value.warning=e),label:"Set warning"},null,8,["modelValue"])])),_:1})])),_:1})])])])])]),f("div",Sc,[f("div",Ac,[f("div",Tc,[m(y(Ue),{id:"radial-circle",class:"circle-chart-wrapper",height:y(il).chart.height,type:y(il).chart.type,series:[Pe.value.profileStat?Pe.value.profileStat.percentage:0],options:y(il)},null,8,["height","type","series","options"])])])])]),f("button",{onClick:o[8]||(o[8]=()=>{oe.value=`https://vms.arez.io/worker-profile/share/?id=${Pe.value.id}&code=${Pe.value.activationCode}`,ce.value=!0,re.value=`https://vms.arez.io/worker-profile/?code=${Pe.value.activationCode}`}),rounded:"",color:"solid",label:"Error",class:"share-btn",style:{color:"#fff"}},[Nc,h(" Share ")]),E((u(),p("button",{onClick:o[9]||(o[9]=()=>{Y.value=Pe.value.id,B.value=!0}),class:"edit-btn tooltip-custom-class",style:{color:"#fff"}},[Dc,h(" Edit ")])),[[Al,"Edit Woker Profile",void 0,{success:!0,bottom:!0,rounded:!0}]]),f("div",Vc,[ce.value?(u(),p("div",Ic,[m(R,{color:"primary",class:"is-flex copyLinkStyle",closable:"",onClose:o[12]||(o[12]=e=>ce.value=!1)},{default:v((()=>[h(T(oe.value)+" ",1),E((u(),x(N,{style:{"background-color":"transparent"},onClick:o[10]||(o[10]=e=>Je(oe.value))},{default:v((()=>[jc])),_:1})),[[Al,"Copy Link",void 0,{rounded:!0,info:!0}]]),Rc,h(" "+T(re.value)+" ",1),E((u(),x(N,{style:{"background-color":"transparent"},onClick:o[11]||(o[11]=e=>Je(re.value))},{default:v((()=>[Oc])),_:1})),[[Al,"Copy Link",void 0,{rounded:!0,info:!0}]])])),_:1})])):C("",!0)]),Pe.value.warning?(u(),x(F,{key:0,title:"Warning Note",class:"cus-warning-block mt-1 column dark-text col-12",subtitle:y(ml)},{icon:v((()=>[m(O,{color:"warning",rounded:""},{default:v((()=>[Ec])),_:1})])),_:1},8,["subtitle"])):C("",!0)])],4),f("div",Lc,[f("div",zc,[f("div",qc,[f("div",Mc,[f("div",Uc,[f("ul",null,[f("li",{class:V(["personal"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[13]||(o[13]=H(b((e=>P.value="personal"),["prevent"]),["space"])),onClick:o[14]||(o[14]=e=>P.value="personal")},$c,32)],2),f("li",{class:V(["licence"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[15]||(o[15]=H(b((e=>P.value="licence"),["prevent"]),["space"])),onClick:o[16]||(o[16]=e=>P.value="licence")},Pc,32)],2),f("li",{class:V(["reference"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[17]||(o[17]=H(b((e=>P.value="reference"),["prevent"]),["space"])),onClick:o[18]||(o[18]=e=>P.value="reference")},Fc,32)],2),f("li",{class:V(["veriffTab"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[19]||(o[19]=H(b((e=>P.value="veriffTab"),["prevent"]),["space"])),onClick:o[20]||(o[20]=e=>P.value="veriffTab")},Bc,32)],2),f("li",{class:V(["comments"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[21]||(o[21]=H(b((e=>P.value="comments"),["prevent"]),["space"])),onClick:o[22]||(o[22]=e=>P.value="comments")},Wc,32)],2),f("li",{class:V(["questions"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[23]||(o[23]=H(b((e=>P.value="questions"),["prevent"]),["space"])),onClick:o[24]||(o[24]=e=>P.value="questions")},Yc,32)],2),f("li",{class:V(["warnings"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[25]||(o[25]=H(b((e=>P.value="warnings"),["prevent"]),["space"])),onClick:o[26]||(o[26]=e=>P.value="warnings")},Kc,32)],2),f("li",{class:V(["activity"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[27]||(o[27]=H(b((e=>P.value="activity"),["prevent"]),["space"])),onClick:o[28]||(o[28]=e=>P.value="activity")},Hc,32)],2),f("li",{class:V(["timeSheet"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:o[29]||(o[29]=H(b((e=>P.value="timeSheet"),["prevent"]),["space"])),onClick:o[30]||(o[30]=e=>P.value="timeSheet")},Xc,32)],2),f("li",{class:V(["worker-rota"===P.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onClick:o[31]||(o[31]=e=>P.value="worker-rota")},Gc)],2)])])]),E(f("div",Jc,[f("div",Zc,[f("div",Qc,[f("div",ed,[f("div",ld,[k.value?(u(),x(W,{key:0})):C("",!0),f("input",{ref_key:"fileInput",ref:U,type:"file",style:{display:"none"},onChange:He,accept:"image/*,application/pdf"},null,544),f("div",ad,[f("div",td,[D.value.length>0?(u(),p("div",id,[m($e,{rounded:"",data:D.value,columns:Fe,class:"noborder",id:"doc-table"},{"body-cell":v((({row:e,column:l,value:a})=>["documentTitle"===l.key?(u(),p(S,{key:0},[m(X,{picture:e.icon,squared:!0},null,8,["picture"]),f("div",sd,[f("div",nd,[f("span",od,[h(T(e.documentTitle)+" ",1),"step_1"==e.step?(u(),p("img",rd)):C("",!0)]),f("span",cd,[e.expiryDateRequired?E((u(),p("span",dd," Date required",512)),[[L,!e.expiryDate]]):C("",!0)]),f("span",ud,[f("span",pd,T(e.subTitle&&e.subTitle.length>60?e.subTitle.slice(0,69):"Not Added")+"...",1)]),e.expiryDateRequired&&e.document?(u(),p("span",md,[f("span",{style:I({color:e.expiryDate?"var(--primary)":"var(--danger)"}),class:"cu-pointer"},"Expiry date: "+T(e.expiryDate),5),f("i",{onClick:l=>{return a=e.id,t=e.expiryDate,me.value=t,void(Te.value=a);var a,t},class:"lnil lnil-pencil ml-2 cu-pointer",style:{color:"var(--primary)","font-size":"10px"},"aria-hidden":"true"},null,8,vd)])):C("",!0)])]),Te.value==e.id?(u(),p("div",fd,[m(d,null,{default:v((()=>[f("i",{class:"lnil lnil-close cu-pointer",onClick:o[32]||(o[32]=()=>{Te.value=0}),style:{float:"right"},"aria-hidden":"true"}),m(G,null,{default:v((()=>[h("Enter expiry date :")])),_:1}),m(c,null,{default:v((()=>[m(le,{modelValue:me.value,"onUpdate:modelValue":o[33]||(o[33]=e=>me.value=e),onChange:l=>Be(e.id,{expiryDate:me.value,docTitle:K.value}),type:"Date",placeholder:"Document expiry date"},null,8,["modelValue","onChange"])])),_:2},1024)])),_:2},1024)])):C("",!0)],64)):"status"===l.key?(u(),p(S,{key:1},[e.worker?(u(),p("div",yd,[f("label",gd,[E(f("input",{id:"navbar-night-toggle--daynight","onUpdate:modelValue":l=>e.status=l,onClick:l=>Be(e.id,{status:!e.status,docTitle:e.documentTitle}),"data-cy":"dark-mode-toggle",type:"checkbox"},null,8,hd),[[Z,e.status]]),bd])])):(u(),p("div",wd,[f("label",_d,[E(f("input",{style:{"background-color":"var(info) !important"},disabled:"","onUpdate:modelValue":l=>e.status=l,onClick:l=>Be(e.id,{status:!e.status,docTitle:e.documentTitle}),"data-cy":"dark-mode-toggle",type:"checkbox"},null,8,kd),[[Z,e.status]]),xd])]))],64)):"actions"===l.key?(u(),p(S,{key:2},[e.document?(u(),p("div",Cd,[e.document.includes(".pdf")?(u(),p("div",Sd,[f("img",{onClick:()=>{q.value=e.document,ve.value=e.id,fe.value=e.expiryDateRequired,z.value=!0,K.value=e.documentTitle,me.value=e.expiryDate},class:"image-icon",src:Me,alt:"",style:{"margin-right":"10px",width:"34px",height:"34px",cursor:"pointer","border-radius":"50%"}},null,8,Ad)])):(u(),p("div",Td,[f("div",Nd,[f("i",{onClick:()=>{q.value=e.document,z.value=!0,ve.value=e.id,fe.value=e.expiryDateRequired,K.value=e.documentTitle,me.value=e.expiryDate},class:"fas fa-file-image",style:{"font-size":"18px",cursor:"pointer",color:"var(--primary)"}},null,8,Dd)])]))])):C("",!0),e.loading?C("",!0):(u(),x(O,{key:1,size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:()=>(e=>{$.value=e,U.value&&U.value.click()})(e)},{default:v((()=>[Vd])),_:2},1032,["onClick"])),e.loading?(u(),x(ae,{key:2,color:"primary",outlined:"",loading:"",circle:"",icon:"feather:plus"})):C("",!0),e.worker?(u(),x(O,{key:3,size:"small",color:"danger",class:"ml-3",style:{cursor:"pointer"},rounded:"",onClick:l=>(e=>{te.value=1,M.value=e.id,ke.value=e.documentTitle,je.value={title:"Are you sure?",subtitle:"You will not be able to recover this Worker Document!",btntext:"Yes, Delete it",isSweetAlertOpen:!0}})(e)},{default:v((()=>[Id])),_:2},1032,["onClick"])):C("",!0)],64)):C("",!0)])),_:1},8,["data"])])):(u(),p("div",jd,[m(N,{color:"solid",label:"No Documents Are Available!",rounded:""})]))])])])])]),f("div",Rd,[f("div",Od,[f("i",{class:"fas fa-expand-arrows-alt expand-arrow",style:{color:"var(--primary-light-12)",cursor:"pointer",position:"absolute",top:"10px",right:"10px"},"aria-hidden":"true",onClick:o[34]||(o[34]=e=>P.value="comments")}),f("div",Ed,[m(Ke,{id:y(g).params.id},null,8,["id"])])]),Ld,f("div",zd,[f("i",{class:"fas fa-expand-arrows-alt expand-arrow",style:{color:"var(--primary-light-12)",cursor:"pointer",position:"absolute",top:"10px",right:"10px"},"aria-hidden":"true",onClick:o[35]||(o[35]=e=>P.value="licence")}),f("div",qd,[Md,f("div",Ud,[f("div",$d,[f("div",Pd,[f("div",Fd,[f("div",Bd,[m(Ge,{style:{width:"max-content"},siaCard:Pe.value.default_sia},null,8,["siaCard"])])])])])])])])])])],512),[[L,"personal"===P.value]]),E(f("div",Wd,[m(el,{id:y(g).params.id},null,8,["id"])],512),[[L,"licence"==P.value]]),"veriffTab"===P.value?(u(),p("div",Yd,[f("div",Kd,[Hd,f("div",Xd,[Gd,Jd,m(ll,{color:"info",onClick:o[36]||(o[36]=()=>{xe.value=!xe.value}),icon:"fas fa-link",elevated:""},{default:v((()=>[h(" Create link ")])),_:1})])]),m(tl,{id:y(g).params.id},null,8,["id"])])):C("",!0),"reference"===P.value?(u(),p("div",Zd,[m(sl,{id:y(g).params.id,worker:Pe.value},null,8,["id","worker"])])):C("",!0),"activity"===P.value?(u(),p("div",Qd,[m(nl,{id:y(g).params.id,worker:Pe.value},null,8,["id","worker"])])):C("",!0),"comments"===P.value?(u(),p("div",eu,[m(Ke,{id:y(g).params.id},null,8,["id"])])):C("",!0),"questions"===P.value?(u(),p("div",lu,[m(vl,{type:De.value,memberId:y(g).params.id},null,8,["type","memberId"])])):C("",!0),"warnings"===P.value?(u(),p("div",au,[m(d,null,{default:v((()=>[m(c,null,{default:v((()=>[m(fl,{style:{"border-radius":"15px !important","background-color":"#f5f5f5 !important",border:"none !important",padding:"16px 20px !important"},onBlur:rl,modelValue:Pe.value.warningMessage,"onUpdate:modelValue":o[37]||(o[37]=e=>Pe.value.warningMessage=e),class:"textarea is-warning-focus",rows:"2",placeholder:"Enter warning note..."},null,8,["modelValue"])])),_:1})])),_:1})])):C("",!0),"timeSheet"===P.value?(u(),p("div",tu,[m(yl,{id:y(g).params.id,worker:Pe.value},null,8,["id","worker"])])):C("",!0),"worker-rota"===P.value?(u(),p("div",iu,[m(gl,{workerId:y(g).params.id},null,8,["workerId"])])):C("",!0)])])])]),m(bl,{is:"form",open:Ne.value,title:K.value,size:"big",actions:"right",onClose:o[38]||(o[38]=e=>Ne.value=!1)},{content:v((()=>[m(hl)])),action:v((()=>[m(ll,{color:"primary",onClick:dl,raised:""},{default:v((()=>[h("Print")])),_:1})])),_:1},8,["open","title"]),Ae.value?(u(),x(wl,{key:0,firstName:Pe.value.firstName,lastName:Pe.value.lastName,openSanctionModal:Ae.value,"onUpdate:openSanctionModal":o[39]||(o[39]=e=>Ae.value=e)},null,8,["firstName","lastName","openSanctionModal"])):C("",!0),m(bl,{is:"form",open:z.value,title:K.value,size:"big",actions:"right",onClose:o[43]||(o[43]=e=>z.value=!1)},{content:v((()=>[f("div",su,[fe.value?(u(),x(d,{key:0,class:V("SIA Card"==K.value?"column is-6":"column is-12")},{default:v((()=>[m(G,null,{default:v((()=>[h("Document expiry date :")])),_:1}),m(c,null,{default:v((()=>[m(le,{modelValue:me.value,"onUpdate:modelValue":o[40]||(o[40]=e=>me.value=e),onChange:o[41]||(o[41]=e=>Be(ve.value,{expiryDate:me.value,docTitle:K.value})),type:"Date",placeholder:"Document expiry date"},null,8,["modelValue"])])),_:1})])),_:1},8,["class"])):C("",!0),"SIA Card"==K.value?(u(),p("div",nu,[ou,m(d,{addons:"",class:"mt-1"},{default:v((()=>[m(c,{expanded:""},{default:v((()=>[m(_l,{modelValue:Ve.value,"onUpdate:modelValue":o[42]||(o[42]=e=>Ve.value=e),required:"",class:"input",id:"siacard",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["modelValue"])])),_:1}),m(c,null,{default:v((()=>[m(ll,{onClick:pl,color:"primary",rounded:""},{default:v((()=>[h(" Verify ")])),_:1})])),_:1})])),_:1}),f("label",{class:V([Pe.value.default_sia&&Pe.value.default_sia.status?"light-text":"danger-text","mb-2"])},"Status: "+T(Pe.value.default_sia&&Pe.value.default_sia.status?"Approved":"Un-approved"),3)])):C("",!0)]),f("div",ru,[q.value.includes(".pdf")?(u(),p("iframe",{key:0,src:q.value,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,cu)):(u(),p("img",{key:1,src:q.value,alt:""},null,8,du))])])),cancel:v((()=>[m(ll,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:v((()=>[h("Close")])),_:1})])),_:1},8,["open","title"]),xe.value?(u(),x(kl,{key:1,veriffModal:xe.value,id:Pe.value.id,email:Pe.value.emailAddress,phone:Pe.value.phoneNumber,"onUpdate:modalHandler":o[44]||(o[44]=e=>xe.value=e)},null,8,["veriffModal","id","email","phone"])):C("",!0),B.value?(u(),x(Cl,{key:2,EditCompanyModalOpen:B.value,id:Y.value,"onUpdate:modalHandler":o[45]||(o[45]=e=>B.value=e),"onUpdate:OnSuccess":Xe},null,8,["EditCompanyModalOpen","id"])):C("",!0),je.value.isSweetAlertOpen?(u(),x(Sl,{key:3,isSweetAlertOpen:je.value.isSweetAlertOpen,title:je.value.title,subtitle:je.value.subtitle,btntext:je.value.btntext,onConfirm:Ze,onCancel:()=>je.value.isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0)],64)}}}),pu=k(uu,[["__scopeId","data-v-80c29675"]]);export{pu as _};
