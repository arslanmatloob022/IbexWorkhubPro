import{_ as e}from"./VIcon.vue_vue_type_script_setup_true_lang-dd7d7e5b.js";import{e as a,ai as l,aj as s,Z as i,r,aH as t,aI as o,y as d,z as n,V as u,P as v,C as c,Q as f,R as b,l as p,O as g,J as m,I as y,A as _,af as h,ag as k,L as x}from"./index-a65f83b3.js";import{a as P}from"./useVFieldContext-d16d03e0.js";const V={key:0,class:"rating-label"},z=["id","for","onKeydown"],w=["id","aria-labelledby","tabindex","role"],R=["role","aria-label","aria-checked","onPointerenterPassive","onClickPassive"],$=x(a({__name:"VRangeRating",props:l({id:{default:void 0},max:{default:5},label:{default:void 0},size:{default:"base"},readonly:{type:Boolean,default:void 0},disabled:{type:Boolean}},{modelValue:{default:void 0}}),emits:["update:modelValue"],setup(a){const l=a,x=s(a,"modelValue"),{field:$,id:C}=P({help:"VRangeRating",id:l.id}),j=i((()=>void 0!==$?.value||void 0!==x.value)),A=i((()=>!l.readonly&&j.value)),I=i({get:()=>$?.value?$.value.value??0:x.value??0,set(e){$?.value&&$.value.setValue(e),x.value=e}}),B=i((()=>{switch(l.size){case"small":return"is-size-6";case"base":return"is-size-5";case"medium":return"is-size-4";case"large":return"is-size-3";case"xlarge":return"is-size-2"}})),D=r();function H(){l.readonly||l.disabled||D.value&&D.value.focus()}const K=r(),{focused:L}=t(K);o("ArrowLeft",(e=>{L.value&&(l.disabled||(e.preventDefault(),I.value>0&&(I.value=I.value-1)))})),o("ArrowRight",(e=>{L.value&&(l.disabled||(e.preventDefault(),I.value<l.max&&(I.value=I.value+1)))}));const S=r();function F(e){return j.value?void 0!==S.value?S.value-e>0:I.value-e>0:0}return(a,s)=>{const i=e;return d(),n("div",{ref_key:"wrapper",ref:K,class:"rating-wrap"},[l.label||"label"in a.$slots?(d(),n("div",V,[u(a.$slots,"label",{},(()=>[c("label",{id:`${p(C)}-label`,for:p(C),onClick:H,onKeydown:y(H,["enter"])},m(l.label),41,z)]),!0)])):v("",!0),c("div",{id:p(C),ref_key:"radiogroup",ref:D,class:g(["rating",{"is-active":p(A),"is-highlighted":p(S),[p(B)]:!0}]),"aria-labelledby":l.label||"label"in a.$slots&&p(A)?`${p(C)}-label`:void 0,tabindex:p(A)?0:void 0,role:p(A)?"radiogroup":void 0},[(d(!0),n(f,null,b(l.max,((e,r)=>(d(),n("span",{key:r,role:p(A)?"radio":void 0,"aria-label":String(r+1),"aria-checked":p(A)?p(I)-r>0:void 0,"aria-hidden":"true",class:g(["rating-star",{"is-rating-star-selected":F(r)}]),onPointerenterPassive:()=>function(e){l.readonly||(S.value=e+1)}(r),onPointerleavePassive:s[0]||(s[0]=()=>{S.value=void 0}),onClickPassive:()=>function(e){l.readonly||l.disabled||(I.value=e+1)}(r)},[u(a.$slots,"default",h(k({value:r+1,isSelected:F(r),isHighlighted:r+1===p(S)})),(()=>[_(i,{icon:"ph:star-fill"})]),!0)],42,R)))),128))],10,w)],512)}}}),[["__scopeId","data-v-75f04418"]]);export{$ as _};
