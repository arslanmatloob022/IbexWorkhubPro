import{F as e}from"./FullCalendar-08e49d37.js";import{T as t,b as a,D as l,a as s,c as i,i as n}from"./index-a35a3d11.js";import{Z as o,P as r,X as c,c as d,Q as u,T as m,x as p,y as h,aS as f,W as v,v as g,aT as y,aU as b,ac as k}from"./index-51c95dce.js";import{i as _}from"./index-a67a7147.js";import{u as x}from"./useAPI-b1504c9d.js";import{b as w,a as j}from"./useSupportElement-4eee5191.js";import{f as C,r as D,o as M,C as R,D as S,F as P,G as T,E as I,U as N,m as W,y as E,x as V,b as H,s as z,B as F,O as U,N as A,K as $,I as B,H as G,V as O,W as q,k as L,Q as Y,R as K,J as Q,S as J}from"./index-22ea51ae.js";import{_ as X,a as Z}from"./ProjectFiles-0f1295d2.js";import{_ as ee}from"./ProjectTodayTasks.vue_vue_type_style_index_0_lang-f6ed5411.js";import{_ as te,a as ae}from"./VOption.vue_vue_type_style_index_0_lang-f123503a.js";import{_ as le}from"./VLabel.vue_vue_type_script_setup_true_lang-024d5123.js";import{_ as se}from"./VField.vue_vue_type_script_setup_true_lang-fbfd24fd.js";import{_ as ie}from"./VControl-4763957b.js";import{_ as ne}from"./UserPopoverContent.vue_vue_type_script_setup_true_lang-fc2b5578.js";import{_ as oe}from"./VAvatar.vue_vue_type_style_index_0_lang-2d5345d9.js";import{_ as re}from"./VIcon.vue_vue_type_script_setup_true_lang-15c7aa79.js";import{A as ce}from"./vue3-apexcharts.common-8b8667e2.js";import{u as de}from"./useNotyf-4c4961d9.js";import{u as ue}from"./useThemeColors-5cc27b32.js";class me extends u{constructor(){super(...arguments),this.buildDayTableModel=m(a),this.slicer=new l,this.state={labelId:y()}}render(){const{props:e,state:t,context:a}=this,{dateProfile:l,forPrint:i}=e,{options:n}=a,o=this.buildDayTableModel(l,a.dateProfileGenerator),r=this.slicer.sliceProps(e,l,n.nextDayThreshold,a,o),c=null!=e.tableWidth?e.tableWidth/n.aspectRatio:null,d=o.cells.length,u=null!=c?c/d:null;return h("div",{ref:e.elRef,"data-date":e.isoDateStr,className:"fc-multimonth-month",style:{width:e.width},role:"grid","aria-labelledby":t.labelId},h("div",{className:"fc-multimonth-header",style:{marginBottom:u},role:"presentation"},h("div",{className:"fc-multimonth-title",id:t.labelId},a.dateEnv.format(e.dateProfile.currentRange.start,e.titleFormat)),h("table",{className:["fc-multimonth-header-table",a.theme.getClass("table")].join(" "),role:"presentation"},h("thead",{role:"rowgroup"},h(b,{dateProfile:e.dateProfile,dates:o.headerDates,datesRepDistinctDays:!1})))),h("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!i&&"fc-daygrid-body-balanced",i&&"fc-daygrid-body-unbalanced",i&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-u}},h("table",{className:["fc-multimonth-daygrid-table",a.theme.getClass("table")].join(" "),style:{height:i?"":c},role:"presentation"},h("tbody",{role:"rowgroup"},h(s,Object.assign({},r,{dateProfile:l,cells:o.cells,eventSelection:e.eventSelection,dayMaxEvents:!i,dayMaxEventRows:!i,showWeekNumbers:n.weekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:i}))))))}}const pe=o(1,"month");function he(e,t,a,l,s){const{start:n,end:o}=t.currentRange;let r=n;const c=[];for(;r.valueOf()<o.valueOf();){const n=a.add(r,pe),o={start:e.skipHiddenDays(r),end:e.skipHiddenDays(n,-1,!0)};let d=i({currentRange:o,snapToWeek:!0,fixedWeekCount:l,dateEnv:a});d={start:e.skipHiddenDays(d.start),end:e.skipHiddenDays(d.end,-1,!0)};const u=t.activeRange?k(t.activeRange,s?d:o):null;c.push({currentDate:t.currentDate,isValid:t.isValid,validRange:t.validRange,renderRange:d,activeRange:u,currentRange:o,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:t.dateIncrement,slotMinTime:t.slotMaxTime,slotMaxTime:t.slotMinTime}),r=n}return c}const fe=r({year:"numeric",month:"long"}),ve=r({month:"long"});function ge(e,t){return e||(t[0].currentRange.start.getUTCFullYear()!==t[t.length-1].currentRange.start.getUTCFullYear()?fe:ve)}const ye={multiMonthTitleFormat:r,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};c(".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}");var be=d({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:ye,views:{multiMonth:{component:class extends u{constructor(){super(...arguments),this.splitDateProfileByMonth=m(he),this.buildMonthFormat=m(ge),this.scrollElRef=p(),this.firstMonthElRef=p(),this.needsScrollReset=!1,this.handleSizing=e=>{e&&this.updateSize()}}render(){const{context:e,props:t,state:a}=this,{options:l}=e,{clientWidth:s,clientHeight:i}=a,n=a.monthHPadding||0,o=Math.min(null!=s?Math.floor(s/(l.multiMonthMinWidth+n)):1,l.multiMonthMaxColumns)||1,r=100/o+"%",c=null==s?null:s/o-n,d=null!=s&&1===o,u=this.splitDateProfileByMonth(e.dateProfileGenerator,t.dateProfile,e.dateEnv,!d&&l.fixedWeekCount,l.showNonCurrentDates),m=this.buildMonthFormat(l.multiMonthTitleFormat,u),p=["fc-multimonth",d?"fc-multimonth-singlecol":"fc-multimonth-multicol",null!=c&&c<400?"fc-multimonth-compact":"",t.isHeightAuto?"":"fc-scroller"];return h(v,{elRef:this.scrollElRef,elClasses:p,viewSpec:e.viewSpec},u.map(((e,a)=>{const l=f(e.currentRange.start);return h(me,Object.assign({},t,{key:l,isoDateStr:l,elRef:0===a?this.firstMonthElRef:void 0,titleFormat:m,dateProfile:e,width:r,tableWidth:c,clientWidth:s,clientHeight:i}))})))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(e){g(e,this.props)||this.handleSizing(!1),e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){const e=this.scrollElRef.current,t=this.firstMonthElRef.current;e&&this.setState({clientWidth:e.clientWidth,clientHeight:e.clientHeight}),t&&e&&null==this.state.monthHPadding&&this.setState({monthHPadding:e.clientWidth-t.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&null!=this.state.monthHPadding){const{currentDate:e}=this.props.dateProfile,t=this.scrollElRef.current,a=t.querySelector(`[data-date="${f(e)}"]`);t.scrollTop=a.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}shouldComponentUpdate(){return!0}},dateProfileGeneratorClass:t,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});const ke={class:"column is-12",id:"CalendarStyling"},_e=["onClick"],xe={style:{"font-weight":"600","margin-bottom":"0px","padding-left":"10px",color:"#f1f1f1"}},we={style:{"padding-right":"10px",color:"#f1f1f1"}},je=C({__name:"ProjectTasksCalendar",props:{projectID:{type:Number,required:!0}},setup(t){const a=t,l=x(),s=D([]),i=D(!1),o=D([]),r={pending:"#f39c12",in_progress:"#3498db",completed:"#2ecc71",cancelled:"#e74c3c"},c=D({plugins:[n,be,_],initialView:"dayGridMonth",dayMaxEventRows:!1,height:"auto",selectable:!0,editable:!1,views:{dayGridMonth:{slotDuration:{week:3,day:7},slotLabelFormat:{weekday:"short",month:"numeric",day:"numeric",year:"numeric"}}},headerToolbar:{left:"today prev,next",center:"title",right:"dayGridWeek,dayGridMonth,multiMonthYear"},events:[]});return M((()=>{(async()=>{try{i.value=!0;const e=await l.get(`api/task/${a.projectID}/project/`);s.value=e.data,o.value=s.value.map((e=>({id:e.id,start:e.startDate,end:w(e.endDate),title:e.title,color:e.color||"#2c3e50",description:e.description,borderColor:r[e.status]||"#2c3e50",status:e.status,project:e.project}))),c.value.events=o.value}catch(e){console.error("Failed to fetch tasks:",e)}finally{i.value=!1}})()})),(t,a)=>(R(),S("div",ke,[P(W(e),{options:c.value},{eventContent:T((e=>[I("div",{onClick:t=>{return a=e.event.extendedProps,void alert(`Task Detail:\n${a.title}\nStatus: ${a.status}`);var a},style:{display:"flex","flex-wrap":"wrap","align-items":"center","justify-content":"space-between",padding:"6px","background-color":"rgba(0, 0, 0, 0.3)"}},[I("p",xe,N(e.event.title),1),I("p",we,N(new Date(e.event.start).toDateString())+" to "+N(new Date(e.event.end).toDateString()),1)],8,_e)])),_:1},8,["options"])]))}}),Ce=e=>(Y("data-v-1ced318c"),e=e(),K(),e),De={class:"personal-dashboard personal-dashboard-v2"},Me={class:"columns is-multiline"},Re={class:"column is-12"},Se={class:"dashboard-header is-relative"},Pe={class:"user-meta is-dark-bordered-12"},Te={class:"title is-4 is-narrow is-bold"},Ie=Ce((()=>I("i",{class:"fas fa-home"},null,-1))),Ne={class:"user-action"},We=Ce((()=>I("h3",{class:"title is-5 is-narrow"},"Information",-1))),Ee={class:"light-text"},Ve={class:"light-text"},He={class:"light-text"},ze={class:"media-flex inverted-text"},Fe=Ce((()=>I("a",{class:"link inverted-text"},"Change status",-1))),Ue={key:0,class:"tabs-inner"},Ae={class:"tabs is-boxed",slider:""},$e=[Ce((()=>I("span",null,"Project Info",-1)))],Be=[Ce((()=>I("span",null,"Tasks Calendar",-1)))],Ge=[Ce((()=>I("span",null,"Tasks",-1)))],Oe=Ce((()=>I("li",{class:"tab-naver"},null,-1))),qe={key:1,class:"columns is-multiline"},Le={key:0,class:"column is-8"},Ye={class:"dashboard-card has-margin-bottom"},Ke=["innerHTML"],Qe={class:"dashboard-card has-margin-bottom"},Je={class:"dashboard-card"},Xe=Ce((()=>I("div",{class:"card-head"},[I("h3",{class:"dark-inverted"},"Task Completion"),I("a",{class:"action-link",tabindex:"0"},"Reports")],-1))),Ze={class:"dashboard-card"},et={class:"card-head"},tt=Ce((()=>I("h3",{class:"dark-inverted"},"Assigned Manager",-1))),at={class:"active-team"},lt={key:0,class:"user-list"},st={class:"user-list-info"},it={class:"name dark-inverted"},nt={class:"position"},ot=Ce((()=>I("div",{class:"user-list-icons"},null,-1))),rt={key:1,class:"user-list"},ct=[Ce((()=>I("div",{class:"user-list-info"},[I("div",{class:"name dark-inverted"},"No Manager assigned yet")],-1)))],dt={key:2},ut={class:"is-flex space-between"},mt={key:0},pt={class:"dashboard-card"},ht={class:"card-head"},ft=Ce((()=>I("h3",{class:"dark-inverted"},"Client Information",-1))),vt={class:"active-team"},gt={key:0,class:"user-list"},yt={class:"user-list-info"},bt={class:"name dark-inverted"},kt={class:"position"},_t=Ce((()=>I("div",{class:"user-list-icons"},null,-1))),xt={key:1,class:"user-list"},wt=[Ce((()=>I("div",{class:"user-list-info"},[I("div",{class:"name dark-inverted"},"No Client Info Added yet")],-1)))],jt={key:2},Ct={class:"dashboard-card"},Dt={class:"card-head"},Mt=Ce((()=>I("h3",{class:"dark-inverted"},"Contractor Information",-1))),Rt={class:"active-team"},St={key:0,class:"user-list"},Pt={class:"user-list-info"},Tt={class:"name dark-inverted"},It={class:"position"},Nt=Ce((()=>I("div",{class:"user-list-icons"},null,-1))),Wt={key:1,class:"user-list"},Et=[Ce((()=>I("div",{class:"user-list-info"},[I("div",{class:"name dark-inverted"}," No contractor Info Added yet ")],-1)))],Vt={key:2},Ht={class:"dashboard-card"},zt={key:2,class:"columns is-multiline"},Ft={class:"column is-12"},Ut={key:3,class:"columns is-multiline"},At=J(C({__name:"ProjectDetail",setup(e){const t=ue(),a=x(),l=de(),s=E(),i=V(),n=H(),o=D("detail"),r=D(!1),c=D(!1);D(!1);const d=D(!1);D(!1);const u=D(!1),m=D([]),p=D([]),h=D([]),f=D([]),v=D([]);D(0);const g=D(0),y=D(0),b=D(""),k=D("");D("");const _=D([{id:0,username:"",email:"",phoneNumber:""}]),w=D([]),C=D({id:0,title:"",created:"",startDate:"",color:"",endDate:"",description:"",image:"",is_active:null,status:"",address:"",total_tasks:0,client:0,contractor:0,clientInfo:{id:0,username:"",email:"",password:"",avatar:null},uploaded_files:[],contractorInfo:{id:0,username:"",email:"",password:"",avatar:null},managers:[{id:0,username:"",avatar:null,email:"",role:""}]});D({title:"",description:"",startDate:"",endDate:"",status:"",project:s.params.id,workers:[]});const Y=D([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}]}]),K=z({height:180,type:"radialBar",series:[],title:{text:""},chart:{toolbar:{show:!1}},colors:[t.primary,t.purple,t.orange],plotOptions:{radialBar:{hollow:{size:"55%"}}},labels:["Progress"]}),J=z({series:[],chart:{height:295,type:"pie",toolbar:{show:!1}},labels:["Active","Pending","Completed","Canceled"],colors:[t.accent,t.info,t.primary,t.orange],legend:{position:"right",horizontalAlign:"center"},responsive:[{breakpoint:480,options:{chart:{width:315,toolbar:{show:!1}},legend:{position:"top"}}}],dataLabels:{enabled:!1}}),me=()=>{d.value=!d.value},pe=()=>{c.value=!c.value},he=D(!1),fe=()=>{he.value=!he.value},ve=()=>{try{u.value=!0;a.delete(`/api/project/${s.params.id}/`);l.green("Selected project deleted successfully!"),i.push("/sidebar/dashboard/projects")}catch(e){console.log(e)}finally{u.value=!1}};D(0);const ge=async()=>{try{r.value=!0;const e=await a.get(`/api/project/${k.value}/`);C.value=e.data;let t=e.data.percentage.toFixed(2);K.value.series.push(t),b.value=e.data.image,h.value=e.data.managers?e.data.managers:[],ye()}catch(e){console.log(e)}finally{r.value=!1}};D([]);const ye=async()=>{try{r.value=!0;const e=await a.get(`api/task/${s.params.id}/project/`);Y.value=e.data;const t={pending:0,completed:0,active:0,canceled:0};Y.value.forEach((e=>{const a=e.status||"Unknown";void 0!==t[a]&&t[a]++})),J.value.series=[t.completed,t.pending,t.active,t.canceled],r.value=!1}catch(e){console.log(e),r.value=!1}},be=D([]),ke=async()=>{try{C.value.managers=be.value;let e=j(C.value,["image"]);e.delete("clientInfo"),e.delete("contractorInfo"),"object"==typeof C.value.client&&e.delete("client"),"object"==typeof C.value.contractor&&e.delete("contractor");const t=await a.patch(`/api/project/${s.params.id}/`,e);c.value=!1,d.value=!1,l.green("Project updated successfully"),he.value=!1,ge(t.data.id)}catch(e){console.log(e)}};D("");const _e=e=>{g.value=e},xe=e=>{y.value=e};return M((async()=>{k.value=s.params.id,ge(),(async()=>{try{u.value=!0;const e=await a.get("/api/users/",{});_.value=e.data.filter((e=>"worker"==e.role)),m.value=e.data.filter((e=>"client"==e.role)),p.value=e.data.filter((e=>"contractor"==e.role)),f.value=e.data.filter((e=>"manager"==e.role)),v.value=f.value.map((e=>({value:e.id.toString(),name:`${e.username}`,supplier:e.partner?e.partner:"",image:e.avatar}))),console.log("data",_.value)}catch(e){console.log(e)}finally{u.value=!1}})(),await ye(),(async()=>{try{const e=await a.get(`/api/task/today-tasks/?project=${s.params.id}`);w.value=e.data}catch(e){console.log(e)}})()})),(e,t)=>{const a=re,l=oe,u=F("Address"),f=X,g=ne,y=F("Tippy"),b=F("Multiselect"),k=ie,_=se,x=le,w=te,j=ae,D=ee,M=Z,E=je;return R(),S("div",De,[I("div",Me,[I("div",Re,[I("div",Se,["admin"==W(n).user.role||"manager"==W(n).user.role?(R(),U(a,{key:0,style:{position:"absolute",top:"10px","font-size":"18px","font-weight":"600",right:"36px",color:"var(--info)"},class:"cu-pointer",onClick:t[0]||(t[0]=()=>{W(i).push(`/sidebar/dashboard/projects/add-project/?id=${W(C).id}`)}),icon:"lucide:edit"})):A("",!0),"admin"==W(n).user.role||"manager"==W(n).user.role?(R(),U(a,{key:1,style:{position:"absolute",top:"10px","font-size":"18px","font-weight":"600",right:"10px",color:"var(--danger)"},class:"cu-pointer",onClick:ve,icon:"lucide:trash"})):A("",!0),P(l,{picture:W(C).image,squared:"",color:"primary",size:"xxl"},null,8,["picture"]),I("div",Pe,[I("h3",Te,N(W(C).title?W(C).title:"N/A"),1),P(u,null,{default:T((()=>[Ie,$(" "+N(W(C).address),1)])),_:1})]),I("div",Ne,[We,I("p",Ee," Started at: "+N(W(C)?.startDate?W(C)?.startDate:"N/A"),1),I("p",Ve," Expected end: "+N(W(C)?.endDate?W(C)?.endDate:"N/A"),1),I("p",He," Total jobs: "+N(W(C).total_tasks?W(C).total_tasks:"N/A")+" Tasks ",1)]),I("div",null,[I("div",ze,[W(r)?A("",!0):(R(),U(W(ce),{key:0,id:"completion-chart",height:W(K).height,type:W(K).type,series:W(K).series,options:W(K)},null,8,["height","type","series","options"]))]),Fe])])])]),"admin"==W(n).user.role||"manager"==W(n).user.role||"client"==W(n).user.role?(R(),S("div",Ue,[I("div",Ae,[I("ul",null,[I("li",{class:B(["detail"===W(o)&&"is-active"])},[I("a",{tabindex:"0",role:"button",onKeydown:t[1]||(t[1]=G(Q((e=>o.value="detail"),["prevent"]),["space"])),onClick:t[2]||(t[2]=e=>o.value="detail")},$e,32)],2),I("li",{class:B(["calendar"===W(o)&&"is-active"])},[I("a",{tabindex:"0",role:"button",onKeydown:t[3]||(t[3]=G(Q((e=>o.value="calendar"),["prevent"]),["space"])),onClick:t[4]||(t[4]=e=>o.value="calendar")},Be,32)],2),I("li",{class:B(["tasks"===W(o)&&"is-active"])},[I("a",{tabindex:"0",role:"button",onKeydown:t[5]||(t[5]=G(Q((e=>o.value="tasks"),["prevent"]),["space"])),onClick:t[6]||(t[6]=e=>o.value="tasks")},Ge,32)],2),Oe])])])):A("",!0),"detail"===W(o)?(R(),S("div",qe,["admin"==W(n).user.role||"manager"==W(n).user.role?(R(),S("div",Le,[I("div",Ye,[I("div",{innerHTML:W(C).description},null,8,Ke)]),I("div",Qe,[P(f,{projectId:W(s).params.id,files:W(C).uploaded_files,"onUpdate:onUploadFile":ge},null,8,["projectId","files"])]),I("div",Je,[Xe,0!=W(Y).length?(R(),U(W(ce),{key:0,height:W(J).chart.height,type:W(J).chart.type,series:W(J).series,options:W(J)},null,8,["height","type","series","options"])):A("",!0)])])):A("",!0),I("div",{class:B("admin"==W(n).user.role||"manager"==W(n).user.role?"column is-4":"column is-12")},[I("div",Ze,[I("div",et,[tt,"admin"==W(n).user.role||"manager"==W(n).user.role?(R(),S("a",{key:0,onClick:fe,class:"action-link",tabindex:"0"},N(W(he)?"Close":"Edit"),1)):A("",!0)]),I("div",at,[W(h).length>0?(R(),S("ul",lt,[(R(!0),S(O,null,q(W(h),(e=>(R(),S("li",{key:e.id},[I("div",null,[P(y,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:T((()=>[P(g,{user:e},null,8,["user"])])),default:T((()=>[P(l,{picture:e.avatar},null,8,["picture"])])),_:2},1024)]),I("div",st,[I("div",it,N(e.username),1),I("div",nt,N(e.email),1)]),ot])))),128))])):(R(),S("ul",rt,ct)),W(he)?(R(),S("div",dt,[P(_,null,{default:T((({id:e})=>[P(k,null,{default:T((()=>[P(b,{modelValue:W(be),"onUpdate:modelValue":t[7]||(t[7]=e=>L(be)?be.value=e:null),attrs:{id:e},mode:"tags",placeholder:"Select manager","track-by":"name",label:"name",searchable:!0,"create-tag":!0,options:W(v),"max-height":145},null,8,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])):A("",!0),I("div",ut,[W(he)?(R(),S("a",mt)):A("",!0),W(he)?(R(),S("a",{key:1,onClick:ke,class:"action-link",tabindex:"0"},"Save ")):A("",!0)])])]),I("div",pt,[I("div",ht,[ft,"admin"==W(n).user.role||"manager"==W(n).user.role?(R(),S("a",{key:0,onClick:pe,class:"action-link",tabindex:"0"},N(W(c)?"Close":"Edit"),1)):A("",!0)]),I("div",vt,[W(C).client?(R(),S("ul",gt,[I("li",null,[I("div",null,[P(y,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:T((()=>[P(g,{user:W(C).client},null,8,["user"])])),default:T((()=>[P(l,{picture:W(C).client.avatar},null,8,["picture"])])),_:1})]),I("div",yt,[I("div",bt,N(W(C).client.username),1),I("div",kt,N(W(C).client.email),1)]),_t])])):(R(),S("ul",xt,wt)),W(c)?(R(),S("div",jt,[P(_,null,{default:T((()=>[P(x,null,{default:T((()=>[$("Select client")])),_:1}),P(k,null,{default:T((()=>[P(j,{modelValue:W(C).client,"onUpdate:modelValue":t[8]||(t[8]=e=>W(C).client=e),onChange:ke},{default:T((()=>[P(w,{value:""},{default:T((()=>[$(" Clients ")])),_:1}),(R(!0),S(O,null,q(W(m),(e=>(R(),U(w,{key:e.id,value:e.id},{default:T((()=>[$(N(e.username),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])):A("",!0)])]),I("div",Ct,[I("div",Dt,[Mt,"admin"==W(n).user.role||"manager"==W(n).user.role?(R(),S("a",{key:0,onClick:me,class:"action-link",tabindex:"0"},N(W(d)?"Close":"Edit"),1)):A("",!0)]),I("div",Rt,[W(C).contractor?(R(),S("ul",St,[I("li",null,[I("div",null,[P(y,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:T((()=>[P(g,{user:W(C).contractor},null,8,["user"])])),default:T((()=>[P(l,{picture:W(C).contractor.avatar},null,8,["picture"])])),_:1})]),I("div",Pt,[I("div",Tt,N(W(C).contractor.username),1),I("div",It,N(W(C).contractor.email),1)]),Nt])])):(R(),S("ul",Wt,Et)),W(d)?(R(),S("div",Vt,[P(_,null,{default:T((()=>[P(x,null,{default:T((()=>[$("Select contractor")])),_:1}),P(k,null,{default:T((()=>[P(j,{modelValue:W(C).contractor,"onUpdate:modelValue":t[9]||(t[9]=e=>W(C).contractor=e),onChange:ke},{default:T((()=>[(R(!0),S(O,null,q(W(p),(e=>(R(),U(w,{key:e.id,value:e.id},{default:T((()=>[$(N(e.username),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])):A("",!0)])]),I("div",Ht,[P(D,{projectId:W(s).params.id},null,8,["projectId"])])],2)])):A("",!0),"tasks"===W(o)?(R(),S("div",zt,[I("div",Ft,[P(M,{"onUpdate:completedTasks":_e,"onUpdate:activeTasks":xe,projectID:W(s).params.id},null,8,["projectID"])])])):A("",!0),"calendar"===W(o)?(R(),S("div",Ut,[P(E,{projectID:W(s).params.id},null,8,["projectID"])])):A("",!0)])}}}),[["__scopeId","data-v-1ced318c"]]);export{At as _};
