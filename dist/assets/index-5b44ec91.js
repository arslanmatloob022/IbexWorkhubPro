import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-add74722.js";import{_ as a}from"./VModal.vue_vue_type_style_index_0_lang-cf0a59eb.js";import{e as l,r as s,o as t,B as o,N as i,F as r,D as n,E as d,l as u,C as c,G as p,I as m,M as v,K as y,W as f,J as g,U as b,V as _,T as h,a3 as k,O as w,P as C,Q as x,R as I,x as A,au as V,H as j,z as N}from"./index-92787704.js";import{_ as D}from"./VControl-ee889d65.js";import{_ as U,a as S}from"./VOption.vue_vue_type_style_index_0_lang-95d4eb8a.js";import{_ as T}from"./VField.vue_vue_type_script_setup_true_lang-ab1ce8a6.js";import{_ as P}from"./VAvatar.vue_vue_type_style_index_0_lang-98b13c1c.js";import{_ as E}from"./VIconButton-c3376e96.js";import{_ as L}from"./VFilePond.vue_vue_type_script_lang-bb828640.js";import{u as O}from"./useAPI-6da4de62.js";import{u as R}from"./useNotyf-f1745e5a.js";import{u as z}from"./company-c5b004ca.js";import{C as F}from"./useSupportElement-bb1b504a.js";import{_ as M}from"./VFlexTable.vue_vue_type_style_index_0_lang-31165014.js";import{_ as B}from"./VIconBox.vue_vue_type_style_index_0_lang-476e4ff5.js";import{_ as $}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-65430c19.js";import{_ as W}from"./VMessage.vue_vue_type_style_index_0_lang-a463ee05.js";import{_ as q}from"./VTag.vue_vue_type_style_index_0_lang-161d467c.js";import{_ as H}from"./VSwitchSegment.vue_vue_type_style_index_0_lang-c444f205.js";import{_ as K}from"./VRangeRating-531d4035.js";import{_ as Y}from"./whatsapp-93d30726.js";import{_ as G}from"./industry-1eeac2c8.js";import{_ as J}from"./pdf-9ba17336.js";import{u as Q}from"./userSession-f12597bc.js";import{u as X}from"./viewWrapper-c996e432.js";import"./VLabel.vue_vue_type_script_setup_true_lang-25d795ca.js";import"./useVFieldContext-fdf2c876.js";import"./notyf-cc263383.js";import"./useThemeColors-10f061bb.js";import"./VPlaceloadWrap-cabfd390.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-9ae4e50c.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-7e6b5330.js";import"./VIcon.vue_vue_type_script_setup_true_lang-b0f46879.js";const Z=e=>(C("data-v-cded28dc"),e=e(),x(),e),ee={class:"modal-form columns is-multiline"},ae={class:"column is-12 mb-0"},le={class:"columns mb-0 p-0"},se=Z((()=>n("label",null,"Profile :",-1))),te={class:"control is-flex is-justify-content-center"},oe=["src"],ie={key:2},re={class:"column is-6 mb-0 p-0"},ne={class:"field column is-12 mb-0 pt-0"},de=Z((()=>n("label",null,"First Name: *",-1))),ue={class:"control"},ce={class:"field column is-12 mb-0"},pe=Z((()=>n("label",null,"Last Name: ",-1))),me={class:"control"},ve={class:"field column is-6 mb-0"},ye=Z((()=>n("label",null,"Email Address: *",-1))),fe={class:"control"},ge={class:"field column is-6 mb-0"},be=Z((()=>n("label",null,"Phone Number:",-1))),_e={class:"control"},he={class:"field column is-6 mb-0"},ke=Z((()=>n("label",null,"Industry: * ",-1))),we={class:"field column is-6 mb-0"},Ce=Z((()=>n("label",null,"Post Code:",-1))),xe={class:"control"},Ie={class:"field column is-6 mb-0"},Ae=Z((()=>n("label",null,"Home Address: ",-1))),Ve={class:"control"},je={class:"field column is-6 mb-0"},Ne=Z((()=>n("label",null,"Transport: ",-1))),De={class:"field column is-6 mb-0"},Ue=Z((()=>n("label",null,"Line Manager: ",-1))),Se={class:"control"},Te={class:"field column is-6 mb-0"},Pe=Z((()=>n("label",null,"External ID: ",-1))),Ee={class:"control"},Le={class:"field column is-6 mb-0"},Oe=Z((()=>n("label",null,"Company ID Card Number: *",-1))),Re={class:"control"},ze={class:"field column is-6 mb-0",style:{position:"relative"}},Fe={class:"control"},Me={key:0,style:{position:"absolute",bottom:"80px","background-color":"white",width:"350px"}},Be={class:"colorContainer"},$e=["onClick"],We={key:0,class:"fas fa-check","aria-hidden":"true"},qe=I(l({__name:"SelfEditWorker",props:{EditCompanyModalOpen:{type:Boolean,default:!1},id:{type:Number,default:0}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const C=e,x=z(),I=R(),A=O(),V=s(!1),j=s(!1),N=s("update"),M=s(!1),B=s({id:0,backgroundColor:"",created_at:""}),$=s([{id:0,backgroundColor:"",created_at:""}]),W=s({id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",archive:!1,profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",industry:"",arezCompany:"",activatiactivationCodeonCode:"",status:!1,postCode:"",transport:"",bgColor:"",activationCode:""});let q={performedById:33,performerType:"worker"};const H=s({});!x.suppliers||x.suppliers;const K=x.loggedCompany.industry?x.loggedCompany.industry:[],Y=async()=>{try{V.value=!0,console.log(W.value.status);const e=new window.FormData;for(const a in H.value)e.append(a,H.value[a]);e.append("archive",W.value.archive);await A.patch(`/v3/api/worker/${C.id}/`,e);J(),I.dismissAll(),V.value=!1,I.success("worker updated, worker"),F({...q,message:"edited worker <b>Profile Information</b>",objectId:"33",method:"patch"}),l("update:OnSuccess",null)}catch(e){console.error(e.response.data);let a=e.response.data??{};Object.values(a).forEach((e=>{e.forEach((e=>{console.log(e),I.error(` ${e}, New worker`)}))}))}finally{V.value=!1}},G=e=>{"industry"!==e.name?"transport"!==e.name?"supplier"!==e.name?H.value={...H.value,[e.target.name]:e.target.value}:H.value={...H.value,[e.name]:e.value}:H.value={...H.value,[e.name]:e.value}:H.value={...H.value,[e.name]:e.value}},J=()=>{l("update:modalHandler",!1),W.value={id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",industry:"",arezCompany:"",supplier:0}},Q=(e,a)=>{const l=a.file;l&&(console.log(l),H.value={...H.value,profileImageURL:l})},X=(e,a)=>{H.value={...H.value,profileImageURL:null}},Z=async()=>{try{const e=await A.get("/v3/api/worker/bgcolor/",{});$.value=e.data;let a=e.data.find((e=>e.id===W.value.bgColor));console.log(a),a&&(B.value=a)}catch(e){}},qe=()=>{M.value=!M.value};return t((()=>{(async()=>{try{V.value=!0;const e=await A.get(`/v3/api/worker/${C.id}/`,{});W.value=e.data,V.value=!1,Z()}catch(e){V.value=!1,console.error("ok",e)}})()})),(e,l)=>{const s=L,t=E,x=P,I=T,A=U,O=S,R=D,z=w,F=a;return o(),i(F,{is:"form",open:C.EditCompanyModalOpen,title:"Edit worker",size:"big",actions:"right",onSubmit:m(Y,["prevent"]),onClose:J,noclose:""},{content:r((()=>[n("div",ee,[n("div",ae,[n("div",le,[d(I,{class:"column is-6"},{default:r((()=>[se,n("div",te,[d(x,{size:"xl",class:"profile-v-avatar mt-4"},{avatar:r((()=>[u(j)?(o(),i(s,{key:1,class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='fas fa-cloud-upload-alt' style='font-size:27px'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:Q,onRemovefile:X})):(o(),c("img",{key:0,class:"avatar",src:null==u(W).profileImageURL?"/images/avatars/placeholder.jpg":u(W).profileImageURL,alt:""},null,8,oe)),"update"==u(N)?(o(),c("span",ie,[u(j)?(o(),i(t,{key:1,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:arrow-left",class:"edit-button is-back",circle:"",tabindex:"0",onKeydown:l[2]||(l[2]=p(m((e=>j.value=!1),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>j.value=!1)})):(o(),i(t,{key:0,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:edit-2",class:"edit-button is-edit",circle:"",tabindex:"0",onKeydown:l[0]||(l[0]=p(m((e=>j.value=!0),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>j.value=!0)}))])):v("",!0)])),_:1})])])),_:1}),n("div",re,[n("div",ne,[de,n("div",ue,[y(n("input",{type:"text",name:"firstName","onUpdate:modelValue":l[4]||(l[4]=e=>u(W).firstName=e),onChange:l[5]||(l[5]=e=>G(e)),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"First Name"},null,544),[[f,u(W).firstName]])])]),n("div",ce,[pe,n("div",me,[y(n("input",{type:"text",name:"lastName","onUpdate:modelValue":l[6]||(l[6]=e=>u(W).lastName=e),onChange:l[7]||(l[7]=e=>G(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Last Name"},null,544),[[f,u(W).lastName]])])])])])]),n("div",ve,[ye,n("div",fe,[y(n("input",{type:"email",name:"emailAddress","onUpdate:modelValue":l[8]||(l[8]=e=>u(W).emailAddress=e),onChange:l[9]||(l[9]=e=>G(e)),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Email Address"},null,544),[[f,u(W).emailAddress]])])]),n("div",ge,[be,n("div",_e,[y(n("input",{type:"tel",name:"phoneNumber","onUpdate:modelValue":l[10]||(l[10]=e=>u(W).phoneNumber=e),onChange:l[11]||(l[11]=e=>G(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,544),[[f,u(W).phoneNumber]])])]),n("div",he,[ke,d(I,null,{default:r((()=>[d(R,null,{default:r((()=>[d(O,{modelValue:u(W).industry,"onUpdate:modelValue":l[12]||(l[12]=e=>u(W).industry=e),onInput:l[13]||(l[13]=e=>G({name:"industry",value:e.target.value})),name:"industry",required:"",class:"is-rounded"},{default:r((()=>[d(A,{value:""},{default:r((()=>[g("Select Industry")])),_:1}),(o(!0),c(b,null,_(u(K),((e,a)=>(o(),i(A,{value:e.id,key:a},{default:r((()=>[g(h(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(I,{id:"interests",class:"pb-4",label:""})]),n("div",we,[Ce,n("div",xe,[y(n("input",{type:"text",name:"postCode","onUpdate:modelValue":l[14]||(l[14]=e=>u(W).postCode=e),onChange:l[15]||(l[15]=e=>G(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Post Code"},null,544),[[f,u(W).postCode]])])]),n("div",Ie,[Ae,n("div",Ve,[y(n("input",{type:"text",name:"homeAddress","onUpdate:modelValue":l[16]||(l[16]=e=>u(W).homeAddress=e),onChange:l[17]||(l[17]=e=>G(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Home Address"},null,544),[[f,u(W).homeAddress]])])]),n("div",je,[Ne,d(I,null,{default:r((()=>[d(R,null,{default:r((()=>[d(O,{modelValue:u(W).transport,"onUpdate:modelValue":l[19]||(l[19]=e=>u(W).transport=e),onInput:l[20]||(l[20]=e=>G({name:"transport",value:e.target.value})),name:"transport",class:"is-rounded"},{default:r((()=>[d(A,{modelValue:u(W).transport,"onUpdate:modelValue":l[18]||(l[18]=e=>u(W).transport=e)},{default:r((()=>[g("Transport ?")])),_:1},8,["modelValue"]),d(A,{value:"Public Transport"},{default:r((()=>[g("Public Transport")])),_:1}),d(A,{value:"Commercial Ride"},{default:r((()=>[g("Commercial Ride")])),_:1}),d(A,{style:{"background-color":"var(--primary)",height:"40px"},value:"Bicycle"},{default:r((()=>[g("Bicycle")])),_:1}),d(A,{value:"Car"},{default:r((()=>[g("Car")])),_:1}),d(A,{value:"Bike"},{default:r((()=>[g("Bike")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(I,{id:"interests",class:"pb-4",label:""})]),n("div",De,[Ue,n("div",Se,[y(n("input",{type:"text",name:"lineManager","onUpdate:modelValue":l[21]||(l[21]=e=>u(W).lineManager=e),onChange:l[22]||(l[22]=e=>G(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Line Manager"},null,544),[[f,u(W).lineManager]])])]),n("div",Te,[Pe,n("div",Ee,[y(n("input",{type:"text",name:"externalID","onUpdate:modelValue":l[23]||(l[23]=e=>u(W).externalID=e),onChange:l[24]||(l[24]=e=>G(e)),class:"input is-primary-focus is-primary-focus",placeholder:"External ID"},null,544),[[f,u(W).externalID]])])]),n("div",Le,[Oe,n("div",Re,[y(n("input",{type:"text",name:"compnayIdCardNumber","onUpdate:modelValue":l[25]||(l[25]=e=>u(W).compnayIdCardNumber=e),onChange:l[26]||(l[26]=e=>G(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Company ID Card Number"},null,544),[[f,u(W).compnayIdCardNumber]])])]),n("div",ze,[n("label",null,[g("Select Profile Background Color: "),n("i",{style:{color:"var(--primary)","margin-left":"20px"},onClick:qe,class:"fas fa-paint-brush","aria-hidden":"true"})]),n("div",Fe,[n("div",null,[n("div",{onClick:qe,class:"color-pellate"},[n("div",{class:"current-color-div",style:k({backgroundImage:u(B).backgroundColor})},null,4)])])]),u(M)?(o(),c("div",Me,[n("div",Be,[n("div",{class:"close-btn"},[n("i",{onClick:qe,class:"lnir lnir-close","aria-hidden":"true"})]),(o(!0),c(b,null,_(u($),((e,a)=>(o(),c("div",{key:e.id,onClick:a=>(e=>{B.value=e,H.value={...H.value,bgColor:e.id}})(e),style:k({backgroundImage:e.backgroundColor}),class:"colorDiv"},[u(B)==e?(o(),c("i",We)):v("",!0)],12,$e)))),128))])])):v("",!0)])])])),action:r((()=>[d(z,{type:"submit",loading:u(V),color:"primary",raised:""},{default:r((()=>[g("Update")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),[["__scopeId","data-v-cded28dc"]]),He=e=>(C("data-v-0baaacec"),e=e(),x(),e),Ke={class:"lifestyle-dashboard lifestyle-dashboard-v1"},Ye=He((()=>n("div",{class:"wrapper-anim"},[n("div",{class:"box-anim"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")])],-1))),Ge={class:"dashboard-header"},Je={class:"avatar-container"},Qe=["src"],Xe={class:"header-meta"},Ze={class:"username-wrap"},ea={class:"username"},aa={class:"user-rating"},la={style:{color:"#f1f1f1 !important"}},sa={class:"ratings"},ta={class:"user-info"},oa={class:"username"},ia=He((()=>n("img",{src:Y,style:{width:"16px",height:"16px","margin-right":"2px"}},null,-1))),ra=He((()=>n("div",{class:"is-divider-vertical"},null,-1))),na={class:"header-meta"},da={class:"user-switch"},ua={class:"username-wrap"},ca={class:"switches"},pa={class:"username"},ma=He((()=>n("span",null,[n("img",{src:G,style:{width:"18px",height:"18px"}})],-1))),va=He((()=>n("span",null,"Industry:",-1))),ya={class:"switches"},fa={class:"username"},ga=He((()=>n("span",null,[n("img",{src:"/images/icons/workerProfile/activationCode.png",style:{width:"18px",height:"18px"}})],-1))),ba=He((()=>n("span",null,"Activation Code:",-1))),_a={class:"switches"},ha={class:"username"},ka={key:0,src:"/images/icons/workerProfile/active.png",style:{width:"18px",height:"18px"}},wa={key:1,src:"/images/icons/workerProfile/inactive.png",style:{width:"18px",height:"18px"}},Ca=He((()=>n("span",null," Account Status:",-1))),xa=He((()=>n("div",{class:"is-divider-vertical"},null,-1))),Ia={class:"header-meta"},Aa={class:"user-switch"},Va={class:"username-wrap"},ja=He((()=>n("div",{class:"switches"},[n("div",{class:"username"},[n("span",null,"Current Industries:")])],-1))),Na={class:"switches"},Da={class:"username"},Ua=["onClick"],Sa=["src"],Ta={class:"link-message"},Pa={key:0,class:"mb-3 list-flex-toolbar is-reversed"},Ea=He((()=>n("i",{class:"fas fa-copy mr-1",style:{cursor:"pointer",color:"var(--info)","font-size":"large"},"aria-hidden":"true"},null,-1))),La={class:"profile-wrapper"},Oa={class:"profile-body"},Ra={class:"tabs-wrapper"},za={class:"tabs-inner"},Fa={class:"tabs"},Ma=[He((()=>n("span",null,"Profile",-1)))],Ba={key:0,class:"tab-content is-active"},$a={class:"columns"},Wa={class:"column is-12"},qa={class:"profile-card"},Ha={class:"profile-card-section"},Ka={class:"section-content"},Ya={class:"column"},Ga={key:0,class:"incoming"},Ja={class:"cus-docTitles"},Qa={id:"titles"},Xa={class:"item-name dark-inverted"},Za={class:"item-meta"},el={class:"cu-pointer cus-sub-title"},al={key:0,class:"item-meta"},ll={style:{color:"var(--danger)"},class:"cu-pointer"},sl=He((()=>n("div",null,null,-1))),tl={key:0},ol={key:0},il=["onClick"],rl={key:1},nl={class:"png-icon"},dl=["onClick"],ul=He((()=>n("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),cl=He((()=>n("i",{class:"iconify","data-icon":"feather:trash-2","aria-hidden":"true"},null,-1))),pl={key:1},ml={class:"modal-form columns is-multiline"},vl={class:"column is-12"},yl={class:"field"},fl=He((()=>n("label",null,"Activation code:",-1))),gl={class:"control"},bl={class:"modal-form"},_l=["src"],hl=["src"],kl=l({__name:"UpdateWorkerProfile",setup(l){const u=Q();A();const C=O(),x=s(!0),I=s(!1),N=s(!1),U=s([]),S=R(),L=s(!1),z=s(""),Y=s(0),G=s(null),X=s({}),Z=s("personal"),ee=s(!1),ae=s(!0),le=s(0),se=s(""),te=s(0),oe=s(""),ie=s(!1),re=s(0),ne=s(""),de=s(""),ue=s(!0),ce=s(!0),pe=s(""),me=s(""),ve=s("");s([]);const ye=s(""),fe=s({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),ge=s({id:0,firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",signedDeclerationForm:" ",default_sia:{},industry:{id:0,name:"",industryLogo:""},arezCompany:"",status:!1,postCode:"",rating:0,activationCode:"",transport:"",archive:!1,pre_industries:[{id:0,name:"",industryLogo:""}],bgColor:{id:15,backgroundColor:"linear-gradient(to right, #E100FF, #7F00FF)"}}),be={documentTitle:{label:"Documents",grow:!1,media:!0},actions:{label:"Actions",align:"end"}},_e=e=>{let a=U.value;const l=a.findIndex((e=>e.id===X.value.id));-1!==l&&(a[l].loading=e),U.value=[...a]},he=e=>{const a=e.target,l=a.files?.[0];a.value="",l&&(_e(!0),X.value.worker?(async(e,a)=>{try{const l=new window.FormData;for(const e in a)l.append(e,a[e]);await C.patch(`/v3/api/worker/document/${e}/`,l),S.dismissAll(),S.success("worker document updated, Worker"),we(),_e(!1)}catch(l){console.error("ok",l)}})(X.value.id,{document:l}):(async(e,a)=>{try{let l={status:!1,worker:ye.value,companyDocument:e.id,document:a};const s=new window.FormData;for(const e in l)s.append(e,l[e]);console.log(e),await C.post("/v3/api/worker/document/",s),F({performedById:ye.value,performerType:"worker",message:`added a document  <b>${e.documentTitle}</b>`,objectId:ye.value,method:"post"}),we()}catch(l){S.error("Please reduce file size to upload")}finally{_e(!1)}})(X.value,l),F({performedById:ye.value,performerType:"worker",message:`updated <b> ${X.value.documentTitle} </b> document.`,objectId:ye.value,method:"patch"}))},ke=async()=>{try{I.value=!0;const e=await C.get(`/v3/api/worker/profile-through-code/?code=${pe.value}`,{});ge.value=e.data,ye.value=e.data.id,u.setCode(pe.value),we(),ce.value=!1,x.value=!1}catch(e){console.error("ok",e)}finally{x.value=!1,I.value=!1}},we=async()=>{try{ae&&(N.value=!0,ae.value=!1);const e=await C.get(`/v3/api/worker/document/${ye.value}/get_documents_of_a_worker/`,{});N.value=!1,U.value=e.data}catch(e){N.value=!1,console.error("ok",e)}},Ce=()=>{2==te.value?Ie():1==te.value&&xe()},xe=async()=>{try{fe.value.isSweetAlertOpen=!1;await C.delete(`/v3/api/worker/document/${Y.value}/`,{});we(),F({performedById:ye.value,performerType:"worker",message:`deleted <b>${me.value}</b> document`,objectId:ye.value,method:"delete"}),S.dismissAll(),S.success("Delete worker document, Worker"),te.value=0}catch(e){console.error("ok",e)}},Ie=()=>{fe.value.isSweetAlertOpen=!1,(async(e,a,l=!0)=>{try{const e=new window.FormData;for(const l in a)e.append(l,a[l]);await C.patch(`/v3/api/worker/${ye.value}/`,e),S.dismissAll(),S.success("worker  updated, Worker"),l&&ke()}catch(s){console.error("ok",s)}})(ge.value.id,{industry:re.value}),F({performedById:ye.value,performerType:"worker",message:`switched to the <b>${ve.value}</b> industry`,objectId:ye.value,method:"patch"}),te.value=0};return t((()=>{})),(l,s)=>{const t=K,u=D,C=T,A=H,N=q,S=W,O=$,R=P,F=B,Q=E,ae=M,ye=w,_e=a,we=qe,xe=e,Ie=V("tooltip");return o(),c(b,null,[n("div",Ke,[n("div",{class:"dashboard-header-wrapper",style:k({backgroundImage:ge.value.bgColor?ge.value.bgColor.backgroundColor:"linear-gradient(to right, #8a2387, #e94057, #f27121"})},[Ye,n("div",Ge,[n("div",Je,[n("img",{size:"medium",src:ge.value.profileImageURL?ge.value.profileImageURL:"/images/avatars/placeholder.jpg"},null,8,Qe)]),n("div",Xe,[n("div",Ze,[n("div",ea,[n("div",aa,[n("h3",la,[n("span",null,h(ge.value.firstName)+" "+h(ge.value.lastName),1)]),n("div",sa,[d(C,null,{default:r((()=>[d(u,null,{default:r((()=>[d(t,{readonly:"",modelValue:ge.value.rating,"onUpdate:modelValue":s[0]||(s[0]=e=>ge.value.rating=e)},null,8,["modelValue"])])),_:1})])),_:1})])]),n("span",null,h(ge.value.emailAddress),1),n("div",ta,[n("div",oa,[ia,n("span",null,h(ge.value.phoneNumber),1)])])])])]),ra,n("div",na,[n("div",da,[n("div",ua,[n("div",ca,[n("div",pa,[ma,va,n("span",null,h(ge.value.industry.name),1)])]),n("div",ya,[n("div",fa,[ga,ba,n("span",null,h(ge.value.activationCode?ge.value.activationCode:"-----"),1)])]),n("div",_a,[n("div",ha,[n("span",null,[ge.value.status?(o(),c("img",ka)):ge.value.status?v("",!0):(o(),c("img",wa))]),Ca,d(C,{horizontal:""},{default:r((()=>[d(u,null,{default:r((()=>[d(A,{disabled:"",modelValue:ge.value.status,"onUpdate:modelValue":s[1]||(s[1]=e=>ge.value.status=e),"label-true":"Active",color:"primary",style:{color:"#f1f1f1"}},null,8,["modelValue"])])),_:1})])),_:1})])])])])]),xa,n("div",Ia,[n("div",Aa,[n("div",Va,[ja,n("div",Na,[n("div",Da,[(o(!0),c(b,null,_(ge.value.pre_industries,((e,a)=>y((o(),c("span",{key:a,class:j(ge.value.industry.name!=e.name?"cus-blur":"cus-default"),onClick:a=>(e=>{te.value=2,re.value=e.id,ve.value=e.name,fe.value={title:"Are you sure?",subtitle:"Your documents and other informations will be changed according to your industry.",btntext:"Yes, switch it",isSweetAlertOpen:!0}})(e),style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},[e.id?(o(),c("img",{key:0,src:e.industryLogo,style:{width:"30px",height:"30px"}},null,8,Sa)):v("",!0),g(" "+h(e.name),1)],10,Ua)),[[Ie,"Switch industry",void 0,{primary:!0,top:!0,rounded:!0}]]))),128))])])])])])]),y((o(),c("button",{onClick:s[2]||(s[2]=()=>{le.value=ge.value.id,ee.value=!0}),class:"edit-btn"},[g(" Edit ")])),[[Ie,"Edit Woker Profile",void 0,{error:!0,bottom:!0,rounded:!0}]]),n("div",Ta,[ie.value?(o(),c("div",Pa,[d(S,{color:"primary",class:"is-flex copyLinkStyle",closable:"",onClose:s[4]||(s[4]=e=>ie.value=!1)},{default:r((()=>[y((o(),i(N,{style:{"background-color":"transparent"},onClick:s[3]||(s[3]=e=>l.copyToClipBoard(oe.value))},{default:r((()=>[Ea])),_:1})),[[Ie,"Copy Link",void 0,{info:!0}]]),g(" "+h(oe.value),1)])),_:1})])):v("",!0)])],4),n("div",La,[n("div",Oa,[n("div",Ra,[n("div",za,[n("div",Fa,[n("ul",null,[n("li",{class:j(["personal"===Z.value?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=p(m((e=>Z.value="personal"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>Z.value="personal")},Ma,32)],2)])])]),"personal"===Z.value?(o(),c("div",Ba,[n("div",$a,[n("div",Wa,[n("div",qa,[n("div",Ha,[x.value?(o(),i(O,{key:0})):v("",!0),n("input",{ref_key:"fileInput",ref:G,type:"file",style:{display:"none"},onChange:he,accept:"image/*,application/pdf"},null,544),n("div",Ka,[n("div",Ya,[U.value.length>0?(o(),c("div",Ga,[d(ae,{rounded:"",data:U.value,columns:be,class:"noborder",id:"doc-table"},{"body-cell":r((({row:e,column:a,value:l})=>["documentTitle"===a.key?(o(),c(b,{key:0},[d(R,{picture:e.icon,squared:!0},null,8,["picture"]),n("div",Ja,[n("div",Qa,[n("span",Xa,h(e.documentTitle),1),n("span",Za,[n("span",el,h(e.subTitle),1)]),e.expiryDateRequired&&e.document?(o(),c("span",al,[n("span",ll,"Expiry date: "+h(e.expiryDate),1)])):v("",!0)])]),sl],64)):"actions"===a.key?(o(),c(b,{key:1},[e.document?(o(),c("div",tl,[e.document.includes(".pdf")?(o(),c("div",ol,[n("img",{onClick:()=>{z.value=e.document,de.value=e.id,ue.value=e.expiryDateRequired,L.value=!0,se.value=e.documentTitle,ne.value=e.expiryDate},class:"image-icon",src:J,alt:"",style:{"margin-right":"10px",width:"34px",height:"34px",cursor:"pointer","border-radius":"50%"}},null,8,il)])):(o(),c("div",rl,[n("div",nl,[n("i",{onClick:()=>{z.value=e.document,L.value=!0,de.value=e.id,ue.value=e.expiryDateRequired,se.value=e.documentTitle,ne.value=e.expiryDate},class:"fas fa-file-image",style:{"font-size":"18px",cursor:"pointer",color:"var(--primary)"}},null,8,dl)])]))])):v("",!0),e.loading?v("",!0):(o(),i(F,{key:1,size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:()=>(e=>{X.value=e,G.value&&G.value.click()})(e)},{default:r((()=>[ul])),_:2},1032,["onClick"])),e.loading?(o(),i(Q,{key:2,color:"primary",outlined:"",loading:"",circle:"",icon:"feather:plus"})):v("",!0),e.worker?(o(),i(F,{key:3,size:"small",color:"danger",class:"ml-3",style:{cursor:"pointer"},rounded:"",onClick:a=>(e=>{te.value=1,Y.value=e.id,me.value=e.documentTitle,fe.value={title:"Are you sure?",subtitle:"You will not be able to recover this Document!",btntext:"Yes, Delete it",isSweetAlertOpen:!0}})(e)},{default:r((()=>[cl])),_:2},1032,["onClick"])):v("",!0)],64)):v("",!0)])),_:1},8,["data"])])):(o(),c("div",pl,[d(N,{color:"solid",label:"No Documents Are Available!",rounded:""})]))])])])])])])])):v("",!0)])])])]),d(_e,{is:"form",open:ce.value,title:"Activation code",size:"small",actions:"right",onSubmit:m(ke,["prevent"]),noclose:""},{content:r((()=>[n("div",ml,[n("div",vl,[n("div",yl,[fl,n("div",gl,[y(n("input",{type:"password",name:"password","onUpdate:modelValue":s[7]||(s[7]=e=>pe.value=e),required:"",class:"input",placeholder:"Enter code..."},null,512),[[f,pe.value]])])])])])])),action:r((()=>[d(ye,{type:"submit",loading:I.value,color:"primary",raised:""},{default:r((()=>[g("Confirm")])),_:1},8,["loading"])])),cancel:r((()=>[d(ye,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:r((()=>[g("Confirm")])),_:1})])),_:1},8,["open","onSubmit"]),d(_e,{is:"form",open:L.value,title:se.value,size:"big",actions:"right",onClose:s[8]||(s[8]=e=>L.value=!1)},{content:r((()=>[n("div",bl,[z.value.includes(".pdf")?(o(),c("iframe",{key:0,src:z.value,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,_l)):(o(),c("img",{key:1,src:z.value,alt:""},null,8,hl))])])),cancel:r((()=>[d(ye,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:r((()=>[g("Close")])),_:1})])),_:1},8,["open","title"]),ee.value?(o(),i(we,{key:0,EditCompanyModalOpen:ee.value,id:le.value,"onUpdate:modalHandler":s[9]||(s[9]=e=>ee.value=e),"onUpdate:OnSuccess":ke},null,8,["EditCompanyModalOpen","id"])):v("",!0),fe.value.isSweetAlertOpen?(o(),i(xe,{key:1,isSweetAlertOpen:fe.value.isSweetAlertOpen,title:fe.value.title,subtitle:fe.value.subtitle,btntext:fe.value.btntext,onConfirm:Ce,onCancel:()=>fe.value.isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):v("",!0)],64)}}}),wl=I(kl,[["__scopeId","data-v-0baaacec"]]),Cl={class:"landing-page-wrapper"},xl={class:"hero-body"},Il={class:"container"},Al=l({__name:"index",setup:e=>(X().setPageTitle("Worker profile"),N({title:"Worker Profile - Arez"}),(e,a)=>{const l=wl;return o(),c("div",Cl,[n("div",xl,[n("div",Il,[d(l)])])])})});export{Al as default};
