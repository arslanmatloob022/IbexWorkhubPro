import{_ as e}from"./SearchPanel.vue_vue_type_style_index_0_lang-746e6106.js";import{_ as s,a,b as n,c as i,d as t,e as l,f as o}from"./UserProfileDropdown-80382307.js";import{_ as r}from"./Sidebar.vue_vue_type_style_index_0_lang-4f5301b4.js";import{_ as c}from"./NotificationsMobileDropdown.vue_vue_type_script_setup_true_lang-141a5899.js";import{e as d,r as u,M as v,y as p,z as m,A as g,B as h,l as f,C as b,I as _,V as y,K as C,a6 as k,Z as w,O as x,W as j,X as O,L as M,U as I,F as S,G as E,D as A,J as K,P as V,Q as D,H as U,R as T,o as z,v as F,ar as P,a0 as $}from"./index-27d764e5.js";import{u as L}from"./panels-9423a64c.js";import{u as N}from"./useFetch-1b39506e.js";import{_ as W}from"./VPageContent-ac35ed8c.js";import{_ as X}from"./having-coffee-37a7bbcc.js";import{o as B}from"./via-placeholder-24645670.js";import{u as R}from"./useDropdown-0181af3e.js";import{_ as q}from"./7-23787a3d.js";import{_ as J,a as Q}from"./13-972b79d1.js";import{_ as G}from"./25-5cb13386.js";import{_ as H}from"./saudi-arabia-c8f7a528.js";import{_ as Z,a as Y,b as ee,c as se,d as ae,e as ne,f as ie,g as te,h as le,i as oe,j as re,k as ce}from"./12-e36849a5.js";import{_ as de}from"./VIconWrap.vue_vue_type_style_index_0_lang-a4bf7070.js";import{_ as ue}from"./VPhotosSwipe-f34e8cc3.js";import{u as ve}from"./sidebar-d7e53b01.js";import{_ as pe,a as me}from"./search-4-dark-2b5b440c.js";import{u as ge}from"./layoutSwitcher-c417bdc8.js";import{u as he}from"./viewWrapper-95f7ae4f.js";import{u as fe}from"./useNotyf-e46165f1.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang-215c25f7.js";import"./VBlock.vue_vue_type_style_index_0_lang-9893a727.js";import"./VIconBox.vue_vue_type_style_index_0_lang-7f2fbacd.js";import"./VField.vue_vue_type_script_setup_true_lang-3883933c.js";import"./VLabel.vue_vue_type_script_setup_true_lang-e1ba7993.js";import"./useVFieldContext-e8870650.js";import"./VControl-0a369a39.js";import"./VAvatar.vue_vue_type_style_index_0_lang-9e73993d.js";import"./AnimatedLogo-9ad69160.js";import"./userPopovers-2b960611.js";import"./VProgress.vue_vue_type_style_index_0_lang-6b976033.js";import"./fastpizza-c3e9d994.js";import"./VDropdown.vue_vue_type_style_index_0_lang-61306e60.js";import"./VIcon.vue_vue_type_script_setup_true_lang-fdf6183d.js";import"./userSession-7717da75.js";import"./notyf-6b1767ac.js";import"./useThemeColors-1b6e5c3d.js";const be={class:"sidebar-layout"},_e=b("div",{class:"app-overlay"},null,-1),ye=b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:activity"},null,-1),Ce=b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:grid"},null,-1),ke=b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:box"},null,-1),we=b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:cpu"},null,-1),xe=b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:message-circle"},null,-1),je=[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:search"},null,-1)],Oe=b("li",null,[b("a",{href:"#"},[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:settings"})])],-1),Me=b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:activity"},null,-1),Ie=b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:grid"},null,-1),Se=b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:box"},null,-1),Ee=b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:cpu"},null,-1),Ae=b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:message-circle"},null,-1),Ke={class:"right-panel-trigger is-hidden-tablet"},Ve=[b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather-search"},null,-1)],De=[b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather-x"},null,-1)],Ue={class:"is-hidden-tablet"},Te=b("i",{"aria-hidden":"true",class:"iconify sidebar-svg","data-icon":"feather:settings"},null,-1),ze=d({__name:"MessagingLayout",props:{theme:{default:"default"}},setup(l){const o=l,d=L(),k=u(!1);return(l,u)=>{const w=c,x=s,j=a,O=v("RouterLink"),M=n,I=r,S=i,E=t,A=e;return p(),m("div",be,[_e,g(j,{"is-open":f(k),onToggle:u[0]||(u[0]=e=>k.value=!f(k))},{default:h((()=>[g(w),g(x)])),_:1},8,["is-open"]),g(M,{"is-open":f(k),onToggle:u[3]||(u[3]=e=>k.value=!f(k))},{links:h((()=>[b("li",null,[g(O,{to:"/sidebar/dashboards"},{default:h((()=>[ye])),_:1})]),b("li",null,[g(O,{to:"/sidebar/layouts"},{default:h((()=>[Ce])),_:1})]),b("li",null,[g(O,{to:"/elements/"},{default:h((()=>[ke])),_:1})]),b("li",null,[g(O,{to:"/components/"},{default:h((()=>[we])),_:1})]),b("li",null,[g(O,{to:"/messaging-v1"},{default:h((()=>[xe])),_:1})])])),"bottom-links":h((()=>[b("li",null,[b("a",{tabindex:"0",role:"button",onKeydown:u[1]||(u[1]=_(C((e=>f(d).setActive("search")),["prevent"]),["space"])),onClick:u[2]||(u[2]=e=>f(d).setActive("search"))},je,32)]),Oe])),_:1},8,["is-open"]),g(I,{theme:o.theme},{links:h((()=>[b("li",null,[g(O,{to:"/sidebar/dashboards"},{default:h((()=>[Me])),_:1})]),b("li",null,[g(O,{to:"/sidebar/layouts"},{default:h((()=>[Ie])),_:1})]),b("li",null,[g(O,{to:"/elements/"},{default:h((()=>[Se])),_:1})]),b("li",null,[g(O,{to:"/components/"},{default:h((()=>[Ee])),_:1})]),b("li",null,[g(O,{to:"/messaging-v1"},{default:h((()=>[Ae])),_:1})])])),"bottom-links":h((()=>[b("li",Ke,[b("a",{"data-content":"Search",tabindex:"0",role:"button",onKeydown:u[4]||(u[4]=_(C((e=>f(d).setActive("search")),["prevent"]),["space"])),onClick:u[5]||(u[5]=e=>f(d).setActive("search"))},Ve,32),b("a",{class:"is-hidden is-inactive",tabindex:"0",role:"button",onKeydown:u[6]||(u[6]=_(C((e=>f(d).close()),["prevent"]),["space"])),onClick:u[7]||(u[7]=e=>f(d).close())},De,32)]),b("li",Ue,[g(O,{id:"open-settings",to:"/sidebar/layouts/profile-settings","data-content":"Settings"},{default:h((()=>[Te])),_:1})]),b("li",null,[g(x,{up:""})])])),_:1},8,["theme"]),g(S),g(E),g(A),y(l.$slots,"default",{isMobileSidebarOpen:f(k)})])}}});const Fe={id:0,name:"",lastMessage:"",unreadMessages:!1,avatar:"/images/avatars/placeholder.jpg"},Pe=k("chat",(()=>{const e=N(),s=u([]),a=u([]),n=u(0),i=u(!1),t=u(!1),l=u(!1),o=w((()=>{const e=s.value?.find((e=>e.id===n.value));return e||Fe}));return{conversations:s,messages:a,selectedConversation:o,selectedConversationId:n,addConversationOpen:i,mobileConversationDetailsOpen:t,loading:l,loadConversations:async function(a=0,n=10){if(!l.value){l.value=!0;try{const i=await async function(e,s=0,a=20){let n=0;const{_data:i=[],headers:t}=await e.raw("/api/conversations",{query:{_start:s,_limit:a}});return t.has("X-Total-Count")&&(n=parseInt(t.get("X-Total-Count")??"0")),{conversations:i,count:n}}(e,a,n);s.value=i.conversations??[]}finally{l.value=!1}}},setAddConversationOpen:function(e){i.value=e},setMobileConversationDetailsOpen:function(e){t.value=e},selectConversastion:async function(s){if(!l.value){l.value=!0;try{const i=await async function(e,s,a=0,n=20){let i=0;const{_data:t=[],headers:l}=await e.raw(`/api/conversations/${s}/messages?_start=${a}&_limit=${n}`);return l.has("X-Total-Count")&&(i=parseInt(l.get("X-Total-Count")??"0")),{messages:t,count:i}}(e,s);n.value=s,a.value=i.messages}finally{l.value=!1}}},unselectConversation:function(){n.value=0,a.value=[]}}})),$e=[(e=>(j("data-v-ca825db5"),e=e(),O(),e))((()=>b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:chevron-left"},null,-1)))],Le=M(d({__name:"ChatSideFab",setup(e){const s=Pe();return(e,a)=>(p(),m("a",{class:x([[f(s).mobileConversationDetailsOpen&&"is-mobile-active"],"chat-side-fab"]),"aria-label":"Close convesation details",tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=_(C((e=>f(s).setMobileConversationDetailsOpen(!f(s).mobileConversationDetailsOpen)),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>f(s).setMobileConversationDetailsOpen(!f(s).mobileConversationDetailsOpen))},$e,34))}}),[["__scopeId","data-v-ca825db5"]]),Ne={class:"is-chat-placeholder animated preFadeInUp fadeInUp is-hidden"},We={class:"caption"},Xe=b("div",{class:"text"},[b("h3",null,"Nothing to show"),b("p",null,"Select an existing conversation or start a new one"),b("a",{id:"new-chat",class:"button v-button is-solid is-outlined is-big is-rounded"}," Start a new conversation ")],-1),Be=d({__name:"ChatPlaceholder",setup:e=>(e,s)=>(p(),m("div",Ne,[b("div",We,[b("img",{src:X,alt:"",onErrorOnce:s[0]||(s[0]=e=>f(B)(150))},null,32),Xe])]))}),Re={class:"message-field-wrapper"},qe={class:"control"},Je={class:"add-content"},Qe=[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1)],Ge=b("div",{class:"dropdown-menu",role:"menu"},[b("div",{class:"dropdown-content"},[b("a",{class:"dropdown-item"},[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:video"}),b("div",{class:"meta"},[b("span",null,"Video"),b("span",null,"Embed a video")])]),b("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:image"}),b("div",{class:"meta"},[b("span",null,"Images"),b("span",null,"Upload pictures")])]),b("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:link"}),b("div",{class:"meta"},[b("span",null,"Link"),b("span",null,"Post a link")])]),b("hr",{class:"dropdown-divider"}),b("a",{href:"#",class:"dropdown-item kill-drop v-modal-trigger"},[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:file"}),b("div",{class:"meta"},[b("span",null,"File"),b("span",null,"Upload a file")])])])],-1),He=I('<div class="add-emoji"><div class="button"><i aria-hidden="true" class="iconify" data-icon="feather:smile"></i></div></div><input id="chat-input" class="input is-rounded" type="text" placeholder="Write a message ..." aria-label="Write a message"><div class="send-message"><div class="button v-button is-primary is-raised is-rounded"> Send </div></div>',3),Ze=b("div",{class:"typing-indicator"},[b("img",{src:"/images/icons/misc/typing.gif",alt:""})],-1),Ye=d({__name:"ChatMessageFieldWrapper",setup(e){const s=u(),a=R(s);return(e,n)=>(p(),m("div",Re,[b("div",qe,[b("div",Je,[b("div",{ref_key:"dropdownElement",ref:s,class:"dropdown dropdown-trigger is-up"},[b("div",null,[b("div",{class:"button","aria-haspopup":"true",onClick:n[0]||(n[0]=(...e)=>f(a).toggle&&f(a).toggle(...e))},Qe)]),Ge],512)]),He]),Ze]))}}),es={class:"chat-body-wrap"};const ss=M({},[["render",function(e,s){return p(),m("div",es,[y(e.$slots,"default")])}]]),as={id:"chat-body",class:"chat-body"};const ns=M({},[["render",function(e,s){return p(),m("ol",as,[y(e.$slots,"default")])}]]),is={class:"chat-header"};const ts=M({},[["render",function(e,s){return p(),m("div",is,[y(e.$slots,"default")])}]]),ls={class:"is-chat animated preFadeInUp fadeInUp"};const os=M({},[["render",function(e,s){const a=ts,n=ns,i=ss,t=Ye;return p(),m("div",ls,[g(a,null,{default:h((()=>[y(e.$slots,"header")])),_:3}),g(i,null,{default:h((()=>[g(n,null,{default:h((()=>[y(e.$slots,"body")])),_:3}),y(e.$slots,"side")])),_:3}),g(t)])}]]),rs={class:"toolbar ml-auto"},cs={class:"toolbar-link"},ds={class:"dark-mode ml-auto"},us=["checked"],vs=b("span",null,null,-1),ps=["src"],ms={class:"toolbar-notifications is-hidden-mobile"},gs=[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:bell"},null,-1),b("span",{class:"new-indicator pulsate"},null,-1)],hs={class:"dropdown-menu",role:"menu"},fs={class:"dropdown-content"},bs={class:"heading"},_s=b("div",{class:"heading-left"},[b("h6",{class:"heading-title"}," Notifications ")],-1),ys={class:"heading-right"},Cs={class:"notification-list"},ks={class:"notification-item"},ws={class:"img-left"},xs=b("div",{class:"user-content"},[b("p",{class:"user-info"},[b("span",{class:"name"},"Alice C."),A(" left a comment. ")]),b("p",{class:"time"},"1 hour ago")],-1),js={class:"notification-item"},Os={class:"img-left"},Ms=b("div",{class:"user-content"},[b("p",{class:"user-info"},[b("span",{class:"name"},"Joshua S."),A(" uploaded a file. ")]),b("p",{class:"time"},"2 hours ago")],-1),Is={class:"notification-item"},Ss={class:"img-left"},Es=b("div",{class:"user-content"},[b("p",{class:"user-info"},[b("span",{class:"name"},"Tara S."),A(" sent you a message. ")]),b("p",{class:"time"},"2 hours ago")],-1),As={class:"notification-item"},Ks={class:"img-left"},Vs=b("div",{class:"user-content"},[b("p",{class:"user-info"},[b("span",{class:"name"},"Melany W."),A(" left a comment. ")]),b("p",{class:"time"},"3 hours ago")],-1),Ds=[b("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"},null,-1),b("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"},null,-1)],Us=d({__name:"MessagingToolbar",emits:["close"],setup(e,{emit:s}){const a=L(),n=S(),{locale:i}=E(),t=u(),l=R(t),o=w((()=>{switch(i.value){case"fr":return"/images/icons/flags/france.svg";case"es":return"/images/icons/flags/spain.svg";case"es-MX":return"/images/icons/flags/mexico.svg";case"de":return"/images/icons/flags/germany.svg";case"zh-CN":return"/images/icons/flags/china.svg";case"ar":return"/images/icons/flags/saudi-arabia.svg";default:return"/images/icons/flags/united-states-of-america.svg"}}));return(e,i)=>{const r=v("RouterLink");return p(),m("div",rs,[b("div",cs,[b("label",ds,[b("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!f(n).isDark,tabindex:"0",onKeydown:i[0]||(i[0]=_(C((e=>e.target.click()),["prevent"]),["space"])),onChange:i[1]||(i[1]=(...e)=>f(n).onChange&&f(n).onChange(...e))},null,40,us),vs])]),b("a",{class:"toolbar-link right-panel-trigger",tabindex:"0",role:"button",onKeydown:i[2]||(i[2]=_(C((e=>f(a).setActive("languages")),["prevent"]),["space"])),onClick:i[3]||(i[3]=e=>f(a).setActive("languages"))},[b("img",{src:f(o),alt:""},null,8,ps)],32),b("div",ms,[b("div",{ref_key:"dropdownElement",ref:t,class:"dropdown is-spaced is-dots is-right dropdown-trigger"},[b("div",{class:"is-trigger","aria-haspopup":"true",onClick:i[4]||(i[4]=(...e)=>f(l).toggle&&f(l).toggle(...e))},gs),b("div",hs,[b("div",fs,[b("div",bs,[_s,b("div",ys,[g(r,{class:"notification-link",to:"/sidebar/layouts/profile-notifications"},{default:h((()=>[A(" See all ")])),_:1})])]),b("ul",Cs,[b("li",null,[b("a",ks,[b("div",ws,[b("img",{class:"user-photo",alt:"",src:q,onErrorOnce:i[5]||(i[5]=e=>f(B)(150))},null,32)]),xs])]),b("li",null,[b("a",js,[b("div",Os,[b("img",{class:"user-photo",alt:"",src:J,onErrorOnce:i[6]||(i[6]=e=>f(B)(150))},null,32)]),Ms])]),b("li",null,[b("a",Is,[b("div",Ss,[b("img",{class:"user-photo",alt:"",src:Q,onErrorOnce:i[7]||(i[7]=e=>f(B)(150))},null,32)]),Es])]),b("li",null,[b("a",As,[b("div",Ks,[b("img",{class:"user-photo",alt:"",src:G,onErrorOnce:i[8]||(i[8]=e=>f(B)(150))},null,32)]),Vs])])])])])],512)]),b("a",{id:"hide-chat-side",class:"toolbar-link",tabindex:"0",role:"button",onKeydown:i[9]||(i[9]=_(C((e=>s("close")),["prevent"]),["space"])),onClick:i[10]||(i[10]=e=>s("close"))},Ds,32)])}}}),Ts={class:"chat-side-header"},zs={class:"chat-side-content is-single"},Fs={class:"user-pic"},Ps=["src"],$s={key:0,class:"user-name"},Ls={key:1,class:"user-job-title"},Ns=I('<div class="side-actions"><a class="button v-button is-rounded"><span class="icon is-small"><i aria-hidden="true" class="fas fa-phone"></i></span><span>Audio Call</span></a><a class="button v-button is-rounded"><span class="icon is-small"><i aria-hidden="true" class="fas fa-video"></i></span><span>Video Call</span></a></div>',1),Ws={class:"detail-photos"},Xs=I('<div class="detail-photo-title"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><path d="M21 15l-5-5L5 21"></path></svg> Shared photos </div>',1),Bs={class:"detail-photo-grid"},Rs=b("a",{class:"view-more"},"View More",-1),qs=d({__name:"ChatSide",setup(e){const s=Pe();return(e,a)=>{const n=Us;return p(),m("div",{class:x([[f(s).mobileConversationDetailsOpen&&"is-mobile-active"],"chat-side"])},[b("div",Ts,[g(n,{onClose:a[0]||(a[0]=e=>f(s).setMobileConversationDetailsOpen(!1))})]),b("div",zs,[b("div",Fs,[b("img",{id:"user-details-image",src:f(s).selectedConversation.avatar,alt:"",onError:a[1]||(a[1]=e=>f(B)(150))},null,40,Ps),b("img",{id:"user-details-badge",class:"is-badge",src:H,alt:"",onErrorOnce:a[2]||(a[2]=e=>f(B)(150))},null,32)]),f(s).selectedConversation.name?(p(),m("h4",$s,K(f(s).selectedConversation.name),1)):V("",!0),f(s).selectedConversation.lastMessage?(p(),m("p",Ls,K(f(s).selectedConversation.lastMessage),1)):V("",!0),Ns,b("div",Ws,[Xs,b("div",Bs,[b("img",{src:Z,alt:"",onErrorOnce:a[3]||(a[3]=e=>f(B)(1600,900))},null,32),b("img",{src:Y,alt:"",onErrorOnce:a[4]||(a[4]=e=>f(B)(1600,900))},null,32),b("img",{src:ee,alt:"",onErrorOnce:a[5]||(a[5]=e=>f(B)(1600,900))},null,32),b("img",{src:se,alt:"",onErrorOnce:a[6]||(a[6]=e=>f(B)(1600,900))},null,32),b("img",{src:ae,alt:"",onErrorOnce:a[7]||(a[7]=e=>f(B)(1600,900))},null,32),b("img",{src:ne,alt:"",onErrorOnce:a[8]||(a[8]=e=>f(B)(1600,900))},null,32),b("img",{src:ie,alt:"",onErrorOnce:a[9]||(a[9]=e=>f(B)(1600,900))},null,32),b("img",{src:te,alt:"",onErrorOnce:a[10]||(a[10]=e=>f(B)(1600,900))},null,32),b("img",{src:le,alt:"",onErrorOnce:a[11]||(a[11]=e=>f(B)(1600,900))},null,32),b("img",{src:oe,alt:"",onErrorOnce:a[12]||(a[12]=e=>f(B)(1600,900))},null,32),b("img",{src:re,alt:"",onErrorOnce:a[13]||(a[13]=e=>f(B)(1600,900))},null,32),b("img",{src:ce,alt:"",onErrorOnce:a[14]||(a[14]=e=>f(B)(1600,900))},null,32)]),Rs])])],2)}}}),Js={key:0,class:"divider-container"},Qs={class:"divider"},Gs={class:"avatar"},Hs=["src"],Zs={class:"msg"},Ys={class:"msg-inner"},ea={class:"avatar is-online"},sa=["src"],aa={class:"msg is-image"},na={class:"image-container"},ia=b("div",{class:"image-overlay"},null,-1),ta={class:"image-actions"},la={class:"actions-inner"},oa=b("div",{class:"action download"},[b("span",{class:"iconify","data-icon":"feather:download"})],-1),ra=["href"],ca=[b("span",{class:"iconify","data-icon":"feather:maximize"},null,-1)],da={class:"avatar"},ua=["src"],va={class:"msg is-link-image"},pa={class:"image"},ma=["src"],ga={class:"link-badge"},ha=["src"],fa={class:"link-body"},ba={class:"link-title"},_a={class:"avatar is-online"},ya=["src"],Ca={class:"msg is-link"},ka={class:"link-meta"},wa={href:"#"},xa=d({__name:"ChatMsg",props:{message:{}},setup(e){const s=e;return(e,a)=>{const n=ue,i=de;return p(),m("li",{class:x(["system"===s.message.type&&"divider-container","system"!==s.message.type&&s.message.sender])},["system"===s.message.type?(p(),m("li",Js,[b("div",Qs,[b("span",null,K(s.message.content.text),1)])])):"msg"===s.message.type?(p(),m(D,{key:1},[b("div",Gs,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,Hs)):V("",!0)]),b("div",Zs,[b("div",Ys,[b("p",null,K(s.message.content.text),1)]),b("time",null,K(s.message.content.time),1)])],64)):"image"===s.message.type?(p(),m(D,{key:2},[b("div",ea,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,sa)):V("",!0)]),b("div",aa,[b("div",na,[s.message.content.image_url?(p(),U(n,{key:0,items:[{src:s.message.content.image_url,thumbnail:s.message.content.image_url,w:600,h:400,alt:"optional alt attribute for thumbnail image"}],"thumbnail-radius":"full"},null,8,["items"])):V("",!0),ia,b("div",ta,[b("div",la,[oa,b("a",{href:s.message.content.image_url,class:"action messaging-popup","aria-label":"Maximize"},ca,8,ra)])])])])],64)):"imagelink"===s.message.type?(p(),m(D,{key:3},[b("div",da,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,ua)):V("",!0)]),b("div",va,[b("figure",pa,[b("img",{src:s.message.content.link_image,alt:""},null,8,ma),b("div",ga,[b("img",{src:s.message.content.link_badge,alt:""},null,8,ha)])]),b("div",fa,[b("span",ba,K(s.message.content.text),1),b("small",null,K(s.message.content.subtext),1)])])],64)):"link"===s.message.type?(p(),m(D,{key:4},[b("div",_a,[s.message.avatar?(p(),m("img",{key:0,src:s.message.avatar,draggable:"false",alt:""},null,8,ya)):V("",!0)]),b("div",Ca,[g(i,{icon:"feather:link"}),b("p",ka,[b("span",null,K(s.message.content.text),1),b("a",wa,K(s.message.content.subtext),1)])])],64)):V("",!0)],2)}}}),ja={class:"inner"},Oa={class:"collapsed-menu"},Ma={class:"menu-toggle has-chevron"},Ia=[b("span",{class:"rotate"},[b("i",{"aria-hidden":"true",class:"icon-line-top"}),b("i",{"aria-hidden":"true",class:"icon-line-center"}),b("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],Sa={class:"collapsed-add"},Ea=[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1)],Aa={class:"collapsed-conversations"},Ka=["onKeydown","onClick"],Va={class:"user-container"},Da=["src"],Ua=d({__name:"CollapsedMessaging",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["addConversation","selectConversation"],setup(e,{emit:s}){const a=e,n=ve();return(e,i)=>(p(),m("div",{class:x([["messages"!==f(n).active&&"is-active"],"collapsed-messaging"])},[b("div",ja,[b("div",Oa,[b("div",{class:"vuero-hamburger nav-trigger push-resize messages-push",tabindex:"0",role:"button",onKeydown:i[0]||(i[0]=_(C((e=>f(n).toggle("messages")),["prevent"]),["space"])),onClick:i[1]||(i[1]=e=>f(n).toggle("messages"))},[b("span",Ma,[b("span",{class:x([["none"!==f(n).active&&"active"],"icon-box-toggle"])},Ia,2)])],32)]),b("div",Sa,[b("a",{class:"button collapse-add-button is-primary",tabindex:"0",role:"button",onKeydown:i[2]||(i[2]=_(C((e=>s("addConversation")),["prevent"]),["space"])),onClick:i[3]||(i[3]=()=>s("addConversation"))},Ea,32)]),b("ul",Aa,[(p(!0),m(D,null,T(a.conversations,(e=>(p(),m("li",{key:e.id,class:x([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",role:"button",onKeydown:_(C((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[b("div",Va,[b("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:i[4]||(i[4]=e=>f(B)(150))},null,40,Da)])],42,Ka)))),128))])])],2))}}),Ta={class:"mobile-subsidebar is-messaging"},za={class:"inner"},Fa=b("div",{class:"sidebar-title"},[b("h3",null,"Messages")],-1),Pa={id:"mobile-conversations-list",class:"animated preFadeInUp fadeInUp"},$a=["onKeydown","onClick"],La={class:"recent-user"},Na={class:"user-container"},Wa=["src"],Xa={class:"recipient-meta"},Ba=d({__name:"MessagesMobileSubsidebar",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["selectConversation"],setup(e,{emit:s}){const a=e;return(e,n)=>(p(),m("div",Ta,[b("div",za,[Fa,b("ul",Pa,[(p(!0),m(D,null,T(a.conversations,(e=>(p(),m("li",{key:e.id,role:"button",class:x([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",onKeydown:_(C((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[b("div",La,[b("div",Na,[b("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:n[0]||(n[0]=e=>f(B)(150))},null,40,Wa)]),b("div",Xa,[b("span",null,K(e.name),1),b("span",null,K(e.lastMessage),1)])])],42,$a)))),128))])])]))}}),Ra={class:"sidebar-panel is-messages"},qa={class:"messages-header"},Ja=b("h3",{class:"no-mb"}," Chat ",-1),Qa={class:"menu-toggle has-chevron"},Ga=[b("span",{class:"rotate"},[b("i",{"aria-hidden":"true",class:"icon-line-top"}),b("i",{"aria-hidden":"true",class:"icon-line-center"}),b("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],Ha={class:"inner"},Za={class:"is-new-conversation"},Ya=[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"},null,-1),b("span",null,"New Conversation",-1)],en={id:"conversations-list",class:"animated preFadeInUp fadeInUp"},sn=["onKeydown","onClick"],an={class:"recent-user"},nn={class:"user-container"},tn=["src"],ln={class:"recipient-meta"},on=d({__name:"MessagesSubsidebar",props:{conversations:{default:()=>[]},selectedConversationId:{default:0}},emits:["addConversation","selectConversation"],setup(e,{emit:s}){const a=e,n=ve();return(e,i)=>(p(),m("div",Ra,[b("div",qa,[Ja,b("div",{class:"vuero-hamburger nav-trigger push-resize messages-push",tabindex:"0",role:"button",onKeydown:i[0]||(i[0]=_(C((e=>f(n).toggle("messages")),["prevent"]),["space"])),onClick:i[1]||(i[1]=e=>f(n).toggle("messages"))},[b("span",Qa,[b("span",{class:x([["none"!==f(n).active&&"active"],"icon-box-toggle"])},Ga,2)])],32)]),b("div",Ha,[b("div",Za,[b("button",{id:"start-conversation",class:"button v-button is-primary is-raised is-rounded is-fullwidth",onClick:i[2]||(i[2]=()=>s("addConversation"))},Ya)]),b("ul",en,[(p(!0),m(D,null,T(a.conversations,(e=>(p(),m("li",{key:e.id,class:x([a.selectedConversationId===e.id&&"is-active"]),tabindex:"0",role:"button",onKeydown:_(C((()=>s("selectConversation",e.id)),["prevent"]),["space"]),onClick:()=>s("selectConversation",e.id)},[b("div",an,[b("div",nn,[b("img",{class:"is-user",src:e.avatar,alt:"",onErrorOnce:i[3]||(i[3]=e=>f(B)(150))},null,40,tn)]),b("div",ln,[b("span",null,K(e.name),1),b("span",null,K(e.lastMessage),1)])])],42,sn)))),128))])])]))}}),rn={class:"page-title has-text-centered is-hidden"},cn={class:"menu-toggle has-chevron"},dn=[b("span",{class:"rotate"},[b("i",{"aria-hidden":"true",class:"icon-line-top"}),b("i",{"aria-hidden":"true",class:"icon-line-center"}),b("i",{"aria-hidden":"true",class:"icon-line-bottom"})],-1)],un=b("h1",{class:"title is-5"}," Messages ",-1),vn={class:"control"},pn=b("div",{class:"easy-autocomplete"},[b("input",{id:"users-autocpl",type:"text",class:"input","aria-label":"To",placeholder:"Start typing a name"})],-1),mn=b("div",{class:"icon"},[b("span",null,"To:")],-1),gn=[b("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],hn={key:0,class:"no-messages"},fn=[b("img",{class:"light-image",src:pe,alt:""},null,-1),b("img",{class:"dark-image",src:me,alt:""},null,-1),b("div",{class:"text"},[b("h3",null,"No messages yet"),b("p",null,"Start the conversation by typing a message")],-1)],bn=[b("div",{class:"loader is-loading"},null,-1)],_n=d({__name:"messaging-v1",setup(e){const s=Pe(),a=ge(),n=he(),i=ve(),t=fe();function r(){s.unselectConversation(),s.setAddConversationOpen(!s.addConversationOpen)}function c(e){s.setAddConversationOpen(!1),s.selectConversastion(e)}return z((async()=>{i.setActive("messages");try{await s.loadConversations();const e=s.conversations.find((e=>!e.unreadMessages));e?s.selectConversastion(e.id):s.selectConversastion(s.conversations[0].id)}catch(e){t.error(e.message),console.error(e)}})),F({title:"Messaging chat - Sidebar - Arez"}),P((()=>{n.setPushed("messages"===i.active)})),(e,n)=>{const t=on,d=Ba,u=Ua,v=xa,y=qs,k=os,w=Be,j=W,O=l,M=o,I=Le,S=ze;return p(),U(S,{theme:f(a).sidebarLayoutTheme},{default:h((({isMobileSidebarOpen:e})=>[g($,{name:"slide-x"},{default:h((()=>["messages"===f(i).active?(p(),U(t,{key:0,conversations:f(s).conversations,"selected-conversation-id":f(s).selectedConversationId,onAddConversation:r,onSelectConversation:c},null,8,["conversations","selected-conversation-id"])):V("",!0)])),_:1}),g($,{name:"slide-x"},{default:h((()=>[e?(p(),U(d,{key:0,conversations:f(s).conversations,"selected-conversation-id":f(s).selectedConversationId,onSelectConversation:c},null,8,["conversations","selected-conversation-id"])):V("",!0)])),_:2},1024),g(u,{conversations:f(s).conversations,"selected-conversation-id":f(s).selectedConversationId,onAddConversation:r,onSelectConversation:n[0]||(n[0]=e=>{f(s).setAddConversationOpen(!1),f(s).selectConversastion(e)})},null,8,["conversations","selected-conversation-id"]),g(M,{id:"vuero-messaging",class:x(["none"===f(i).active&&"is-pushed-messages"])},{default:h((()=>[g(O,null,{default:h((()=>[g(j,{class:"chat-content"},{default:h((()=>[b("div",rn,[b("div",{class:"vuero-hamburger nav-trigger push-resize",tabindex:"0",role:"button",onKeydown:n[1]||(n[1]=_(C((e=>f(i).toggle("messages")),["prevent"]),["space"])),onClick:n[2]||(n[2]=e=>f(i).toggle("messages"))},[b("span",cn,[b("span",{class:x([["none"!==f(i).active&&"active"],"icon-box-toggle"])},dn,2)])],32),un]),g(k,null,{header:h((()=>[b("div",{class:x([[!f(s).addConversationOpen&&"is-hidden"],"is-autocomplete"])},[b("div",vn,[pn,mn,b("div",{class:"hide",tabindex:"0",role:"button",onKeydown:n[3]||(n[3]=_(C((e=>f(s).setAddConversationOpen(!1)),["prevent"]),["space"])),onClick:n[4]||(n[4]=e=>f(s).setAddConversationOpen(!1))},gn,32)])],2)])),body:h((()=>[0===f(s).messages.length?(p(),m("li",hn,fn)):V("",!0),(p(!0),m(D,null,T(f(s).messages,(e=>(p(),U(v,{key:e.id,message:e},null,8,["message"])))),128)),b("li",{class:x(["chat-loader",[f(s).loading&&"is-active"]])},bn,2)])),side:h((()=>[g(y)])),_:1}),g(w)])),_:1})])),_:1})])),_:1},8,["class"]),g(I)])),_:1},8,["theme"])}}});export{_n as default};
