import{_ as e}from"./VControl-73271265.js";import{_ as a}from"./VLabel.vue_vue_type_script_setup_true_lang-455e7b6b.js";import{_ as l}from"./VInput.vue_vue_type_script_setup_true_lang-714bb8d5.js";import{e as s,B as t,C as i,R as c,f as o,D as n,E as d,J as r,F as u,P as p,Q as m,r as v,o as f,N as g,K as _,l as h,W as y,I as b,O as C,U as k,V as x,T as w,A as V,M as T,Z as U,H as S,G as I,j,ak as M,z as A}from"./index-c5eacac6.js";import{b as D}from"./route-block-83d24a4e.js";import{_ as O}from"./VModal.vue_vue_type_style_index_0_lang-436e1f89.js";import{_ as $}from"./VField.vue_vue_type_script_setup_true_lang-89a1ecaf.js";import{_ as E}from"./VTextarea.vue_vue_type_script_setup_true_lang-babbbab3.js";import{u as H}from"./useNotyf-29271abb.js";import{u as P}from"./useAPI-026ef94e.js";import{_ as K,a as N}from"./VOption.vue_vue_type_style_index_0_lang-669cf2b6.js";import{_ as z}from"./VCheckbox.vue_vue_type_style_index_0_lang-7915ec6c.js";import{_ as Z}from"./VIconWrap.vue_vue_type_style_index_0_lang-8cf3ae4a.js";import{_ as q}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-df0c06b0.js";import{_ as B,a as W}from"./search-4-dark-2b5b440c.js";import{_ as F}from"./VTag.vue_vue_type_style_index_0_lang-84118a5d.js";import{u as G}from"./layoutSwitcher-71a1da4d.js";import{u as L}from"./viewWrapper-03140163.js";import"./useVFieldContext-0e40282b.js";import"./notyf-601b8c27.js";import"./useThemeColors-189e8828.js";import"./userSession-333f1640.js";import"./via-placeholder-24645670.js";const J={class:"pill"},R=s({__name:"BulletPill",setup:e=>(e,a)=>(t(),i("span",J))});"function"==typeof D&&D(R);const Q=c(R,[["__scopeId","data-v-325a7b2c"]]),Y=s({name:"FolderSettings",setup(){const e=o({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),X=e=>(p("data-v-ff241c58"),e=e(),m(),e),ee={class:""},ae={class:"section"},le={class:"title is-5"},se={class:"mt-5"},te=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ie=X((()=>n("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),ce=X((()=>n("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),oe={class:"columns is-multiline"},ne={class:"column is-3"},de=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),re=X((()=>n("h2",{class:"title is-6"},"SubVendors",-1))),ue={class:"column is-3"},pe=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),me=X((()=>n("h2",{class:"title is-6"},"Clients",-1))),ve={class:"section"},fe={class:"title is-5"},ge={class:"mt-5"},_e=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),he=X((()=>n("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),ye={class:"columns is-multiline"},be={class:"column is-6"},Ce=X((()=>n("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),ke={class:"columns is-multiline"},xe={class:"column is-6"},we=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ve=X((()=>n("h2",{class:"title is-6"},"SubVendors",-1))),Te={class:"column is-6"},Ue=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Se=X((()=>n("h2",{class:"title is-6"},"Clients",-1))),Ie={class:"column is-6"},je=X((()=>n("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),Me={class:"columns is-multiline"},Ae={class:"column is-6"},De=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Oe=X((()=>n("h2",{class:"title is-6"},"SubVendors",-1))),$e={class:"column is-6"},Ee=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),He=X((()=>n("h2",{class:"title is-6"},"Clients",-1))),Pe={class:"section"},Ke={class:"title is-5"},Ne=X((()=>n("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),ze={class:"columns is-multiline"},Ze={class:"column is-3"},qe=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Be=X((()=>n("h2",{class:"title is-6"},"SubVendors",-1))),We={class:"column is-3"},Fe=X((()=>n("span",{class:"toggler"},[n("span",{class:"active"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),n("span",{class:"inactive"},[n("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ge=X((()=>n("h2",{class:"title is-6"},"Clients",-1)));const Le=c(Y,[["render",function(s,c,o,p,m,v){const f=Q,g=l,_=a,h=e;return t(),i("div",ee,[n("div",ae,[n("h3",le,[d(f),r(" Document folders ")]),n("div",se,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.documents.autoCreate},null,8,["checked"]),te])),_:1}),ie])),_:1})])]),n("div",null,[ce,n("div",oe,[n("div",ne,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.documents.permissions.subVendors},null,8,["checked"]),de])),_:1}),re])),_:1})])]),n("div",ue,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.documents.permissions.clients},null,8,["checked"]),pe])),_:1}),me])),_:1})])])])])]),n("div",ve,[n("h3",fe,[d(f),r(" Photo folders ")]),n("div",ge,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.photos.autoCreate},null,8,["checked"]),_e])),_:1}),he])),_:1})])]),n("div",ye,[n("div",be,[Ce,n("div",ke,[n("div",xe,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.photos.permissions.subVendors},null,8,["checked"]),we])),_:1}),Ve])),_:1})])]),n("div",Te,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.photos.permissions.clients},null,8,["checked"]),Ue])),_:1}),Se])),_:1})])])])]),n("div",Ie,[je,n("div",Me,[n("div",Ae,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.photos.permissions.subVendors},null,8,["checked"]),De])),_:1}),Oe])),_:1})])]),n("div",$e,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.photos.permissions.clients},null,8,["checked"]),Ee])),_:1}),He])),_:1})])])])])])]),n("div",Pe,[n("h3",Ke,[d(f),r(" Video folders ")]),n("div",null,[Ne,n("div",ze,[n("div",Ze,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.documents.permissions.subVendors},null,8,["checked"]),qe])),_:1}),Be])),_:1})])]),n("div",We,[n("label",null,[d(h,{class:"is-flex align-items-ceneter"},{default:u((()=>[d(_,{raw:"",class:"remember-toggle"},{default:u((()=>[d(g,{raw:"",type:"checkbox",checked:!s.settings.documents.permissions.clients},null,8,["checked"]),Fe])),_:1}),Ge])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),Je={class:"modal-form columns is-multiline"},Re={class:"column is-12"},Qe={class:"field"},Ye=n("label",{class:"label"},"Title *",-1),Xe={class:"control"},ea={class:"column is-12"},aa={class:"field"},la=n("label",{class:"label"},"Description",-1),sa=s({__name:"TradeTypeModal",props:{addUpdateTradeModal:{type:Boolean},tradeId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(a,{emit:l}){const s=a,i=P(),c=v(!1),o=H(),p=v(!1),m=()=>{l("update:modalHandler",!1)},k=v({id:"",name:"",description:"",created_at:"",updated_at:""});v("");const x=async()=>{try{if(p.value=!0,s.tradeId){await i.patch(`/api/cost-trade/${s.tradeId}/`,k.value)}else{await i.post("/api/cost-trade/",k.value)}l("update:OnSuccess",null),o.success(`Trade  ${s.tradeId?"updated":"created"} successfully`),m()}catch(e){console.log(e)}finally{p.value=!1}};return f((()=>{s.tradeId&&(async()=>{try{p.value=!0;const e=await i.get(`/api/cost-trade/${s.tradeId}/`);k.value=e.data}catch(e){console.log(e)}finally{p.value=!1}})()})),(a,l)=>{const i=E,o=e,p=$,v=C,f=O;return t(),g(f,{is:"form",open:s.addUpdateTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:b(x,["prevent"]),onClose:m},{content:u((()=>[n("div",Je,[n("div",Re,[n("div",Qe,[Ye,n("div",Xe,[_(n("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>h(k).name=e)},null,512),[[y,h(k).name]])])])]),n("div",ea,[n("div",aa,[la,d(p,null,{default:u((()=>[d(o,null,{default:u((()=>[d(i,{modelValue:h(k).description,"onUpdate:modelValue":l[1]||(l[1]=e=>h(k).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:u((()=>[d(v,{type:"submit",color:"primary",loading:h(c),raised:""},{default:u((()=>[r(" Add Trade ")])),_:1},8,["loading"])])),cancel:u((()=>[d(v,{color:"light",onClick:m,raised:""},{default:u((()=>[r("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),ta={class:"modal-form columns is-multiline"},ia={class:"column is-6"},ca={class:"field"},oa=n("label",{class:"label"},"Title *",-1),na={class:"control"},da={class:"column is-6"},ra={class:"field"},ua=n("label",{class:"label"},"Trade *",-1),pa={class:"column is-12"},ma={class:"field"},va=n("label",{class:"label"},"Description",-1),fa=s({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(a,{emit:l}){const s=a,c=P(),o=v(!1),p=H(),m=v(!1),V=()=>{l("update:modalHandler",!1)},T=v({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});v("");const U=async()=>{try{if(m.value=!0,s.categoryId){await c.patch(`/api/cost-category/${s.categoryId}/`,T.value)}else{await c.post("/api/cost-category/",T.value)}l("update:OnSuccess",null),p.success(`Category  ${s.categoryId?"updated":"created"} successfully`),V()}catch(e){console.log(e)}finally{m.value=!1}},S=v([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return f((()=>{s.categoryId&&(async()=>{try{m.value=!0;const e=await c.get(`/api/cost-category/${s.categoryId}/`);T.value=e.data}catch(e){console.log(e)}finally{m.value=!1}})(),(async()=>{try{m.value=!0;const e=await c.get("/api/cost-trade/");S.value=e.data}catch(e){console.log(e)}finally{m.value=!1}})()})),(a,l)=>{const c=K,p=N,m=e,v=E,f=$,I=C,j=O;return t(),g(j,{is:"form",open:s.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:b(U,["prevent"]),onClose:V},{content:u((()=>[n("div",ta,[n("div",ia,[n("div",ca,[oa,n("div",na,[_(n("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>h(T).name=e)},null,512),[[y,h(T).name]])])])]),n("div",da,[n("div",ra,[ua,d(m,null,{default:u((()=>[d(p,{modelValue:h(T).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>h(T).trade=e),required:""},{default:u((()=>[(t(!0),i(k,null,x(h(S),(e=>(t(),g(c,{value:e.id},{default:u((()=>[r(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),n("div",pa,[n("div",ma,[va,d(f,null,{default:u((()=>[d(m,null,{default:u((()=>[d(v,{modelValue:h(T).description,"onUpdate:modelValue":l[2]||(l[2]=e=>h(T).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:u((()=>[d(I,{type:"submit",color:"primary",loading:h(o),raised:""},{default:u((()=>[r(w(s.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:u((()=>[d(I,{color:"light",onClick:V,raised:""},{default:u((()=>[r("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),ga={class:"modal-form columns is-multiline"},_a={class:"column is-6"},ha={class:"field"},ya=n("label",{class:"label"},"Title *",-1),ba={class:"control"},Ca={class:"column is-6"},ka={class:"field"},xa=n("label",{class:"label"},"Category *",-1),wa={class:"control"},Va={class:"field column is-12"},Ta=n("label",{class:"label"},"Sub code of ",-1),Ua={class:"control"},Sa={class:"field column is-6"},Ia=n("label",{class:"label"},null,-1),ja={key:0,class:"column is-6"},Ma={class:"field"},Aa=n("label",{class:"label"},"Default labour cost ($)",-1),Da={class:"control"},Oa={class:"column is-12"},$a={class:"field"},Ea=n("label",{class:"label"},"Unit cost ($)",-1),Ha={class:"control"},Pa=n("hr",null,null,-1),Ka={class:"column is-12"},Na={class:"field"},za=n("label",{class:"label"},"Description",-1),Za=s({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(a,{emit:l}){const s=a,c=P(),o=v(!1),p=H(),m=v(!1),U=()=>{l("update:modalHandler",!1)},S=v({id:"",name:"",category:"",parent_code:"",is_labour_code:!1,labour_cost:0,description:"",unit_cost:0,is_active:!0}),I=async()=>{try{if(m.value=!0,s.costCodeId){await c.patch(`/api/cost-code/${s.costCodeId}/`,S.value);p.info("Cost code updated successfully")}else{await c.post("/api/cost-code/",S.value);p.success("Cost code created successfully")}U(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{m.value=!1}},j=v([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),M=v([]);return f((()=>{s.costCodeId&&(async()=>{try{m.value=!0;const e=await c.get(`/api/cost-code/${s.costCodeId}/`);S.value=e.data}catch(e){console.log(e)}finally{m.value=!1}})(),(async()=>{try{m.value=!0;const e=await c.get("/api/cost-category/");j.value=e.data}catch(e){console.log(e)}finally{m.value=!1}})(),(async()=>{try{m.value=!0;const e=await c.get("/api/cost-code/");M.value=e.data.map((e=>({value:e.id,label:e.name})))}catch(e){console.log(e)}finally{m.value=!1}})()})),(a,l)=>{const c=K,p=N,m=e,v=$,f=V("Multiselect"),A=z,D=E,H=C,P=O;return t(),g(P,{is:"form",open:s.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:b(I,["prevent"]),onClose:U},{content:u((()=>[n("div",ga,[n("div",_a,[n("div",ha,[ya,n("div",ba,[_(n("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>h(S).name=e)},null,512),[[y,h(S).name]])])])]),n("div",Ca,[n("div",ka,[xa,n("div",wa,[d(v,null,{default:u((()=>[d(m,null,{default:u((()=>[d(p,{modelValue:h(S).category,"onUpdate:modelValue":l[1]||(l[1]=e=>h(S).category=e),required:""},{default:u((()=>[d(c,{value:""},{default:u((()=>[r(" Select a category ")])),_:1}),(t(!0),i(k,null,x(h(j),(e=>(t(),g(c,{value:e.id},{default:u((()=>[r(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),n("div",Va,[Ta,n("div",Ua,[d(v,null,{default:u((({id:e})=>[d(m,null,{default:u((()=>[d(f,{modelValue:h(S).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>h(S).parent_code=e),attrs:{id:e},searchable:!0,options:h(M),placeholder:"Select a parent"},null,8,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),n("div",Sa,[Ia,d(v,{class:"is-flex"},{default:u((()=>[d(m,{raw:"",subcontrol:""},{default:u((()=>[d(A,{modelValue:h(S).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>h(S).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),h(S).is_labour_code?(t(),i("div",ja,[n("div",Ma,[Aa,n("div",Da,[_(n("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>h(S).labour_cost=e)},null,512),[[y,h(S).labour_cost]])])])])):T("",!0),n("div",Oa,[n("div",$a,[Ea,n("div",Ha,[_(n("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>h(S).unit_cost=e)},null,512),[[y,h(S).unit_cost]])])])]),Pa,n("div",Ka,[n("div",Na,[za,d(v,null,{default:u((()=>[d(m,null,{default:u((()=>[d(D,{modelValue:h(S).description,"onUpdate:modelValue":l[6]||(l[6]=e=>h(S).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:u((()=>[d(H,{type:"submit",color:"primary",loading:h(o),raised:""},{default:u((()=>[r(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:u((()=>[d(H,{color:"light",onClick:U,raised:""},{default:u((()=>[r("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),qa=e=>(p("data-v-681da656"),e=e(),m(),e),Ba={class:"tabs-wrapper"},Wa={class:"tabs-inner"},Fa={class:"tabs"},Ga=[qa((()=>n("span",null,"Identity List",-1)))],La=[qa((()=>n("span",null,"Cost Codes",-1)))],Ja=[qa((()=>n("span",null,"Category",-1)))],Ra=[qa((()=>n("span",null,"Trade",-1)))],Qa={class:"list-flex-toolbar flex-list-v1"},Ya={class:"page-content-inner"},Xa=qa((()=>n("img",{class:"light-image",src:B,alt:""},null,-1))),el=qa((()=>n("img",{class:"dark-image",src:W,alt:""},null,-1))),al={class:"table is-hoverable is-fullwidth"},ll=qa((()=>n("thead",null,[n("tr",null,[n("th",{scope:"col"},"Title"),n("th",{scope:"col"},"Description"),n("th",{scope:"col"},"Children"),n("th",{scope:"col",class:"is-end"},[n("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),sl={class:"info-text is-bold"},tl={class:"is-end"},il={class:"is-flex is-justify-content-flex-end"},cl={class:"sub-item"},ol={class:"pl-5"},nl={class:"dark-text text-primary"},dl={class:"is-end"},rl={class:"is-flex is-justify-content-flex-end"},ul={class:"pl-6"},pl=qa((()=>n("td",null,"-",-1))),ml={class:"is-end"},vl={class:"is-flex is-justify-content-flex-end"},fl=c(s({__name:"CostCodes",setup(a){const l=H(),s=v(!1),c=v("Items list"),o=v([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),p=P(),m=v(""),V=[{}],A=v(!1),D=v(!1),O=v(!1),E=v(""),K=async e=>{try{s.value=!0;await p.delete(`/api/cost-code/${e}/`);N(),l.success("delete cost code")}catch(a){console.log(a)}finally{s.value=!1}},N=async()=>{try{s.value=!0;const e=await p.get("/api/cost-category/list/");o.value=e.data}catch(e){console.log(e)}finally{s.value=!1}},z=e=>{E.value=e,A.value=!A.value},B=U((()=>{if(m.value){const e=new RegExp(m.value,"i");return V.filter((a=>a.username?.match(e)||a.location?.match(e)))}return V}));return f((()=>{N()})),(a,v)=>{const f=e,V=$,U=C,H=M,P=q,W=Z,F=Za,G=fa,L=sa;return t(),i("div",null,[n("div",Ba,[n("div",Wa,[n("div",Fa,[n("ul",null,[n("li",{class:S(["Items list"===h(c)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:v[0]||(v[0]=I(b((e=>c.value="Items list"),["prevent"]),["space"])),onClick:v[1]||(v[1]=e=>c.value="Items list")},Ga,32)],2),n("li",{class:S(["costCodes"===h(c)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:v[2]||(v[2]=I(b((e=>c.value="costCodes"),["prevent"]),["space"])),onClick:v[3]||(v[3]=e=>c.value="costCodes")},La,32)],2),n("li",{class:S(["Category"===h(c)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:v[4]||(v[4]=I(b((e=>c.value="Category"),["prevent"]),["space"])),onClick:v[5]||(v[5]=e=>c.value="Category")},Ja,32)],2),n("li",{class:S(["Trade"===h(c)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:v[6]||(v[6]=I(b((e=>c.value="Trade"),["prevent"]),["space"])),onClick:v[7]||(v[7]=e=>c.value="Trade")},Ra,32)],2)])])])]),n("div",Qa,[d(V,null,{default:u((()=>[d(f,{icon:"feather:search"},{default:u((()=>[_(n("input",{"onUpdate:modelValue":v[8]||(v[8]=e=>j(m)?m.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[y,h(m)]])])),_:1})])),_:1}),d(H,null,{default:u((()=>[d(U,{color:"primary",onClick:v[9]||(v[9]=e=>A.value=!h(A)),icon:"fas fa-plus",elevated:"",outlined:""},{default:u((()=>[r(" Cost Code ")])),_:1}),d(U,{onClick:v[10]||(v[10]=e=>D.value=!h(D)),color:"info",icon:"fas fa-plus",elevated:"",outlined:""},{default:u((()=>[r(" Category ")])),_:1}),d(U,{onClick:v[11]||(v[11]=e=>O.value=!h(O)),color:"warning",icon:"fas fa-plus",outlined:"",elevated:""},{default:u((()=>[r(" Trade ")])),_:1})])),_:1})]),n("div",Ya,[h(B).length?T("",!0):(t(),g(P,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:u((()=>[Xa,el])),_:1})),n("table",al,[ll,n("tbody",null,[(t(!0),i(k,null,x(h(o),(e=>(t(),i(k,{key:e.id},[n("tr",null,[n("td",null,[n("p",sl,w(e.name??"n/a"),1)]),n("td",null,[n("p",null,w(e.description||"No description"),1)]),n("td",null,w(e.codes?.length||0),1),n("td",tl,[n("div",il,[d(W,{onClick:a=>{return l=e?.id,E.value=l,void(D.value=!D.value);var l},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),d(W,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{s.value=!0,await p.delete(`/api/cost-category/${e}/`),N(),l.success("delete category")}catch(a){console.log(a)}finally{s.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(t(!0),i(k,{key:0},x(e.codes,(e=>(t(),i(k,{key:e?.id},[n("tr",cl,[n("td",ol,[n("p",nl,w(e.name),1)]),n("td",null,w(e.description||"No description"),1),n("td",null,w(e.child_codes?.length||0),1),n("td",dl,[n("div",rl,[d(W,{onClick:a=>z(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),d(W,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>K(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(t(!0),i(k,{key:0},x(e.child_codes,(e=>(t(),i("tr",{key:e.id,class:"child-item"},[n("td",ul,w(e.name),1),n("td",null,w(e.description||"No description"),1),pl,n("td",ml,[n("div",vl,[d(W,{onClick:a=>z(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),d(W,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>K(e.id)},null,8,["onClick"])])])])))),128)):T("",!0)],64)))),128)):T("",!0)],64)))),128))])])]),h(A)?(t(),g(F,{key:0,addUpdateCostCodeModal:h(A),"cost-code-id":h(E),"onUpdate:modalHandler":v[12]||(v[12]=e=>A.value=!1),"onUpdate:OnSuccess":v[13]||(v[13]=e=>N())},null,8,["addUpdateCostCodeModal","cost-code-id"])):T("",!0),h(D)?(t(),g(G,{key:1,addUpdateCategoryModal:h(D),"category-id":h(E),"onUpdate:modalHandler":v[14]||(v[14]=e=>D.value=!1),"onUpdate:OnSuccess":v[15]||(v[15]=e=>N())},null,8,["addUpdateCategoryModal","category-id"])):T("",!0),h(O)?(t(),g(L,{key:2,addUpdateTradeModal:h(O),"onUpdate:modalHandler":v[16]||(v[16]=e=>O.value=!1),"onUpdate:OnSuccess":v[17]||(v[17]=e=>N())},null,8,["addUpdateTradeModal"])):T("",!0)])}}}),[["__scopeId","data-v-681da656"]]),gl=e=>(p("data-v-38a67b6f"),e=e(),m(),e),_l={class:"container"},hl={class:"box cu-property"},yl={class:"box-body"},bl={class:"position-relative"},Cl={class:"position-absolute",style:{top:"0px",right:"0px"}},kl=gl((()=>n("i",{class:"fas fa-pen"},null,-1))),xl={class:"columns is-multiline p-5 align-items-center"},wl=gl((()=>n("div",{class:"column is-2 text-align-center"},[n("img",{src:"/images/homePlaceholder.png",style:{width:"140px","border-radius":"10px"},alt:"",srcset:""})],-1))),Vl={class:"column is-3"},Tl={class:"title is-5 mb-2"},Ul=gl((()=>n("p",{class:"light-text mb-0 font-500"},"TexhoIbex@gmial.com",-1))),Sl={class:"light-text font-500"},Il=gl((()=>n("div",{class:"column is-1"},[n("div",{class:"cu-vr-seperator"})],-1))),jl={class:"column is-3"},Ml={class:"light-text mb-0 font-400"},Al=gl((()=>n("b",null,"State:",-1))),Dl={class:"light-text mb-0 font-400"},Ol=gl((()=>n("b",null,"City:",-1))),$l={class:"light-text mb-0 font-400"},El=gl((()=>n("b",null,"PoctCode:",-1))),Hl=gl((()=>n("div",{class:"column is-1"},[n("div",{class:"cu-vr-seperator"})],-1))),Pl={class:"column is-2"},Kl={class:"light-text mb-0 font-400"},Nl=gl((()=>n("b",null,"Website:",-1))),zl=gl((()=>n("b",null,"Status:",-1))),Zl={class:"m-t-20"},ql={class:"tabs-wrapper"},Bl={class:"tabs-inner"},Wl={class:"tabs is-boxed"},Fl=[gl((()=>n("span",null,"General",-1)))],Gl=[gl((()=>n("span",null,"Cost Codes",-1)))],Ll=[gl((()=>n("span",null,"Templates/Catalog",-1)))],Jl=[gl((()=>n("span",null,"Users permissions",-1)))],Rl={key:0},Ql={key:1},Yl={key:2},Xl={key:3},es=s({__name:"CompanySettingsComponent",setup(e){const a=v("general"),l=v(!1),s=o({name:"ABC Corp",website:"https://example.com",phone:"123-456-7890",address:{street:"123 Main St",city:"Evergreen",state:"CO",zipCode:"80437-0242"}});return(e,c)=>{const o=C,p=F,m=fl,v=Le;return t(),i("div",_l,[n("div",hl,[n("div",yl,[n("div",bl,[n("div",Cl,[d(o,{color:"primary",onClick:c[0]||(c[0]=e=>{l.value=!0}),size:"xsmall",rounded:""},{default:u((()=>[kl,r(" Edit")])),_:1})])]),n("div",xl,[wl,n("div",Vl,[n("h2",Tl,w(h(s).name),1),Ul,n("p",Sl,w(h(s).phone),1)]),Il,n("div",jl,[n("p",Ml,[Al,r(" "+w(h(s)?.address?.state?h(s)?.address?.state:"N/A"),1)]),n("p",Dl,[Ol,r(" "+w(h(s)?.address?.city?h(s)?.address?.city:"N/A"),1)]),n("p",$l,[El,r(" "+w(h(s)?.address?.zipCode?h(s)?.address?.zipCode:"N/A"),1)])]),Hl,n("div",Pl,[n("p",Kl,[Nl,r(" "+w(h(s)?.website?h(s)?.website:"N/A"),1)]),zl,d(p,{color:"primary",class:"ml-2",rounded:""},{default:u((()=>[r("Active")])),_:1})])])])]),n("div",Zl,[n("div",ql,[n("div",Bl,[n("div",Wl,[n("ul",null,[n("li",{class:S(["general"===h(a)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:c[1]||(c[1]=I(b((e=>a.value="general"),["prevent"]),["space"])),onClick:c[2]||(c[2]=e=>a.value="general")},Fl,32)],2),n("li",{class:S(["costCodes"===h(a)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:c[3]||(c[3]=I(b((e=>a.value="costCodes"),["prevent"]),["space"])),onClick:c[4]||(c[4]=e=>a.value="costCodes")},Gl,32)],2),n("li",{class:S(["proposalsTemplates"===h(a)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:c[5]||(c[5]=I(b((e=>a.value="proposalsTemplates"),["prevent"]),["space"])),onClick:c[6]||(c[6]=e=>a.value="proposalsTemplates")},Ll,32)],2),n("li",{class:S(["permissions"===h(a)?"is-active":"not-active"])},[n("a",{tabindex:"0",role:"button",onKeydown:c[7]||(c[7]=I(b((e=>a.value="permissions"),["prevent"]),["space"])),onClick:c[8]||(c[8]=e=>a.value="permissions")},Jl,32)],2)])])])]),"general"===h(a)?(t(),i("div",Rl,"General")):T("",!0),"costCodes"===h(a)?(t(),i("div",Ql,[d(m)])):T("",!0),"proposalsTemplates"===h(a)?(t(),i("div",Yl,"Templates/Catalog")):T("",!0),"permissions"===h(a)?(t(),i("div",Xl,[d(v)])):T("",!0)])])}}});"function"==typeof D&&D(es);const as=c(es,[["__scopeId","data-v-38a67b6f"]]),ls=s({__name:"index",setup(e){G();return L().setPageTitle("Company Settings"),A((()=>({title:"Company Settings"}))),(e,a)=>{const l=as;return t(),i("div",null,[d(l)])}}});"function"==typeof D&&D(ls);export{ls as default};
