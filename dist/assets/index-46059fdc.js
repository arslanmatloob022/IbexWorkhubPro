import{_ as e,c as a}from"./VFlexTable.vue_vue_type_style_index_0_lang-e5a63b43.js";import{_ as t}from"./VAvatar.vue_vue_type_style_index_0_lang-9a36d6a0.js";import{_ as s}from"./VTag.vue_vue_type_style_index_0_lang-408e4e2c.js";import{_ as i}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-46f6a9d7.js";import{_ as l}from"./VControl-f243fcbb.js";import{_ as r}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-194b7ac6.js";import{e as n,t as o,r as d,Z as c,o as u,l as m,y as p,H as _,z as v,C as f,A as y,B as g,S as h,T as k,j as b,P as x,Q as j,R as w,aR as V,O as P,J as C,D as T,W as A,X as q,L,G as z,v as S}from"./index-57283339.js";import{_ as F,a as N}from"./search-4-dark-2b5b440c.js";import{u as W}from"./useAPI-3d1b2833.js";import{f as I}from"./useSupportElement-321a3cde.js";import{u as R}from"./useNotyf-989627b5.js";import{u as B}from"./viewWrapper-4b9321e5.js";import"./VLabel.vue_vue_type_script_setup_true_lang-e37ada5c.js";import"./useVFieldContext-f1f52f20.js";import"./VPlaceloadWrap-5e4682b1.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-3884eeac.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-7ef5a43c.js";import"./VField.vue_vue_type_script_setup_true_lang-a5be644c.js";import"./userSession-a3dc25ef.js";import"./notyf-47ab21bb.js";import"./useThemeColors-73dd3c67.js";const D=e=>(A("data-v-fe33a6d0"),e=e(),q(),e),E={key:1,class:"is-relative tabs-wrapper is-slider is-squared"},K={class:"page-content-inner"},O={class:"list-flex-toolbar is-reversed"},Q={class:"flex-list-v2"},U=D((()=>f("img",{class:"light-image",src:F,alt:""},null,-1))),Z=D((()=>f("img",{class:"dark-image",src:N,alt:""},null,-1))),$={key:1,class:"tab-content is-active"},G=["onClick"],H=["onClick"],J=D((()=>f("i",{style:{color:"var(--info)"},class:"fas fa-copy cu-pointer","aria-hidden":"true"},null,-1))),M={class:"item-name dark-inverted"},X={class:"item-meta"},Y={class:"light-text mt-2"},ee={class:"",style:{"font-size":"18px"}},ae={class:"item-name dark-inverted"},te={class:"item-meta"},se={style:{"font-size":"1rem","font-weight":"600","text-transform":"uppercase"}},ie=L(n({__name:"IbexPaymentsList",setup(n){const A=R(),q=W();o();const L=d(!1),z=d([{id:"792d596a-beb6-4045-8852-574a544de0a2",client_info:{id:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",username:"Krystal",email:"krystal@ibexbuilderstudios.com",role:"admin",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/confident-2362133_1280-removebg-preview_vkihy1"},description:"",checkoutLink:"",type:"",created_by_info:{id:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",username:"Krystal",email:"krystal@ibexbuilderstudios.com",role:"admin",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/confident-2362133_1280-removebg-preview_vkihy1"},amount:10,status:"created",created_at:"2024-10-06T06:59:43.151276Z",created_by:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",client:null}]),S=d(""),F=d("paid"),N={description:"Description",picture:{label:"Created by",grow:!0,media:!0},amount:"Amount",client:{label:"Client",grow:!0,media:!0},status:"Status",team:{label:"Method"}},B=c((()=>{if(S.value){const e=new RegExp(S.value,"i");return z.value.filter((a=>a.id.match(e)||a.created_by_info.username.match(e)||a.type.match(e)||a.description.match(e)))}return z.value}));return u((()=>{(async()=>{try{L.value=!0;const e=await q.get("/api/paypal/");z.value=e.data}catch(e){console.log(e)}finally{L.value=!1}})()})),(n,o)=>{const d=r,c=l,u=i,q=a,z=s,W=t,R=e;return m(L)?(p(),_(d,{key:0})):(p(),v("div",E,[f("div",K,[f("div",O,[y(c,{icon:"feather:search"},{default:g((()=>[h(f("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>b(S)?S.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[k,m(S)]])])),_:1})]),f("div",Q,[0===m(B).length?(p(),_(u,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[U,Z])),_:1})):x("",!0),"paid"===m(F)?(p(),v("div",$,[m(B).length?(p(),_(R,{key:0,data:m(B),columns:N,rounded:""},{body:g((()=>[y(V,{name:"list",tag:"div",class:"flex-list-inner"},{default:g((()=>[(p(!0),v(j,null,w(m(B),(e=>(p(),v("div",{key:e.id,class:"flex-table-item"},[y(q,null,{default:g((()=>[f("div",null,[f("p",{class:P(["light-text text-overflow","succeeded"===e.status?"is-link":""]),onClick:a=>(e=>{if("succeeded"===e.status){const a=`https://dashboard.stripe.com/test/payments/${e.response?.id}`;window.open(a,"_blank")}})(e)},C(e.description),11,G),f("p",{class:"mt-2",onClick:a=>{var t;(t=e.checkoutLink)?navigator.clipboard.writeText(t).then((()=>{A.success("Link copied to clipboard!")})).catch((e=>{A.error("Failed to copy the link: ",e)})):A.error("No link to copy!")}},[T(" Checkout link "),J],8,H)])])),_:2},1024),y(q,{column:{media:!0,grow:!0}},{default:g((()=>[f("div",null,[f("span",M,C(e?.created_by_info?.username),1),f("span",X,[f("span",null,C(e.created_by_info?.email),1)]),f("span",Y,"At: "+C(m(I)(e.created_at)),1)])])),_:2},1024),y(q,null,{default:g((()=>[f("span",ee,"$"+C(e.amount),1)])),_:2},1024),y(q,{column:{media:!0,grow:!0}},{default:g((()=>[f("div",null,[f("span",ae,C(e?.client_info?.username?e?.client_info?.username:"N/A"),1),f("span",te,[f("span",null,C(e.client_info?.email),1)])])])),_:2},1024),y(q,null,{default:g((()=>[y(z,null,{default:g((()=>[f("p",se,C(e.status),1)])),_:2},1024)])),_:2},1024),y(q,null,{default:g((()=>["Stripe"==e.type?(p(),_(W,{key:0,picture:"/icons/stripe-48.png",squared:"",size:"medium"})):(p(),_(W,{key:1,picture:"/icons/paypal-48.png",squared:"",size:"medium"}))])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):x("",!0)])):x("",!0)])])]))}}}),[["__scopeId","data-v-fe33a6d0"]]),le={class:"page-content-inner"},re=n({__name:"index",setup(e){z();return B().setPageTitle("Payments"),S((()=>({title:"Payments"}))),(e,a)=>{const t=ie;return p(),v("div",le,[y(t)])}}});export{re as default};
