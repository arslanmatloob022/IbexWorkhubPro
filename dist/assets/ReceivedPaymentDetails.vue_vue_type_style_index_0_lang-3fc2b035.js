import{_ as a}from"./VBlock.vue_vue_type_style_index_0_lang-c546a2ce.js";import{_ as e}from"./VIconWrap.vue_vue_type_style_index_0_lang-88432a0e.js";import{e as s,t,N as n,r as i,o as r,y as p,z as l,C as o,A as d,D as c,J as _,l as u,B as y,I as m,Q as f,R as h,E as v,K as g,H as k}from"./index-ff7bbf87.js";import{_ as b}from"./VTag.vue_vue_type_style_index_0_lang-97aca83a.js";import{_ as x}from"./VAvatar.vue_vue_type_style_index_0_lang-10b28821.js";import{s as E}from"./sleep-fd7a5d8b.js";import{u as I}from"./useNotyf-151d038a.js";import{u as S}from"./useAPI-012a4cc1.js";import{b as A}from"./useSupportElement-2c69dc44.js";const P={class:"action-page-wrapper action-page-v2"},T={class:"wrapper-outer"},C={class:"wrapper-inner"},D={class:"action-box"},L={class:"box-content"},Y={class:"dark-inverted"},R={class:"sender-message is-dark-card-bordered is-dark-bg-4"},w=o("h4",{class:"dark-inverted"},"Payer Information",-1),N={class:"dark-text"},j={class:"dark-text"},U={class:"dark-text"},M={class:"dark-text"},G={class:"sender-message is-dark-card-bordered is-dark-bg-4 mt-3"},J=o("h4",{class:"dark-inverted"},"Shipping Address",-1),V={class:"dark-text"},Z={class:"dark-text"},B={class:"dark-text"},K={class:"dark-text"},W={class:"dark-text"},F={class:"buttons"},O={class:"side-wrapper"},Q={class:"side-inner"},z={class:"side-title"},H=o("h3",{class:"dark-inverted"},"Transactions",-1),$={class:"dark-text"},X={class:"action-list"},q={class:"mb-3"},aa={class:"dark-text"},ea={class:"dark-text"},sa=o("div",{class:"side-title"},[o("h3",{class:"dark-inverted"},"Links")],-1),ta=s({__name:"ReceivedPaymentDetails",setup(s){const ta=I(),na=t(),ia=S(),ra=n(),pa=i(!1),la=i({id:"PAYID-M4AYYRI79S03224PL6984306",intent:"sale",state:"approved",cart:"26364984DR191781U",payer:{payment_method:"paypal",status:"VERIFIED",payer_info:{email:"sb-25w9f33151841@business.example.com",first_name:"John",last_name:"Doe",payer_id:"JAZD2UFNA7XYN",shipping_address:{recipient_name:"John Doe",line1:"1 Main St",city:"San Jose",state:"CA",postal_code:"95131",country_code:"US"},phone:"4087663998",country_code:"US",business_name:"Test Store"}},transactions:[{amount:{total:"500.00",currency:"USD",details:{subtotal:"500.00",shipping:"0.00",insurance:"0.00",handling_fee:"0.00",shipping_discount:"0.00",discount:"0.00"}},payee:{merchant_id:"6G3AKS3EQZELQ",email:"sb-jcewl33176163@business.example.com"},description:"string",item_list:{shipping_address:{recipient_name:"John Doe",line1:"1 Main St",city:"San Jose",state:"CA",postal_code:"95131",country_code:"US"}},related_resources:[{sale:{id:"7PE02361PC523373W",state:"completed",amount:{total:"500.00",currency:"USD",details:{subtotal:"500.00",shipping:"0.00",insurance:"0.00",handling_fee:"0.00",shipping_discount:"0.00",discount:"0.00"}},payment_mode:"INSTANT_TRANSFER",protection_eligibility:"ELIGIBLE",protection_eligibility_type:"ITEM_NOT_RECEIVED_ELIGIBLE,UNAUTHORIZED_PAYMENT_ELIGIBLE",transaction_fee:{value:"17.94",currency:"USD"},parent_payment:"PAYID-M4AYYRI79S03224PL6984306",create_time:"2024-10-05T19:18:38Z",update_time:"2024-10-05T19:18:38Z",links:[{href:"https://api.sandbox.paypal.com/v1/payments/sale/7PE02361PC523373W",rel:"self",method:"GET"},{href:"https://api.sandbox.paypal.com/v1/payments/sale/7PE02361PC523373W/refund",rel:"refund",method:"POST"},{href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4AYYRI79S03224PL6984306",rel:"parent_payment",method:"GET"}]}}]}],create_time:"2024-10-05T18:58:13Z",update_time:"2024-10-05T19:18:38Z",links:[{href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4AYYRI79S03224PL6984306",rel:"self",method:"GET"}]}),oa=async()=>{pa.value=!0,ta.success("Transaction is accepted"),await E(),na.push("/sidebar/dashboard/received-payments"),pa.value=!1};return r((()=>{(async()=>{try{pa.value=!0;const a=await ia.get(`/api/paypal/payment/${ra.params.id}/`);la.value=a.data}catch(a){console.log(a)}finally{pa.value=!1}})()})),(s,t)=>{const n=x,i=b,r=v,E=e,I=a;return p(),l("div",P,[o("div",T,[o("div",C,[o("div",D,[o("div",L,[d(n,{size:"big",picture:"/icons/paypal.png",badge:"/icons/paypal-48.png"}),o("h3",Y,[c(_(u(la).id)+" ",1),d(i,{light:"",rounded:"",color:"created"==u(la).state?"info":"primary"},{default:y((()=>[c(_(u(la).state),1)])),_:1},8,["color"])]),o("div",R,[w,o("p",null,[c(" Name: "),o("span",N,_(u(la)?.payer?.payer_info?.first_name)+" "+_(u(la)?.payer?.payer_info?.last_name),1)]),o("p",null,[c(" Email: "),o("span",j,_(u(la)?.payer?.payer_info?.email),1)]),o("p",null,[c(" Id: "),o("span",U,_(u(la)?.payer?.payer_info?.payer_id),1)]),o("p",null,[c(" Status: "),o("span",M,_(u(la)?.payer?.status),1)])]),o("div",G,[J,o("p",null,[c(" Line1: "),o("span",V,_(u(la)?.payer?.payer_info?.shipping_address?.line1),1)]),o("p",null,[c(" City: "),o("span",Z,_(u(la)?.payer?.payer_info?.shipping_address?.city),1)]),o("p",null,[c(" State: "),o("span",B,_(u(la)?.payer?.payer_info?.shipping_address?.state),1)]),o("p",null,[c(" Postal Code: "),o("span",K,_(u(la)?.payer?.payer_info?.shipping_address?.postal_code),1)]),o("p",null,[c(" Country: "),o("span",W,_(u(la)?.payer?.payer_info?.shipping_address?.country_code),1)])]),o("div",F,[d(r,{onClick:t[0]||(t[0]=a=>u(na).go(-1)),"dark-outlined":""},{default:y((()=>[c(" Back ")])),_:1}),d(r,{color:"primary",loading:u(pa),raised:"",tabindex:"0",onKeydown:m(g(oa,["prevent"]),["space"]),onClick:oa},{default:y((()=>[c(" Verify ")])),_:1},8,["loading","onKeydown"])])])])]),o("div",O,[o("div",Q,[o("div",z,[H,o("p",null,[c(" Created at: "),o("span",$,_(u(A)(u(la).create_time)),1)])]),o("div",X,[(p(!0),l(f,null,h(u(la).transactions,(a=>(p(),l("div",q,[o("p",null,[c(" Amount: "),o("span",aa,_(a?.amount?.total),1)]),o("p",null,[c(" Currency: "),o("span",ea,_(a?.amount?.currency),1)])])))),256)),sa,(p(!0),l(f,null,h(u(la)?.links,(a=>(p(),k(I,{title:a.rel},{icon:y((()=>[d(E,{onClick:e=>(a=>{a&&(navigator.clipboard.writeText(a),ta.success("Link Copied"))})(a?.href),icon:"fas fa-copy",class:"cu-pointer",dark:"3","dark-primary":"","dark-card-bordered":""},null,8,["onClick"])])),default:y((()=>[o("p",null,_(a?.href.length>20?a?.href.slice(12,40):a?.href),1)])),_:2},1032,["title"])))),256))])])])])])}}});export{ta as _};
