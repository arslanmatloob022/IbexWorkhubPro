import{c as e,_ as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-0ab95c2a.js";import{_ as a}from"./VTag.vue_vue_type_style_index_0_lang-f4bc5546.js";import{_ as s}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-4220faf8.js";import{e as l,r as i,Z as n,A as r,B as o,C as c,D as d,l as u,N as p,F as m,M as v,E as _,aR as g,U as f,V as h,T as y,J as k,o as b,K as x,j,W as w,H as T}from"./index-1fb7ceb4.js";import{_ as D,a as V}from"./search-4-dark-2b5b440c.js";import{_ as C,a as I}from"./projects-dark-4a371d8a.js";import{p as L}from"./index-c1fc2d09.js";import{_ as A}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-7cebf6e6.js";import{_ as P}from"./VField.vue_vue_type_script_setup_true_lang-fe269cb9.js";import{_ as N}from"./VControl-a3cad6d8.js";import{_ as E}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-9a1eff25.js";import{_ as F}from"./having-coffee-37a7bbcc.js";import{_ as H}from"./having-coffee-dark-4694625e.js";import{u as U}from"./useAPI-d7049da6.js";const M={class:"flex-list-wrapper flex-list-v2"},R=d("img",{class:"light-image",src:D,alt:""},null,-1),W=d("img",{class:"dark-image",src:V,alt:""},null,-1),q={key:1,class:"tab-content is-active"},S={class:"item-name dark-inverted"},B={class:"item-meta"},J={class:"link-text"},K={class:"light-text"},Q={class:"light-text"},X={key:2,class:"tab-content is-active"},Y=d("img",{class:"light-image is-larger",src:C,alt:""},null,-1),Z=d("img",{class:"dark-image is-larger",src:I,alt:""},null,-1),$=l({__name:"ChronicTasksList",props:{tasks:{default:{}}},setup(l){const b=l,x=L,j=i(""),w=i("active"),T={picture:{label:"Task",media:!0,grow:!0},customer:"Start ",industry:"End",status:"Quantity",team:{label:"Unit",cellClass:"h-hidden-tablet-p"},actions:{label:"Cost code",align:"end"}},D=n((()=>{if(j.value){const e=new RegExp(j.value,"i");return x.filter((t=>t.name.match(e)||t.customer.match(e)||t.industry.match(e)||t.status.match(e)||t.duration.match(e)))}return x}));return(l,i)=>{const n=s,x=r("Tippy"),j=e,V=a,C=t;return o(),c("div",null,[d("div",M,["active"===u(w)&&0===u(D).length?(o(),p(n,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:m((()=>[R,W])),_:1})):v("",!0),"active"===u(w)?(o(),c("div",q,[b.tasks?(o(),p(C,{key:0,data:u(D),columns:T,rounded:""},{body:m((()=>[_(g,{name:"list",tag:"div",class:"flex-list-inner"},{default:m((()=>[(o(!0),c(f,null,h(b.tasks,(e=>(o(),c("div",{key:e.id,class:"flex-table-item"},[_(j,{column:{media:!0,grow:!0}},{default:m((()=>[d("div",null,[d("span",S,y(e.title?e.title:""),1),d("span",B,[_(x,{trigger:"click"},{content:m((()=>[k(y(e.description?e.description:""),1)])),default:m((()=>[d("span",J,y(e.description?.length>40?e.description?.slice(0,40):e.description.length<40?e.description:""),1)])),_:2},1024)])])])),_:2},1024),_(j,null,{default:m((()=>[d("span",K,y(e.startDate?e.startDate:""),1)])),_:2},1024),_(j,null,{default:m((()=>[d("span",Q,y(e.endDate?e.endDate:""),1)])),_:2},1024),_(j,null,{default:m((()=>[_(V,{outlined:"",color:"info",rounded:""},{default:m((()=>[k(y(e.quantity?e.quantity:""),1)])),_:2},1024)])),_:2},1024),_(j,{class:"h-hidden-tablet-p"},{default:m((()=>[_(V,{outlined:"",color:"primary",rounded:""},{default:m((()=>[k(y(e.unit?e.unit:"N/A"),1)])),_:2},1024)])),_:2},1024),_(j,{column:{align:"end"}},{default:m((()=>[_(V,{outlined:"",color:"warning",rounded:""},{default:m((()=>[k(y(e.costCode?e.costCode:""),1)])),_:2},1024)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):v("",!0)])):"closed"===u(w)?(o(),c("div",X,[_(n,{title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n              start closing off projects, they will be showing up in here."},{image:m((()=>[Y,Z])),_:1})])):v("",!0)])])}}}),z={key:0},G={key:1},O={class:"list-view-toolbar"},ee=d("div",{class:"tabs-inner"},null,-1),te={class:"list-view list-view-v2"},ae={class:"list-view-inner"},se={class:"list-view-item"},le={class:"list-view-item-inner"},ie={class:"meta-left"},ne={class:"info-text"},re=d("i",{class:"lnir lnir-star-empty","aria-hidden":"true"},null,-1),oe=["innerHTML"],ce=d("div",{class:"meta-right"},null,-1),de={class:"list-view-inner"},ue=d("img",{class:"light-image",src:F,alt:""},null,-1),pe=d("img",{class:"dark-image",src:H,alt:""},null,-1),me=l({__name:"ChronicTasksView",props:{supplierId:{default:""},projectID:{default:""},workerId:{default:""},userId:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(e,{emit:t}){const a=e,l=i("active"),r=i(""),D=i(!1),V=i([]),C=U(),I=n((()=>{if(r.value){const e=new RegExp(r.value,"i");return V.value.filter((t=>t.title.match(e)||t.description.match(e)))}return V.value}));return b((()=>{(async()=>{try{D.value=!0;const e=await C.get(`/api/task/project-wise-tasks/${a.userId}/`);V.value=e.data,console.log("chronic tasks",e.data),D.value=!1}catch(e){console.log(e)}})()})),(e,t)=>{const a=E,i=N,n=P,b=A,V=s,C=$;return u(D)?(o(),c("div",z,[_(a)])):(o(),c("div",G,[d("div",O,[_(n,null,{default:m((()=>[_(i,{icon:"feather:search"},{default:m((()=>[x(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>j(r)?r.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[w,u(r)]])])),_:1})])),_:1}),ee]),(o(!0),c(f,null,h(u(I),(e=>(o(),c("div",{key:e.id,class:"page-content-inner mb-6"},[d("div",te,[d("div",{id:"active-items-tab",class:T(["tab-content",["active"===u(l)&&"is-active"]])},[d("div",ae,[_(g,{name:"list-complete",tag:"div"},{default:m((()=>[d("div",se,[d("div",le,[d("div",ie,[d("h3",null,[d("span",ne,[re,k(y(e.title),1)])]),e.description?(o(),c("div",{key:0,innerHTML:e.description},null,8,oe)):v("",!0),d("span",null,[d("span",null," Timeline: "+y(e.startDate?e.startDate:"N/A")+" to "+y(e.endDate?e.endDate:"N/A"),1)])]),ce])])])),_:2},1024)]),u(I).length>5?(o(),p(b,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":7})):v("",!0)],2),d("div",{id:"inactive-items-tab",class:T(["tab-content",["inactive"===u(l)&&"is-active"]])},[d("div",de,[_(V,{title:"There are no inactive properties.",subtitle:"Looks like there are no inactive properties to display. You can\n                disable and also enable a property from the property settings.",larger:""},{image:m((()=>[ue,pe])),_:1})])],2)]),_(C,{tasks:e.filtered_tasks},null,8,["tasks"])])))),128))]))}}});export{me as _};
