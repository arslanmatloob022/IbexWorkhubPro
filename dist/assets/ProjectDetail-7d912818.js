import{F as e}from"./FullCalendar-321ce710.js";import{T as t,b as a,D as l,a as s,c as i,i as n}from"./index-a35a3d11.js";import{Z as o,P as r,X as c,c as d,Q as u,T as m,x as p,y as h,aS as f,W as v,v as g,aT as y,aU as b,ac as k}from"./index-51c95dce.js";import{i as _}from"./index-a67a7147.js";import{u as x}from"./useAPI-a06e0453.js";import{f as w,r as j,o as C,C as D,D as M,F as R,G as S,E as P,U as T,m as I,y as N,x as W,b as E,s as V,B as H,O as z,N as U,K as F,I as A,H as $,V as B,W as G,k as q,Q as O,R as L,J as Y,S as K}from"./index-3fb2b8a1.js";import{_ as Q,a as J}from"./ProjectFiles-1e531093.js";import{_ as X}from"./ProjectTodayTasks.vue_vue_type_style_index_0_lang-96b642d0.js";import{_ as Z,a as ee}from"./VOption.vue_vue_type_style_index_0_lang-f6b7c5e9.js";import{_ as te}from"./VLabel.vue_vue_type_script_setup_true_lang-7778ff4d.js";import{_ as ae}from"./VField.vue_vue_type_script_setup_true_lang-3f4a6a92.js";import{_ as le}from"./VControl-a26a7847.js";import{_ as se}from"./UserPopoverContent.vue_vue_type_script_setup_true_lang-7f809b6c.js";import{_ as ie}from"./VAvatar.vue_vue_type_style_index_0_lang-63e4eba4.js";import{_ as ne}from"./VIcon.vue_vue_type_script_setup_true_lang-7ff8429d.js";import{A as oe}from"./vue3-apexcharts.common-fa6f89d2.js";import{u as re}from"./useNotyf-3e0fbfcf.js";import{a as ce}from"./useSupportElement-8776fb44.js";import{u as de}from"./useThemeColors-8b0ae05c.js";class ue extends u{constructor(){super(...arguments),this.buildDayTableModel=m(a),this.slicer=new l,this.state={labelId:y()}}render(){const{props:e,state:t,context:a}=this,{dateProfile:l,forPrint:i}=e,{options:n}=a,o=this.buildDayTableModel(l,a.dateProfileGenerator),r=this.slicer.sliceProps(e,l,n.nextDayThreshold,a,o),c=null!=e.tableWidth?e.tableWidth/n.aspectRatio:null,d=o.cells.length,u=null!=c?c/d:null;return h("div",{ref:e.elRef,"data-date":e.isoDateStr,className:"fc-multimonth-month",style:{width:e.width},role:"grid","aria-labelledby":t.labelId},h("div",{className:"fc-multimonth-header",style:{marginBottom:u},role:"presentation"},h("div",{className:"fc-multimonth-title",id:t.labelId},a.dateEnv.format(e.dateProfile.currentRange.start,e.titleFormat)),h("table",{className:["fc-multimonth-header-table",a.theme.getClass("table")].join(" "),role:"presentation"},h("thead",{role:"rowgroup"},h(b,{dateProfile:e.dateProfile,dates:o.headerDates,datesRepDistinctDays:!1})))),h("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!i&&"fc-daygrid-body-balanced",i&&"fc-daygrid-body-unbalanced",i&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-u}},h("table",{className:["fc-multimonth-daygrid-table",a.theme.getClass("table")].join(" "),style:{height:i?"":c},role:"presentation"},h("tbody",{role:"rowgroup"},h(s,Object.assign({},r,{dateProfile:l,cells:o.cells,eventSelection:e.eventSelection,dayMaxEvents:!i,dayMaxEventRows:!i,showWeekNumbers:n.weekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:i}))))))}}const me=o(1,"month");function pe(e,t,a,l,s){const{start:n,end:o}=t.currentRange;let r=n;const c=[];for(;r.valueOf()<o.valueOf();){const n=a.add(r,me),o={start:e.skipHiddenDays(r),end:e.skipHiddenDays(n,-1,!0)};let d=i({currentRange:o,snapToWeek:!0,fixedWeekCount:l,dateEnv:a});d={start:e.skipHiddenDays(d.start),end:e.skipHiddenDays(d.end,-1,!0)};const u=t.activeRange?k(t.activeRange,s?d:o):null;c.push({currentDate:t.currentDate,isValid:t.isValid,validRange:t.validRange,renderRange:d,activeRange:u,currentRange:o,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:t.dateIncrement,slotMinTime:t.slotMaxTime,slotMaxTime:t.slotMinTime}),r=n}return c}const he=r({year:"numeric",month:"long"}),fe=r({month:"long"});function ve(e,t){return e||(t[0].currentRange.start.getUTCFullYear()!==t[t.length-1].currentRange.start.getUTCFullYear()?he:fe)}const ge={multiMonthTitleFormat:r,multiMonthMaxColumns:Number,multiMonthMinWidth:Number};c(".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}");var ye=d({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:ge,views:{multiMonth:{component:class extends u{constructor(){super(...arguments),this.splitDateProfileByMonth=m(pe),this.buildMonthFormat=m(ve),this.scrollElRef=p(),this.firstMonthElRef=p(),this.needsScrollReset=!1,this.handleSizing=e=>{e&&this.updateSize()}}render(){const{context:e,props:t,state:a}=this,{options:l}=e,{clientWidth:s,clientHeight:i}=a,n=a.monthHPadding||0,o=Math.min(null!=s?Math.floor(s/(l.multiMonthMinWidth+n)):1,l.multiMonthMaxColumns)||1,r=100/o+"%",c=null==s?null:s/o-n,d=null!=s&&1===o,u=this.splitDateProfileByMonth(e.dateProfileGenerator,t.dateProfile,e.dateEnv,!d&&l.fixedWeekCount,l.showNonCurrentDates),m=this.buildMonthFormat(l.multiMonthTitleFormat,u),p=["fc-multimonth",d?"fc-multimonth-singlecol":"fc-multimonth-multicol",null!=c&&c<400?"fc-multimonth-compact":"",t.isHeightAuto?"":"fc-scroller"];return h(v,{elRef:this.scrollElRef,elClasses:p,viewSpec:e.viewSpec},u.map(((e,a)=>{const l=f(e.currentRange.start);return h(ue,Object.assign({},t,{key:l,isoDateStr:l,elRef:0===a?this.firstMonthElRef:void 0,titleFormat:m,dateProfile:e,width:r,tableWidth:c,clientWidth:s,clientHeight:i}))})))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(e){g(e,this.props)||this.handleSizing(!1),e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){const e=this.scrollElRef.current,t=this.firstMonthElRef.current;e&&this.setState({clientWidth:e.clientWidth,clientHeight:e.clientHeight}),t&&e&&null==this.state.monthHPadding&&this.setState({monthHPadding:e.clientWidth-t.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&null!=this.state.monthHPadding){const{currentDate:e}=this.props.dateProfile,t=this.scrollElRef.current,a=t.querySelector(`[data-date="${f(e)}"]`);t.scrollTop=a.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1}}shouldComponentUpdate(){return!0}},dateProfileGeneratorClass:t,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});const be={class:"column is-12",id:"CalendarStyling"},ke=["onClick"],_e={style:{"font-weight":"600","margin-bottom":"0px","padding-left":"10px",color:"#f1f1f1"}},xe={style:{"padding-right":"10px",color:"#f1f1f1"}},we=w({__name:"ProjectTasksCalendar",props:{projectID:{type:Number,required:!0}},setup(t){const a=t,l=x(),s=j([]),i=j(!1),o=j([]),r={pending:"#f39c12",in_progress:"#3498db",completed:"#2ecc71",cancelled:"#e74c3c"},c=j({plugins:[n,ye,_],initialView:"dayGridMonth",dayMaxEventRows:!1,height:"auto",selectable:!0,editable:!1,views:{dayGridMonth:{slotDuration:{week:3,day:7},slotLabelFormat:{weekday:"short",month:"numeric",day:"numeric",year:"numeric"}}},headerToolbar:{left:"today prev,next",center:"title",right:"dayGridWeek,dayGridMonth,multiMonthYear"},events:[]});return C((()=>{(async()=>{try{i.value=!0;const e=await l.get(`api/task/${a.projectID}/project/`);s.value=e.data,o.value=s.value.map((e=>({id:e.id,start:e.startDate,end:e.endDate,title:e.title,color:e.color||"#2c3e50",description:e.description,borderColor:r[e.status]||"#2c3e50",status:e.status,project:e.project}))),c.value.events=o.value}catch(e){console.error("Failed to fetch tasks:",e)}finally{i.value=!1}})()})),(t,a)=>(D(),M("div",be,[R(I(e),{options:c.value},{eventContent:S((e=>[P("div",{onClick:t=>{return a=e.event.extendedProps,void alert(`Task Detail:\n${a.title}\nStatus: ${a.status}`);var a},style:{display:"flex","flex-wrap":"wrap","align-items":"center","justify-content":"space-between",padding:"6px","background-color":"rgba(0, 0, 0, 0.3)"}},[P("p",_e,T(e.event.title),1),P("p",xe,T(new Date(e.event.start).toDateString())+" to "+T(new Date(e.event.end).toDateString()),1)],8,ke)])),_:1},8,["options"])]))}}),je=e=>(O("data-v-0eb5219c"),e=e(),L(),e),Ce={class:"personal-dashboard personal-dashboard-v2"},De={class:"columns is-multiline"},Me={class:"column is-12"},Re={class:"dashboard-header is-relative"},Se={class:"user-meta is-dark-bordered-12"},Pe={class:"title is-4 is-narrow is-bold"},Te={class:"light-text"},Ie={class:"info-text is-bold"},Ne=je((()=>P("i",{class:"fas fa-home"},null,-1))),We={class:"user-action"},Ee=je((()=>P("h3",{class:"title is-5 is-narrow"},"Information",-1))),Ve={class:"light-text"},He={class:"light-text"},ze={class:"light-text"},Ue={class:"media-flex inverted-text"},Fe=je((()=>P("a",{class:"link inverted-text"},"Change status",-1))),Ae={key:0,class:"tabs-inner"},$e={class:"tabs is-boxed",slider:""},Be=[je((()=>P("span",null,"Project info",-1)))],Ge=[je((()=>P("span",null,"Tasks Calendar",-1)))],qe=[je((()=>P("span",null,"Tasks",-1)))],Oe=je((()=>P("li",{class:"tab-naver"},null,-1))),Le={key:1,class:"columns is-multiline"},Ye={key:0,class:"column is-8"},Ke={class:"dashboard-card has-margin-bottom"},Qe=["innerHTML"],Je={class:"dashboard-card has-margin-bottom"},Xe={class:"dashboard-card"},Ze=je((()=>P("div",{class:"card-head"},[P("h3",{class:"dark-inverted"},"Task Completion"),P("a",{class:"action-link",tabindex:"0"},"Reports")],-1))),et={class:"dashboard-card"},tt={class:"card-head"},at=je((()=>P("h3",{class:"dark-inverted"},"Assigned Manager",-1))),lt={class:"active-team"},st={key:0,class:"user-list"},it={class:"user-list-info"},nt={class:"name dark-inverted"},ot={class:"position"},rt=je((()=>P("div",{class:"user-list-icons"},null,-1))),ct={key:1,class:"user-list"},dt=[je((()=>P("div",{class:"user-list-info"},[P("div",{class:"name dark-inverted"},"No Manager assigned yet")],-1)))],ut={key:2},mt={class:"is-flex space-between"},pt={key:0},ht={class:"dashboard-card"},ft={class:"card-head"},vt=je((()=>P("h3",{class:"dark-inverted"},"Client Information",-1))),gt={class:"active-team"},yt={key:0,class:"user-list"},bt={class:"user-list-info"},kt={class:"name dark-inverted"},_t={class:"position"},xt=je((()=>P("div",{class:"user-list-icons"},null,-1))),wt={key:1,class:"user-list"},jt=[je((()=>P("div",{class:"user-list-info"},[P("div",{class:"name dark-inverted"},"No Client Info Added yet")],-1)))],Ct={key:2},Dt={class:"dashboard-card"},Mt={class:"card-head"},Rt=je((()=>P("h3",{class:"dark-inverted"},"Contractor Information",-1))),St={class:"active-team"},Pt={key:0,class:"user-list"},Tt={class:"user-list-info"},It={class:"name dark-inverted"},Nt={class:"position"},Wt=je((()=>P("div",{class:"user-list-icons"},null,-1))),Et={key:1,class:"user-list"},Vt=[je((()=>P("div",{class:"user-list-info"},[P("div",{class:"name dark-inverted"}," No contractor Info Added yet ")],-1)))],Ht={key:2},zt={class:"dashboard-card"},Ut={key:2,class:"columns is-multiline"},Ft={class:"column is-12"},At={key:3,class:"columns is-multiline"},$t=K(w({__name:"ProjectDetail",setup(e){const t=de(),a=x(),l=re(),s=N(),i=W(),n=E(),o=j("detail"),r=j(!1),c=j(!1);j(!1);const d=j(!1);j(!1);const u=j(!1),m=j([]),p=j([]),h=j([]),f=j([]),v=j([]);j(0);const g=j(0),y=j(0),b=j(""),k=j("");j("");const _=j([{id:0,username:"",email:"",phoneNumber:""}]),w=j([]),O=j({id:0,title:"",created:"",startDate:"",color:"",endDate:"",description:"",image:"",is_active:null,status:"",address:"",total_tasks:0,client:0,contractor:0,clientInfo:{id:0,username:"",email:"",password:"",avatar:null},uploaded_files:[],contractorInfo:{id:0,username:"",email:"",password:"",avatar:null},managers:[{id:0,username:"",avatar:null,email:"",role:""}]});j({title:"",description:"",startDate:"",endDate:"",status:"",project:s.params.id,workers:[]});const L=j([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}]}]),K=V({height:180,type:"radialBar",series:[],title:{text:""},chart:{toolbar:{show:!1}},colors:[t.primary,t.purple,t.orange],plotOptions:{radialBar:{hollow:{size:"55%"}}},labels:["Progress"]}),ue=V({series:[],chart:{height:295,type:"pie",toolbar:{show:!1}},labels:["Active","Pending","Completed","Canceled"],colors:[t.accent,t.info,t.primary,t.orange],legend:{position:"right",horizontalAlign:"center"},responsive:[{breakpoint:480,options:{chart:{width:315,toolbar:{show:!1}},legend:{position:"top"}}}],dataLabels:{enabled:!1}}),me=()=>{d.value=!d.value},pe=()=>{c.value=!c.value},he=j(!1),fe=()=>{he.value=!he.value},ve=()=>{try{u.value=!0;a.delete(`/api/project/${s.params.id}/`);l.green("Selected project deleted successfully!"),i.push("/sidebar/dashboard/projects")}catch(e){console.log(e)}finally{u.value=!1}};j(0);const ge=async()=>{try{r.value=!0;const e=await a.get(`/api/project/${k.value}/`);O.value=e.data;let t=e.data.percentage.toFixed(2);K.value.series.push(t),b.value=e.data.image,h.value=e.data.managers?e.data.managers:[],ye()}catch(e){console.log(e)}finally{r.value=!1}};j([]);const ye=async()=>{try{r.value=!0;const e=await a.get(`api/task/${s.params.id}/project/`);L.value=e.data;const t={pending:0,completed:0,active:0,canceled:0};L.value.forEach((e=>{const a=e.status||"Unknown";void 0!==t[a]&&t[a]++})),ue.value.series=[t.completed,t.pending,t.active,t.canceled],r.value=!1}catch(e){console.log(e),r.value=!1}},be=j([]),ke=async()=>{try{O.value.managers=be.value;let e=ce(O.value,["image"]);e.delete("clientInfo"),e.delete("contractorInfo"),"object"==typeof O.value.client&&e.delete("client"),"object"==typeof O.value.contractor&&e.delete("contractor");const t=await a.patch(`/api/project/${s.params.id}/`,e);c.value=!1,d.value=!1,l.green("Project updated successfully"),he.value=!1,ge(t.data.id)}catch(e){console.log(e)}};j("");const _e=e=>{g.value=e},xe=e=>{y.value=e};return C((async()=>{k.value=s.params.id,ge(),(async()=>{try{u.value=!0;const e=await a.get("/api/users/",{});_.value=e.data.filter((e=>"worker"==e.role)),m.value=e.data.filter((e=>"client"==e.role)),p.value=e.data.filter((e=>"contractor"==e.role)),f.value=e.data.filter((e=>"manager"==e.role)),v.value=f.value.map((e=>({value:e.id.toString(),name:`${e.username}`,supplier:e.partner?e.partner:"",image:e.avatar}))),console.log("data",_.value)}catch(e){console.log(e)}finally{u.value=!1}})(),await ye(),(async()=>{try{const e=await a.get(`/api/task/today-tasks/?project=${s.params.id}`);w.value=e.data}catch(e){console.log(e)}})()})),(e,t)=>{const a=ne,l=ie,u=H("Address"),f=Q,g=se,y=H("Tippy"),b=H("Multiselect"),k=le,_=ae,x=te,w=Z,j=ee,C=X,N=J,W=we;return D(),M("div",Ce,[P("div",De,[P("div",Me,[P("div",Re,["admin"==I(n).user.role||"manager"==I(n).user.role?(D(),z(a,{key:0,style:{position:"absolute",top:"10px","font-size":"18px","font-weight":"600",right:"36px",color:"var(--info)"},class:"cu-pointer",onClick:t[0]||(t[0]=()=>{I(i).push(`/sidebar/dashboard/projects/add-project/?id=${I(O).id}`)}),icon:"lucide:edit"})):U("",!0),"admin"==I(n).user.role||"manager"==I(n).user.role?(D(),z(a,{key:1,style:{position:"absolute",top:"10px","font-size":"18px","font-weight":"600",right:"10px",color:"var(--danger)"},class:"cu-pointer",onClick:ve,icon:"lucide:trash"})):U("",!0),R(l,{picture:I(O).image,squared:"",color:"primary",badge:"/images/icons/flags/united-states-of-america.svg",size:"xxl"},null,8,["picture"]),P("div",Se,[P("h3",Pe,T(I(O).title?I(O).title:"N/A"),1),P("p",Te,[F(" Current status: "),P("span",Ie,T("pending"===I(O).status?"Pre Construction":I(O).status.charAt(0).toUpperCase()+I(O).status.slice(1)),1)]),R(u,null,{default:S((()=>[Ne,F(" "+T(I(O).address),1)])),_:1})]),P("div",We,[Ee,P("p",Ve," Started at: "+T(I(O)?.startDate?I(O)?.startDate:"N/A"),1),P("p",He," Expected end: "+T(I(O)?.endDate?I(O)?.endDate:"N/A"),1),P("p",ze," Total jobs: "+T(I(O).total_tasks?I(O).total_tasks:"N/A")+" Tasks ",1)]),P("div",null,[P("div",Ue,[I(r)?U("",!0):(D(),z(I(oe),{key:0,id:"completion-chart",height:I(K).height,type:I(K).type,series:I(K).series,options:I(K)},null,8,["height","type","series","options"]))]),Fe])])])]),"admin"==I(n).user.role||"manager"==I(n).user.role||"client"==I(n).user.role?(D(),M("div",Ae,[P("div",$e,[P("ul",null,[P("li",{class:A(["detail"===I(o)&&"is-active"])},[P("a",{tabindex:"0",role:"button",onKeydown:t[1]||(t[1]=$(Y((e=>o.value="detail"),["prevent"]),["space"])),onClick:t[2]||(t[2]=e=>o.value="detail")},Be,32)],2),P("li",{class:A(["calendar"===I(o)&&"is-active"])},[P("a",{tabindex:"0",role:"button",onKeydown:t[3]||(t[3]=$(Y((e=>o.value="calendar"),["prevent"]),["space"])),onClick:t[4]||(t[4]=e=>o.value="calendar")},Ge,32)],2),P("li",{class:A(["tasks"===I(o)&&"is-active"])},[P("a",{tabindex:"0",role:"button",onKeydown:t[5]||(t[5]=$(Y((e=>o.value="tasks"),["prevent"]),["space"])),onClick:t[6]||(t[6]=e=>o.value="tasks")},qe,32)],2),Oe])])])):U("",!0),"detail"===I(o)?(D(),M("div",Le,["admin"==I(n).user.role||"manager"==I(n).user.role?(D(),M("div",Ye,[P("div",Ke,[P("div",{innerHTML:I(O).description},null,8,Qe)]),P("div",Je,[R(f,{projectId:I(s).params.id,files:I(O).uploaded_files,"onUpdate:onUploadFile":ge},null,8,["projectId","files"])]),P("div",Xe,[Ze,0!=I(L).length?(D(),z(I(oe),{key:0,height:I(ue).chart.height,type:I(ue).chart.type,series:I(ue).series,options:I(ue)},null,8,["height","type","series","options"])):U("",!0)])])):U("",!0),P("div",{class:A("admin"==I(n).user.role||"manager"==I(n).user.role?"column is-4":"column is-12")},[P("div",et,[P("div",tt,[at,"admin"==I(n).user.role||"manager"==I(n).user.role?(D(),M("a",{key:0,onClick:fe,class:"action-link",tabindex:"0"},T(I(he)?"Close":"Edit"),1)):U("",!0)]),P("div",lt,[I(h).length>0?(D(),M("ul",st,[(D(!0),M(B,null,G(I(h),(e=>(D(),M("li",{key:e.id},[P("div",null,[R(y,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:S((()=>[R(g,{user:e},null,8,["user"])])),default:S((()=>[R(l,{picture:e.avatar},null,8,["picture"])])),_:2},1024)]),P("div",it,[P("div",nt,T(e.username),1),P("div",ot,T(e.email),1)]),rt])))),128))])):(D(),M("ul",ct,dt)),I(he)?(D(),M("div",ut,[R(_,null,{default:S((({id:e})=>[R(k,null,{default:S((()=>[R(b,{modelValue:I(be),"onUpdate:modelValue":t[7]||(t[7]=e=>q(be)?be.value=e:null),attrs:{id:e},mode:"tags",placeholder:"Select manager","track-by":"name",label:"name",searchable:!0,"create-tag":!0,options:I(v),"max-height":145},null,8,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])):U("",!0),P("div",mt,[I(he)?(D(),M("a",pt)):U("",!0),I(he)?(D(),M("a",{key:1,onClick:ke,class:"action-link",tabindex:"0"},"Save ")):U("",!0)])])]),P("div",ht,[P("div",ft,[vt,"admin"==I(n).user.role||"manager"==I(n).user.role?(D(),M("a",{key:0,onClick:pe,class:"action-link",tabindex:"0"},T(I(c)?"Close":"Edit"),1)):U("",!0)]),P("div",gt,[I(O).client?(D(),M("ul",yt,[P("li",null,[P("div",null,[R(y,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:S((()=>[R(g,{user:I(O).client},null,8,["user"])])),default:S((()=>[R(l,{picture:I(O).client.avatar},null,8,["picture"])])),_:1})]),P("div",bt,[P("div",kt,T(I(O).client.username),1),P("div",_t,T(I(O).client.email),1)]),xt])])):(D(),M("ul",wt,jt)),I(c)?(D(),M("div",Ct,[R(_,null,{default:S((()=>[R(x,null,{default:S((()=>[F("Select client")])),_:1}),R(k,null,{default:S((()=>[R(j,{modelValue:I(O).client,"onUpdate:modelValue":t[8]||(t[8]=e=>I(O).client=e),onChange:ke},{default:S((()=>[R(w,{value:""},{default:S((()=>[F(" Clients ")])),_:1}),(D(!0),M(B,null,G(I(m),(e=>(D(),z(w,{key:e.id,value:e.id},{default:S((()=>[F(T(e.username),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])):U("",!0)])]),P("div",Dt,[P("div",Mt,[Rt,"admin"==I(n).user.role||"manager"==I(n).user.role?(D(),M("a",{key:0,onClick:me,class:"action-link",tabindex:"0"},T(I(d)?"Close":"Edit"),1)):U("",!0)]),P("div",St,[I(O).contractor?(D(),M("ul",Pt,[P("li",null,[P("div",null,[R(y,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:S((()=>[R(g,{user:I(O).contractor},null,8,["user"])])),default:S((()=>[R(l,{picture:I(O).contractor.avatar},null,8,["picture"])])),_:1})]),P("div",Tt,[P("div",It,T(I(O).contractor.username),1),P("div",Nt,T(I(O).contractor.email),1)]),Wt])])):(D(),M("ul",Et,Vt)),I(d)?(D(),M("div",Ht,[R(_,null,{default:S((()=>[R(x,null,{default:S((()=>[F("Select contractor")])),_:1}),R(k,null,{default:S((()=>[R(j,{modelValue:I(O).contractor,"onUpdate:modelValue":t[9]||(t[9]=e=>I(O).contractor=e),onChange:ke},{default:S((()=>[(D(!0),M(B,null,G(I(p),(e=>(D(),z(w,{key:e.id,value:e.id},{default:S((()=>[F(T(e.username),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])):U("",!0)])]),P("div",zt,[R(C,{projectId:I(s).params.id},null,8,["projectId"])])],2)])):U("",!0),"tasks"===I(o)?(D(),M("div",Ut,[P("div",Ft,[R(N,{"onUpdate:completedTasks":_e,"onUpdate:activeTasks":xe,projectID:I(s).params.id},null,8,["projectID"])])])):U("",!0),"calendar"===I(o)?(D(),M("div",At,[R(W,{projectID:I(s).params.id},null,8,["projectID"])])):U("",!0)])}}}),[["__scopeId","data-v-0eb5219c"]]);export{$t as _};
