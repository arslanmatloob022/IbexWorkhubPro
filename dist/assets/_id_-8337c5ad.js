import{e,r as l,s,o as a,b as t,_ as i,B as o,C as n,I as r,D as c,H as u,l as d,J as p,K as m,L as v,W as y,E as g,F as _,M as f,N as b,G as h,j as x,U as C,V as w,T as k,ar as A,a3 as V,O as j,aA as I,P as N,Q as S,R as T,x as P,z as B}from"./index-0b5beb63.js";import{_ as R}from"./SweetAlert.vue_vue_type_style_index_0_lang-4d05d8dc.js";import{_ as M,a as U}from"./VOption.vue_vue_type_style_index_0_lang-98b43832.js";import{_ as L}from"./VField.vue_vue_type_script_setup_true_lang-f78e6aa1.js";import{_ as O}from"./VControl-aa90594a.js";import{_ as D}from"./VAvatar.vue_vue_type_style_index_0_lang-cbd0efae.js";import{_ as z}from"./VIconButton-8a078714.js";import{u as E,a as $}from"./useAPI-7cb6365b.js";import{m as q}from"./upload-3-9c2c9671.js";import{u as H}from"./company-a5bc0a12.js";import{u as K}from"./useNotyf-5fa99148.js";import{m as W,a as F}from"./useSupportElement-5c22c6f0.js";import{_ as Y}from"./CompanyContract-7e40442e.js";import{u as G}from"./viewWrapper-0ef1ed3b.js";import"./useVFieldContext-ec0b50da.js";import"./VLabel.vue_vue_type_script_setup_true_lang-f454a4c2.js";import"./userSession-acc5debe.js";import"./notyf-b3db8698.js";import"./useThemeColors-a1156f44.js";import"./VModal.vue_vue_type_style_index_0_lang-4fa8f766.js";import"./SiteJobs-ae5ddb45.js";import"./VSwitchBlock.vue_vue_type_style_index_0_lang-60e0beee.js";import"./RotaView-7eae41be.js";import"./VCollapse.vue_vue_type_style_index_0_lang-4af528c1.js";import"./VIcon.vue_vue_type_script_setup_true_lang-e215e78c.js";import"./VInput.vue_vue_type_script_setup_true_lang-d81d4e6d.js";import"./VPlaceholderPage.vue_vue_type_style_index_0_lang-4bb44ccd.js";import"./vue3-apexcharts.common-104d507e.js";import"./vue.runtime.esm-bundler-88caac5b.js";import"./projects-dark-4a371d8a.js";import"./VTag.vue_vue_type_style_index_0_lang-e52a47b2.js";import"./FullCalendar-0c81cc77.js";import"./index-55eb4335.js";import"./VTags.vue_vue_type_script_setup_true_lang-f8720793.js";import"./index-37e62c97.js";import"./VDropdown.vue_vue_type_style_index_0_lang-3e327287.js";import"./useDropdown-598690a3.js";import"./PlaceloadV3.vue_vue_type_style_index_0_lang-77a2ec2c.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-7c32f09e.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-611b9d99.js";import"./search-4-dark-2b5b440c.js";const J=e=>(N("data-v-5d80bfc6"),e=e(),S(),e),Q=["onSubmit"],Z={class:"cus-sidebar"},X=J((()=>c("li",null,null,-1))),ee=J((()=>c("div",null,null,-1))),le={class:"form-content"},se={class:""},ae={class:"modal-form columns cu-all-input is-multiline"},te=J((()=>c("div",{class:"column is-12 mb-6"},[c("h2",{class:"section-heading"},[c("i",{style:{"margin-right":"10px"},class:"fas fa-building","aria-hidden":"true"}),p(" Contact Infomation ")])],-1))),ie={class:"column is-12"},oe={class:"columns mb-0 p-0"},ne={class:"column is-6 mb-0 p-0"},re={class:"field column is-12 mb-0"},ce=J((()=>c("label",null,"Registered Company Name: *",-1))),ue={class:"control"},de={class:"field column is-12 mb-0"},pe=J((()=>c("label",null,"Company Registration Number:",-1))),me={class:"control"},ve={class:"field column is-12 mb-0"},ye=J((()=>c("label",null,"Trade Name: ",-1))),ge={class:"control"},_e=J((()=>c("label",null,"Company Logo:",-1))),fe=["src"],be={key:1},he={class:"field column is-6 mb-0"},xe=J((()=>c("label",null,"Email Address: *",-1))),Ce={class:"control"},we={class:"field column is-6 mb-0"},ke=J((()=>c("label",null,"Phone Number:",-1))),Ae={class:"control"},Ve={class:"column is-12 pb-4",style:{display:"flex","align-items":"center","justify-content":"flex-end","margin-top":"2rem"}},je={class:""},Ie={class:"modal-form columns cu-all-input is-multiline"},Ne=J((()=>c("div",{class:"column is-12 mb-6"},[c("h2",{class:"section-heading"},[c("i",{class:"lnil lnil-graph-alt-3","aria-hidden":"true"}),p(" Business Information ")])],-1))),Se={class:"field column is-4 mb-0",style:{display:"flex","flex-direction":"column",gap:"0.2rem"}},Te=J((()=>c("label",null,"Business Type: ",-1))),Pe={class:"field column is-4 mb-0",style:{display:"flex","flex-direction":"column",gap:"0.2rem"}},Be=J((()=>c("label",null,"Max Working Distance: ",-1))),Re={class:"field column is-6 mb-0"},Me=J((()=>c("label",null,"Are you VAT registered?: ",-1))),Ue={class:"control",style:{display:"flex","align-items":"center",gap:"0.7rem","margin-top":"1rem"}},Le={for:"notVatRegistered",style:{display:"flex","align-items":"center",gap:"0.5rem"}},Oe=J((()=>c("b",null,"No",-1))),De={for:"vatRegistered",style:{display:"flex","align-items":"center",gap:"0.5rem"}},ze=J((()=>c("b",null,"Yes",-1))),Ee={key:0,class:"field column is-6 mb-0"},$e=J((()=>c("label",null,"Your VAT Number: ",-1))),qe={class:"control"},He={class:"field column is-12 mb-0"},Ke=J((()=>c("label",{style:{"margin-bottom":"0.5rem"}},"Business Details",-1))),We={class:"page-content-inner"},Fe={class:"columns is-multiline"},Ye={class:"column is-12"},Ge={class:"columns"},Je={class:"column is-12 content",style:{position:"relative"}},Qe=J((()=>c("i",{class:"fas fa-robot","aria-hidden":"true",style:{"font-size":"1.5rem",cursor:"pointer"}},null,-1))),Ze={class:"column is-12 pb-4",style:{display:"flex","align-items":"center","justify-content":"flex-end","margin-top":"2rem"}},Xe={class:"content-box"},el=J((()=>c("div",{class:"column is-12 mb-6"},[c("h2",{class:"section-heading"},[c("i",{class:"iconify","data-icon":"feather:map-pin","aria-hidden":"true"}),p(" Location Information ")])],-1))),ll={class:""},sl={class:"modal-form columns cu-all-input is-multiline"},al={class:"field column is-6 mb-0"},tl=J((()=>c("label",null,"Postcode: *",-1))),il={class:"control",style:{position:"relative"}},ol=J((()=>c("i",{class:"iconify","data-icon":"feather:search","aria-hidden":"true",style:{"font-size":"1.5rem"}},null,-1))),nl=["loading"],rl={class:"field column is-6 mb-0"},cl=J((()=>c("label",null,"Business Address: ",-1))),ul={class:"control"},dl={class:"columns mb-4 p-0",style:{position:"relative","margin-left":"-2rem",cursor:"pointer"}},pl=J((()=>c("i",{style:{color:"var(--primary)","margin-left":"10px",size:"3rem"},class:"fas fa-paint-brush","aria-hidden":"true"},null,-1))),ml={class:"column is-6 pb-4"},vl={key:0,style:{position:"absolute",bottom:"-2rem","background-color":"white",width:"350px",left:"6rem","z-index":"999"}},yl={class:"colorContainer"},gl={class:"close-btn"},_l=["onClick"],fl={key:0,class:"fas fa-check","aria-hidden":"true"},bl=J((()=>c("div",{class:"column is-12 pb-2",style:{"margin-top":"0.3rem"}},[c("div",{class:"revenue-stat"},[c("div",{id:"partnerMap",style:{height:"250px",width:"100%","border-radius":"1rem"}})])],-1))),hl=T(e({__name:"CompanyLargeModal",props:{openCustomCompany:{type:Boolean},id:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:N}){const S=e,T=E(),P=K(),B=H(),Y=l(1);l(!1);const G=l(""),J=l(""),hl=l(!1),xl=l(!1),Cl=l(!1),wl=l(!1),kl=l(!1),Al=l("update");l(!1),l(0);const Vl=l(""),jl=l(!1),Il=l(""),Nl=s(),Sl=l(""),Tl=l({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),Pl=l({id:0,hexCode:""}),Bl=()=>{N("update:modalHandler",!1),console.log("modal closed"),Ml.value={name:"",trade_name:"",email:"",phone_number:"",postcode:"",latitude:"",longitude:"",logo:null,business_details:"",reg_no:"",business_type:"",covered_distance:"",vat_no:"",address:"",industry:""}},Rl=e=>{Y.value=e};!B.loggedCompany.industry||B.loggedCompany.industry;const Ml=l({id:"",name:"",trade_name:"",email:"",phone_number:"",postcode:"",latitude:"",longitude:"",logo:null,business_details:"",reg_no:"",business_type:"",covered_distance:"",vat_no:"",address:"",industry:"",company:B.loggedCompany.id,color:"#D875C7"}),Ul=()=>{Ml.value.name&&Ml.value.email&&(Ml.value.id||(Y.value=2))},Ll=async()=>{try{const e=F(Ml.value,["logo"]);if(!Ml.value.company)return P.error("Company is required!.");let l={};if(Ml.value.id){await T.patch(`/v3/api/customer-company/${Ml.value.id}/`,e);P.success("Data Added Succesfully."),N("update:OnSuccess",null),4==Y.value&&Bl()}else{await T.post("/v3/api/customer-company/",e);Bl(),P.dismissAll(),P.success("New company added"),N("update:OnSuccess",null)}if(hl.value){const e=window.location.origin;G.value=e+"/partner-signup?token="+l.data.token,J.value=l.data.password}else Y.value>3?Bl():Y.value+=1;4==Y.value&&Bl()}catch(e){P.error(e)}},Ol=()=>{xl.value=!xl.value},Dl=(e,l)=>{let s=new google.maps.Map(document.getElementById("partnerMap"),{center:{lat:e,lng:l},scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:7});new google.maps.Marker({position:{lat:e,lng:l},map:s,title:"Supplier Location"}),console.log(Ml.value.latitude)},zl=async()=>{try{const e=await $.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${Ml.value.postcode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);if("OK"===e.data.status){Ml.value.address=e.data.results[0].formatted_address;const l=e.data.results[0].geometry.location.lat;Ml.value.latitude=l;const s=e.data.results[0].geometry.location.lng;Ml.value.longitude=s,Dl(l,s),P.success("Address Added")}else"ZERO_RESULTS"===e.data.status&&P.error("Invalid Post-Code")}catch(e){P.error("Invalid Post-Code"),console.error(e)}},El=()=>{wl.value=!1},$l=async()=>{Cl.value=!0;try{const{data:e}=await T.post("v3/api/scripts/generate-content/",{prompt:`Write description in correct format related to this company ${Ml.value.name}. Which business type is ${Ml.value.business_type}.  `}),l=(e=>{const l=e.split("**"),s=[];for(let a=0;a<l.length;a++)""!==l[a]&&(a%2==0?s.push({type:"title",content:l[a].trim()}):s.push({type:"content",content:l[a].trim()}));return s})(e),s=(e=>{let l="";for(const s of e)"content"===s.type?l+=`<h3>${s.content}</h3>\n`:l+=`<p>${s.content}</p>\n`;return l})(l);console.log("formattedDescription:",l),Ml.value.business_details=s,Cl.value=!1,console.log("AI Response:",Sl.value)}catch(e){console.log(e),P.error("Something went wrong!"),Cl.value=!1}};a((async()=>{S.id&&await(async()=>{const e=await T.get(`/v3/api/customer-company/${S.id}/`);e.data.business_details||(e.data.business_details=""),Ml.value=e.data,Vl.value=e.data.logo,Dl(e.data.latitude,e.data.longitude)})()}));const ql=e=>{const l=function(e){const l=e.split(","),s=l[0].indexOf("base64")>=0?atob(l[1]):decodeURI(l[1]),a=l[0].split(":")[1].split(";")[0],t=new Uint8Array(s.length);for(let i=0;i<s.length;i++)t[i]=s.charCodeAt(i);return new Blob([t],{type:a})}(e);Ml.value.logo=l,Vl.value=e,console.log("Image URl:",e)};const Hl=["Self-employed / Sole Trader","Limited Company","Public Limited Company","Ordinary Partnership","Limited Partnership"],Kl=[5,10,15,20,25,50,75,100],Wl=t((()=>i((()=>import("./ckeditor-12299585.js").then((e=>e.c))),["assets/ckeditor-12299585.js","assets/index-0b5beb63.js","assets/index-ba348d70.css","assets/vue.runtime.esm-bundler-88caac5b.js"]).then((e=>e.default.component)))),Fl={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return a((async()=>{Nl.value=await i((()=>import("./ckeditor-ed4e27fb.js").then((e=>e.c))),["assets/ckeditor-ed4e27fb.js","assets/index-0b5beb63.js","assets/index-ba348d70.css"]).then((e=>e.default))})),(e,l)=>{const s=z,a=D,t=O,i=L,N=j,T=M,P=U,B=I,E=R;return o(),n(C,null,[S.openCustomCompany?(o(),n("form",{key:0,class:"parent-div",onSubmit:r(Ll,["prevent"]),onClose:Bl},[c("i",{class:"lnir lnir-close close-icon","aria-hidden":"true",onClick:Bl,color:"primary",elevated:""}),c("div",Z,[c("ul",null,[c("li",null,[c("div",{onClick:l[0]||(l[0]=e=>Rl(1)),class:u([{active:1===d(Y)},"cus-single-link cu-pointer"])},[c("span",{class:u(["cus-icon",{active:1===d(Y)}])}," 1 ",2),p(" Contact Infomation ")],2)]),c("li",null,[c("div",{onClick:l[1]||(l[1]=e=>Rl(2)),class:u([{active:2===d(Y)},"cus-single-link cu-pointer"])},[c("span",{class:u(["cus-icon",{active:2===d(Y)}])}," 2 ",2),p(" Businesss Information ")],2)]),c("li",null,[c("div",{onClick:l[2]||(l[2]=e=>Rl(3)),class:u([{active:3===d(Y)},"cus-single-link cu-pointer"])},[c("span",{class:u(["cus-icon",{active:3===d(Y)}])}," 3 ",2),p(" Location Information ")],2)]),X]),ee]),c("div",le,[m(c("div",{class:"content-box",onClick:El},[m(c("div",se,[c("div",ae,[te,c("div",ie,[c("div",oe,[c("div",ne,[c("div",re,[ce,c("div",ue,[m(c("input",{type:"text",name:"registeredCompanyName","onUpdate:modelValue":l[3]||(l[3]=e=>d(Ml).name=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Registered Company Name"},null,512),[[y,d(Ml).name]])])]),c("div",de,[pe,c("div",me,[m(c("input",{type:"text",name:"companyRegistrationNumber","onUpdate:modelValue":l[4]||(l[4]=e=>d(Ml).reg_no=e),class:"input is-primary-focus is-primary-focus",placeholder:"Company Registration Number"},null,512),[[y,d(Ml).reg_no]])])]),c("div",ve,[ye,c("div",ge,[m(c("input",{type:"text",name:"tradename","onUpdate:modelValue":l[5]||(l[5]=e=>d(Ml).trade_name=e),class:"input is-primary-focus is-primary-focus",placeholder:"Trade Name"},null,512),[[y,d(Ml).trade_name]])])])]),g(i,{class:"column is-6"},{default:_((()=>[_e,g(t,{class:"is-flex is-justify-content-center mt-5"},{default:_((()=>[g(a,{size:"xl",class:"profile-v-avatar mt-4"},{avatar:_((()=>[d(kl)?f("",!0):(o(),n("img",{key:0,class:"avatar",src:d(Vl)?d(Vl):"/images/avatars/placeholder.jpg",alt:""},null,8,fe)),"update"==d(Al)?(o(),n("span",be,[d(kl)?(o(),b(s,{key:1,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:arrow-left",class:"edit-button is-back",circle:"",tabindex:"0",onKeydown:l[8]||(l[8]=h(r((e=>kl.value=!1),["prevent"]),["space"])),onClick:l[9]||(l[9]=e=>kl.value=!1)})):(o(),b(s,{key:0,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:edit-2",class:"edit-button is-edit",circle:"",tabindex:"0",onKeydown:l[6]||(l[6]=h(r((e=>kl.value=!0),["prevent"]),["space"])),onClick:l[7]||(l[7]=()=>{jl.value=!d(jl)})}))])):f("",!0)])),_:1})])),_:1}),g(d(q),{field:"img",onCropSuccess:ql,modelValue:d(jl),"onUpdate:modelValue":l[10]||(l[10]=e=>x(jl)?jl.value=e:null),noRotate:!1,noSquare:!1,langType:"en","img-format":"png/jpg"},null,8,["modelValue"])])),_:1})])]),c("div",he,[xe,c("div",Ce,[m(c("input",{type:"email",name:"emailAddress","onUpdate:modelValue":l[11]||(l[11]=e=>d(Ml).email=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Email Address"},null,512),[[y,d(Ml).email]])])]),c("div",we,[ke,c("div",Ae,[m(c("input",{type:"tel",name:"phoneNumber","onUpdate:modelValue":l[12]||(l[12]=e=>d(Ml).phone_number=e),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,512),[[y,d(Ml).phone_number]])])]),c("div",Ve,[g(N,{type:"submit",onClick:Ul,class:"next-tag",style:{width:"6rem"}},{default:_((()=>[p(" Next ")])),_:1})])])],512),[[v,1===d(Y)]])],512),[[v,1===d(Y)]]),m(c("div",je,[c("div",Ie,[Ne,c("div",Se,[Te,g(i,null,{default:_((()=>[g(t,null,{default:_((()=>[g(P,{modelValue:d(Ml).business_type,"onUpdate:modelValue":l[13]||(l[13]=e=>d(Ml).business_type=e),name:"business_type",class:"is-rounded"},{default:_((()=>[g(T,{value:""},{default:_((()=>[p("Please select")])),_:1}),(o(),n(C,null,w(Hl,((e,l)=>g(T,{value:e,key:l},{default:_((()=>[p(k(e),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),g(i,{id:"interests",class:"pb-4",label:""})]),c("div",Pe,[Be,g(i,null,{default:_((()=>[g(t,null,{default:_((()=>[g(P,{modelValue:d(Ml).covered_distance,"onUpdate:modelValue":l[14]||(l[14]=e=>d(Ml).covered_distance=e),name:"covered_distance",class:"is-rounded"},{default:_((()=>[g(T,{value:""},{default:_((()=>[p("Please select")])),_:1}),(o(),n(C,null,w(Kl,((e,l)=>g(T,{value:e,key:l},{default:_((()=>[p(k(e)+" miles ",1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),g(i,{id:"interests",class:"pb-4",label:""})]),c("div",Re,[Me,c("div",Ue,[c("label",Le,[m(c("input",{id:"notVatRegistered",type:"radio",name:"vat","onUpdate:modelValue":l[15]||(l[15]=e=>x(Il)?Il.value=e:null),value:"No",style:{},placeholder:"VAT number"},null,512),[[A,d(Il)]]),Oe,p(" I'm not VAT registered ")]),c("label",De,[m(c("input",{id:"vatRegistered",type:"radio",name:"vat","onUpdate:modelValue":l[16]||(l[16]=e=>x(Il)?Il.value=e:null),value:"Yes",style:{},placeholder:"VAT number"},null,512),[[A,d(Il)]]),ze,p(" I'm VAT registered ")])])]),"Yes"===d(Il)?(o(),n("div",Ee,[$e,c("div",qe,[m(c("input",{type:"text",name:"vatnumber","onUpdate:modelValue":l[17]||(l[17]=e=>d(Ml).vat_no=e),class:"input is-primary-focus is-primary-focus",placeholder:"VAT Number"},null,512),[[y,d(Ml).vat_no]])])])):f("",!0)]),c("div",He,[Ke,c("div",We,[c("div",Fe,[c("div",Ye,[c("div",Ge,[c("div",Je,[g(N,{color:"primary",raised:"",loading:d(Cl),style:{position:"absolute","z-index":"50",top:"0.9rem",right:"2rem",width:"2rem"},title:"Write description with AI.",onClick:$l},{default:_((()=>[Qe])),_:1},8,["loading"]),d(Nl)?(o(),b(d(Wl),{key:0,modelValue:d(Ml).business_details,"onUpdate:modelValue":l[18]||(l[18]=e=>d(Ml).business_details=e),editor:d(Nl),config:Fl},null,8,["modelValue","editor"])):(o(),b(B,{key:1,height:"500px"}))])])])])])]),c("div",Ze,[g(N,{type:"button",onClick:l[19]||(l[19]=()=>{d(Ml).id?Ll():Y.value=3}),class:"next-tag",style:{width:"6rem"}},{default:_((()=>[p(" Next ")])),_:1})])],512),[[v,2===d(Y)]]),m(c("div",Xe,[el,c("div",ll,[c("div",sl,[c("div",al,[tl,c("div",il,[g(N,{color:"primary",light:"",style:{position:"absolute",right:"0.2rem",top:"0.3rem","z-index":"10",width:"3rem","border-radius":"2rem"},onClick:zl},{default:_((()=>[ol])),_:1}),m(c("input",{type:"text",name:"postCode",autocomplete:"off",required:"",loading:d(Cl),"onUpdate:modelValue":l[20]||(l[20]=e=>d(Ml).postcode=e),class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Enter post code "},null,8,nl),[[y,d(Ml).postcode]])])]),c("div",rl,[cl,c("div",ul,[m(c("input",{type:"text",name:"businessAdress","onUpdate:modelValue":l[21]||(l[21]=e=>d(Ml).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Business Address"},null,512),[[y,d(Ml).address]])])]),c("div",dl,[c("div",{class:"column is-6 pb-4 cus-input-label",style:{display:"flex","align-items":"center",gap:"0.5rem",color:"#bbb","font-weight":"500",width:"100%"},onClick:Ol},[p(" Color "),pl]),c("div",ml,[c("div",null,[c("div",{onClick:Ol,class:"color-pellate"},[c("div",{class:"current-color-div",style:V({backgroundColor:d(Ml).color})},null,4)])])]),d(xl)?(o(),n("div",vl,[c("div",yl,[c("div",gl,[c("i",{onClick:l[22]||(l[22]=e=>xl.value=!1),class:"lnir lnir-close","aria-hidden":"true"})]),(o(!0),n(C,null,w(d(W),((e,l)=>(o(),n("div",{key:e.id,onClick:l=>(e=>{Pl.value=e,xl.value=!1,Ml.value={...Ml.value,color:e.hexCode}})(e),style:V({backgroundColor:e.hexCode}),class:"colorDiv"},[d(Pl)==e?(o(),n("i",fl)):f("",!0)],12,_l)))),128))])])):f("",!0)]),bl]),g(N,{loading:d(Cl),type:"submit",color:"primary",raised:"",style:{float:"right"}},{default:_((()=>[p("Save & close")])),_:1},8,["loading"])])],512),[[v,3===d(Y)]])])],40,Q)):f("",!0),d(Tl).isSweetAlertOpen?(o(),b(E,{key:1,isSweetAlertOpen:d(Tl).isSweetAlertOpen,title:d(Tl).title,subtitle:d(Tl).subtitle,btntext:d(Tl).btntext,onCancel:()=>d(Tl).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0)],64)}}}),[["__scopeId","data-v-5d80bfc6"]]),xl=e=>(N("data-v-b1772040"),e=e(),S(),e),Cl={class:"left-profile-wrapper"},wl={class:"left-profile-image"},kl=["src"],Al={class:"left-profile-content"},Vl={class:"left-profileContent",style:{display:"flex","flex-direction":"column",gap:"0.1rem","margin-top":"0.3srem"}},jl={class:"Brooks-Brothers",style:{"font-family":"sans-serif"}},Il={style:{}},Nl={style:{}},Sl={class:"is-flex"},Tl={style:{display:"flex","align-items":"center","flex-direction":"column",gap:"1.3rem"}},Pl=xl((()=>c("div",{class:"",style:{display:"flex","align-items":"center"}},[c("div",{class:"is-flex flex-columns justify-center",style:{width:"200px","border-radius":"1rem",overflow:"hidden",height:"80px"}})],-1))),Bl=xl((()=>c("i",{class:"fas fa-pen","aria-hidden":"true",style:{opacity:"1",color:"#179e9b","margin-right":"0.5rem"}},null,-1))),Rl={class:"tabs-wrapper"},Ml={class:"tabs-inner"},Ul={class:"tabs is-toggle"},Ll=[xl((()=>c("span",null,"Contact Info",-1)))],Ol=[xl((()=>c("span",null,"Businesss Info",-1)))],Dl=[xl((()=>c("span",null,"Location Info ",-1)))],zl=[xl((()=>c("span",null,"Contract / Site ",-1)))],El={class:"",style:{"margin-top":"3.5rem"}},$l={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},ql={class:"partnerInfo1",style:{}},Hl={class:"",style:{}},Kl=xl((()=>c("h4",{class:"title is-6 mb-2 mt-4",style:{color:"var(--light-text)"}}," Registered Company Name ",-1))),Wl={class:"title is-6"},Fl={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},Yl={class:"",style:{}},Gl=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Company Registration Number ",-1))),Jl={class:"title is-6"},Ql={class:"",style:{}},Zl=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Trade Name ",-1))),Xl={class:"title is-6"},es={class:"",style:{width:"100%"}},ls=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Email Address ",-1))),ss={class:"title is-6"},as={class:"",style:{width:"100%"}},ts=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Phone Number ",-1))),is={class:"title is-6"},os={class:"",style:{width:"100%"}},ns=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Assigned Color ",-1))),rs={class:"",style:{"margin-top":"3.5rem"}},cs={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},us={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},ds={class:"",style:{}},ps=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Type ",-1))),ms={class:"title is-6"},vs={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},ys={class:"",style:{width:"12rem"}},gs=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Max Working Distance ",-1))),_s={class:"title is-6"},fs={class:"",style:{}},bs=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Area ",-1))),hs={class:"title is-6"},xs={class:"",style:{width:"100%"}},Cs=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Your VAT Number ",-1))),ws={class:"title is-6"},ks={class:"",style:{width:"100%"}},As=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Details ",-1))),Vs=["innerHTML"],js={class:"",style:{"margin-top":"3.5rem"}},Is={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},Ns={class:"",style:{width:"100%"}},Ss=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Postcode ",-1))),Ts={class:"title is-6"},Ps={class:"",style:{width:"100%"}},Bs=xl((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Address ",-1))),Rs={class:"title is-6"},Ms=xl((()=>c("div",{class:"",style:{width:"100%"}},[c("h4",{style:{"font-size":"15px"},class:"title is-6 mb-4 mt-4"}," Business location "),c("div",{id:"supplierMap",style:{height:"200px",width:"340px","margin-top":"12px","border-radius":"10px"}})],-1))),Us={class:"",style:{"margin-top":"3.5rem"}},Ls=T(e({__name:"CompaniesDetails",setup(e){const s=G(),t=P(),i=E(),y=l("contact");K(),l("partner"),l("#8b8df2");const x=l({id:"",name:"",trade_name:"",email:"",phone_number:"",postcode:"",latitude:"",longitude:"",logo:null,business_details:"",reg_no:"",business_type:"",covered_distance:"",vat_no:"",address:"",industry:"",company:0,color:"",profileStats:{percentage:10}}),w=l(!1);l(""),l(0),l(!1),l([{name:"Guard & Security"},{name:"Guard & Cleaning"}]),l([{name:"Supplier"},{name:"UnSpecified"}]);const A=async()=>{const e=await i.get(`/v3/api/customer-company/${t.params.id}/`);console.log("Companies Data:",e.data),x.value=e.data,console.log("Form Data:",x.value.name),s.setPageTitle("Business Infomation"),I(e.data.latitude,e.data.longitude)},I=(e,l)=>{let s=new google.maps.Map(document.getElementById("supplierMap"),{center:{lat:e,lng:l},scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:7});new google.maps.Marker({position:{lat:e,lng:l},map:s,title:"Supplier Location",icon:{path:"M-1.547 12l6.563-6.609-1.406-1.406-5.156 5.203-2.063-2.109-1.406 1.406zM0 0q2.906 0 4.945 2.039t2.039 4.945q0 1.453-0.727 3.328t-1.758 3.516-2.039 3.070-1.711 2.273l-0.75 0.797q-0.281-0.328-0.75-0.867t-1.688-2.156-2.133-3.141-1.664-3.445-0.75-3.375q0-2.906 2.039-4.945t4.945-2.039z",scale:2.5,strokeWeight:2,fillColor:x.value.color,fillOpacity:1,strokeColor:x.value.color,anchor:new google.maps.Point(0,20)}})};return a((async()=>{await A()})),(e,l)=>{const s=j,a=Y,i=hl;return o(),n(C,null,[c("div",null,[c("div",{class:"sup-profile rounded mb-4 space-between",style:V({backgroundImage:`linear-gradient(to right, ${x.value.color}50, ${x.value.color}30, ${x.value.color}10)`})},[c("div",Cl,[c("div",wl,[c("img",{src:null==x.value.logo?"/images/logoplaceholder.png":x.value.logo},null,8,kl)]),c("div",Al,[c("div",Vl,[c("h3",jl,k(x.value.name),1),c("span",Il,k(x.value.email?x.value.email:"N/A"),1),c("span",Nl,k(x.value.phone_number?x.value.phone_number:"N/A"),1)])])]),c("div",Sl,[c("div",Tl,[Pl,g(s,{class:"editbtn",onClick:l[0]||(l[0]=()=>{w.value=!0})},{default:_((()=>[Bl,p("Edit Business Details")])),_:1})])])],4),c("div",Rl,[c("div",Ml,[c("div",Ul,[c("ul",null,[c("li",{class:u(["contact"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[1]||(l[1]=h(r((e=>y.value="contact"),["prevent"]),["space"])),onClick:l[2]||(l[2]=e=>y.value="contact")},Ll,32)],2),c("li",{class:u(["businesss"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[3]||(l[3]=h(r((e=>y.value="businesss"),["prevent"]),["space"])),onClick:l[4]||(l[4]=e=>y.value="businesss")},Ol,32)],2),c("li",{class:u(["location"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[5]||(l[5]=h(r((e=>y.value="location"),["prevent"]),["space"])),onClick:l[6]||(l[6]=e=>y.value="location")},Dl,32)],2),c("li",{class:u(["contract"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[7]||(l[7]=h(r((e=>y.value="contract"),["prevent"]),["space"])),onClick:l[8]||(l[8]=e=>y.value="contract")},zl,32)],2)])])]),m(c("div",El,[c("div",$l,[c("div",ql,[c("div",Hl,[Kl,c("h4",Wl,k(x.value.name),1)])]),c("div",Fl,[c("div",Yl,[Gl,c("h4",Jl,k(x.value.reg_no?x.value.reg_no:"N/A"),1)]),c("div",Ql,[Zl,c("h4",Xl,k(x.value.trade_name?x.value.trade_name:"N/A"),1)])]),c("div",es,[ls,c("h4",ss,k(x.value.email?x.value.email:"N/A"),1)]),c("div",as,[ts,c("h4",is,k(x.value.phone_number?x.value.phone_number:"N/A"),1)]),c("div",os,[ns,c("div",{style:V([{width:"60px",height:"24px","border-radius":"6px"},{backgroundColor:x.value.color}])},k(x.value.color?" ":"N/A"),5)])])],512),[[v,"contact"==y.value]]),m(c("div",rs,[c("div",cs,[c("div",us,[c("div",ds,[ps,c("h4",ms,k(x.value.business_type?x.value.business_type:"N/A"),1)])]),c("div",vs,[c("div",ys,[gs,c("h4",_s,k(x.value.covered_distance?x.value.covered_distance:"N/A")+" miles ",1)]),c("div",fs,[bs,c("h4",hs,k(x.value.industry?x.value.industry:"N/A"),1)])]),c("div",xs,[Cs,c("h4",ws,k(x.value.vat_no?x.value.vat_no:"N/A"),1)]),c("div",ks,[As,c("div",{innerHTML:x.value?.business_details,class:"ckeditor",style:{"font-weight":"500","margin-left":"0.5rem",color:"#111"}},null,8,Vs)])])],512),[[v,"businesss"==y.value]]),m(c("div",js,[c("div",Is,[c("div",Ns,[Ss,c("h4",Ts,k(x.value.postcode?x.value.postcode:"N/A"),1)]),c("div",Ps,[Bs,c("h4",Rs,k(x.value.address?x.value.address:"N/A"),1)]),Ms])],512),[[v,"location"==y.value]]),m(c("div",Us,[g(a,{companyLogo:x.value.logo,companyName:x.value.name},null,8,["companyLogo","companyName"])],512),[[v,"contract"==y.value]])])]),w.value?(o(),b(i,{key:0,id:d(t).params.id,openCustomCompany:w.value,"onUpdate:modalHandler":l[9]||(l[9]=e=>(w.value=e,A()))},null,8,["id","openCustomCompany"])):f("",!0)],64)}}}),[["__scopeId","data-v-b1772040"]]),Os={class:""},Ds=e({__name:"[id]",setup:e=>(G().setPageTitle("Contract Info"),B({title:"Contract - Arez"}),(e,l)=>{const s=Ls;return o(),n("div",Os,[g(s)])})});export{Ds as default};
