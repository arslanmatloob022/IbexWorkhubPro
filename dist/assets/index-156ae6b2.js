import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-ce84437f.js";import{e as l,s as a,r as t,o as s,B as i,N as n,F as o,D as d,E as u,K as c,l as r,W as m,J as p,I as v,a4 as f,O as _,b as y,_ as b,A as g,C as h,ab as V,aE as C,M as x,a0 as w,aF as k,w as j,j as S,T as U,H as A,G as M,U as N,V as T,v as I,Z as L,aR as O,ak as P,z as H}from"./index-41c1d4c3.js";import{_ as D}from"./VModal.vue_vue_type_style_index_0_lang-66804731.js";import{_ as E}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-638d4dc5.js";import{_ as $}from"./VControl-db12f189.js";import{_ as R}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-14057c22.js";import{u as z,a as F}from"./useAPI-fae93b26.js";import{u as W}from"./useNotyf-c1b8fa56.js";import{a as Z,e as q,g as B}from"./useSupportElement-f5e44e49.js";import{u as J}from"./userSession-ab745698.js";import{_ as K}from"./VField.vue_vue_type_script_setup_true_lang-6b80d931.js";import{_ as G,a as Y}from"./VOption.vue_vue_type_style_index_0_lang-d7e1fa57.js";import{_ as Q}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-6842c2ba.js";import{_ as X,c as ee}from"./VFlexTable.vue_vue_type_style_index_0_lang-9e048231.js";import{_ as le}from"./VDropdown.vue_vue_type_style_index_0_lang-1788e2e4.js";import{_ as ae}from"./VTag.vue_vue_type_style_index_0_lang-b02051dd.js";import{_ as te}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-fd4e2b1f.js";import{_ as se}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-1f100ca2.js";import{_ as ie,a as ne}from"./search-4-dark-2b5b440c.js";import{u as oe}from"./viewWrapper-8b8bbce4.js";import{b as de}from"./route-block-83d24a4e.js";import"./WorksheetItems.vue_vue_type_script_setup_true_lang-63093546.js";import"./VInput.vue_vue_type_script_setup_true_lang-d6a501ac.js";import"./useVFieldContext-a35d556f.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-d4ce2307.js";import"./VAvatar.vue_vue_type_style_index_0_lang-78ef0ead.js";import"./VCheckbox.vue_vue_type_style_index_0_lang-14cf526a.js";import"./VLabel.vue_vue_type_script_setup_true_lang-1fe27879.js";import"./VRadio.vue_vue_type_style_index_0_lang-ca346f40.js";import"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-1acdfa02.js";import"./VCollapse.vue_vue_type_style_index_0_lang-7a3bcec3.js";import"./VIcon.vue_vue_type_script_setup_true_lang-d39f1e55.js";import"./notyf-4bc29bd2.js";import"./useThemeColors-35ecfc00.js";import"./VFlex.vue_vue_type_style_index_0_lang-da610d9d.js";import"./useDropdown-644089c9.js";import"./VPlaceloadWrap-bbbb2f2d.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-59d197ef.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-def5d9d7.js";const ue={class:"modal-form columns is-multiline"},ce={class:"column is-12 m-0"},re=d("div",{class:"column is-12"},[d("h3",{class:"title is-6 mb-2"},"Contact Information")],-1),me={class:"field column is-6 mb-0"},pe=d("label",null,"First Name *",-1),ve={class:"control"},fe={class:"field column is-6 mb-0"},_e=d("label",null,"Last Name ",-1),ye={class:"control"},be={class:"field column is-6 mb-0"},ge=d("label",null,"Display Name * ",-1),he={class:"control"},Ve={class:"field column is-6 mb-0"},Ce=d("label",null,"Primary Email ",-1),xe={class:"control"},we={class:"field column is-12 mb-0"},ke=d("label",null,"Street Address ",-1),je={class:"control"},Se={class:"field column is-6 mb-0"},Ue=d("label",null,"City: ",-1),Ae={class:"control"},Me={class:"field column is-3 mb-0"},Ne=d("label",null,"State: ",-1),Te={class:"control"},Ie={class:"field column is-3 mb-0"},Le=d("label",null,"Zip Code: ",-1),Oe={class:"control"},Pe={class:"field column is-6 mb-0"},He=d("label",null,"Phone ",-1),De={class:"control"},Ee={class:"field column is-6 mb-0"},$e=d("label",null,"Cell Phone ",-1),Re={class:"control"},ze=d("div",{class:"column is-12"},[d("h3",{class:"title is-6 mb-2"},"Security & Login")],-1),Fe={class:"field column is-3 mb-0"},We={class:"field column is-3 mb-0"},Ze=l({__name:"AddUpdateContactModal",props:{addUpdateContactModal:{type:Boolean},userId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const y=e;a(),J();const b=W(),g=z(),h=t(!1),V=t({}),C=t({firstName:"",lastName:"",displayName:"",address:"",city:"",state:"",zipCode:"",phone:"",cellPhone:"",email:"",latitude:"",longitude:"",loginAllowed:!1,inviteLogin:!1}),x=async()=>{try{h.value=!0;const e=Z(V.value,["profileImageURL"]);await g.post("/v3/api/worker/",e);w(),b.dismissAll(),b.success("New worker added, New Worker")}catch(e){b.error(` ${e}, New Worker`)}finally{h.value=!1}},w=()=>{l("update:modalHandler",!1)},k=async()=>{try{const e=await F.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${V.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);"OK"===e.data.status?(C.value.address=e.data.results[0].formatted_address,C.value.latitude=e.data.results[0].geometry.location.lat,C.value.longitude=e.data.results[0].geometry.location.lng,b.success("Address Added")):"ZERO_RESULTS"===e.data.status&&b.error("Invalid Post-Code")}catch(e){b.error("Invalid Post-Code"),console.error(e)}};return s((()=>{})),(e,l)=>{const a=f,t=R,s=$,b=_,g=D;return i(),n(g,{is:"form",open:y.addUpdateContactModal,title:"Contact Person",size:"big",actions:"right",onSubmit:v(x,["prevent"]),onClose:w},{content:o((()=>[d("div",ue,[d("div",ce,[u(a,{class:"columns is-multiline"},{default:o((()=>[re,d("div",me,[pe,d("div",ve,[c(d("input",{type:"text",name:"firstName","onUpdate:modelValue":l[0]||(l[0]=e=>r(C).firstName=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"First Name"},null,512),[[m,r(C).firstName]])])]),d("div",fe,[_e,d("div",ye,[c(d("input",{type:"text",name:"lastName","onUpdate:modelValue":l[1]||(l[1]=e=>r(C).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Last Name"},null,512),[[m,r(C).lastName]])])]),d("div",be,[ge,d("div",he,[c(d("input",{required:"",type:"text",name:"disName","onUpdate:modelValue":l[2]||(l[2]=e=>r(C).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Display Name"},null,512),[[m,r(C).lastName]])])]),d("div",Ve,[Ce,d("div",xe,[c(d("input",{type:"email",name:"email","onUpdate:modelValue":l[3]||(l[3]=e=>r(C).email=e),class:"input is-primary-focus is-primary-focus",placeholder:"Contact email"},null,512),[[m,r(C).email]])])]),d("div",we,[ke,d("div",je,[c(d("input",{required:"",type:"text",name:"address","onUpdate:modelValue":l[4]||(l[4]=e=>r(C).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[m,r(C).lastName]])])]),d("div",Se,[Ue,d("div",Ae,[c(d("input",{type:"text",name:"city","onUpdate:modelValue":l[5]||(l[5]=e=>r(C).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[m,r(C).city]])])]),d("div",Me,[Ne,d("div",Te,[c(d("input",{type:"text",name:"state","onUpdate:modelValue":l[6]||(l[6]=e=>r(C).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[m,r(C).state]])])]),d("div",Ie,[Le,d("div",Oe,[c(d("input",{type:"tel",name:"zipCode",onBlur:k,"onUpdate:modelValue":l[7]||(l[7]=e=>r(C).zipCode=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip code"},null,544),[[m,r(C).zipCode]])])]),d("div",Pe,[He,d("div",De,[c(d("input",{type:"tel",name:"phone","onUpdate:modelValue":l[8]||(l[8]=e=>r(C).phone=e),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,512),[[m,r(C).phone]])])]),d("div",Ee,[$e,d("div",Re,[c(d("input",{type:"tel",name:"phone","onUpdate:modelValue":l[9]||(l[9]=e=>r(C).cellPhone=e),class:"input is-primary-focus is-primary-focus",placeholder:"Cell Phone"},null,512),[[m,r(C).cellPhone]])])])])),_:1}),u(a,{class:"columns is-multiline mt-3"},{default:o((()=>[ze,d("div",Fe,[u(s,{subcontrol:""},{default:o((()=>[u(t,{thin:"",color:"primary",modelValue:r(C).loginAllowed,"onUpdate:modelValue":l[10]||(l[10]=e=>r(C).loginAllowed=e),label:"Allow login"},null,8,["modelValue"])])),_:1})]),d("div",We,[u(s,{subcontrol:""},{default:o((()=>[u(t,{thin:"",color:"primary",modelValue:r(C).inviteLogin,"onUpdate:modelValue":l[11]||(l[11]=e=>r(C).inviteLogin=e),label:"Send invite"},null,8,["modelValue"])])),_:1})])])),_:1})])])])),action:o((()=>[u(b,{loading:r(h),type:"submit",color:"primary",icon:"fas fa-plus",raised:""},{default:o((()=>[p("Add Contact")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),qe={class:"modal-form columns is-multiline"},Be={class:"field column is-full"},Je=d("label",{class:"label"},"Schedule Mail ",-1),Ke=["value"],Ge={class:"column is-full"},Ye={class:"field"},Qe=d("label",{class:"label"},"To ",-1),Xe={class:"control"},el={class:"column is-full"},ll={class:"field"},al=d("label",{class:"label"},"Subject ",-1),tl={class:"control"},sl={class:"field column is-full mt-5"},il=d("label",{class:"label"},null,-1),nl=d("i",{class:"feather:mail"},null,-1),ol=l({__name:"GenericEmailSender",props:{mailSenderModal:{type:Boolean},subject:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const f=e,j=z(),S=t(!1),U=W(),A=t(!1),M=t(""),N=a(),T=()=>{l("update:modalHandler",!1)};M.value="<b> Hi  <br />\nIbex Management <br />\n</b>";const I=t({scheduleAt:"",sendToGroup:[],sendTo:"",subject:"",message:"<b>Hi  <br />\n  Here you can enter your message that you want to deliver your recipient.\n\n  <br />\n  <br />\n  Best Regards:\n  <br />\n\nIbex Team <br />\n</b>"}),L=async()=>{try{A.value=!0;await j.post("",{sendTo:I.value.sendTo,subject:I.value.subject,message:I.value.message,scheduleAt:I.value.scheduleAt});U.success("Email sent to worker successfully"),T()}catch(e){console.log(e)}finally{A.value=!1}},O=y((()=>b((()=>import("./ckeditor-22e87a54.js").then((e=>e.c))),["assets/ckeditor-22e87a54.js","assets/index-41c1d4c3.js","assets/index-1c8d8af6.css","assets/vue.runtime.esm-bundler-a7f55734.js"]).then((e=>e.default.component)))),P={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return s((async()=>{N.value=await b((()=>import("./ckeditor-9b8dc666.js").then((e=>e.c))),["assets/ckeditor-9b8dc666.js","assets/index-41c1d4c3.js","assets/index-1c8d8af6.css"]).then((e=>e.default))})),(e,l)=>{const a=$,t=K,s=g("VDatePicker"),y=k,b=_,j=D;return i(),h("div",null,[u(w,{name:"fade-slow"},{default:o((()=>[u(j,{is:"form",open:f.mailSenderModal,title:"Schedule Email",size:"large",actions:"right",onSubmit:v(L,["prevent"]),onClose:T},{content:o((()=>[d("div",qe,[d("div",Be,[Je,u(y,null,{default:o((()=>[u(s,{modelValue:r(I).scheduleAt,"onUpdate:modelValue":l[0]||(l[0]=e=>r(I).scheduleAt=e),mode:"dateTime"},{default:o((({inputValue:e,inputEvents:l})=>[u(t,null,{default:o((()=>[u(a,{icon:"lucide:calendar"},{default:o((()=>[d("input",V({class:"input v-input",type:"text",value:e},C(l,!0)),null,16,Ke)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})]),d("div",Ge,[d("div",Ye,[Qe,d("div",Xe,[c(d("input",{type:"email",required:"",class:"input",placeholder:"Enter Mail","onUpdate:modelValue":l[1]||(l[1]=e=>r(I).sendTo=e)},null,512),[[m,r(I).sendTo]])])])]),d("div",el,[d("div",ll,[al,d("div",tl,[c(d("input",{type:"text",required:"",class:"input",placeholder:"Enter mail subject","onUpdate:modelValue":l[2]||(l[2]=e=>r(I).subject=e)},null,512),[[m,r(I).subject]])])])]),d("div",sl,[il,r(N)?(i(),n(r(O),{key:0,modelValue:r(I).message,"onUpdate:modelValue":l[3]||(l[3]=e=>r(I).message=e),editor:r(N),config:P},null,8,["modelValue","editor"])):x("",!0)])])])),action:o((()=>[u(b,{onClick:L,color:"primary",loading:r(S),raised:""},{default:o((()=>[nl,p(" Schedule Mail")])),_:1},8,["loading"])])),cancel:o((()=>[u(b,{color:"light",onClick:T,raised:""},{default:o((()=>[p("Close ")])),_:1})])),_:1},8,["open","onSubmit"])])),_:1})])}}}),dl={class:"multiselect-single-label"},ul=["src"],cl={class:"select-label-text"},rl=["src"],ml={class:"select-label-text"},pl=l({__name:"ManagersDropDown",props:{selectedManager:{}},emits:["update:modalHandler","update:OnSelectManager"],setup(e,{emit:l}){const a=e,n=z(),c=t(!1),m=t(""),p=t([{value:"",name:"",icon:""}]);j(m,((e,a)=>{l("update:OnSelectManager",m.value)}));return s((()=>{(async()=>{try{c.value=!0;const e=await n.get("/api/users/by-role/manager/",{});p.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar}))),m.value=a.selectedManager}catch(e){console.log(e)}finally{c.value=!1}})()})),(e,l)=>{const a=g("Multiselect"),t=$,s=K;return i(),h("div",null,[u(s,{class:"is-image-select",label:"Manager"},{default:o((({id:e})=>[u(t,null,{default:o((()=>[u(a,{modelValue:r(m),"onUpdate:modelValue":l[0]||(l[0]=e=>S(m)?m.value=e:null),attrs:{id:e},placeholder:"Select a manager",label:"name",options:r(p)},{singlelabel:o((({value:e})=>[d("div",dl,[d("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,ul),d("span",cl,U(e.name),1)])])),option:o((({option:e})=>[d("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,rl),d("span",ml,U(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])}}}),vl={class:"multiselect-single-label"},fl=["src"],_l={class:"select-label-text"},yl=["src"],bl={class:"select-label-text"},gl=l({__name:"ClientsDropdown",props:{selectedClient:{}},emits:["update:modalHandler","update:OnSelectClient"],setup(e,{emit:l}){const a=e,n=z(),c=t(!1),m=t(""),p=t([{value:"",name:"",icon:""}]);j(m,((e,a)=>{l("update:OnSelectClient",m.value)}));return s((()=>{(async()=>{try{c.value=!0;const e=await n.get("/api/users/by-role/client/",{});p.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar}))),m.value=a.selectedClient}catch(e){console.log(e)}finally{c.value=!1}})()})),(e,l)=>{const a=g("Multiselect"),t=$,s=K;return i(),h("div",null,[u(s,{class:"is-image-select",label:"Client"},{default:o((({id:e})=>[u(t,null,{default:o((()=>[u(a,{modelValue:r(m),"onUpdate:modelValue":l[0]||(l[0]=e=>S(m)?m.value=e:null),attrs:{id:e},placeholder:"Select a client",label:"name",options:r(p)},{singlelabel:o((({value:e})=>[d("div",vl,[d("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,fl),d("span",_l,U(e.name),1)])])),option:o((({option:e})=>[d("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,yl),d("span",bl,U(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])}}}),hl={class:"multiselect-single-label"},Vl=["src"],Cl={class:"select-label-text"},xl=["src"],wl={class:"select-label-text"},kl=l({__name:"AdminsDropdown",props:{selectedAdmins:{}},emits:["update:modalHandler","update:OnSelectAdmins"],setup(e,{emit:l}){const a=e,n=z();J();const c=t(!1),m=t([]),p=t([{value:"",name:"",icon:""}]);j(m,((e,a)=>{l("update:OnSelectAdmins",m.value)}));return s((()=>{(async()=>{try{c.value=!0;const e=await n.get("/api/users/by-role/admin/",{});p.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar}))),m.value=a.selectedAdmins}catch(e){console.log(e)}finally{c.value=!1}})()})),(e,l)=>{const a=g("Multiselect"),t=$,s=K;return i(),h("div",null,[u(s,{class:"is-image-select",label:"Sales people"},{default:o((({id:e})=>[u(t,null,{default:o((()=>[u(a,{modelValue:r(m),"onUpdate:modelValue":l[0]||(l[0]=e=>S(m)?m.value=e:null),attrs:{id:e},placeholder:"Sales people",label:"name",track:"value",mode:"tags",options:r(p)},{singlelabel:o((({value:e})=>[d("div",hl,[d("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,Vl),d("span",Cl,U(e.name),1)])])),option:o((({option:e})=>[d("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,xl),d("span",wl,U(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])}}}),jl={class:"modal-form columns is-multiline"},Sl={class:"column is-12"},Ul=d("div",{class:"column is-12"},[d("h3",{class:"title is-6 mb-2"},"Activity Information")],-1),Al={class:"field column is-6 mb-0"},Ml=d("label",null,"Activity Type *",-1),Nl={class:"control"},Tl={class:"field column is-6 mb-0"},Il=d("label",null,"Color ",-1),Ll={class:"control"},Ol={class:"field column is-6 mb-0"},Pl=d("label",null,"Activity Date * ",-1),Hl={class:"control"},Dl={class:"field column is-6 mb-0"},El=d("label",null,"Reminder: ",-1),$l={class:"field column is-6 mb-0"},Rl=d("label",null,"Start Time ",-1),zl={class:"control"},Fl={class:"field column is-6 mb-0"},Wl=d("label",null,"End Time ",-1),Zl={class:"control"},ql={class:"field column is-12 mb-0"},Bl=d("label",null,"Assigned User * ",-1),Jl={class:"multiselect-tag is-user"},Kl=["src"],Gl=["onMousedown"],Yl={class:"field column is-12 mb-0"},Ql=d("label",null,"Attendees: ",-1),Xl={class:"control"},ea=d("div",{class:"column is-12"},[d("h3",{class:"title is-6 mb-2"},"Location")],-1),la={class:"field column is-12 mb-0"},aa=d("label",null,"Street Address",-1),ta={class:"control"},sa={class:"field column is-4 mb-0"},ia=d("label",null,"City ",-1),na={class:"control"},oa={class:"field column is-4 mb-0"},da=d("label",null,"State ",-1),ua={class:"control"},ca={class:"field column is-4 mb-0"},ra=d("label",null,"Zip Code ",-1),ma={class:"control"},pa={class:"field column is-12 mb-0"},va=d("label",null,"Description ",-1),fa={class:"control"},_a=l({__name:"LeadActivityModal",props:{addUpdateContactModal:{type:Boolean},userId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const y=e;a(),J();const b=W(),V=z(),C=t(!1),w=t({});t("general");const k=t([]),j=[{value:"alice",name:"Alice Carasca",image:"https://media.cssninja.io/content/avatars/7.jpg"},{value:"erik",name:"Erik Kovalsky",image:"/images/avatars/svg/vuero-1.svg"},{value:"melany",name:"melany Wallace",image:"https://media.cssninja.io/content/avatars/25.jpg"},{value:"tara",name:"Tara Svenson",image:"https://media.cssninja.io/content/avatars/13.jpg"},{value:"mary",name:"Mary Lebowski",image:"https://media.cssninja.io/content/avatars/5.jpg"},{value:"irina",name:"Irina Vierbovsky",image:"https://media.cssninja.io/content/avatars/23.jpg"},{value:"jonathan",name:"Jonathan Krugger",image:"https://media.cssninja.io/content/avatars/32.jpg"}],A=t({type:"",color:"",status:"",activityDate:"",startTime:"",endTime:"",reminder:"",assignedUser:"",attendees:[],initiatedBy:"",address:"",city:"",state:"",zipCode:"",description:""}),M=async()=>{try{C.value=!0;const e=Z(w.value,["profileImageURL"]);await V.post("/v3/api/worker/",e);N(),b.dismissAll(),b.success("New worker added, New Worker")}catch(e){b.error(` ${e}, New Worker`)}finally{C.value=!1}},N=()=>{l("update:modalHandler",!1)};return s((()=>{})),(e,l)=>{const a=G,t=Y,s=$,b=K,V=g("Multiselect"),w=f,T=_,I=D;return i(),n(I,{is:"form",open:y.addUpdateContactModal,title:"Lead Activity",size:"large",actions:"right",onSubmit:v(M,["prevent"]),onClose:N},{content:o((()=>[d("div",jl,[d("div",Sl,[u(w,{class:"columns is-multiline"},{default:o((()=>[Ul,d("div",Al,[Ml,d("div",Nl,[c(d("input",{type:"text",name:"firstName","onUpdate:modelValue":l[0]||(l[0]=e=>r(A).type=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[m,r(A).type]])])]),d("div",Tl,[Il,d("div",Ll,[c(d("input",{type:"text",name:"color","onUpdate:modelValue":l[1]||(l[1]=e=>r(A).color=e),class:"input is-primary-focus is-primary-focus",placeholder:"Color"},null,512),[[m,r(A).color]])])]),d("div",Ol,[Pl,d("div",Hl,[c(d("input",{required:"",type:"date",name:"date","onUpdate:modelValue":l[2]||(l[2]=e=>r(A).activityDate=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Date"},null,512),[[m,r(A).activityDate]])])]),d("div",Dl,[El,u(b,null,{default:o((()=>[u(s,null,{default:o((()=>[u(t,{modelValue:r(A).reminder,"onUpdate:modelValue":l[3]||(l[3]=e=>r(A).reminder=e)},{default:o((()=>[u(a,{value:""},{default:o((()=>[p(" Select a time ")])),_:1}),u(a,{value:"1"},{default:o((()=>[p(" 1 Hrs ")])),_:1}),u(a,{value:"2"},{default:o((()=>[p(" 2 Hrs ")])),_:1}),u(a,{value:"4"},{default:o((()=>[p(" 4 Hrs ")])),_:1}),u(a,{value:"6"},{default:o((()=>[p(" 6 Hrs ")])),_:1}),u(a,{value:"8"},{default:o((()=>[p(" 8 Hrs ")])),_:1}),u(a,{value:"12"},{default:o((()=>[p("12 Hrs ")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})]),d("div",$l,[Rl,d("div",zl,[c(d("input",{type:"time",name:"starttime","onUpdate:modelValue":l[4]||(l[4]=e=>r(A).startTime=e),class:"input is-primary-focus is-primary-focus",placeholder:"Start Time"},null,512),[[m,r(A).startTime]])])]),d("div",Fl,[Wl,d("div",Zl,[c(d("input",{required:"",type:"time",name:"endtime","onUpdate:modelValue":l[5]||(l[5]=e=>r(A).endTime=e),class:"input is-primary-focus is-primary-focus",placeholder:"End Time"},null,512),[[m,r(A).endTime]])])]),d("div",ql,[Bl,u(b,{class:"is-image-tags"},{default:o((({id:e})=>[u(s,null,{default:o((()=>[u(V,{modelValue:r(k),"onUpdate:modelValue":l[7]||(l[7]=e=>S(k)?k.value=e:null),attrs:{id:e},mode:"tags",placeholder:"Select a user","track-by":"name",label:"name",search:!0,options:j,"max-height":145},{tag:o((({option:e,remove:a,disabled:t})=>[d("div",Jl,[d("img",{src:e.image,alt:""},null,8,Kl),p(" "+U(e.name)+" ",1),t?x("",!0):(i(),h("i",{key:0,role:"button",tabindex:"0",onClick:l[6]||(l[6]=v((()=>{}),["prevent"])),onMousedown:v((l=>a(e)),["prevent","stop"])},null,40,Gl))])])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})]),d("div",Yl,[Ql,d("div",Xl,[c(d("input",{type:"text",name:"phone","onUpdate:modelValue":l[8]||(l[8]=e=>r(A).attendees=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity attendees"},null,512),[[m,r(A).attendees]])])])])),_:1}),u(w,{class:"columns is-multiline mt-3"},{default:o((()=>[ea,d("div",la,[aa,d("div",ta,[c(d("input",{type:"tel",name:"phone","onUpdate:modelValue":l[9]||(l[9]=e=>r(A).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[m,r(A).address]])])]),d("div",sa,[ia,d("div",na,[c(d("input",{type:"text",name:"city","onUpdate:modelValue":l[10]||(l[10]=e=>r(A).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[m,r(A).city]])])]),d("div",oa,[da,d("div",ua,[c(d("input",{type:"text",name:"state","onUpdate:modelValue":l[11]||(l[11]=e=>r(A).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[m,r(A).state]])])]),d("div",ca,[ra,d("div",ma,[c(d("input",{type:"text",name:"state","onUpdate:modelValue":l[12]||(l[12]=e=>r(A).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip Code"},null,512),[[m,r(A).state]])])]),d("div",pa,[va,d("div",fa,[c(d("input",{type:"text",name:"state","onUpdate:modelValue":l[13]||(l[13]=e=>r(A).description=e),class:"input is-primary-focus is-primary-focus",placeholder:"Description"},null,512),[[m,r(A).description]])])])])),_:1})])])])),action:o((()=>[u(T,{loading:r(C),type:"submit",color:"primary",raised:""},{default:o((()=>[p("Create Activity")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),ya={class:"multiselect-single-label"},ba=["src"],ga={class:"select-label-text"},ha=["src"],Va={class:"select-label-text"},Ca=l({__name:"ContractorsDropDown",props:{selectedContractor:{}},emits:["update:modalHandler","update:OnSelectContractor"],setup(e,{emit:l}){const a=e,n=z();J();const c=t(!1),m=t(""),p=t([{value:"",name:"",icon:""}]);j(m,((e,a)=>{l("update:OnSelectContractor",m.value)}));return s((()=>{(async()=>{try{c.value=!0;const e=await n.get("/api/users/by-role/contractor/",{});p.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar}))),a.selectedContractor&&(m.value=a.selectedContractor)}catch(e){console.log(e)}finally{c.value=!1}})()})),(e,l)=>{const a=g("Multiselect"),t=$,s=K;return i(),h("div",null,[u(s,{class:"is-image-select",label:"Contractors"},{default:o((({id:e})=>[u(t,null,{default:o((()=>[u(a,{modelValue:r(m),"onUpdate:modelValue":l[0]||(l[0]=e=>S(m)?m.value=e:null),attrs:{id:e},placeholder:"Select a contractor",label:"name",options:r(p)},{singlelabel:o((({value:e})=>[d("div",ya,[d("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,ba),d("span",ga,U(e.name),1)])])),option:o((({option:e})=>[d("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,ha),d("span",Va,U(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])}}}),xa={class:"modal-form columns is-multiline"},wa={class:"tabs-wrapper column is-12 m-0"},ka={class:"tabs-inner mt-4"},ja={class:"tabs is-boxed"},Sa=[d("span",null,"General",-1)],Ua=[d("span",null,"Activities",-1)],Aa=[d("span",null,"Proposals",-1)],Ma={key:0,class:"column is-12"},Na=d("h3",{class:"title is-6 mb-2"},"General Information",-1),Ta={class:"columns is-multiline"},Ia={class:"field column is-12 mb-0"},La=d("label",null,"Opportunity Title: *",-1),Oa={class:"control"},Pa={class:"field column is-6 mb-0"},Ha=d("label",null,"Address: ",-1),Da={class:"control"},Ea={class:"field column is-6 mb-0"},$a=d("label",null,"City: ",-1),Ra={class:"control"},za={class:"field column is-3 mb-0"},Fa=d("label",null,"State: ",-1),Wa={class:"control"},Za={class:"field column is-3 mb-0"},qa=d("label",null,"Zip Code: ",-1),Ba={class:"control"},Ja={class:"field column is-6 mb-0"},Ka=d("label",null,"Confidence ",-1),Ga={class:"control"},Ya={class:"field column is-6 mb-0"},Qa=d("label",null,"Projected Sale Date: ",-1),Xa={class:"control"},et={class:"field column is-6 mb-0"},lt=d("label",null,"Project Type ",-1),at={class:"field column is-12 mb-0"},tt={class:"field column is-3 mb-0"},st={class:"field column is-3 mb-0"},it={class:"field column is-6 mb-0"},nt={class:"field column is-3 mb-0"},ot=d("label",null,"Estimated Revenue: ",-1),dt={class:"control"},ut={class:"field column is-3 mb-0"},ct=d("label",null,"To",-1),rt={class:"control"},mt={class:"field column is-6 mb-0"},pt=d("label",null,"Tags ",-1),vt={class:"field column is-6 mb-0"},ft=d("label",null,"Sources ",-1),_t={class:"field column is-6 mb-0"},yt=d("label",null,"Status ",-1),bt=d("h3",{class:"title is-6 mb-2"},"Notes",-1),gt={class:"field column is-12 mb-0"},ht=d("h3",{class:"title is-6 mb-2"},"Attach Documents",-1),Vt={class:"field column is-12 mb-0"},Ct=d("label",null,"Attachments ",-1),xt=d("div",{class:"file"},[d("label",{class:"file-label"},[d("input",{class:"file-input",type:"file",name:"resume"}),d("span",{class:"file-cta"},[d("span",{class:"file-icon"},[d("i",{class:"fas fa-cloud-upload-alt"})]),d("span",{class:"file-label"}," Choose a file… ")])])],-1),wt={key:1,class:"column is-12"},kt=d("div",{class:"column is-12",style:{"text-align":"center"}},[d("h1",{class:"title is-4"},"Connect your clients to their projects"),d("h1",{class:"title is-5"}," Create a client contact and assign them to jobs and lead opportunities effortlessly. ")],-1),jt={class:"column is-6"},St={class:"column is-6"},Ut=d("div",{class:"column is-3"},null,-1),At=d("div",{class:"column is-6 text-align-center"},[d("i",{class:"fas fa-phone-alt fa-5x primary-text text-primary mb-3","aria-hidden":"true"}),d("h1",{class:"title is-4"},"Engage your leads with activities"),d("h1",{class:"title is-6"}," Track calls, emails, and meeting notes for leads in one place. ")],-1),Mt=d("div",{class:"column is-3"},null,-1),Nt=d("div",{class:"column is-3"},null,-1),Tt={class:"column is-6 text-align-center"},It=d("div",{class:"column is-3"},null,-1),Lt={key:2,class:"column is-12"},Ot={class:"column is-12"},Pt=l({__name:"LeadAddUpdateModal",props:{addUpdateLeadModal:{type:Boolean},leadId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const y=e,V=a(),C=J(),w=W(),k=z(),j=t(!1);t({});const I=t(!1);t(!1);const L=t(!1),O=t(!1),P=()=>{l("update:modalHandler",!1)},H=t("general"),R=t([]),F=[{value:"batman",label:"Batman"},{value:"robin",label:"Robin"},{value:"joker",label:"Joker"}];t([]);const q=[{value:"all",label:"All"},{value:"contact",label:"Contact Form"},{value:"google",label:"Google"},{value:"referral",label:"Referral"}];t([]);const B=t({id:"",title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:0,sale_date:"",sales_people:[],tags:[],estimated_from:"",estimated_to:"",sources:"",projectType:"",notes:"",attachments:[],attach_mail:"",created_by:C.user.id,manager:"",client:""}),Q=t([{value:"open",label:"Open"},{value:"onHold",label:"On Hold"},{value:"lost",label:"Lost"},{value:"sold",label:"sold"}]),X=async()=>{try{j.value=!0,B.value.tags=JSON.stringify(R.value);const e=Z(B.value,[""]);if(y.leadId||B.value.id){const l=await k.patch(`/api/job/${y.leadId?y.leadId:B.value.id}/`,e);B.value=l.data}else{const l=await k.post("/api/job/",e);B.value=l.data}l("update:OnSuccess",null),w.success(`Lead ${y.leadId||B.value?"updated":"created"} successfully`)}catch(e){w.error(` ${e}, Lead`)}finally{j.value=!1}},ee={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px"};return s((async()=>{V.value=await b((()=>import("./ckeditor-9b8dc666.js").then((e=>e.c))),["assets/ckeditor-9b8dc666.js","assets/index-41c1d4c3.js","assets/index-1c8d8af6.css"]).then((e=>e.default)),y.leadId&&(async()=>{try{j.value=!0;const e=await k.get(`/api/job/${y.leadId}/`);B.value=e.data}catch(e){w.error(` ${e}, Lead`)}finally{j.value=!1}})()})),(e,l)=>{const a=g("Slider"),t=$,s=K,b=G,C=Y,w=kl,k=gl,z=pl,W=g("Multiselect"),Z=f,J=g("CKEditor"),le=_,ae=ol,te=Ze,se=E,ie=D;return i(),n(ie,{is:"form",open:y.addUpdateLeadModal,title:"Lead Information",size:"xl",actions:"right",onSubmit:v(X,["prevent"]),onClose:P},{content:o((()=>[d("div",xa,[d("div",wa,[d("div",ka,[d("div",ja,[d("ul",null,[d("li",{class:A(["general"===r(H)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=M(v((e=>H.value="general"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>H.value="general")},Sa,32)],2),d("li",{class:A(["activities"===r(H)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=M(v((e=>H.value="activities"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>H.value="activities")},Ua,32)],2),d("li",{class:A(["proposals"===r(H)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=M(v((e=>H.value="proposals"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>H.value="proposals")},Aa,32)],2)])])])]),"general"===r(H)?(i(),h("div",Ma,[u(Z,{class:"columns is-multiline"},{default:o((()=>[Na,d("div",Ta,[d("div",Ia,[La,d("div",Oa,[c(d("input",{type:"text",name:"title","onUpdate:modelValue":l[6]||(l[6]=e=>r(B).title=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Opportunity Title"},null,512),[[m,r(B).title]])])]),d("div",Pa,[Ha,d("div",Da,[c(d("input",{type:"text",name:"address","onUpdate:modelValue":l[7]||(l[7]=e=>r(B).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[m,r(B).address]])])]),d("div",Ea,[$a,d("div",Ra,[c(d("input",{type:"text",name:"city","onUpdate:modelValue":l[8]||(l[8]=e=>r(B).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[m,r(B).city]])])]),d("div",za,[Fa,d("div",Wa,[c(d("input",{type:"text",name:"state","onUpdate:modelValue":l[9]||(l[9]=e=>r(B).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[m,r(B).state]])])]),d("div",Za,[qa,d("div",Ba,[c(d("input",{type:"text",name:"zipCode","onUpdate:modelValue":l[10]||(l[10]=e=>r(B).zip_code=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip code"},null,512),[[m,r(B).zip_code]])])]),d("div",Ja,[Ka,d("div",Ga,[u(s,{class:"has-rounded-tooltip is-slider-info"},{default:o((({id:e})=>[u(t,null,{default:o((()=>[u(a,{id:e,modelValue:r(B).confidence,"onUpdate:modelValue":l[11]||(l[11]=e=>r(B).confidence=e)},null,8,["id","modelValue"])])),_:2},1024)])),_:1})])]),d("div",Ya,[Qa,d("div",Xa,[c(d("input",{type:"date",name:"saleDate","onUpdate:modelValue":l[12]||(l[12]=e=>r(B).sale_date=e),class:"input is-primary-focus is-primary-focus",placeholder:"Post code"},null,512),[[m,r(B).sale_date]])])]),d("div",et,[lt,u(s,null,{default:o((()=>[u(t,null,{default:o((()=>[u(C,{modelValue:r(B).projectType,"onUpdate:modelValue":l[13]||(l[13]=e=>r(B).projectType=e)},{default:o((()=>[(i(!0),h(N,null,T(r(Q),((e,l)=>(i(),n(b,{key:l,value:e.value},{default:o((()=>[p(U(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])]),d("div",at,[y.addUpdateLeadModal?(i(),n(w,{key:0,selectedAdmins:r(B).sales_people,"onUpdate:OnSelectAdmins":l[14]||(l[14]=e=>{r(B).sales_people=e})},null,8,["selectedAdmins"])):x("",!0)]),d("div",tt,[y.addUpdateLeadModal?(i(),n(Ca,{key:0,selectedContractor:r(B).client,"onUpdate:OnSelectContractor":l[15]||(l[15]=e=>{r(B).client=e})},null,8,["selectedContractor"])):x("",!0)]),d("div",st,[y.addUpdateLeadModal?(i(),n(k,{key:0,selectedContractor:r(B).client,"onUpdate:OnSelectContractor":l[16]||(l[16]=e=>{r(B).client=e})},null,8,["selectedContractor"])):x("",!0)]),d("div",it,[y.addUpdateLeadModal?(i(),n(z,{key:0,selectedManager:r(B).manager,"onUpdate:OnSelectManager":l[17]||(l[17]=e=>{r(B).manager=e})},null,8,["selectedManager"])):x("",!0)]),d("div",nt,[ot,d("div",dt,[c(d("input",{type:"text",name:"externalID","onUpdate:modelValue":l[18]||(l[18]=e=>r(B).estimated_from=e),class:"input is-primary-focus is-primary-focus",placeholder:"From"},null,512),[[m,r(B).estimated_from]])])]),d("div",ut,[ct,d("div",rt,[c(d("input",{type:"text",name:"externalID","onUpdate:modelValue":l[19]||(l[19]=e=>r(B).estimated_to=e),class:"input is-primary-focus is-primary-focus",placeholder:"To"},null,512),[[m,r(B).estimated_to]])])]),d("div",mt,[pt,u(s,null,{default:o((({id:e})=>[u(t,null,{default:o((()=>[u(W,{modelValue:r(R),"onUpdate:modelValue":l[20]||(l[20]=e=>S(R)?R.value=e:null),attrs:{id:e},mode:"tags",searchable:!0,"create-tag":!0,options:F,placeholder:"Add tags"},null,8,["modelValue","attrs"])])),_:2},1024)])),_:1})]),d("div",vt,[ft,u(s,null,{default:o((({id:e})=>[u(t,null,{default:o((()=>[u(W,{modelValue:r(B).sources,"onUpdate:modelValue":l[21]||(l[21]=e=>r(B).sources=e),attrs:{id:e},searchable:!0,"create-tag":!0,options:q,placeholder:"Sources"},null,8,["modelValue","attrs"])])),_:2},1024)])),_:1})]),d("div",_t,[yt,u(s,null,{default:o((()=>[u(t,null,{default:o((()=>[u(C,{modelValue:r(B).status,"onUpdate:modelValue":l[22]||(l[22]=e=>r(B).status=e)},{default:o((()=>[(i(!0),h(N,null,T(r(Q),((e,l)=>(i(),n(b,{key:l,value:e.value},{default:o((()=>[p(U(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1}),u(Z,{class:"columns is-multiline mt-3"},{default:o((()=>[bt,d("div",gt,[r(V)?(i(),n(J,{key:0,modelValue:r(B).notes,"onUpdate:modelValue":l[23]||(l[23]=e=>r(B).notes=e),editor:r(V),config:ee},null,8,["modelValue","editor"])):x("",!0)])])),_:1}),u(Z,{class:"columns is-multiline mt-3"},{default:o((()=>[ht,d("div",Vt,[Ct,u(s,{grouped:""},{default:o((()=>[u(t,null,{default:o((()=>[xt])),_:1})])),_:1})])])),_:1})])):x("",!0),"activities"===r(H)?(i(),h("div",wt,[u(Z,{class:"columns is-multiline"},{default:o((()=>[kt,d("div",jt,[u(le,{onClick:l[24]||(l[24]=e=>I.value=!r(I)),color:"info",class:"p-5",icon:"fas fa-plus",fullwidth:"",bold:""},{default:o((()=>[p(" Add New ")])),_:1})]),d("div",St,[u(le,{class:"p-5",color:"primary",icon:"fas fa-sign-in-alt",fullwidth:"",bold:""},{default:o((()=>[p(" Import existing one ")])),_:1})])])),_:1}),u(Z,{class:"columns is-multiline mt-1"},{default:o((()=>[Ut,At,Mt,Nt,d("div",Tt,[u(le,{onClick:l[25]||(l[25]=e=>L.value=!r(L)),color:"warning",icon:"fas fa-exchange-alt"},{default:o((()=>[p(" Create Activity ")])),_:1}),u(le,{onClick:l[26]||(l[26]=e=>O.value=!r(O)),color:"success",class:"ml-2",icon:"fas fa-envelope"},{default:o((()=>[p(" Schedule Email ")])),_:1})]),It])),_:1}),r(L)?(i(),n(_a,{key:0,addUpdateContactModal:r(L),"onUpdate:modalHandler":l[27]||(l[27]=e=>L.value=!1)},null,8,["addUpdateContactModal"])):x("",!0),r(O)?(i(),n(ae,{key:1,mailSenderModal:r(O),"onUpdate:modalHandler":l[28]||(l[28]=e=>O.value=!1)},null,8,["mailSenderModal"])):x("",!0),r(I)?(i(),n(te,{key:2,"add-update-contact-modal":r(I),"onUpdate:modalHandler":l[29]||(l[29]=e=>I.value=!1)},null,8,["add-update-contact-modal"])):x("",!0)])):x("",!0),"proposals"===r(H)?(i(),h("div",Lt,[u(Z,{class:"columns is-multiline"},{default:o((()=>[d("div",Ot,[u(se,{leadId:(r(B).id,y.leadId)},null,8,["leadId"])])])),_:1})])):x("",!0)])])),action:o((()=>[u(le,{loading:r(j),type:"submit",color:"primary",icon:"fas fa-plus",raised:""},{default:o((()=>[p("Create Lead")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),Ht={onHold:"warning",open:"info",sold:"success",lost:"danger"},Dt={key:1},Et={class:"list-flex-toolbar flex-list-v1"},$t={class:"page-content-inner"},Rt={class:"flex-list-wrapper flex-list-v1"},zt=d("img",{class:"light-image",src:ie,alt:""},null,-1),Ft=d("img",{class:"dark-image",src:ne,alt:""},null,-1),Wt={class:"show-text-200"},Zt={class:"item-name"},qt={class:"item-meta"},Bt=["onClick"],Jt={class:"item-name dark-inverted show-text-200"},Kt={class:"item-meta show-text-200"},Gt=["onClick"],Yt={class:"item-name"},Qt={class:"item-meta"},Xt=["onClick"],es={class:"item-name"},ls={class:"item-meta"},as=[d("div",{class:"icon"},[d("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),d("div",{class:"meta"},[d("span",null,"View"),d("span",null,"View user details")],-1)],ts=[d("div",{class:"icon"},[d("i",{"aria-hidden":"true",class:"lnil lnil-briefcase"})],-1),d("div",{class:"meta"},[d("span",null,"Proposals"),d("span",null,"View proposal of lead")],-1)],ss=["onClick"],is=[d("div",{class:"icon"},[d("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),d("div",{class:"meta"},[d("span",null,"Edit"),d("span",null,"Update Lead Info")],-1)],ns=d("hr",{class:"dropdown-divider"},null,-1),os=["onClick"],ds=[d("div",{class:"icon"},[d("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),d("div",{class:"meta"},[d("span",null,"Delete"),d("span",null,"Delete Proposal Permanently")],-1)],us=l({__name:"LeadsList",setup(l){const a=I(),f=W(),y=z(),b=t(),g=t({id:"54985a54-db61-4761-becd-3b35f8ec503e",sales_people_info:[],clientInfo:null,created_by_info:null,manager_info:null,title:"test job",address:null,current_state:"lead",city:null,state:null,status:null,zip_code:null,confidence:"0.00",sale_date:null,tags:[],estimated_from:null,estimated_to:null,sources:null,project_type:null,notes:null,attach_mail:null,created_at:"2025-01-15T19:55:18.448485Z",updated_at:"2025-01-15T19:55:18.448510Z",created_by:null,manager:null,client:null,sales_people:[]}),V=t(42),C=t(!1),w=t([{value:"open",label:"Open"},{value:"sold",label:"Sold"},{value:"lost",label:"Lost"},{value:"onHold",label:"On hold"}]),k={username:{label:"Contractor",grow:!0},location:{label:"Job",grow:!0},contacts:"Date Created",status:"Status",industry:"Manager",actions:{label:"Actions",align:"end"}},j=async()=>{try{b.value=!0;const e=await y.get("/api/job/leads/");g.value=e.data}catch(e){f.error(` ${e}, Lead`)}finally{b.value=!1}},A=t(""),M=e=>{A.value=e,C.value=!0},H=t({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),D=async()=>{try{b.value=!0;await y.delete(`/api/job/${A.value}/`);f.success("Proposal delete successfully"),j()}catch(e){f.error(` ${e}, Proposal`),f.error("Something went wrong please try later")}finally{b.value=!1,H.value.isSweetAlertOpen=!1}},E=t(""),R=t(""),F=L((()=>{if(E.value){const e=new RegExp(E.value,"i");return g.value.filter((l=>l.title.match(e)||l.created_at.match(e)))}return g.value}));return s((()=>{j()})),(l,t)=>{const s=se,f=$,y=K,g=G,I=Y,L=_,z=P,W=te,Z=ee,J=ae,ie=le,ne=X,oe=Q,de=Pt,ue=e;return i(),h("div",null,[r(b)?(i(),n(s,{key:0})):(i(),h("div",Dt,[d("div",Et,[u(y,null,{default:o((()=>[u(f,{icon:"feather:search"},{default:o((()=>[c(d("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>S(E)?E.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[m,r(E)]])])),_:1})])),_:1}),u(y,null,{default:o((()=>[u(f,{class:"has-icons-left",icon:"fas fa-globe"},{default:o((()=>[u(I,{modelValue:r(R),"onUpdate:modelValue":t[1]||(t[1]=e=>S(R)?R.value=e:null)},{default:o((()=>[u(g,{value:""},{default:o((()=>[p(" All ")])),_:1}),(i(!0),h(N,null,T(r(w),(e=>(i(),n(g,{value:e.value},{default:o((()=>[p(U(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(z,null,{default:o((()=>[u(L,{onClick:t[2]||(t[2]=e=>M("")),color:"primary",icon:"fas fa-plus",elevated:""},{default:o((()=>[p(" Lead Opportunity ")])),_:1})])),_:1})]),d("div",$t,[d("div",Rt,[r(F).length?x("",!0):(i(),n(W,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:o((()=>[zt,Ft])),_:1})),r(F).length?(i(),n(ne,{key:1,data:r(F),columns:k,compact:""},{body:o((()=>[u(O,{name:"list",tag:"div",class:"flex-list-inner"},{default:o((()=>[(i(!0),h(N,null,T(r(F),(e=>(i(),h("div",{key:e.id,class:"flex-table-item"},[u(Z,{onClick:()=>{r(a).push(`/sidebar/dashboard/jobs/${e.id}`)},class:"cu-pointer",column:{media:!0,grow:!0}},{default:o((()=>[d("div",Wt,[d("span",Zt,U(e.clientInfo?.username?e.clientInfo?.username:"N/A"),1),d("span",qt,[d("span",null,U(e.clientInfo?.email?e.clientInfo?.email:"N/A"),1)])])])),_:2},1032,["onClick"]),u(Z,{column:{media:!0,grow:!0}},{default:o((()=>[d("div",{onClick:()=>{r(a).push(`/sidebar/dashboard/jobs/${e.id}`)},class:"cu-pointer"},[d("span",Jt,U(e.title?e.title:"N/A"),1),d("span",Kt,[d("span",null,U(e.address?e.address:"N/A"),1)])],8,Bt)])),_:2},1024),u(Z,{column:{media:!0}},{default:o((()=>[d("div",{onClick:()=>{r(a).push(`/sidebar/dashboard/jobs/${e.id}`)},class:"cu-pointer"},[d("span",Yt,U(r(q)(e.created_at)),1),d("span",Qt,[d("span",null,"At:"+U(r(B)(e.created_at)),1)])],8,Gt)])),_:2},1024),u(Z,null,{default:o((()=>[u(J,{color:r(Ht)[e.status],rounded:""},{default:o((()=>[p(U(e.status?e.status:"N/A"),1)])),_:2},1032,["color"])])),_:2},1024),u(Z,{column:{media:!0}},{default:o((()=>[d("div",{onClick:()=>{r(a).push(`/sidebar/dashboard/jobs/${e.id}`)},class:"cu-pointer"},[d("span",es,U(e.manager_info?.username?e.manager_info?.username:"N/A"),1),d("span",ls,[d("span",null,U(e.manager_info?.email?e.manager_info?.email:"N/A"),1)])],8,Xt)])),_:2},1024),u(Z,{column:{align:"end"}},{default:o((()=>[u(ie,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:o((({close:l})=>[d("a",{role:"menuitem",class:"dropdown-item is-media",onClick:t[3]||(t[3]=v((()=>{}),["prevent"]))},as),d("a",{role:"menuitem",class:"dropdown-item is-media",onClick:t[4]||(t[4]=v((()=>{}),["prevent"]))},ts),d("a",{role:"menuitem",class:"dropdown-item is-media",onClick:v((l=>M(e.id)),["prevent"])},is,8,ss),ns,d("a",{role:"menuitem",class:"dropdown-item is-media",onClick:v((l=>{return a=e.id,A.value=a,void(H.value={title:"Delete Proposal?",subtitle:"Are you sure to delete this proposal? After delete you will not be able to recover it again.",btntext:"Yes delete",isSweetAlertOpen:!0});var a}),["prevent"])},ds,8,os)])),_:2},1024)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):x("",!0),r(F).length>5?(i(),n(oe,{key:2,"current-page":r(V),"onUpdate:currentPage":t[5]||(t[5]=e=>S(V)?V.value=e:null),"item-per-page":10,"total-items":80,"max-links-displayed":7,"no-router":""},null,8,["current-page"])):x("",!0)])])])),r(C)?(i(),n(de,{key:2,addUpdateLeadModal:r(C),leadId:r(A),"onUpdate:modalHandler":t[6]||(t[6]=e=>C.value=!1),"onUpdate:OnSuccess":j},null,8,["addUpdateLeadModal","leadId"])):x("",!0),r(H).isSweetAlertOpen?(i(),n(ue,{key:3,isSweetAlertOpen:r(H).isSweetAlertOpen,title:r(H).title,subtitle:r(H).subtitle,loading:r(b),btntext:r(H).btntext,onConfirm:D,onCancel:()=>r(H).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","loading","btntext","onCancel"])):x("",!0)])}}}),cs=l({__name:"index",setup:e=>(oe().setPageTitle("Leads"),H({title:"Leads - Ibex"}),(e,l)=>{const a=us;return i(),h("div",null,[u(a)])})});"function"==typeof de&&de(cs);export{cs as default};
