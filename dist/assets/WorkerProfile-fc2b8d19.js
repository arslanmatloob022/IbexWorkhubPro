import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-df2b83f3.js";import{_ as l,a}from"./RotaView-15fda07f.js";import{_ as t}from"./VModal.vue_vue_type_style_index_0_lang-02010cfa.js";import{e as s,N as i,t as n,r as o,o as r,y as c,z as d,A as u,B as m,C as p,l as v,P as f,H as y,I as h,K as g,j as b,S as w,T as _,D as x,Q as k,R as C,J as S,a3 as A,E as N,W as T,X as V,L as I,G as D,a0 as j,aB as R,O,Z as E,M as U,Y as L,aR as M,f as z,al as q,n as $,i as P,w as F,aq as B,h as W,a7 as Y,U as K,s as H,av as X,aa as J}from"./index-879cc21e.js";import{_ as G}from"./VSwitchSegment.vue_vue_type_style_index_0_lang-6001fac7.js";import{_ as Q}from"./VControl-3a0d7b90.js";import{_ as Z,a as ee}from"./VOption.vue_vue_type_style_index_0_lang-6cc7e380.js";import{_ as le}from"./VField.vue_vue_type_script_setup_true_lang-8fda54d1.js";import{_ as ae}from"./VAvatar.vue_vue_type_style_index_0_lang-560ded64.js";import{_ as te}from"./VIconButton-a16d14d0.js";import{u as se,a as ie}from"./useAPI-bba6ff57.js";import{u as ne}from"./useNotyf-953388fb.js";import{u as oe}from"./company-5bfaee0a.js";import{m as re}from"./upload-3-63902ba9.js";import{a as ce,f as de,b as ue,C as me,s as pe}from"./useSupportElement-23fcf6e3.js";import{u as ve}from"./userSession-a2fa2e58.js";import{_ as fe}from"./VInput.vue_vue_type_script_setup_true_lang-ae22abd0.js";import{_ as ye}from"./VIMaskInput.vue_vue_type_script_lang-50300750.js";import{_ as he}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-1e98310c.js";import{_ as ge}from"./favicon_512x512-95354c31.js";import{_ as be}from"./BScertificate-5e988d2f.js";import{_ as we}from"./TimeSheetDetail.vue_vue_type_script_setup_true_lang-2a86791c.js";import{_ as _e}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-ee086f33.js";import{_ as xe}from"./VDropdown.vue_vue_type_style_index_0_lang-5a74bf98.js";import{_ as ke}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-58bafc79.js";import{_ as Ce,a as Se}from"./projects-dark-4a371d8a.js";import{_ as Ae}from"./VTextarea.vue_vue_type_script_setup_true_lang-f608710e.js";import{_ as Ne}from"./QuestionsOfMembers.vue_vue_type_script_setup_true_lang-c058b71a.js";import{_ as Te}from"./VIconBox.vue_vue_type_style_index_0_lang-665d47e6.js";import{_ as Ve}from"./VIconWrap.vue_vue_type_style_index_0_lang-55cb8b8c.js";import{c as Ie,_ as De}from"./VFlexTable.vue_vue_type_style_index_0_lang-8eb822b1.js";import{_ as je}from"./VTag.vue_vue_type_style_index_0_lang-725ce0ff.js";import{_ as Re}from"./VProgress.vue_vue_type_style_index_0_lang-dcd4160c.js";import{_ as Oe,a as Ee}from"./search-4-dark-2b5b440c.js";import{i as Ue,F as Le}from"./index-f3193dbb.js";import{_ as Me}from"./VBlock.vue_vue_type_style_index_0_lang-83a39e8a.js";import{_ as ze}from"./sia-476d3e58.js";import{_ as qe}from"./VLabel.vue_vue_type_script_setup_true_lang-010b6911.js";import{_ as $e}from"./VMessage.vue_vue_type_style_index_0_lang-6df9c38d.js";import{_ as Pe}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-5d2e46fb.js";import{_ as Fe}from"./VRangeRating-4fa0f434.js";import{_ as Be}from"./pdf-9ba17336.js";import{A as We}from"./vue3-apexcharts.common-e41d26dc.js";import{u as Ye}from"./useThemeColors-9b3162c4.js";const Ke=e=>(T("data-v-2d017789"),e=e(),V(),e),He={class:"modal-form columns cu-all-input is-multiline"},Xe={class:"column is-12 mb-0"},Je={class:"columns mb-0 p-0"},Ge=Ke((()=>p("label",null,"Profile :",-1))),Qe={class:"control is-flex is-justify-content-center"},Ze=["src"],el={key:1},ll={class:"column is-6 mb-0 p-0"},al={class:"field column is-12 mb-0 pt-0"},tl=Ke((()=>p("label",null,"First Name: *",-1))),sl={class:"control"},il={class:"field column is-12 mb-0"},nl=Ke((()=>p("label",null,"Last Name: ",-1))),ol={class:"control"},rl={class:"field column is-6 mb-0"},cl=Ke((()=>p("label",null,"Email Address: *",-1))),dl={class:"control"},ul={class:"field column is-6 mb-0"},ml=Ke((()=>p("label",null,"Phone Number: ",-1))),pl={class:"control"},vl={class:"field column is-6 mb-0"},fl=Ke((()=>p("label",null,"Industry: * ",-1))),yl={class:"field column is-6 mb-0"},hl=Ke((()=>p("label",null,"Supplier: ",-1))),gl={class:"field column is-6 mb-0"},bl=Ke((()=>p("label",null,"Archive: ",-1))),wl={class:"field column is-6 mb-0"},_l=Ke((()=>p("label",null,"Activation Code: ",-1))),xl={class:"control"},kl={class:"field column is-6 mb-0"},Cl=Ke((()=>p("label",null,"Post Code:",-1))),Sl={class:"control"},Al={class:"field column is-6 mb-0"},Nl=Ke((()=>p("label",null,"Home Address: ",-1))),Tl={class:"control"},Vl={class:"field column is-6 mb-0"},Il=Ke((()=>p("label",null,"Transport: ",-1))),Dl={class:"field column is-6 mb-0"},jl=Ke((()=>p("label",null,"Line Manager: ",-1))),Rl={class:"control"},Ol={class:"field column is-6 mb-0"},El=Ke((()=>p("label",null,"External ID: ",-1))),Ul={class:"control"},Ll={class:"field column is-6 mb-0"},Ml=Ke((()=>p("label",null,"Company ID Card Number: ",-1))),zl={class:"control"},ql={class:"field column is-6 mb-0",style:{position:"relative"}},$l={class:"control"},Pl={key:0,style:{position:"absolute",bottom:"80px","background-color":"white",width:"350px"}},Fl={class:"colorContainer"},Bl=["onClick"],Wl={key:0,class:"fas fa-check","aria-hidden":"true"},Yl=["loading"],Kl=s({__name:"EditWorker",props:{EditCompanyModalOpen:{type:Boolean,default:!1},id:{type:Number,default:0},getAllWorkers:Function},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const s=e,T=ve();i();const V=n(),I=oe(),D=ne(),j=se(),R=o(!1),O=o(!1),E=o("update"),U=o(!1),L=o(!1),M=o(!1),z=o(""),q=o({id:0,backgroundColor:"",created_at:""}),$=o([{id:0,backgroundColor:"",created_at:""}]),P=o({message:"You are deleting this worker, after this action the worker will be removed permanently from the system.",captionText:"Delete this worker"}),F=o({id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",archive:!1,profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",industry:"",arezCompany:"",activatiactivationCodeonCode:"",status:!1,postCode:"",latitude:0,longitude:0,transport:"",bgColor:"",activationCode:""}),B=o({}),W=I.suppliers?I.suppliers:[],Y=I.loggedCompany.industry?I.loggedCompany.industry:[],K=async()=>{try{R.value=!0,console.log(F.value.status);const e=ce(F.value,["profileImageURL"]);e.append("archive",F.value.archive);await j.patch(`/v3/api/worker/${s.id}/`,e);X(),D.dismissAll(),R.value=!1,D.success("worker updated, worker"),a("update:OnSuccess",null)}catch(e){console.error(e);let l=e.response.data??{};Object.values(l).forEach((e=>{e.forEach((e=>{console.log(e),D.error(` ${e}, New worker`)}))}))}finally{R.value=!1}},H=e=>{"industry"!==e.name?"transport"!==e.name?"supplier"!==e.name?B.value={...B.value,[e.target.name]:e.target.value}:B.value={...B.value,[e.name]:e.value}:B.value={...B.value,[e.name]:e.value}:B.value={...B.value,[e.name]:e.value}},X=()=>{a("update:modalHandler",!1),F.value={id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",industry:"",arezCompany:"",supplier:0}},J=async()=>{try{const e=await j.get("/v3/api/worker/bgcolor/",{});$.value=e.data;let l=e.data.find((e=>e.id===F.value.bgColor));console.log(l),l&&(q.value=l)}catch(e){}},de=()=>{L.value=!L.value},ue=async()=>{try{await j.delete(`/v3/api/worker/${s.id}/`);U.value=!1,X(),s.getAllWorkers&&s.getAllWorkers(),V.push("/sidebar/company/workers?type=All"),D.dismissAll(),D.error("Worker deleted permanently.")}catch(e){return e}},me=e=>{const l=function(e){const l=e.split(","),a=l[0].indexOf("base64")>=0?atob(l[1]):decodeURI(l[1]),t=l[0].split(":")[1].split(";")[0],s=new Uint8Array(a.length);for(let i=0;i<a.length;i++)s[i]=a.charCodeAt(i);return new Blob([s],{type:t})}(e);F.value.profileImageURL=l,z.value=e,console.log("Image URl:",e)};const pe=async()=>{try{const e=await ie.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${F.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);"OK"===e.data.status?(F.value.homeAddress=e.data.results[0].formatted_address,F.value.latitude=e.data.results[0].geometry.location.lat,F.value.longitude=e.data.results[0].geometry.location.lng,D.success("Address Added")):"ZERO_RESULTS"===e.data.status&&D.error("Invalid Post-Code")}catch(e){D.error("Invalid Post-Code"),console.error(e)}};return r((()=>{(async()=>{try{R.value=!0;const e=await j.get(`/v3/api/worker/${s.id}/`,{});F.value=e.data,z.value=e.data.profileImageURL,R.value=!1,J()}catch(e){R.value=!1,console.error("ok",e)}})()})),(e,a)=>{const i=te,n=ae,o=le,r=Z,V=ee,I=Q,D=G,j=N,J=t,se=l;return c(),d(k,null,[u(J,{is:"form",open:s.EditCompanyModalOpen,title:"Edit worker",size:"big",actions:"right",onSubmit:g(K,["prevent"]),onClose:X,noclose:""},{content:m((()=>[p("div",He,[p("div",Xe,[p("div",Je,[u(o,{class:"column is-6"},{default:m((()=>[Ge,p("div",Qe,[u(n,{size:"xl",class:"profile-v-avatar mt-4"},{avatar:m((()=>[v(O)?f("",!0):(c(),d("img",{key:0,class:"avatar",src:v(z)?v(z):"/images/avatars/placeholder.jpg",alt:""},null,8,Ze)),"update"==v(E)?(c(),d("span",el,[v(O)?(c(),y(i,{key:1,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:arrow-left",class:"edit-button is-back",circle:"",tabindex:"0",onKeydown:a[2]||(a[2]=h(g((e=>O.value=!1),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>O.value=!1)})):(c(),y(i,{key:0,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:edit-2",class:"edit-button is-edit",circle:"",tabindex:"0",onKeydown:a[0]||(a[0]=h(g((e=>O.value=!0),["prevent"]),["space"])),onClick:a[1]||(a[1]=()=>{M.value=!v(M)})}))])):f("",!0)])),_:1}),u(v(re),{field:"img",onCropSuccess:me,modelValue:v(M),"onUpdate:modelValue":a[4]||(a[4]=e=>b(M)?M.value=e:null),noRotate:!1,noSquare:!1,langType:"en","img-format":"png/jpg"},null,8,["modelValue"])])])),_:1}),p("div",ll,[p("div",al,[tl,p("div",sl,[w(p("input",{type:"text",name:"firstName","onUpdate:modelValue":a[5]||(a[5]=e=>v(F).firstName=e),onChange:a[6]||(a[6]=e=>H(e)),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"First Name"},null,544),[[_,v(F).firstName]])])]),p("div",il,[nl,p("div",ol,[w(p("input",{type:"text",name:"lastName","onUpdate:modelValue":a[7]||(a[7]=e=>v(F).lastName=e),onChange:a[8]||(a[8]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Last Name"},null,544),[[_,v(F).lastName]])])])])])]),p("div",rl,[cl,p("div",dl,[w(p("input",{type:"email",name:"emailAddress","onUpdate:modelValue":a[9]||(a[9]=e=>v(F).emailAddress=e),onChange:a[10]||(a[10]=e=>H(e)),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Email Address"},null,544),[[_,v(F).emailAddress]])])]),p("div",ul,[ml,p("div",pl,[w(p("input",{type:"tel",name:"phoneNumber","onUpdate:modelValue":a[11]||(a[11]=e=>v(F).phoneNumber=e),onChange:a[12]||(a[12]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,544),[[_,v(F).phoneNumber]])])]),p("div",vl,[fl,u(o,null,{default:m((()=>[u(I,null,{default:m((()=>[u(V,{modelValue:v(F).industry,"onUpdate:modelValue":a[13]||(a[13]=e=>v(F).industry=e),onInput:a[14]||(a[14]=e=>H({name:"industry",value:e.target.value})),name:"industry",required:"",class:"is-rounded"},{default:m((()=>[u(r,{value:""},{default:m((()=>[x("Select Industry")])),_:1}),(c(!0),d(k,null,C(v(Y),((e,l)=>(c(),y(r,{value:e.id,key:l},{default:m((()=>[x(S(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(o,{id:"interests",class:"pb-4",label:""})]),p("div",yl,[hl,u(o,null,{default:m((()=>[u(I,null,{default:m((()=>[u(V,{disabled:"partner"==v(T).user.role,modelValue:v(F).supplier,"onUpdate:modelValue":a[15]||(a[15]=e=>v(F).supplier=e),onInput:a[16]||(a[16]=e=>H({name:"supplier",value:e.target.value})),name:"industry",class:"is-rounded"},{default:m((()=>[u(r,{value:""},{default:m((()=>[x("Select Supplier")])),_:1}),(c(!0),d(k,null,C(v(W),((e,l)=>(c(),y(r,{value:e.id,key:l},{default:m((()=>[x(S(e.supplierName),1)])),_:2},1032,["value"])))),128))])),_:1},8,["disabled","modelValue"])])),_:1})])),_:1}),u(o,{id:"interests",class:"pb-4",label:""})]),p("div",gl,[bl,p("span",null,[u(o,{horizontal:""},{default:m((()=>[u(I,null,{default:m((()=>[u(D,{modelValue:v(F).archive,"onUpdate:modelValue":a[17]||(a[17]=e=>v(F).archive=e),color:"success","label-true":"Archive","label-false":"Un-Archive"},null,8,["modelValue"])])),_:1})])),_:1})])]),p("div",wl,[_l,p("div",xl,[w(p("input",{type:"text",name:"activationCode","onUpdate:modelValue":a[18]||(a[18]=e=>v(F).activationCode=e),onChange:a[19]||(a[19]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Activation Code"},null,544),[[_,v(F).activationCode]])])]),p("div",kl,[Cl,p("div",Sl,[w(p("input",{type:"text",name:"postCode","onUpdate:modelValue":a[20]||(a[20]=e=>v(F).postCode=e),onBlur:pe,onChange:a[21]||(a[21]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Post Code"},null,544),[[_,v(F).postCode]])])]),p("div",Al,[Nl,p("div",Tl,[w(p("input",{type:"text",name:"homeAddress","onUpdate:modelValue":a[22]||(a[22]=e=>v(F).homeAddress=e),onChange:a[23]||(a[23]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Home Address"},null,544),[[_,v(F).homeAddress]])])]),p("div",Vl,[Il,u(o,null,{default:m((()=>[u(I,null,{default:m((()=>[u(V,{modelValue:v(F).transport,"onUpdate:modelValue":a[25]||(a[25]=e=>v(F).transport=e),onInput:a[26]||(a[26]=e=>H({name:"transport",value:e.target.value})),name:"transport",class:"is-rounded"},{default:m((()=>[u(r,{modelValue:v(F).transport,"onUpdate:modelValue":a[24]||(a[24]=e=>v(F).transport=e)},{default:m((()=>[x("Transport ?")])),_:1},8,["modelValue"]),u(r,{value:"Car"},{default:m((()=>[x("Car")])),_:1}),u(r,{value:"Public"},{default:m((()=>[x("Public")])),_:1}),u(r,{value:"Commercial"},{default:m((()=>[x("Commercial")])),_:1}),u(r,{value:"Bicycle"},{default:m((()=>[x("Bicycle")])),_:1}),u(r,{value:"Bike"},{default:m((()=>[x("Bike")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),u(o,{id:"interests",class:"pb-4",label:""})]),p("div",Dl,[jl,p("div",Rl,[w(p("input",{type:"text",name:"lineManager","onUpdate:modelValue":a[27]||(a[27]=e=>v(F).lineManager=e),onChange:a[28]||(a[28]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Line Manager"},null,544),[[_,v(F).lineManager]])])]),p("div",Ol,[El,p("div",Ul,[w(p("input",{type:"text",name:"externalID","onUpdate:modelValue":a[29]||(a[29]=e=>v(F).externalID=e),onChange:a[30]||(a[30]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"External ID"},null,544),[[_,v(F).externalID]])])]),p("div",Ll,[Ml,p("div",zl,[w(p("input",{type:"text",name:"compnayIdCardNumber","onUpdate:modelValue":a[31]||(a[31]=e=>v(F).compnayIdCardNumber=e),onChange:a[32]||(a[32]=e=>H(e)),class:"input is-primary-focus is-primary-focus",placeholder:"Company ID Card Number"},null,544),[[_,v(F).compnayIdCardNumber]])])]),p("div",ql,[p("label",null,[x("Select Profile Background Color: "),p("i",{style:{color:"var(--primary)","margin-left":"20px"},onClick:de,class:"fas fa-paint-brush","aria-hidden":"true"})]),p("div",$l,[p("div",null,[p("div",{onClick:de,class:"color-pellate"},[p("div",{class:"current-color-div",style:A({backgroundImage:v(q).backgroundColor})},null,4)])])]),v(L)?(c(),d("div",Pl,[p("div",Fl,[p("div",{class:"close-btn"},[p("i",{onClick:de,class:"lnir lnir-close","aria-hidden":"true"})]),(c(!0),d(k,null,C(v($),((e,l)=>(c(),d("div",{key:e.id,onClick:l=>(e=>{q.value=e,B.value={...B.value,bgColor:e.id}})(e),style:A({backgroundImage:e.backgroundColor}),class:"colorDiv"},[v(q)==e?(c(),d("i",Wl)):f("",!0)],12,Bl)))),128))])])):f("",!0)])])])),cancel:m((()=>[p("a",{style:{"margin-right":"480px","text-decoration":"underline","font-weight":"500",color:"red"},onClick:a[33]||(a[33]=()=>{U.value=!v(U)}),loading:v(R),color:"danger",raised:""},"Delete",8,Yl)])),action:m((()=>[u(j,{type:"submit",loading:v(R),color:"primary",raised:""},{default:m((()=>[x("Update")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"]),v(U)?(c(),y(se,{key:0,actionVerificationModal:v(U),message:v(P).message,captionText:v(P).captionText,"onUpdate:OnSuccess":ue},null,8,["actionVerificationModal","message","captionText"])):f("",!0)],64)}}}),Hl=I(Kl,[["__scopeId","data-v-2d017789"]]),Xl={class:"modal-form columns is-multiline"},Jl={class:"mb-3 is-reversed",style:{width:"100%"}},Gl=s({__name:"VeriffLink",props:{veriffModal:{type:Boolean},id:{},email:{},phone:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;D();const s=se(),i=o(!1),n=ne(),f=o(""),y=o(!1),h=o(!1),w=()=>{l("update:modalHandler",!1)};return r((()=>{(async()=>{try{const e=await s.post("/v3/api/worker/veriff/create-session/",{worker:a.id});f.value=e.data.verification.url}catch(e){console.log(e)}})()})),(e,l)=>{const o=fe,r=Q,_=N,k=le,C=t;return c(),d("template",null,[u(j,{name:"fade-slow"},{default:m((()=>[u(C,{is:"form",open:a.veriffModal,title:"Send Veriff Link",size:"small",actions:"right",onClose:w,class:"crete-link-modal"},{content:m((()=>[p("div",Xl,[p("div",Jl,[u(k,{addons:""},{default:m((()=>[u(r,{expanded:""},{default:m((()=>[u(o,{modelValue:v(f),"onUpdate:modelValue":l[0]||(l[0]=e=>b(f)?f.value=e:null),type:"text",class:"input",placeholder:"Find a repository"},null,8,["modelValue"])])),_:1}),u(r,null,{default:m((()=>[u(_,{icon:"fas fa-copy",onClick:l[1]||(l[1]=e=>{return l=v(f),navigator.clipboard.writeText(l),void n.success("Link Copied");var l}),color:"primary"},{default:m((()=>[x(" Link ")])),_:1})])),_:1})])),_:1}),p("div",null,[p("form",{onSubmit:l[3]||(l[3]=g((e=>(async()=>{try{y.value=!0,await s.post(`/v3/api/worker/veriff/${a.id}/send-veriff-email/`,{link:f.value,email:a.email}),n.success("Invitation Email sent successfully")}catch{n.error("Invalid email address")}finally{y.value=!1}})()),["prevent"])),id:"cus-invitation-tools"},[u(k,{style:{width:"100%"},addons:""},{default:m((()=>[u(r,{expanded:""},{default:m((()=>[u(o,{modelValue:a.email,"onUpdate:modelValue":l[2]||(l[2]=e=>a.email=e),type:"email",class:"input",placeholder:"example@gmail.com"},null,8,["modelValue"])])),_:1}),u(r,null,{default:m((()=>[u(_,{type:"submit",icon:"feather:mail",loading:v(y),color:"primary"},{default:m((()=>[x(" Mail ")])),_:1},8,["loading"])])),_:1})])),_:1})],32)]),p("div",null,[p("form",{onSubmit:l[5]||(l[5]=g((e=>(async()=>{try{h.value=!0,await s.post("/v3/api/worker/worker_invitation/send-invitation-sms/",{message:f.value,phone:a.phone}),n.success("Invitation SMS sent successfully")}catch{n.error("Invalid phone number")}finally{h.value=!1}})()),["prevent"])),id:"cus-invitation-tools"},[u(k,{style:{width:"100%"},addons:""},{default:m((()=>[u(r,{expanded:""},{default:m((()=>[u(o,{modelValue:a.phone,"onUpdate:modelValue":l[4]||(l[4]=e=>a.phone=e),pattern:"^\\+44\\d{10}$",type:"phone",class:"input",required:"",placeholder:"+4400000000"},null,8,["modelValue"])])),_:1}),u(r,null,{default:m((()=>[u(_,{type:"submit",icon:"feather:message-circle",loading:v(y),color:"primary"},{default:m((()=>[x(" SMS ")])),_:1},8,["loading"])])),_:1})])),_:1})],32)])])])])),action:m((()=>[u(_,{style:{display:"none"},type:"submit",color:"primary",rounded:"",loading:v(i),icon:"fas fa-link",raised:""},{default:m((()=>[x(" Create")])),_:1},8,["loading"])])),cancel:m((()=>[u(_,{style:{display:"none"},rounded:"",color:"light",onClick:w,raised:""},{default:m((()=>[x("Close ")])),_:1})])),_:1},8,["open"])])),_:1})])}}}),Ql=I(Gl,[["__scopeId","data-v-ad47fc25"]]),Zl=p("div",{class:"form-layout is-separate"},[p("div",{class:"form-outer"},[p("div",{class:"form-body"},[p("div",{class:"form-section p-4"},[p("div",{class:"columns is-multiline"},[p("div",{class:"column is-12 is-flex"},[p("img",{style:{width:"auto",height:"40px"},src:ge}),p("div",null,[p("h3",{style:{"font-size":"20px",color:"var(--primary)"},class:"cus-stat-heading ml-4 mt-0"},"Arez"),p("h3",{style:{"font-size":"12px"},class:"cus-stat-heading ml-4 mt-0"},"The Compliance Manager")])]),p("div",{class:"column is-6"})])])])])],-1),ea={class:"columns is-multiline px-5"},la={key:0,class:"column is-6 is-flex"},aa=p("h1",{class:"is-bold"},"Unique ID: ",-1),ta={class:"is-bold ml-2"},sa={key:1,class:"column is-6 is-flex"},ia={key:2,class:"column is-6 is-flex"},na=p("h1",{class:"is-bold"},"Designated At: ",-1),oa={class:"is-bold ml-2"},ra={key:3,class:"column is-6 is-flex"},ca={key:4,class:"column is-6 is-flex"},da=p("h1",{class:"is-bold"},"Updated At: ",-1),ua={class:"is-bold ml-2"},ma={key:5,class:"column is-6 is-flex"},pa={key:6,class:"column is-6 is-flex"},va=p("h1",{class:"is-bold"},"UN Reference Number:",-1),fa={class:"is-bold ml-2"},ya={key:7,class:"column is-6 is-flex"},ha={class:"column is-12 is-flex"},ga=p("h1",{class:"is-bold"},"Regime Name:",-1),ba={class:"is-bold ml-2"},wa={key:8,class:"column is-12 is-flex"},_a={key:9,class:"column is-6 is-flex"},xa=p("h1",{class:"is-bold"},"Individual Entity Ship:",-1),ka={class:"is-bold ml-2"},Ca={key:10,class:"column is-6 is-flex"},Sa={class:"column is-6 is-flex"},Aa=p("h1",{class:"is-bold"},"Designated source:",-1),Na={class:"is-bold ml-2"},Ta={key:11,class:"column is-6 is-flex"},Va={class:"column is-12 is-flex"},Ia=p("h1",{class:"is-bold"},"Sanctions imposed:",-1),Da={class:"is-bold ml-2"},ja={key:12,class:"column is-6 is-flex"},Ra={key:13,class:"column is-12"},Oa=p("h1",{class:"is-bold"},"Names:",-1),Ea={class:"is-flex",style:{"flex-wrap":"wrap"}},Ua={class:"is-bold",style:{"white-space":"nowrap"}},La={key:14,class:"column is-12 is-flex"},Ma={key:15,class:"column is-12"},za=p("h1",{class:"is-bold"},"Addresses:",-1),qa={key:16,class:"column is-12 is-flex"},$a={key:17,class:"column is-12"},Pa=p("h1",{class:"is-bold"},"Other information:",-1),Fa={class:"is-bold"},Ba={key:18,class:"column is-12 is-flex"},Wa=s({__name:"SanctionList",props:{openSanctionModal:{type:Boolean},firstName:{},lastName:{}},emits:["update:openSanctionModal"],setup(e,{emit:l}){const a=e,s=se(),i=o(!0),n=o(!1),h=o({id:0,last_updated:"",date_designated:"",unique_id:"",ofsi_group_id:0,un_reference_number:"",regime_name:"",individual_entity_ship:"",designation_source:"",sanctions_imposed:"",other_information:"",names:[],addresses:[]}),g=()=>{l("update:openSanctionModal",!1)};return r((async()=>{await(async()=>{try{n.value=!0;const e=await s.get(`/v3/api/worker/sanction/detail-through-name/${a.firstName} ${a.lastName}/`);h.value=e.data.sanction,i.value=!0,n.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=R,s=he,o=N,r=t;return c(),y(r,{is:"form",open:v(i),title:"Sanctions Detail",size:"big",actions:"right",onClose:g},{content:m((()=>[Zl,p("div",ea,[v(n)?f("",!0):(c(),d("div",la,[aa,p("p",ta,S(v(h).unique_id),1)])),v(n)?(c(),d("div",sa,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",ia,[na,p("p",oa,S(v(h).date_designated?v(h).date_designated.slice(0,10):"Not mentioned"),1)])),v(n)?(c(),d("div",ra,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",ca,[da,p("p",ua,S(v(h).last_updated),1)])),v(n)?(c(),d("div",ma,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",pa,[va,p("p",fa,S(v(h).un_reference_number),1)])),v(n)?(c(),d("div",ya,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),p("div",ha,[ga,p("p",ba,S(v(h).regime_name),1)]),v(n)?(c(),d("div",wa,[u(a,{height:"20px",width:"20%",class:"mx-2"}),u(a,{height:"20px",width:"70%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",_a,[xa,p("p",ka,S(v(h).individual_entity_ship),1)])),v(n)?(c(),d("div",Ca,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),p("div",Sa,[Aa,p("p",Na,S(v(h).designation_source),1)]),v(n)?(c(),d("div",Ta,[u(a,{height:"20px",width:"40%",class:"mx-2"}),u(a,{height:"20px",width:"40%",class:"mx-2 ml-2"})])):f("",!0),p("div",Va,[Ia,p("p",Da,S(v(h).sanctions_imposed),1)]),v(n)?(c(),d("div",ja,[u(a,{height:"20px",width:"20%",class:"mx-2"}),u(a,{height:"20px",width:"70%",class:"mx-2 ml-2"})])):f("",!0),v(n)?f("",!0):(c(),d("div",Ra,[Oa,p("div",Ea,[(c(!0),d(k,null,C(v(h).names,(e=>(c(),d("div",{key:e},[p("p",Ua,S(e)+" ,",1)])))),128))])])),v(n)?(c(),d("div",La,[u(s,{lines:2,width:"90%","last-line-width":"25%"})])):f("",!0),v(n)?f("",!0):(c(),d("div",Ma,[za,(c(!0),d(k,null,C(v(h).addresses,(e=>(c(),d("p",{key:e,class:"is-bold"},S(e)+",",1)))),128))])),v(n)?(c(),d("div",qa,[u(s,{lines:2,width:"90%","last-line-width":"50%"})])):f("",!0),v(n)?f("",!0):(c(),d("div",$a,[Pa,p("p",Fa,S(v(h).other_information),1)])),v(n)?(c(),d("div",Ba,[u(s,{lines:4,width:"75%","last-line-width":"25%"})])):f("",!0)])])),cancel:m((()=>[u(o,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open"])}}}),Ya=e=>(T("data-v-78b0dd3e"),e=e(),V(),e),Ka={class:"timeline-wrapper"},Ha=Ya((()=>p("div",{class:"timeline-header"},null,-1))),Xa={class:"timeline-wrapper-inner"},Ja={class:"timeline-container"},Ga={class:"timeline-item is-unread"},Qa={class:"date"},Za=Ya((()=>p("div",{class:"dot is-success"},null,-1))),et={class:"content-wrap"},lt=["onClick"],at=Ya((()=>p("div",{class:"no-status"},null,-1))),tt={class:"container"},st={class:"half"},it={class:"",style:{display:"flex","align-items":"center"}},nt={class:"box-text"},ot={class:"meta-text"},rt={class:""},ct=Ya((()=>p("i",{class:"lnir lnir-hospital-location mr-2",style:{"font-size":"larger",color:"var(--primary)"},"aria-hidden":"true"},null,-1))),dt={class:"half"},ut={class:"",style:{display:"flex","align-items":"center"}},mt={class:"box-text"},pt={class:"meta-text"},vt={style:{display:"flex"}},ft=Ya((()=>p("i",{class:"lnir lnir-hospital-location mr-2",style:{"font-size":"larger",color:"var(--primary)"},"aria-hidden":"true"},null,-1))),yt={class:"box-end"},ht=Ya((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-bubble"})],-1))),gt=Ya((()=>p("div",{class:"meta"},[p("span",null,"Activity"),p("span",null,"View activity of Timesheet")],-1))),bt=[ht,gt],wt=Ya((()=>p("img",{class:"light-image is-larger",src:Ce,alt:""},null,-1))),_t=Ya((()=>p("img",{class:"dark-image is-larger",src:Se,alt:""},null,-1))),xt=s({__name:"WorkerTimeSheet",props:{id:{type:String,default:0}},setup(e){se();const l=o(!1),a=o(!1),t=o(0),s=o([]);return r((()=>{})),(e,i)=>{const n=ke,o=ae,r=xe,h=_e,g=we;return c(),d("div",Ka,[Ha,p("div",Xa,[p("div",Ja,[v(l)?(c(),y(n,{key:0})):f("",!0),(c(!0),d(k,null,C(v(s),(e=>(c(),d("div",Ga,[p("div",Qa,[p("span",null,S(v(de)(e.created_at)),1)]),Za,p("div",et,[p("div",{class:"content-box",onClick:()=>{a.value=!0,t.value=e.timeSheetID}},[at,p("div",tt,[p("div",st,[p("div",it,[u(o,{picture:e.bookOnImageURL,squared:"",size:"medium"},null,8,["picture"]),p("div",nt,[p("div",ot,[p("p",null,[p("span",null,S(v(ue)(e.bookOnTime)),1)]),p("span",rt,[ct,x(" "+S(e.bookOnLocation&&e.bookOnLocation.length>90?e.bookOnLocation.slice(0,90)+"...":e.bookOnLocation),1)])])])])]),p("div",dt,[p("div",ut,[u(o,{picture:e.bookOffImageURL,squared:"",size:"medium"},null,8,["picture"]),p("div",mt,[p("div",pt,[p("p",null,[p("span",null,S(v(ue)(e.bookOffTime)),1)]),p("span",vt,[ft,x(" "+S(e.bookOffLocation&&e.bookOffLocation.length>90?e.bookOffLocation.slice(0,90)+"...":e.bookOffLocation),1)])])])])])]),p("div",yt,[u(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:m((()=>[p("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:i[0]||(i[0]=e=>a.value=!0)},bt)])),_:1})])],8,lt)])])))),256)),0==v(s).length?(c(),y(h,{key:1,title:"No Activity found.",subtitle:"Looks like you don't have done any activity on this worker yet as you will do anything, that will be showing up in here."},{image:m((()=>[wt,_t])),_:1})):f("",!0)])]),v(a)?(c(),y(g,{key:0,timeSheetDetailModal:v(a),timesheetId:v(t),"onUpdate:modalHandler":i[1]||(i[1]=()=>{a.value=!1})},null,8,["timeSheetDetailModal","timesheetId"])):f("",!0)])}}}),kt=I(xt,[["__scopeId","data-v-78b0dd3e"]]),Ct=e=>(T("data-v-43920bbc"),e=e(),V(),e),St={class:"timeline-wrapper"},At=Ct((()=>p("div",{class:"timeline-header"},null,-1))),Nt={class:"timeline-wrapper-inner"},Tt={class:"timeline-container"},Vt={class:"timeline-item is-unread"},It={class:"date"},Dt={class:"content-wrap"},jt={class:"content-box"},Rt={key:0,class:"status"},Ot={key:1,class:"no-status"},Et={class:"box-text"},Ut={class:"meta-text"},Lt=["innerHTML"],Mt=Ct((()=>p("div",{class:"box-end"},null,-1))),zt=Ct((()=>p("img",{class:"light-image is-larger",src:Ce,alt:""},null,-1))),qt=Ct((()=>p("img",{class:"dark-image is-larger",src:Se,alt:""},null,-1))),$t=I(s({__name:"WorkerActivityLogs",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(e){const l=e,a=se(),t=o(!1),s=o([]),i={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};return r((()=>{(async()=>{t.value=!0;try{const e=await a.get(`/v3/api/account/actions/${l.id}/worker-activity-logs/`,{});s.value=e.data,t.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=ke,n=ae,o=_e;return c(),d("div",St,[At,p("div",Nt,[p("div",Tt,[v(t)?(c(),y(a,{key:0})):f("",!0),(c(!0),d(k,null,C(v(s),(e=>{return c(),d("div",Vt,[p("div",It,[p("span",null,S((l=e.action_datetime.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),p("div",{class:O(["dot",i[e.method]])},null,2),p("div",Dt,[p("div",jt,[e.performedById===e.objectId?(c(),d("div",Rt)):(c(),d("div",Ot)),u(n,{picture:e.performer_detail.profileImage},null,8,["picture"]),p("div",Et,[p("div",Ut,[p("p",null,[p("span",{style:A({color:""+(e.performedById===e.objectId?"var(--red)":"")})},S(e.performer_detail.first_name)+" "+S(e.performer_detail.last_name)+". ",5),p("span",{class:"action-message",innerHTML:e.message},null,8,Lt)]),p("span",null,S(e.action_datetime.slice(11,16)),1)])]),Mt])])]);var l})),256)),v(s).length<1?(c(),y(o,{key:1,title:"No Activity found.",subtitle:"Looks like you don't have done any activity on this worker yet as you will do anything, that will be showing up in here."},{image:m((()=>[zt,qt])),_:1})):f("",!0)])])])}}}),[["__scopeId","data-v-43920bbc"]]),Pt=e=>(T("data-v-50e7445e"),e=e(),V(),e),Ft={class:"tab-content is-active"},Bt=Pt((()=>p("div",{class:"section-title mt-0",style:{display:"flex","justify-content":"space-between"}},null,-1))),Wt={class:"columns is-multiline"},Yt={class:"column is-7 is-flex space-between"},Kt=Pt((()=>p("h6",{style:{"white-space":"nowrap"},class:"cus-main-heading mr-3 ml-1 mt-5"}," Approval Requests ",-1))),Ht={class:"cu-align-center"},Xt={key:0,style:{"font-weight":"600",color:"var(--primary)","margin-left":"8px"}},Jt={class:"column is-5 mt-4"},Gt={class:"list-flex-toolbar is-reversed"},Qt={class:"buttons"},Zt={class:"column is-12"},es={class:"light-text item-meta",style:{"font-weight":"500"}},ls={class:"item-name dark-inverted"},as={class:"item-meta"},ts={class:"light-text item-meta"},ss={class:"light-text item-meta"},is=["onClick"],ns=Pt((()=>p("h6",{style:{"font-weight":"500","font-size":"20px","text-align":"left","margin-bottom":"6px","padding-left":"2px"}}," Timeline ",-1))),os={class:"p-2",style:{}},rs={style:{"font-weight":"600","margin-bottom":"0px","padding-left":"10px",color:"white"}},cs={class:"item-name dark-inverted",style:{"font-weight":"500"}},ds=Pt((()=>p("hr",null,null,-1))),us={class:"columns is-multiline"},ms={class:"column is-8"},ps=Pt((()=>p("div",{class:"is-flex space-between mb-4"},[p("h6",{class:"cus-main-heading ml-1 mb-2"},"Employment References")],-1))),vs=["id"],fs={class:"is-flex"},ys={class:"dark-text light-weight mb-1"},hs={class:"is-flex cu-align-center"},gs={style:{"font-weight":"500","font-size":"17px",color:"#000"}},bs={style:{"margin-left":"6px","white-space":"nowrap","font-weight":"500","font-size":"12px",color:"#666"}},ws={style:{display:"flex",width:"100%",gap:"16px","justify-content":"flex-end",cursor:"pointer"}},_s={class:"row mt-4"},xs={class:"columns is multiline"},ks={class:"column is-2"},Cs={class:"light-dark weighted"},Ss={class:"column is-2"},As={class:"light-dark weighted"},Ns={class:"column is-2"},Ts={class:"light-dark weighted"},Vs={class:"column is-2"},Is=Pt((()=>p("hr",null,null,-1))),Ds={class:"columns is multiline"},js={class:"column is-2"},Rs={class:"light-dark weighted"},Os={class:"column is-2"},Es={class:"light-dark weighted"},Us={class:"column is-2"},Ls={class:"light-dark weighted"},Ms={class:"column is-2"},zs={class:"light-dark weighted"},qs=["onClick"],$s={class:"column is-2"},Ps={class:"columns is multiline"},Fs={class:"column is-12"},Bs={key:0,class:"light-dark light-weight",style:{}},Ws={class:"column is-4 mt-6"},Ys={class:"profile-card is-relative mt-0"},Ks={class:"profile-card-section no-padding"},Hs=Pt((()=>p("div",{class:"section-title"},[p("h5",{style:{"font-weight":"500",color:"#444"}}," Reference Requests To Employee ")],-1))),Xs={class:"section-content no-padding"},Js=Pt((()=>p("i",{class:"fas fa-circle",style:{color:"var(--info)","font-size":"10px"},"aria-hidden":"true"},null,-1))),Gs={class:"ml-6",style:{"font-weight":"500"}},Qs={class:"ml-6",style:{"font-weight":"500"}},Zs={style:{width:"80px"}},ei=["onClick"],li=Pt((()=>p("img",{class:"light-image",src:Oe,alt:""},null,-1))),ai=Pt((()=>p("img",{class:"dark-image",src:Ee,alt:""},null,-1))),ti={class:"tab-content is-active"},si={class:"is-flex is-align-items-center is-justify-content-space-between"},ii={class:"is-flex is-align-items-center"},ni=Pt((()=>p("p",{class:"title is-6 is-narrow toc-ignore ml-3"}," Employement Reference Details ",-1))),oi={class:"is-flex is-justify-content-space-between"},ri=Pt((()=>p("hr",null,null,-1))),ci={class:"columns is-raised s-card"},di=Pt((()=>p("div",{class:"column is-2"},[p("div",{class:"content"},[p("ol",{class:"",style:{"list-style-type":"none","font-weight":"bold"}},[p("li",null,"Referee Name:"),p("li",null,"Rferee Contact:"),p("li",null,"Job Title:"),p("li",null,"Employed From:"),p("li",null,"Is Date Confirmed?:")])])],-1))),ui={class:"column is-2"},mi={class:"content mb-4"},pi={style:{"list-style-type":"none"}},vi={key:0},fi={key:1},yi=Pt((()=>p("div",{class:"column is-2"},[p("div",{class:"content"},[p("ol",{style:{"list-style-type":"none","font-weight":"bold"}},[p("li",null,"Referee Email:"),p("li",null,"No of Requests:"),p("li",null,"Alternate Proof:"),p("li",null,"Employed To:"),p("li",null,"Verbal Confirmation")])])],-1))),hi={class:"column is-2"},gi={class:"content"},bi={style:{"list-style-type":"none"}},wi={style:{width:"100%","word-wrap":"break-word"}},_i={class:"is-flex is-align-items-center"},xi={key:0},ki=Pt((()=>p("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Ci=Pt((()=>p("div",{class:"column is-2"},[p("div",{class:"content"},[p("ol",{style:{"list-style-type":"none","font-weight":"bold"}},[p("li",null,"Company Name:"),p("li",null,"Last Request Date:"),p("li",null,"Reference Documnet:"),p("li",null,"Months/Years:"),p("li",null,"Employee Name:")])])],-1))),Si={class:"column is-2"},Ai={class:"content"},Ni={style:{"list-style-type":"none"}},Ti={class:"is-flex is-align-items-center"},Vi={key:0},Ii=Pt((()=>p("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Di={class:"modal-form"},ji={class:"columns"},Ri={class:"column is-half"},Oi={class:"field"},Ei=Pt((()=>p("label",{class:"label"},"Employement Type",-1))),Ui={class:"control"},Li={class:"multiselect-single-label"},Mi={class:"select-label-text"},zi={class:"select-label-text"},qi={class:"column is-half"},$i={class:"field"},Pi=Pt((()=>p("label",{class:"label"},"Referee Name *",-1))),Fi={class:"control"},Bi={class:"columns"},Wi={class:"column is-half"},Yi={class:"field"},Ki=Pt((()=>p("label",{class:"label"},"Referee Phone ",-1))),Hi={class:"control"},Xi={class:"column is-half"},Ji={class:"field"},Gi=Pt((()=>p("label",{class:"label"},"Referee Email *",-1))),Qi={class:"control"},Zi=Pt((()=>p("hr",null,null,-1))),en={class:"columns"},ln={class:"column is-half"},an={class:"field"},tn=Pt((()=>p("label",{class:"label"},"Company *",-1))),sn={class:"control"},nn={class:"column is-half"},on={class:"field"},rn=Pt((()=>p("label",{class:"label"},"Job Title *",-1))),cn={class:"control"},dn={class:"columns"},un={class:"column is-half"},mn={class:"field"},pn=Pt((()=>p("label",{class:"label"},"Employment Start Date *",-1))),vn={class:"control"},fn={class:"column is-half"},yn={class:"field"},hn=Pt((()=>p("label",{class:"label"},"Employment End Date *",-1))),gn={class:"control"},bn={class:"modal-form"},wn={class:"columns"},_n={class:"column is-half"},xn={class:"field"},kn=Pt((()=>p("label",{class:"label"},"Employement Type",-1))),Cn={class:"control"},Sn={class:"multiselect-single-label"},An={class:"select-label-text"},Nn={class:"select-label-text"},Tn={class:"column is-half"},Vn={class:"field"},In=Pt((()=>p("label",{class:"label"},"Job Title ",-1))),Dn={class:"control"},jn={class:"columns"},Rn={class:"column is-half"},On={class:"field"},En=Pt((()=>p("label",{class:"label"},"Employement Start Date *",-1))),Un={class:"control"},Ln={class:"column is-half"},Mn={class:"field"},zn=Pt((()=>p("label",{class:"label"},"Employement End Date *",-1))),qn={class:"control"},$n=Pt((()=>p("hr",null,null,-1))),Pn=Pt((()=>p("span",{style:{"font-weight":"bold","line-height":"3"}},"Referee Information",-1))),Fn={class:"columns"},Bn={class:"column is-half"},Wn={class:"field"},Yn=Pt((()=>p("label",{class:"label"},"Referee Name ",-1))),Kn={class:"control"},Hn={class:"column is-half"},Xn={class:"field"},Jn=Pt((()=>p("label",{class:"label"},"Referee Email *",-1))),Gn={class:"control"},Qn={class:"columns"},Zn={class:"column is-half"},eo={class:"field"},lo=Pt((()=>p("label",{class:"label"},"Company ",-1))),ao={class:"control"},to={class:"column is-half"},so={class:"field"},io=Pt((()=>p("label",{class:"label"},"Referee Phone ",-1))),no={class:"control"},oo={class:"d-flex justify-center"},ro={class:"modal-form"},co=["src"],uo=["src"],mo={class:"content rounded px-5"},po={class:"field mb-6"},vo=Pt((()=>p("label",{class:"label"},"Link :",-1))),fo={class:"field"},yo=Pt((()=>p("label",{class:"label"},"Email",-1))),ho=s({__name:"WorkerRefrence",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(l){const a=l,s=i(),n=ne(),h=se(),T=o(!1),V=o(!1),I=o(!1),D=o(""),j=o(!1),R=o("");o("");const O=o(""),z=o(!1),q=o(!1),$=o(0),P=o(""),F=o({}),B=o(!1),W=o([]),Y=o(null),K=o({}),H=o([]),X=o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),J=o({title:"",subtitle:"test",isRequestSweetAlertOpen:!1,btntext:"text"}),G=o({title:"",subtitle:"test",isDeleteRequestInfoSweetAlertOpen:!1,btntext:"text"}),Z=o({title:"",subtitle:"test",isEmailSweetAlertOpen:!1,btntext:"text"}),ee=o({id:0,refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",duration:"",companyName:"",worker:"",noOfRequests:"",lastRequestDate:"",alternateProof:"",referenceDocument:"",isDatesConfirmed:"",verbalConfirmationDate:"",isCompleted:"",status:"",type:"",created_at:"",refereeStatus:"",comment:""}),ae=o({id:0,refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",duration:"",worker:"",noOfRequests:"",lastRequestDate:"",alternateProof:"",referenceDocument:"",isDatesConfirmed:"",verbalConfirmationDate:"",isCompleted:"",status:"",type:"",created_at:"",comment:"",refereeStatus:""}),te=[],ie={Id:"Ref Id",reference:{label:"Referee",grow:!0},type:"Type",Name:"Position",Requested:"Requested",Status:"Status",Completed:"Completed at",actions:{label:"Actions",align:"end"}},oe=o([{id:0,reference:{id:0,refereeName:"",refereeEmail:"",refereeContact:"",jobTitle:"",companyName:"",alternateProof:null,referenceDocument:null,type:"",refereeStatus:"",status:"",employedFrom:"",employedTo:"",created_at:"",updated_at:"",noOfRequests:0,lastRequestDate:null,isDatesConfirmed:!1,verbalConfirmationDate:null,isCompleted:!1,worker:0,comment:"",created_by:0},status:"",token:"",completedAt:null,created_at:""}]);o("Pending");const re=o({Pending:"warning",Approved:"primary",Rejected:"danger"});o({Employment:"info",Acdamin:"primary",Activity:"danger"});const ce=o({refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",type:"Employment",worker:""}),de=e=>{console.log(e),ee.value=e,q.value=!0},ue=e=>{P.value=e,Y.value&&Y.value.click()},pe=async e=>{const l=e.target,a=l.files?.[0];await ve(ae.value.id,{[P.value]:a}),(async e=>{try{const l=await h.get(`/v3/api/worker/reference/${e}/`);ae.value=l.data,console.log("reference updated",ae.value)}catch{}})(ae.value.id)},ve=async(e,l)=>{console.log(l),await h.patch(`/v3/api/worker/reference/${e}/`,l),we(),n.success("Reference updated")},ye=async e=>{try{B.value=!0;await h.post(`/v3/api/worker/reference/${K.value.id}/send-reference-mail/`,{email:e});me({message:"sent <b>Employment Reference</b> by email",objectId:s.params.id,method:"patch"}),n.success("Email sent succesfully"),V.value=!1}catch(l){n.error("Error while sending email"),V.value=!1}finally{B.value=!1}},he=e=>{ce.value={...ce.value,[e.target.name]:e.target.value}},ge=e=>{console.log(F.value),F.value={...F.value,[e.target.name]:e.target.value}},be=async()=>{console.log(ce.value),ce.value={...ce.value,worker:a.id};try{j.value=!0;await h.post("/v3/api/worker/reference/",ce.value);n.success("New reference added"),me({message:"added a new <b>Reference</b>",objectId:s.params.id,method:"patch"}),j.value=!1,T.value=!1,we(),ce.value={refereeEmail:"",refereeName:"",refereeContact:"",jobTitle:"",employedFrom:"",employedTo:"",companyName:"",type:"Employment",worker:""}}catch{j.value=!1,n.error("Error accured")}},we=async()=>{const e=await h.get(`/v3/api/worker/reference/worker-references/${a.id}/`);te.length=0,W.value=e.data,console.log("resources",W.value),te.push(...e.data),R.value="fa",R.value="",Pe()},xe=e=>{$.value=e,X.value={title:"Are you sure?",subtitle:"You will not be able to recover this reference!",btntext:"Yes, Delete it",isSweetAlertOpen:!0}},ke=async()=>{try{j.value=!0,Z.value.isEmailSweetAlertOpen=!1;const e=await h.post("v3/api/worker/reference_requests/",{reference:$.value});n.success("Mail sent succesfuly"),console.log(e),Fe(),we(),Be()}catch(e){console.log(e),j.value=!1}finally{j.value=!1}},Ce=async()=>{console.log($.value),X.value.isSweetAlertOpen=!1,await h.delete(`v3/api/worker/reference/${$.value}`),n.success("Reference deleted successfully"),$.value=0,z.value=!1,we()},Se=async()=>{console.log($.value),J.value.isRequestSweetAlertOpen=!1,await h.delete(`/v3/api/worker/reference_requests/${$.value}/`),n.error("Request deleted successfully"),$.value=0,z.value=!1,Fe(),Be()},Ae=async()=>{console.log($.value),G.value.isDeleteRequestInfoSweetAlertOpen=!1,await h.delete(`v3/api/worker/reference_tokens/${$.value}/`),n.error("Request record deleted successfully"),$.value=0,z.value=!1,Fe(),Be()},Ne=(e,l)=>{const a=l;if(e&&a){const l=new Date(e),t=new Date(a).getTime()-l.getTime(),s=Math.floor(t/2592e6),i=Math.floor(s/12);return`${i}Yr - ${s%12}Mo - ${Math.floor(i%365)}Dy`}return"N/A"},Oe=E((()=>{if(R.value){const e=new RegExp(R.value,"i");return te.filter((l=>l.refereeName.match(e)||l.refereeEmail.match(e)))}return te})),Ee=E((()=>W.value.filter((e=>"Approved"==e.status)).length)),Me=new Date;Me.setFullYear(Me.getFullYear()-5);const ze=Me.toISOString().slice(0,10);Me.getFullYear();const qe=o({plugins:[Ue],schedulerLicenseKey:"0965592368-fcs-1694657447",initialView:"resourceTimeline5Year",height:"auto",resourceAreaWidth:"10%",selectable:!0,now:ze,headerToolbar:{left:"",center:"",right:""},droppable:!0,editable:!0,views:{resourceTimeline5Year:{type:"resourceTimeline",duration:{years:6},slotDuration:{months:2},slotWidth:10}},resourceAreaHeaderContent:"Companies",eventClick:e=>{console.log("event",e.event.id),console.log("clicked");const l=document.getElementById(`ref-${e.event.id}`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}}),$e={Pending:"#FAAD42",Approved:"#05D69E",Rejected:"#E62864"},Pe=()=>{console.log("references",te);const e=te.map(((e,l)=>({id:e.id,resourceId:e.id,start:e.employedFrom,end:e.employedTo,title:e.companyName,jobTitle:e.jobTitle,status:e.status,color:$e[e.status]}))),l=te.map(((e,l)=>({id:e.id,title:e.companyName,jobTitle:e.jobTitle,status:e.status,color:$e[e.status]})));qe.value.resources=l,console.log("options",qe.value),qe.value.events=e},Fe=async()=>{try{const e=await h.get(`/v3/api/worker/reference_requests/${a.id}/worker/`);oe.value=e.data,console.log("requests",oe.value)}catch(e){console.log(e)}},Be=async()=>{try{const e=await h.get(`/v3/api/worker/reference/worker-reference-requests/${a.id}/`);H.value=e.data}catch(e){console.log(e)}};return r((async()=>{Fe(),await we(),Be(),console.log("no",Ee)})),(l,i)=>{const o=Re,r=N,E=Q,P=Ie,B=je,W=De,te=Ve,se=U("P"),ne=_e,ve=Te,Ue=U("Multiselect"),Me=le,ze=t,$e=fe,Pe=e;return c(),d(k,null,[p("div",null,[p("input",{ref_key:"fileInput",ref:Y,type:"file",style:{display:"none"},onChange:pe,accept:"image/*,application/pdf"},null,544),w(p("div",Ft,[Bt,p("div",Wt,[p("div",Yt,[Kt,p("div",Ht,[u(o,{class:"mb-1",style:{height:"18px",width:"300px"},value:v(Ee)?v(Ee)/v(Oe).length*100:0},null,8,["value"]),v(Ee)?(c(),d("p",Xt,S((v(Ee)/v(Oe).length*100).toFixed(2))+"% ",1)):f("",!0)])]),p("div",Jt,[p("div",Gt,[p("div",Qt,[u(r,{color:"info",onClick:i[0]||(i[0]=e=>(async()=>{try{V.value=!0;const e=window.location.origin,l=await h.post("/v3/api/worker/reference/create-reference-link/",{worker:a.id});K.value=l.data,O.value=`${e}/add-reference/${l.data.token}`,Be()}catch(e){console.error(e)}})()),icon:"fas fa-link",elevated:""},{default:m((()=>[x(" Reference link ")])),_:1}),u(r,{color:"primary",onClick:i[1]||(i[1]=()=>{T.value=!v(T)}),icon:"fas fa-plus",elevated:""},{default:m((()=>[x(" Reference ")])),_:1}),u(E,{icon:"feather:search"},{default:m((()=>[w(p("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>b(R)?R.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[_,v(R)]])])),_:1})])])]),p("div",Zt,[v(Oe).length?(c(),y(W,{key:0,class:"mb-4",data:v(oe),columns:ie,rounded:""},{body:m((()=>[u(M,{name:"list",tag:"div",class:"flex-list-inner"},{default:m((()=>[(c(!0),d(k,null,C(v(oe),((e,l)=>(c(),d("div",{key:l,class:"flex-table-item",style:{cursor:"pointer"}},[u(P,{column:{grow:!1}},{default:m((()=>[p("div",null,[p("span",es,"REF-9876"+S(e.reference.id),1)])])),_:2},1024),u(P,{column:{media:!0,grow:!0}},{default:m((()=>[p("div",null,[p("span",ls,S(e.reference.refereeName),1),p("span",as,[p("span",null,S(e.reference.refereeEmail),1)])])])),_:2},1024),u(P,null,{default:m((()=>[p("div",null,[p("span",ts,S(e.reference.type),1)])])),_:2},1024),u(P,null,{default:m((()=>[p("span",ss,S(e.reference.jobTitle),1)])),_:2},1024),u(P,null,{default:m((()=>[u(B,{color:"light"},{default:m((()=>[x(S(e.created_at.slice(0,10)),1)])),_:2},1024)])),_:2},1024),u(P,null,{default:m((()=>[u(B,{color:v(re)[e.status]},{default:m((()=>[x(S(e.status),1)])),_:2},1032,["color"])])),_:2},1024),u(P,{column:{align:"start"}},{default:m((()=>[u(B,{color:"light"},{default:m((()=>[x(S(e.completedAt?e.completedAt.slice(0,10):"-- -- ----"),1)])),_:2},1024)])),_:2},1024),u(P,{column:{align:"end"}},{default:m((()=>[p("i",{onClick:l=>{return a=e.id,$.value=a,J.value={title:"Are you sure?",subtitle:"You want to delete this Request permanentaly ?",btntext:"Yes, Delete it",isRequestSweetAlertOpen:!0},void Be();var a},class:"fas fa-trash-alt cu-pointer cus-del-icon","aria-hidden":"true"},null,8,is)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):(c(),y(B,{key:1,color:"warning",class:"mb-2 ml-5"},{default:m((()=>[x("No Request sent to the Referee yet")])),_:1}))])]),ns,u(v(Le),{options:v(qe)},{eventContent:m((e=>[p("div",os,[p("p",rs,[u(B,{light:"",color:"info",class:"mr-5"},{default:m((()=>[p("span",cs,"REF-9876"+S(e.event.id),1)])),_:2},1024),x(" "+S(e.event.extendedProps.jobTitle)+" -- "+S(e.event.extendedProps.status),1)])])])),_:1},8,["options"]),ds,p("div",us,[p("div",ms,[ps,(c(!0),d(k,null,C(v(Oe),((e,l)=>(c(),d("div",{key:l,style:{"background-color":"#fff","border-radius":"16px"},class:"p-6 mb-4",id:`ref-${e.id}`},[p("div",fs,[p("div",null,[p("p",ys,"REF-9876"+S(e.id),1),p("div",hs,[p("h1",gs,S(e.companyName),1),p("h3",bs," (Mail sent: "+S(e.mails_sent)+" time) ",1)])]),p("div",ws,[u(te,{icon:"feather:edit-2",onClick:l=>de(e),color:"info"},null,8,["onClick"]),u(te,{onClick:l=>xe(e.id),icon:"feather:trash",color:"danger"},null,8,["onClick"])])]),p("div",_s,[p("div",xs,[p("div",ks,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Type")])),_:1}),p("p",Cs,S(e.type),1)]),p("div",Ss,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Company")])),_:1}),p("p",As,S(e.companyName?e.companyName:"Not Mentioned"),1)]),p("div",Ns,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Requested At")])),_:1}),p("p",Ts,S(e.created_at?e.created_at.slice(0,10):"-- -- ----"),1)]),p("div",Vs,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Status")])),_:1}),p("p",{style:A({color:`var(--${v(re)[e.status]})`}),class:"light-dark weighted"},S(e.status),5)])]),Is,p("div",Ds,[p("div",js,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Start Date")])),_:1}),p("p",Rs,S(e.employedFrom),1)]),p("div",Os,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("End Date")])),_:1}),p("p",Es,S(e.employedTo),1)]),p("div",Us,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Position")])),_:1}),p("p",Ls,S(e.jobTitle),1)]),p("div",Ms,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Verification")])),_:1}),p("p",zs,[p("a",{style:{color:"var(--primary)","text-decoration":"underline"},onClick:l=>{return a=e.id,$.value=a,Z.value={title:"Sending mail?",subtitle:"An automated generated email will be sent to the referee",btntext:"Yes, Send",isEmailSweetAlertOpen:!0},void Be();var a},class:"cu-pointer"}," Send email ",8,qs)])]),p("div",$s,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Contact status")])),_:1}),p("p",{style:A({color:"Contacted"==e.refereeStatus?"var(--primary)":"var(--info)"}),class:"light-dark weighted"},S(e.refereeStatus),5)])]),p("div",Ps,[p("div",Fs,[u(se,{style:{"font-size":"15px","font-weight":"400",color:"#898989"}},{default:m((()=>[x("Comment:")])),_:1}),e.comment?(c(),d("p",Bs,S(e.comment),1)):f("",!0),e.comment?f("",!0):(c(),y(B,{key:1},{default:m((()=>[x("No comments added yet")])),_:1}))])])])],8,vs)))),128))]),p("div",Ws,[p("div",Ys,[p("div",Ks,[Hs,p("div",Xs,[(c(!0),d(k,null,C(v(H),(e=>(c(),d("div",{key:e.id,style:{display:"flex","align-items":"center"},class:"mb-2"},[Js,p("p",Gs,S(e.created_at.slice(0,10)),1),p("p",Qs,S(e.created_at.slice(11,16)),1),p("div",Zs,[u(B,{class:"ml-6",color:"Pending"==e.status?"light":"purple"},{default:m((()=>[x(S(e.status),1)])),_:2},1032,["color"])]),p("i",{class:"fas fa-trash-alt ml-6 cu-pointer cus-del-icon",onClick:l=>{return a=e.id,$.value=a,G.value={title:"Are you sure?",subtitle:"You want to delete this referee request record permanentaly ?",btntext:"Yes, Delete",isDeleteRequestInfoSweetAlertOpen:!0},void Be();var a},style:{},"aria-hidden":"true"},null,8,ei)])))),128)),0==v(H).length?(c(),y(B,{key:0,color:"warning",class:"mb-5 ml-5"},{default:m((()=>[x(" No Request sent to the Referee yet")])),_:1})):f("",!0)])])])])]),0==v(Oe).length?(c(),y(ne,{key:0,title:"No Reference is added for this employee.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n\t\t\t\t\t\tsearch terms you've entered. Please try different search terms or\n\t\t\t\t\t\tcriteria.",larger:""},{image:m((()=>[li,ai])),_:1})):f("",!0)],512),[[L,!v(z)]]),w(p("section",ti,[p("div",si,[p("div",ii,[p("i",{class:"fas fa-arrow-left","aria-hidden":"true",onClick:i[3]||(i[3]=e=>z.value=!1),style:{cursor:"pointer"}}),ni]),p("div",oi,[u(r,{class:"ml-3 mr-3",color:"info",icon:"fas fa-edit",onClick:i[4]||(i[4]=e=>de(l.item))},{default:m((()=>[x(" Edit ")])),_:1}),u(r,{color:"danger",icon:"fas fa-trash-alt",onClick:i[5]||(i[5]=e=>xe(v(ae).id))},{default:m((()=>[x(" Delete ")])),_:1})])]),ri,p("div",ci,[di,p("div",ui,[p("div",mi,[p("ol",pi,[p("li",null,S(v(ae).refereeName?v(ae).refereeName:"--"),1),p("li",null,S(v(ae).refereeContact?v(ae).refereeContact:"--"),1),p("li",null,S(v(ae).jobTitle?v(ae).jobTitle:"--"),1),p("li",null,S(v(ae).employedFrom?v(ae).employedFrom:"--"),1),v(ae).isDatesConfirmed?(c(),d("li",vi,[u(B,{color:"primary",icon:"fas fa-question-circle",label:"Confirmed",rounded:"",elevated:""})])):(c(),d("li",fi,[u(B,{color:"danger",icon:"fas fa-question-circle",label:"not Confirmed",rounded:"",elevated:""})]))])])]),yi,p("div",hi,[p("div",gi,[p("ol",bi,[p("li",wi,S(v(ae).refereeEmail?v(ae).refereeEmail:"--"),1),p("li",null,S(v(ae).noOfRequests?v(ae).noOfRequests:"--"),1),p("li",null,[p("div",_i,[v(ae).alternateProof?(c(),d("div",xi,[v(ae).alternateProof.includes(".pdf")?(c(),d("i",{key:0,onClick:i[6]||(i[6]=()=>{I.value=!0,D.value=v(ae).alternateProof}),class:"fas fa-file-pdf mr-5","aria-hidden":"true",style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}})):(c(),d("i",{key:1,class:"fas fa-file-pdf mr-5","aria-hidden":"true",onClick:i[7]||(i[7]=()=>{I.value=!0,D.value=v(ae).alternateProof}),style:{cursor:"pointer",color:"var(--pink)","font-size":"20px"}}))])):f("",!0),u(ve,{size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:i[8]||(i[8]=()=>ue("alternateProof"))},{default:m((()=>[ki])),_:1})])]),p("li",null,S(v(ae).employedTo?v(ae).employedTo:"--"),1),p("li",null,S(v(ae).verbalConfirmationDate?v(ae).verbalConfirmationDate:"--"),1)])])]),Ci,p("div",Si,[p("div",Ai,[p("ol",Ni,[p("li",null,S(v(ae).companyName?v(ae).companyName:"--"),1),p("li",null,S(v(ae).lastRequestDate?v(ae).lastRequestDate:"--"),1),p("li",null,[p("div",Ti,[v(ae).referenceDocument?(c(),d("div",Vi,[v(ae).referenceDocument.includes(".pdf")?(c(),d("i",{key:0,onClick:i[9]||(i[9]=()=>{I.value=!0,D.value=v(ae).referenceDocument}),class:"fas fa-file-pdf mr-5","aria-hidden":"true",style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}})):(c(),d("i",{key:1,class:"fas fa-file-image mr-5","aria-hidden":"true",onClick:i[10]||(i[10]=()=>{I.value=!0,D.value=v(ae).referenceDocument}),style:{cursor:"pointer",color:"var(--primary)","font-size":"20px"}}))])):f("",!0),u(ve,{size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:i[11]||(i[11]=()=>ue("referenceDocument"))},{default:m((()=>[Ii])),_:1})])]),p("li",null,S(Ne(v(ae).employedFrom,v(ae).employedTo)),1),p("li",null,S(a.worker.firstName),1)])])])])],512),[[L,v(z)]]),u(ze,{is:"form",open:v(q),title:"Update Employment Reference",size:"big",actions:"right",onSubmit:i[27]||(i[27]=g((e=>(async()=>{console.log("edit form submit");try{j.value=!0,await h.patch(`/v3/api/worker/reference/${ee.value.id}/`,F.value),q.value=!1,n.success("Reference Updated"),me({message:"edited <b>Employment Reference</b>",objectId:s.params.id,method:"patch"}),j.value=!1,we()}catch{j.value=!1}})()),["prevent"])),onClose:i[28]||(i[28]=e=>q.value=!1)},{content:m((()=>[p("div",Di,[p("div",ji,[p("div",Ri,[p("div",Oi,[Ei,p("div",Ui,[u(Me,{class:"is-image-select"},{default:m((({id:e})=>[u(E,null,{default:m((()=>[u(Ue,{modelValue:v(ee).type,"onUpdate:modelValue":i[12]||(i[12]=e=>v(ee).type=e),attrs:{id:e},placeholder:"Select a type",autocomplete:"type",label:"name",options:[{value:"Employment",name:"Employement"},{value:"Acdamin",name:"Academia"},{value:"Activity",name:"Activity"}]},{singlelabel:m((({value:e})=>[p("div",Li,[p("span",Mi,S(e.name),1)])])),option:m((({option:e})=>[p("span",zi,S(e.name),1)])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})])])]),p("div",qi,[p("div",$i,[Pi,p("div",Fi,[w(p("input",{type:"text",name:"refereeName",required:"",class:"input",onChange:i[13]||(i[13]=e=>ge(e)),placeholder:"Referee Name","onUpdate:modelValue":i[14]||(i[14]=e=>v(ee).refereeName=e)},null,544),[[_,v(ee).refereeName]])])])])]),p("div",Bi,[p("div",Wi,[p("div",Yi,[Ki,p("div",Hi,[w(p("input",{type:"tel",name:"refereeContact",class:"input",onChange:i[15]||(i[15]=e=>ge(e)),placeholder:"Referee Phone","onUpdate:modelValue":i[16]||(i[16]=e=>v(ee).refereeContact=e)},null,544),[[_,v(ee).refereeContact]])])])]),p("div",Xi,[p("div",Ji,[Gi,p("div",Qi,[w(p("input",{type:"email",name:"refereeEmail",required:"",class:"input",onChange:i[17]||(i[17]=e=>ge(e)),placeholder:"Referee Email","onUpdate:modelValue":i[18]||(i[18]=e=>v(ee).refereeEmail=e)},null,544),[[_,v(ee).refereeEmail]])])])])]),Zi,p("div",en,[p("div",ln,[p("div",an,[tn,p("div",sn,[w(p("input",{type:"text",name:"companyName",class:"input",required:"",placeholder:"Company","onUpdate:modelValue":i[19]||(i[19]=e=>v(ee).companyName=e),onChange:i[20]||(i[20]=e=>ge(e))},null,544),[[_,v(ee).companyName]])])])]),p("div",nn,[p("div",on,[rn,p("div",cn,[w(p("input",{type:"text",name:"jobTitle",required:"",class:"input",onChange:i[21]||(i[21]=e=>ge(e)),placeholder:"Job Title ","onUpdate:modelValue":i[22]||(i[22]=e=>v(ee).jobTitle=e)},null,544),[[_,v(ee).jobTitle]])])])])]),p("div",dn,[p("div",un,[p("div",mn,[pn,p("div",vn,[w(p("input",{type:"date",name:"employedFrom",required:"",class:"input",onChange:i[23]||(i[23]=e=>ge(e)),placeholder:"Referee email","onUpdate:modelValue":i[24]||(i[24]=e=>v(ee).employedFrom=e)},null,544),[[_,v(ee).employedFrom]])])])]),p("div",fn,[p("div",yn,[hn,p("div",gn,[w(p("input",{type:"date",name:"employedTo",required:"",class:"input",onChange:i[25]||(i[25]=e=>ge(e)),placeholder:"Referee email","onUpdate:modelValue":i[26]||(i[26]=e=>v(ee).employedTo=e)},null,544),[[_,v(ee).employedTo]])])])])])])])),action:m((()=>[u(r,{type:"submit",color:"primary",loading:v(j),raised:""},{default:m((()=>[x("Update")])),_:1},8,["loading"])])),_:1},8,["open"]),u(ze,{is:"form",open:v(T),title:"Add Employement Reference",size:"big",actions:"right",onSubmit:g(be,["prevent"]),onClose:i[44]||(i[44]=e=>T.value=!1)},{content:m((()=>[p("div",bn,[p("div",wn,[p("div",_n,[p("div",xn,[kn,p("div",Cn,[u(Me,{class:"is-image-select"},{default:m((({id:e})=>[u(E,null,{default:m((()=>[u(Ue,{modelValue:v(ce).type,"onUpdate:modelValue":i[29]||(i[29]=e=>v(ce).type=e),attrs:{id:e},placeholder:"Select a type",autocomplete:"type",label:"name",options:[{value:"Employment",name:"Employement"},{value:"Acdamin",name:"Academia"},{value:"Activity",name:"Activity"}]},{singlelabel:m((({value:e})=>[p("div",Sn,[p("span",An,S(e.name),1)])])),option:m((({option:e})=>[p("span",Nn,S(e.name),1)])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})])])]),p("div",Tn,[p("div",Vn,[In,p("div",Dn,[w(p("input",{type:"text",name:"jobTitle",onChange:i[30]||(i[30]=e=>he(e)),class:"input",placeholder:"Job title","onUpdate:modelValue":i[31]||(i[31]=e=>v(ce).jobTitle=e)},null,544),[[_,v(ce).jobTitle]])])])])]),p("div",jn,[p("div",Rn,[p("div",On,[En,p("div",Un,[w(p("input",{type:"date",name:"employedFrom",required:"",onChange:i[32]||(i[32]=e=>he(e)),class:"input",placeholder:"Start date","onUpdate:modelValue":i[33]||(i[33]=e=>v(ce).employedFrom=e)},null,544),[[_,v(ce).employedFrom]])])])]),p("div",Ln,[p("div",Mn,[zn,p("div",qn,[w(p("input",{type:"date",name:"employedTo",required:"",onChange:i[34]||(i[34]=e=>he(e)),class:"input",placeholder:"End date","onUpdate:modelValue":i[35]||(i[35]=e=>v(ce).employedTo=e)},null,544),[[_,v(ce).employedTo]])])])])]),$n,Pn,p("div",Fn,[p("div",Bn,[p("div",Wn,[Yn,p("div",Kn,[w(p("input",{type:"text",name:"refereeName",onChange:i[36]||(i[36]=e=>he(e)),class:"input",placeholder:"Referee name","onUpdate:modelValue":i[37]||(i[37]=e=>v(ce).refereeName=e)},null,544),[[_,v(ce).refereeName]])])])]),p("div",Hn,[p("div",Xn,[Jn,p("div",Gn,[w(p("input",{type:"email",name:"refereeEmail",required:"",onChange:i[38]||(i[38]=e=>he(e)),class:"input",placeholder:"Referee email","onUpdate:modelValue":i[39]||(i[39]=e=>v(ce).refereeEmail=e)},null,544),[[_,v(ce).refereeEmail]])])])])]),p("div",Qn,[p("div",Zn,[p("div",eo,[lo,p("div",ao,[w(p("input",{type:"text",name:"companyName",onChange:i[40]||(i[40]=e=>he(e)),class:"input",placeholder:"Company","onUpdate:modelValue":i[41]||(i[41]=e=>v(ce).companyName=e)},null,544),[[_,v(ce).companyName]])])])]),p("div",to,[p("div",so,[io,p("div",no,[w(p("input",{type:"tel",name:"refereeContact",onChange:i[42]||(i[42]=e=>he(e)),class:"input",placeholder:"Referee phone","onUpdate:modelValue":i[43]||(i[43]=e=>v(ce).refereeContact=e)},null,544),[[_,v(ce).refereeContact]])])])])])])])),action:m((()=>[p("div",oo,[u(r,{type:"submit",icon:"fas fa-plus",loading:v(j),color:"primary",raised:""},{default:m((()=>[x(" Create Reference ")])),_:1},8,["loading"])])])),cancel:m((()=>[u(r,{style:{display:"none"}},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open","onSubmit"]),u(ze,{title:"PDF File",open:v(I),size:"big",actions:"right",onClose:i[46]||(i[46]=e=>I.value=!1)},{content:m((()=>[p("div",ro,[v(D).includes(".pdf")?(c(),d("iframe",{key:0,src:v(D),style:{width:"100%",height:"800px",border:"none"}},"\n            Oops! an error has occurred.\n          ",8,co)):(c(),d("img",{key:1,src:v(D),alt:""},null,8,uo))])])),action:m((()=>[])),cancel:m((()=>[u(r,{rounded:"",onClick:i[45]||(i[45]=e=>I.value=!1)},{default:m((()=>[x(" Close ")])),_:1})])),_:1},8,["open"]),u(ze,{title:"Reference link",size:"small",open:v(V),actions:"right",onClose:i[53]||(i[53]=e=>V.value=!1)},{content:m((()=>[p("div",mo,[p("div",po,[vo,u(Me,{addons:""},{default:m((()=>[u(E,{expanded:""},{default:m((()=>[u($e,{modelValue:v(O),"onUpdate:modelValue":i[47]||(i[47]=e=>b(O)?O.value=e:null),type:"text",class:"input",placeholder:l.Loading?"Loading...":"Invitation Link"},null,8,["modelValue","placeholder"])])),_:1}),u(E,null,{default:m((()=>[u(r,{icon:"fas fa-copy",onClick:i[48]||(i[48]=e=>{return l=v(O),navigator.clipboard.writeText(l),n.success("Link copied"),void me({message:"shared <b>Employment Reference</b> through link",objectId:s.params.id,method:"patch"});var l}),color:"info"},{default:m((()=>[x(" Copy ")])),_:1})])),_:1})])),_:1})]),p("div",fo,[yo,u(Me,{addons:""},{default:m((()=>[u(E,{expanded:""},{default:m((()=>[u($e,{modelValue:a.worker.emailAddress,"onUpdate:modelValue":i[49]||(i[49]=e=>a.worker.emailAddress=e),type:"email",name:"employedFrom",class:"input",placeholder:"Email address"},null,8,["modelValue"])])),_:1}),u(E,null,{default:m((()=>[u(r,{icon:"fas fa-envelope",onClick:i[50]||(i[50]=e=>ye(a.worker.emailAddress)),color:"primary"},{default:m((()=>[x(" Send ")])),_:1})])),_:1})])),_:1})])])])),action:m((()=>[u(r,{onClick:i[51]||(i[51]=e=>ye(a.worker.emailAddress)),color:"primary",style:{display:"none"},raised:"",icon:"fas fa-envelope"},{default:m((()=>[x("Send ")])),_:1})])),cancel:m((()=>[u(r,{onClick:i[52]||(i[52]=e=>V.value=!1),style:{display:"none"}},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open"])]),v(X).isSweetAlertOpen?(c(),y(Pe,{key:0,isSweetAlertOpen:v(X).isSweetAlertOpen,title:v(X).title,subtitle:v(X).subtitle,btntext:v(X).btntext,onConfirm:Ce,onCancel:()=>v(X).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0),v(J).isRequestSweetAlertOpen?(c(),y(Pe,{key:1,isRequestSweetAlertOpen:v(J).isRequestSweetAlertOpen,title:v(J).title,subtitle:v(J).subtitle,btntext:v(J).btntext,onConfirm:Se,onCancel:()=>v(J).isRequestSweetAlertOpen=!1},null,8,["isRequestSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0),v(G).isDeleteRequestInfoSweetAlertOpen?(c(),y(Pe,{key:2,isDeleteRequestInfoSweetAlertOpen:v(G).isDeleteRequestInfoSweetAlertOpen,title:v(G).title,subtitle:v(G).subtitle,btntext:v(G).btntext,onConfirm:Ae,onCancel:()=>v(G).isDeleteRequestInfoSweetAlertOpen=!1},null,8,["isDeleteRequestInfoSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0),v(Z).isEmailSweetAlertOpen?(c(),y(Pe,{key:3,isEmailSweetAlertOpen:v(Z).isEmailSweetAlertOpen,title:v(Z).title,subtitle:v(Z).subtitle,btntext:v(Z).btntext,onConfirm:ke,onCancel:()=>v(Z).isEmailSweetAlertOpen=!1},null,8,["isEmailSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0)],64)}}}),go=I(ho,[["__scopeId","data-v-50e7445e"]]),bo={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},wo={itemsToShow:{default:bo.itemsToShow,type:Number},itemsToScroll:{default:bo.itemsToScroll,type:Number},wrapAround:{default:bo.wrapAround,type:Boolean},throttle:{default:bo.throttle,type:Number},snapAlign:{default:bo.snapAlign,validator:e=>["start","end","center","center-even","center-odd"].includes(e)},transition:{default:bo.transition,type:Number},breakpoints:{default:bo.breakpoints,type:Object},autoplay:{default:bo.autoplay,type:Number},pauseAutoplayOnHover:{default:bo.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:bo.mouseDrag,type:Boolean},touchDrag:{default:bo.touchDrag,type:Boolean},dir:{default:bo.dir,validator:e=>["rtl","ltr"].includes(e)},i18n:{default:bo.i18n,type:Object},settings:{default:()=>({}),type:Object}};function _o({val:e,max:l,min:a}){return l<a?e:Math.min(Math.max(e,a),l)}function xo(e){return e?e.reduce(((e,l)=>{var a;return l.type===k?[...e,...xo(l.children)]:"CarouselSlide"===(null===(a=l.type)||void 0===a?void 0:a.name)?[...e,l]:e}),[]):[]}function ko({val:e,max:l,min:a=0}){return e>l?ko({val:e-(l+1),max:l,min:a}):e<a?ko({val:e+(l+1),max:l,min:a}):e}function Co(e="",l={}){return Object.entries(l).reduce(((e,[l,a])=>e.replace(`{${l}}`,String(a))),e)}var So,Ao=s({name:"ARIA",setup(){const e=Y("config",z(Object.assign({},bo))),l=Y("currentSlide",o(0)),a=Y("slidesCount",o(0));return()=>W("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Co(e.i18n.itemXofY,{currentSlide:l.value+1,slidesCount:a.value}))}}),No=s({name:"Carousel",props:wo,setup(e,{slots:l,emit:a,expose:t}){var s;const i=o(null),n=o([]),c=o(0),d=o(0),u=z(Object.assign({},bo));let m,p=Object.assign({},bo);const v=o(null!==(s=e.modelValue)&&void 0!==s?s:0),f=o(0),y=o(0),h=o(0),g=o(0);let b,w;function _(){m=Object.assign({},e.breakpoints),p=Object.assign(Object.assign(Object.assign({},p),e),{i18n:Object.assign(Object.assign({},p.i18n),e.i18n),breakpoints:void 0}),k(p)}function x(){if(!m||!Object.keys(m).length)return;const e=Object.keys(m).map((e=>Number(e))).sort(((e,l)=>+l-+e));let l=Object.assign({},p);e.some((e=>{const a=window.matchMedia(`(min-width: ${e}px)`).matches;return a&&(l=Object.assign(Object.assign({},l),m[e])),a})),k(l)}function k(e){Object.entries(e).forEach((([e,l])=>u[e]=l))}q("config",u),q("slidesCount",d),q("currentSlide",v),q("maxSlide",h),q("minSlide",g),q("slideWidth",c);const C=function(e,l){let a;return function(...t){a&&clearTimeout(a),a=setTimeout((()=>{e(...t),a=null}),l)}}((()=>{x(),A(),S()}),16);function S(){if(!i.value)return;const e=i.value.getBoundingClientRect();c.value=e.width/u.itemsToShow}function A(){d.value<=0||(y.value=Math.ceil((d.value-1)/2),h.value=function({config:e,slidesCount:l}){const{snapAlign:a,wrapAround:t,itemsToShow:s=1}=e;if(t)return Math.max(l-1,0);let i;switch(a){case"start":i=l-s;break;case"end":i=l-1;break;case"center":case"center-odd":i=l-Math.ceil((s-.5)/2);break;case"center-even":i=l-Math.ceil(s/2);break;default:i=0}return Math.max(i,0)}({config:u,slidesCount:d.value}),g.value=function({config:e,slidesCount:l}){const{wrapAround:a,snapAlign:t,itemsToShow:s=1}=e;let i=0;if(a||s>l)return i;switch(t){case"start":default:i=0;break;case"end":i=s-1;break;case"center":case"center-odd":i=Math.floor((s-1)/2);break;case"center-even":i=Math.floor((s-2)/2)}return i}({config:u,slidesCount:d.value}),u.wrapAround||(v.value=_o({val:v.value,max:h.value,min:g.value})))}r((()=>{$((()=>S())),setTimeout((()=>S()),1e3),x(),Y(),window.addEventListener("resize",C,{passive:!0}),a("init")})),P((()=>{w&&clearTimeout(w),b&&clearInterval(b),window.removeEventListener("resize",C,{passive:!0})}));let N=!1;const T={x:0,y:0},V={x:0,y:0},I=z({x:0,y:0}),D=o(!1),j=o(!1),R=()=>{D.value=!0},O=()=>{D.value=!1};function U(e){["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||(N="touchstart"===e.type,N||e.preventDefault(),!N&&0!==e.button||H.value||(T.x=N?e.touches[0].clientX:e.clientX,T.y=N?e.touches[0].clientY:e.clientY,document.addEventListener(N?"touchmove":"mousemove",L,!0),document.addEventListener(N?"touchend":"mouseup",M,!0)))}const L=function(e,l){let a;return l?function(...t){const s=this;a||(e.apply(s,t),a=!0,setTimeout((()=>a=!1),l))}:e}((e=>{j.value=!0,V.x=N?e.touches[0].clientX:e.clientX,V.y=N?e.touches[0].clientY:e.clientY;const l=V.x-T.x,a=V.y-T.y;I.y=a,I.x=l}),u.throttle);function M(){const e="rtl"===u.dir?-1:1,l=.4*Math.sign(I.x),a=Math.round(I.x/c.value+l)*e;if(a&&!N){const e=l=>{window.removeEventListener("click",e,!0)};window.addEventListener("click",e,!0)}X(v.value-a),I.x=0,I.y=0,j.value=!1,document.removeEventListener(N?"touchmove":"mousemove",L,!0),document.removeEventListener(N?"touchend":"mouseup",M,!0)}function Y(){!u.autoplay||u.autoplay<=0||(b=setInterval((()=>{u.pauseAutoplayOnHover&&D.value||J()}),u.autoplay))}function K(){b&&(clearInterval(b),b=null),Y()}const H=o(!1);function X(e){const l=u.wrapAround?e:_o({val:e,max:h.value,min:g.value});v.value===l||H.value||(a("slide-start",{slidingToIndex:e,currentSlideIndex:v.value,prevSlideIndex:f.value,slidesCount:d.value}),H.value=!0,f.value=v.value,v.value=l,w=setTimeout((()=>{if(u.wrapAround){const t=ko({val:l,max:h.value,min:0});t!==v.value&&(v.value=t,a("loop",{currentSlideIndex:v.value,slidingToIndex:e}))}a("update:modelValue",v.value),a("slide-end",{currentSlideIndex:v.value,prevSlideIndex:f.value,slidesCount:d.value}),H.value=!1,K()}),u.transition))}function J(){X(v.value+u.itemsToScroll)}function G(){X(v.value-u.itemsToScroll)}const Q={slideTo:X,next:J,prev:G};q("nav",Q),q("isSliding",H);const Z=E((()=>function({config:e,currentSlide:l,slidesCount:a}){const{snapAlign:t,wrapAround:s,itemsToShow:i=1}=e;let n=l;switch(t){case"center":case"center-odd":n-=(i-1)/2;break;case"center-even":n-=(i-2)/2;break;case"end":n-=i-1}return s?n:_o({val:n,max:a-i,min:0})}({config:u,currentSlide:v.value,slidesCount:d.value})));q("slidesToScroll",Z);const ee=E((()=>{const e="rtl"===u.dir?-1:1,l=Z.value*c.value*e;return{transform:`translateX(${I.x-l}px)`,transition:`${H.value?u.transition:0}ms`,margin:u.wrapAround?`0 -${d.value*c.value}px`:"",width:"100%"}}));function le(){_(),x(),A(),S(),K()}Object.keys(wo).forEach((l=>{["modelValue"].includes(l)||F((()=>e[l]),le)})),F((()=>e.modelValue),(e=>{e!==v.value&&X(Number(e))})),F(d,A),a("before-init"),_();const ae={config:u,slidesCount:d,slideWidth:c,next:J,prev:G,slideTo:X,currentSlide:v,maxSlide:h,minSlide:g,middleSlide:y};t({updateBreakpointsConfigs:x,updateSlidesData:A,updateSlideWidth:S,initDefaultConfigs:_,restartCarousel:le,slideTo:X,next:J,prev:G,nav:Q,data:ae});const te=l.default||l.slides,se=l.addons,ie=z(ae);return()=>{const e=xo(null==te?void 0:te(ie)),l=(null==se?void 0:se(ie))||[];e.forEach(((e,l)=>e.props.index=l));let a=e;if(u.wrapAround){const l=e.map(((l,a)=>B(l,{index:-e.length+a,isClone:!0,key:`clone-before-${a}`}))),t=e.map(((l,a)=>B(l,{index:e.length+a,isClone:!0,key:`clone-after-${a}`})));a=[...l,...e,...t]}n.value=e,d.value=Math.max(e.length,1);const t=W("ol",{class:"carousel__track",style:ee.value,onMousedownCapture:u.mouseDrag?U:null,onTouchstartPassiveCapture:u.touchDrag?U:null},a),s=W("div",{class:"carousel__viewport"},t);return W("section",{ref:i,class:{carousel:!0,"is-sliding":H.value,"is-dragging":j.value,"is-hover":D.value,"carousel--rtl":"rtl"===u.dir},dir:u.dir,"aria-label":u.i18n.ariaGallery,tabindex:"0",onMouseenter:R,onMouseleave:O},[s,l,W(Ao)])}}});!function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"}(So||(So={}));const To={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};const Vo=e=>{const l=Y("config",z(Object.assign({},bo))),a=String(e.name),t=`icon${a.charAt(0).toUpperCase()+a.slice(1)}`;if(!a||"string"!=typeof a||!(a in So))return;const s=W("path",{d:To[a]}),i=l.i18n[t]||e.title||a,n=W("title",i);return W("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":i},[n,s])};Vo.props={name:String,title:String};const Io=(e,{slots:l,attrs:a})=>{const{next:t,prev:s}=l||{},i=Y("config",z(Object.assign({},bo))),n=Y("maxSlide",o(1)),r=Y("minSlide",o(1)),c=Y("currentSlide",o(1)),d=Y("nav",{}),{dir:u,wrapAround:m,i18n:p}=i,v="rtl"===u;return[W("button",{type:"button",class:["carousel__prev",!m&&c.value<=r.value&&"carousel__prev--disabled",null==a?void 0:a.class],"aria-label":p.ariaPreviousSlide,onClick:d.prev},(null==s?void 0:s())||W(Vo,{name:v?"arrowRight":"arrowLeft"})),W("button",{type:"button",class:["carousel__next",!m&&c.value>=n.value&&"carousel__next--disabled",null==a?void 0:a.class],"aria-label":p.ariaNextSlide,onClick:d.next},(null==t?void 0:t())||W(Vo,{name:v?"arrowLeft":"arrowRight"}))]},Do=()=>{const e=Y("config",z(Object.assign({},bo))),l=Y("maxSlide",o(1)),a=Y("minSlide",o(1)),t=Y("currentSlide",o(1)),s=Y("nav",{}),i=e=>ko({val:t.value,max:l.value,min:0})===e,n=[];for(let o=a.value;o<l.value+1;o++){const l=W("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":i(o)},"aria-label":Co(e.i18n.ariaNavigateToSlide,{slideNumber:o+1}),onClick:()=>s.slideTo(o)}),a=W("li",{class:"carousel__pagination-item",key:o},l);n.push(a)}return W("ol",{class:"carousel__pagination"},n)};var jo=s({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:l}){const a=Y("config",z(Object.assign({},bo))),t=Y("currentSlide",o(0)),s=Y("slidesToScroll",o(0)),i=Y("isSliding",o(!1)),n=E((()=>e.index===t.value)),r=E((()=>e.index===t.value-1)),c=E((()=>e.index===t.value+1)),d=E((()=>{const l=Math.floor(s.value),t=Math.ceil(s.value+a.itemsToShow-1);return e.index>=l&&e.index<=t}));return()=>{var t;return W("li",{style:{width:100/a.itemsToShow+"%"},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":d.value,"carousel__slide--active":n.value,"carousel__slide--prev":r.value,"carousel__slide--next":c.value,"carousel__slide--sliding":i.value},"aria-hidden":!d.value},null===(t=l.default)||void 0===t?void 0:t.call(l,{isActive:n.value,isClone:e.isClone,isPrev:r.value,isNext:c.value,isSliding:i.value,isVisible:d.value}))}}});const Ro=e=>(T("data-v-1380b223"),e=e(),V(),e),Oo={class:"tab-content is-active"},Eo={class:"columns mt-1"},Uo={key:0,class:"column is-12"},Lo=K('<div class="row" data-v-1380b223><div class="columns is-multiline mb-1" style="padding:0px 4px;" data-v-1380b223><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Last Updated</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Status</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Person Name</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Country</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Documents</h1></div><div class="box-cell column is-2" data-v-1380b223><h1 style="color:var(--light-text);" data-v-1380b223>Detail</h1></div></div></div>',1),Mo={class:"row"},zo={class:"columns is-multiline cu-flex-center"},qo={class:"box-cell column is-2"},$o={class:"box-cell column is-2"},Po={class:"box-cell column is-2"},Fo={class:"box-cell column is-2"},Bo={class:"box-cell column is-2"},Wo={class:"box-cell column is-2"},Yo={key:0,clas:"detail-info "},Ko=Ro((()=>p("div",{class:"row mb-1"},[p("h1",{style:{"font-size":"14px"},class:"light-text ml-4"},"Response")],-1))),Ho={class:"row mb-6"},Xo={class:"columns is-multiline"},Jo=Ro((()=>p("div",{class:"box-cell column is-1"},[p("div",{class:"is-flex"},[p("img",{style:{width:"60px","margin-left":"14px","margin-top":"8px"},src:"/images/Logo.svg"})])],-1))),Go={class:"box-cell column is-2"},Qo={class:"is-flex mt-2"},Zo={class:"mt-0",style:{color:"#52c528"}},er={class:"is-flex weighted"},lr=Ro((()=>p("div",{style:{"margin-left":"14px","border-radius":"6px","background-color":"var(--primary)",padding:"2px",width:"3%"}},null,-1))),ar={class:"row p-4",style:{"margin-bottom":"20px"}},tr={class:"columns is-multiline"},sr={class:"column is-5"},ir={class:"columns is-multiline"},nr={class:"box-cell column is-4"},or=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Name:")],-1))),rr={class:"is-flex mb-2"},cr={style:{"font-size":"14px"}},dr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Date of birth:")],-1))),ur={class:"is-flex mb-2"},mr={style:{"font-size":"14px"}},pr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Nationality:")],-1))),vr={class:"is-flex mb-2"},fr={style:{"font-size":"14px"}},yr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"PEP Sanction:")],-1))),hr={class:"is-flex mb-2"},gr={style:{"font-size":"14px"}},br={class:"box-cell column is-4"},wr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Type:")],-1))),_r={class:"is-flex mb-2"},xr={style:{"font-size":"14px"}},kr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Number:")],-1))),Cr={class:"is-flex mb-2"},Sr={style:{"font-size":"14px"}},Ar=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Country:")],-1))),Nr={class:"is-flex mb-2"},Tr={style:{"font-size":"14px"}},Vr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Valid Until:")],-1))),Ir={class:"is-flex mb-2"},Dr={style:{"font-size":"14px"}},jr={class:"box-cell column is-4"},Rr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"IP:")],-1))),Or={class:"is-flex mb-2"},Er={style:{"font-size":"14px"}},Ur=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Accepted Time:")],-1))),Lr={class:"is-flex mb-2"},Mr={style:{"font-size":"14px"}},zr=Ro((()=>p("div",{class:"is-flex mb-1"},[p("div",{class:"light-text"},"Decision Time:")],-1))),qr={class:"is-flex mb-2"},$r={style:{"font-size":"14px"}},Pr={class:"column is-7"},Fr={class:"columns is-multiline"},Br={class:"column box-cell column is-4"},Wr=Ro((()=>p("h1",{style:{"text-align":"center"}},"Portrait",-1))),Yr={style:{height:"300px"}},Kr=["src"],Hr={key:1},Xr={class:"box-cell column is-4"},Jr=Ro((()=>p("h1",{style:{"text-align":"center"}},"Document front",-1))),Gr={style:{height:"300px"}},Qr=["src"],Zr={key:1},ec={class:"box-cell column is-4"},lc=Ro((()=>p("h1",{style:{"text-align":"center"}},"Document Back",-1))),ac={style:{height:"300px"}},tc=["src"],sc={key:1},ic={key:1,style:{width:"100%",display:"flex","justify-content":"center"}},nc=s({__name:"VeriffResponse",props:{id:{type:String,default:0}},setup(e){const l=e;i(),ne();const a=se();o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),o(!1),o(""),o([]);const t=o([{id:11,worker:"8107",status:"pending",link_id:"a20b94b9-cd2a-455d-bb2a-1007cb17ac95",veriff_response:null,created_at:"2024-03-07T08:55:40.832036Z",updated_at:"2024-03-07T08:55:40.832056Z"}]),s=o([]),n={Notstarted:"warning",declined:"danger",approved:"primary",pending:"info"};return r((async()=>{(async()=>{try{const e=await a.get(`/v3/api/worker/veriff/${l.id}/worker/`,{});console.log("resopnse data",e.data);let i=e.data;i.forEach((e=>{e.frontDoc=e.veriff_media.filter((e=>e.context.includes("document-front"))),e.docBack=e.veriff_media.filter((e=>e.context.includes("document-back"))),e.face=e.veriff_media.filter((e=>e.context.includes("face"))),s.value=e.face,e.openDetail=!1})),t.value=i,console.log("mediaaa",i)}catch(e){console.log(e)}})()})),(e,l)=>{const a=N,s=je;return c(),d("div",null,[p("div",Oo,[p("div",Eo,[v(t).length>0?(c(),d("div",Uo,[Lo,(c(!0),d(k,null,C(v(t),((e,l)=>(c(),d("div",{key:l,class:"cus-card mb-3",style:{"padding-left":"16px"}},[p("div",Mo,[p("div",zo,[p("div",qo,[p("h3",null,S(e.updated_at?e.updated_at.slice(0,10):"-----"),1)]),p("div",$o,[u(a,{color:n[e.status.replace(" ","")],style:{width:"max-content"},light:""},{default:m((()=>[x(S(e.status?e.status.replace(/^\w/,(e=>e.toUpperCase())):"-- --"),1)])),_:2},1032,["color"])]),p("div",Po,[p("h3",null,S(e.veriff_response?e.veriff_response.verification.person.firstName:"Not found"),1)]),p("div",Fo,[p("h3",null,S(e.veriff_response?e.veriff_response.verification.document.country:"----"),1)]),p("div",Bo,[p("h3",null,S(e.veriff_response?e.veriff_response.verification.document.type:"----"),1)]),p("div",Wo,[u(a,{color:e.veriff_response?"primary":"light",light:"",disable:!e.veriff_response,onClick:()=>{e.veriff_response&&(e.openDetail=!e.openDetail)}},{default:m((()=>[x("View "),p("i",{class:O(e.openDetail?"lnir lnir-chevron-up ml-2":"lnir lnir-chevron-down ml-2"),"aria-hidden":"true"},null,2)])),_:2},1032,["color","disable","onClick"])])]),e.openDetail?(c(),d("div",Yo,[Ko,p("div",Ho,[p("div",Xo,[Jo,p("div",Go,[p("div",Qo,[p("h1",Zo,S(e.veriff_response.verification.status?e.veriff_response.verification.status.replace(/^\w/,(e=>e.toUpperCase())):""),1)]),p("div",er,S(e.veriff_response.verification.reason),1)])]),lr]),p("div",ar,[p("div",tr,[p("div",sr,[p("div",ir,[p("div",nr,[p("div",null,[or,p("div",rr,[p("span",cr,S(e.veriff_response?e.veriff_response.verification.person.firstName:"Pending"),1)])]),p("div",null,[dr,p("div",ur,[p("span",mr,S(e.veriff_response?e.veriff_response.verification.person.dateOfBirth:"Pending"),1)])]),p("div",null,[pr,p("div",vr,[p("span",fr,S(e.veriff_response&&e.veriff_response.verification.person.nationality?e.veriff_response.verification.person.nationality:"Not found"),1)])]),p("div",null,[yr,p("div",hr,[p("span",gr,S(e.veriff_response&&e.veriff_response.verification.person.pepSanctionMatch?"Match":"No match"),1)])])]),p("div",br,[p("div",null,[wr,p("div",_r,[p("span",xr,S(e.veriff_response?e.veriff_response.verification.document.type:"Pending"),1)])]),p("div",null,[kr,p("div",Cr,[p("span",Sr,S(e.veriff_response?e.veriff_response.verification.document.number:"Pending"),1)])]),p("div",null,[Ar,p("div",Nr,[p("span",Tr,S(e.veriff_response&&e.veriff_response.verification.document.country?e.veriff_response.verification.document.country:"Not found"),1)])]),p("div",null,[Vr,p("div",Ir,[p("span",Dr,S(e.veriff_response&&e.veriff_response.verification.document.validUntil?e.veriff_response.verification.document.validUntil:"No match"),1)])])]),p("div",jr,[p("div",null,[Rr,p("div",Or,[p("span",Er,S(e.veriff_response.technicalData.ip?e.veriff_response.technicalData.ip:"Not found"),1)])]),p("div",null,[Ur,p("div",Lr,[p("span",Mr,S(e.veriff_response.verification.acceptanceTime?e.veriff_response.verification.acceptanceTime.slice(0,10):"-----")+" - "+S(e.veriff_response.verification.acceptanceTime?e.veriff_response.verification.acceptanceTime.slice(11,16):"-- -- "),1)])]),p("div",null,[zr,p("div",qr,[p("span",$r,S(e.veriff_response.verification.decisionTime?e.veriff_response.verification.decisionTime.slice(0,10):"-- ----")+" - "+S(e.veriff_response.verification.decisionTime?e.veriff_response.verification.decisionTime.slice(11,16):"-- ----"),1)])])])])]),p("div",Pr,[p("div",Fr,[p("div",Br,[Wr,e.face.length?(c(),y(v(No),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:m((()=>[u(v(Io)),u(v(Do))])),default:m((()=>[(c(!0),d(k,null,C(e.face,(e=>(c(),y(v(jo),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:m((()=>[p("div",Yr,[p("img",{style:{height:"300px"},src:e.media},null,8,Kr)])])),_:2},1024)))),128))])),_:2},1024)):(c(),d("h2",Hr,"No image found"))]),p("div",Xr,[Jr,e.frontDoc.length?(c(),y(v(No),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:m((()=>[u(v(Io)),u(v(Do))])),default:m((()=>[(c(!0),d(k,null,C(e.frontDoc,(e=>(c(),y(v(jo),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:m((()=>[p("div",Gr,[p("img",{style:{height:"300px"},src:e.media},null,8,Qr)])])),_:2},1024)))),128))])),_:2},1024)):(c(),d("h2",Zr,"No image found"))]),p("div",ec,[lc,e.docBack.length?(c(),y(v(No),{key:0,style:{"overflow-x":"clip"},"items-to-show":1},{addons:m((()=>[u(v(Io)),u(v(Do))])),default:m((()=>[(c(!0),d(k,null,C(e.docBack,(e=>(c(),y(v(jo),{style:{height:"300px","overflow-x":"clip"},key:e.id},{default:m((()=>[p("div",ac,[p("img",{style:{height:"300px"},src:e.media},null,8,tc)])])),_:2},1024)))),128))])),_:2},1024)):(c(),d("h2",sc,"No image found"))])])])])])])):f("",!0)])])))),128))])):(c(),d("div",ic,[u(s,{class:"cus-main-heading",color:"info",style:{"text-align":"center"}},{default:m((()=>[x("No resquest sent yet !")])),_:1})]))])])])}}}),oc=I(nc,[["__scopeId","data-v-1380b223"]]),rc={class:"profile-card-section no-padding"},cc={class:"section-content no-padding"},dc={class:"tools-wrapper"},uc={class:"banking-dashboard banking-dashboard-v1"},mc={class:"columns is-multiline"},pc={class:"",style:{width:"100%"}},vc={class:"dashboard-card is-credit-cards column is-12"},fc={class:"card-block"},yc={class:"columns is-multiline"},hc={style:{width:"100%"}},gc={class:"card-block-inner is-dark-bordered-12"},bc={style:{width:"420px",height:"max-content"},class:"credit-card is-theme-1"},wc={class:"top"},_c={class:"card-number"},xc={class:"mt-3",style:{"font-size":"1rem"}},kc={class:"mt-1",style:{"font-size":"1.5rem"}},Cc={key:0,src:ze,alt:""},Sc={class:"card-number mt-2"},Ac={style:{"font-size":"1rem"}},Nc={class:"card-number mt-1"},Tc={style:{"font-size":"1rem"}},Vc={class:"bottom"},Ic={key:0},Dc={key:1},jc=s({__name:"WorkerSiaCard",props:{siaCard:{}},setup(e){const l=e;return r((()=>{})),(e,a)=>(c(),d("div",rc,[p("div",cc,[p("div",dc,[p("div",uc,[p("div",mc,[p("div",pc,[p("div",vc,[p("div",fc,[p("div",yc,[p("div",hc,[p("div",gc,[p("div",bc,[p("div",wc,[p("div",_c,[p("div",null,[p("span",xc,S(l.siaCard?l.siaCard.licenceNumber:"----"),1),p("span",kc,S(l.siaCard?l.siaCard.firstName:"No license")+" "+S(l.siaCard?l.siaCard.surName:""),1)]),l.siaCard?(c(),d("img",Cc)):f("",!0)]),p("div",Sc,[p("span",Ac,S(l.siaCard?l.siaCard.licenceSector:"----"),1)]),p("div",Nc,[p("span",Tc,S(l.siaCard?l.siaCard.role:"----"),1)])]),p("div",Vc,[l.siaCard?(c(),d("span",Ic,"SIA Licence")):(c(),d("span",Dc,"----"))])])])])])])])])])])])])]))}}),Rc={class:"banking-dashboard banking-dashboard-v1"},Oc={class:"columns is-multiline"},Ec={class:"column is-12"},Uc={class:"dashboard-card is-credit-cards"},Lc={class:"title-wrap"},Mc=p("h3",{class:"dark-inverted"},"My Licences",-1),zc={class:"card-block"},qc={class:"columns is-multiline"},$c={style:{display:"flex","flex-direction":"column","align-items":"center","margin-bottom":"18px"}},Pc={class:"info-block-inner"},Fc={class:"info-block-line"},Bc=p("h4",{class:"dark-inverted"},"Verify",-1),Wc=["onClick"],Yc=p("i",{class:"iconify","data-icon":"feather:refresh-ccw","aria-hidden":"true",style:{color:"var(--primary)","margin-right":"8px",cursor:"pointer"}},null,-1),Kc={class:"info-block-line"},Hc=p("h4",{class:"dark-inverted"},"Status",-1),Xc=p("i",{"aria-hidden":"true",class:"fas fa-circle text-success",style:{color:"var(--primary)"}},null,-1),Jc={class:"info-block-line"},Gc=p("h4",{class:"dark-inverted"},"Expires in",-1),Qc=p("div",{class:"info-block-line"},[p("h4",{class:"dark-inverted"},"Type"),p("span",{class:"has-image"}," SIA card ")],-1),Zc={class:"column is-12 pb-5"},ed=p("img",{class:"light-image",src:Oe,alt:""},null,-1),ld=p("img",{class:"dark-image",src:Ee,alt:""},null,-1),ad={class:"modal-form"},td={class:"stats-wrapper"},sd={class:"columns is-multiline is-flex-tablet-p"},id=["onClick"],nd=["src"],od=p("label",{for:""},"SIA Licence Number *",-1),rd=s({__name:"WorkerLicences",props:{id:{type:String,default:0}},setup(l){const a=l,s=i(),n=se(),h=ne(),w=o(0),_=o(!1),A=o(0),T=o(!1),V=o(""),I=o(!1),D=o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),j=o([{id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",worker:""}]),R=[{name:"Security",icon:"/images/photo/Security-Guarding.png"},{name:"CIVT",icon:"/images/photo/CVIT.png"},{name:"CCTV",icon:"/images/photo/CCTV.png"},{name:"Door Supervisor",icon:"/images/photo/Door-Supervision.png"},{name:"Close Protection",icon:"/images/photo/Close-Protection.png"},{name:"Key Holding",icon:"/images/photo/Key-Holding.png"},{name:"Veichile Immoblishing",icon:"/images/photo/Vehicle-Immobilising.png"},{name:"K9",icon:"/images/photo/K9.png"}],E=async()=>{try{if(V.value.length<16)return void h.error("Please enter valid SIA");T.value=!0;await n.post(`/v3/api/worker/worker_sia/${a.id}/add_sia_licence/`,{siaNumber:V.value});h.success("worker updated, worker"),me({message:"added worker <b>licence</b>",objectId:s.params.id,method:"patch"}),T.value=!1,_.value=!1,V.value="",L()}catch(e){T.value=!1,h.error("Invalid SIA or worker with this SIA already register")}},U=async()=>{try{D.value.isSweetAlertOpen=!1;await n.delete(`/v3/api/worker/worker_sia/${w.value}/`,{});h.dismissAll(),h.success("Delete worker licence, Worker"),L()}catch{}},L=async()=>{try{j.value=[];const e=await n.get(`/v3/api/worker/worker_sia/${a.id}/get-worker-sia/`,{});j.value=e.data,console.log(e.data)}catch(e){console.error("ok",e)}};return r((()=>{L()})),(l,a)=>{const i=N,o=jc,r=_e,w=be,L=Me,M=ye,z=Q,q=le,$=t,P=e;return c(),d(k,null,[p("div",Rc,[p("div",Oc,[p("div",Ec,[p("div",Uc,[p("div",Lc,[Mc,p("div",null,[u(i,{color:"primary",icon:"fas fa-plus",elevated:"",onClick:a[0]||(a[0]=e=>_.value=!0)},{default:m((()=>[x(" Licence ")])),_:1})])]),p("div",zc,[p("div",qc,[(c(!0),d(k,null,C(v(j),((e,l)=>(c(),d("div",{key:l,class:"column is-4"},[p("div",$c,[u(o,{style:{width:"400px"},"sia-card":e},null,8,["sia-card"])]),p("div",Pc,[p("div",Fc,[Bc,p("span",{onClick:l=>(async e=>{try{(await n.post(`v3/api/worker/worker_sia/${s.params.id}/verify-sia-number/`,{siaNumber:e})).data&&h.success("Licence Verified, Verify")}catch(l){h.error("Licence Unverified")}})(e.licenceNumber)},[Yc,x(" Verify again ")],8,Wc)]),p("div",Kc,[Hc,p("span",null,[Xc,x(" "+S(e.status?"Active":"InActive"),1)])]),p("div",Jc,[Gc,p("span",null,S(e.expiryDate),1)]),Qc])])))),128)),p("div",Zc,[0==v(j).length?(c(),y(r,{key:0,title:"No Licence is added for this employee.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\nsearch terms you've entered. Please try different search terms or\ncriteria.",larger:""},{image:m((()=>[ed,ld])),_:1})):f("",!0)])])])])])])]),v(I)?(c(),y(w,{key:0})):f("",!0),u($,{is:"form",open:v(_),onSubmit:g(E,["prevent"]),title:"Add Licence",size:"big",actions:"right",onClose:a[2]||(a[2]=e=>_.value=!1)},{content:m((()=>[p("div",ad,[p("div",td,[p("div",sd,[(c(),d(k,null,C(R,((e,l)=>p("div",{key:l,class:"column is-3"},[p("div",{class:O(["dashboard-card",v(A)==l?"active-licence":""]),style:{height:"150px"},onClick:e=>A.value=l},[u(L,{style:{cursor:"pointer","flex-direction":"column","align-items":"center","justify-content":"center","text-align":"center",gap:"10px","font-size":"0.75rem"},title:e.name,center:""},{icon:m((()=>[p("img",{src:e.icon,alt:""},null,8,nd)])),_:2},1032,["title"])],10,id)]))),64)),u(q,{class:"column is-6"},{default:m((({id:e})=>[od,u(z,null,{default:m((()=>[u(M,{id:e,modelValue:v(V),"onUpdate:modelValue":a[1]||(a[1]=e=>b(V)?V.value=e:null),autocomplete:"cc-csc",required:"",class:"input",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["id","modelValue"])])),_:2},1024)])),_:1})])])])])),action:m((()=>[u(i,{type:"submit",color:"primary",loading:v(T),icon:"fa fa-plus",raised:""},{default:m((()=>[x("Licence")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"]),v(D).isSweetAlertOpen?(c(),y(P,{key:1,isSweetAlertOpen:v(D).isSweetAlertOpen,title:v(D).title,subtitle:v(D).subtitle,btntext:v(D).btntext,onConfirm:U,onCancel:()=>v(D).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0)],64)}}}),cd=e=>(T("data-v-e5a83033"),e=e(),V(),e),dd=cd((()=>p("h4",null,"Comments",-1))),ud=cd((()=>p("i",{class:"fas fa-plus","aria-hidden":"true",style:{color:"var(--primary-light-12)","font-size":"9px"}},null,-1))),md={class:"section-content"},pd={class:"network-notifications"},vd={key:1,class:"noteInput"},fd=["onMouseover"],yd={class:"noteContent"},hd=["onClick"],gd=[cd((()=>p("i",{style:{color:"#2db998"},class:"lnir lnir-close"},null,-1)))],bd=s({__name:"WorkerComments",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(e){const l=e,a=ne(),t=se(),s=i(),n=o(!0),v=o(null),g=o(!1),b=o(!1),w=o(""),_=o([{id:0,content:"",created_at:"",created_by:{first_name:"",last_name:""}}]),A=()=>{b.value=!1},T=()=>{g.value=!g.value},V=async()=>{if(w.value)try{let e={content:w.value,worker:l.id};w.value="";const i=await t.post("/v3/api/worker/notes/",e);_.value.push(i.data),I(),me({message:"added a <b>comment</b>",objectId:s.params.id,method:"post"}),a.success("note added")}catch(e){console.log(e)}},I=async()=>{try{const e=await t.get(`/v3/api/worker/notes/${l.id}/notes-worker/`);console.log(e.data),_.value=e.data??[]}catch(e){console.error("ok",e)}};return r((()=>{I()})),(e,l)=>{const i=je,o=fe,r=Q,D=le,j=N;return c(),d(k,null,[p("div",{class:"section-title"},[dd,p("button",{onClick:T,class:"add-btn"},[ud,x(" Add ")])]),p("div",md,[p("div",pd,[0==_.value.length?(c(),y(i,{key:0,color:"solid",label:"No comments are available.",rounded:""})):f("",!0),g.value?(c(),d("div",vd,[u(D,null,{default:m((()=>[u(r,{icon:"lnil lnil-plus"},{default:m((()=>[n.value?(c(),y(o,{key:0,onBlur:V,modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value=e),onKeyup:l[1]||(l[1]=h((()=>{V()}),["enter"])),placeholder:"Enter Comment",type:"text"},null,8,["modelValue"])):f("",!0)])),_:1})])),_:1}),u(D,{style:{display:"flex","align-items":"center","justify-content":"flex-end"}},{default:m((()=>[u(j,{color:"primary",outlined:"",onClick:l[2]||(l[2]=()=>{w.value.length>0&&V()})},{default:m((()=>[x("Save")])),_:1})])),_:1})])):f("",!0),(c(!0),d(k,null,C(_.value,((e,l)=>(c(),d("div",{class:"noteBlock",key:e.id,"data-cy":"dark-mode-toggle",onMouseover:e=>(e=>{b.value=!0,v.value=e})(l),onMouseleave:A},[p("div",yd,[p("p",null,S(e.content),1),p("p",null,S(e.created_by.first_name&&e.created_by.first_name)+" "+S(e.created_by.last_name&&e.created_by.last_name)+" | "+S(e.created_at&&e.created_at.slice(0,10)),1)]),b.value&&v.value===l?(c(),d("button",{key:0,class:"DelBtn",elevated:"",onClick:l=>(async e=>{try{const l=_.value.findIndex((l=>l.id===e));-1!==l&&_.value.splice(l,1),await t.delete(`/v3/api/worker/notes/${e}`),me({message:"deleted a <b>comment</b>",objectId:s.params.id,method:"delete"}),a.warning("note deleted"),I()}catch(l){console.log(l)}})(e.id)},gd,8,hd)):f("",!0)],40,fd)))),128))])])],64)}}}),wd=I(bd,[["__scopeId","data-v-e5a83033"]]),_d=e=>(T("data-v-80c29675"),e=e(),V(),e),xd={class:"lifestyle-dashboard lifestyle-dashboard-v1"},kd={class:"row"},Cd=_d((()=>p("div",{class:"wrapper-anim"},[p("div",{class:"box-anim"},[p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div"),p("div")])],-1))),Sd={class:"dashboard-header"},Ad={class:"avatar-container",style:{"border-radius":"22px","min-width":"170px",border:"0px solid #fff"}},Nd=["src"],Td={class:"header-meta"},Vd={class:"username-wrap"},Id={class:"username ml-6"},Dd={class:"user-rating is-block"},jd={class:"ratings"},Rd={style:{color:"white !important","font-size":"23px","font-weight":"700 !important","margin-top":"0px"}},Od={style:{"white-space":"nowrap"}},Ed={class:"username-wrap"},Ud={class:"switches mt-1"},Ld={class:"username cu-align-cen\\ter"},Md={class:"",style:{"font-weight":"400",color:"white"}},zd={class:"switches mt-3"},qd={class:"ml-0",style:{"font-weight":"400",color:"white"}},$d={key:0,src:"/images/icons/workerProfile/whatsapp.webp",style:{width:"20px",height:"20px","margin-left":"14px"}},Pd=_d((()=>p("div",{class:"switches mt-0"},[p("div",{class:"username cu-align-center"})],-1))),Fd=_d((()=>p("div",{class:"is-divider-vertical"},null,-1))),Bd={class:"header-meta",style:{"margin-inline-start":"27px"}},Wd={class:"user-switch"},Yd={class:"username-wrap"},Kd={class:"switches mb-0"},Hd={class:"username"},Xd=_d((()=>p("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}}," Account Status:",-1))),Jd={class:"switches mb-0 mt-0"},Gd={class:"username cu-align-center"},Qd=_d((()=>p("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}},"Activation Code:",-1))),Zd={style:{"letter-spacing":"1px",color:"white"}},eu={class:"switches mb-0 mt-1"},lu={class:"username cu-align-center"},au=_d((()=>p("span",{style:{"white-space":"nowrap","font-weight":"500","margin-left":"4px",color:"white"}},"Veriff Status: ",-1))),tu={style:{fontSize:"15px",marginLeft:"2px",color:"white"}},su={class:"switches mb-0 mt-1"},iu={class:"username cu-pointer cu-align-center"},nu=_d((()=>p("span",{style:{color:"white","font-weight":"500","margin-left":"4px"}},"UK sanctions:",-1))),ou=_d((()=>p("div",{class:"is-divider-vertical"},null,-1))),ru={class:"header-meta"},cu={class:"user-switch space-between"},du={class:"username-wrap"},uu={class:"switches mb-0 is-flex"},mu={class:"username"},pu=_d((()=>p("span",{style:{"font-weight":"500","margin-left":"4px",color:"white"}},"BS7858:",-1))),vu={key:0},fu=_d((()=>p("div",{class:"switches"},[p("div",{class:"username"},[p("span",{style:{"font-weight":"500",color:"white"}},"Current Industries:")])],-1))),yu={class:"switches"},hu={class:"username",style:{gap:"20px"}},gu=["onClick"],bu=["src"],wu={class:"header-meta",style:{"margin-top":"-12px"}},_u={class:"user-switch space-between"},xu={class:"username-wrap"},ku={class:"switches mb-4 is-flex"},Cu={class:"username"},Su={class:"header-meta"},Au={class:"user-switch"},Nu={class:"cus-justify-center"},Tu=_d((()=>p("i",{class:"fas fa-share","aria-hidden":"true"},null,-1))),Vu=_d((()=>p("i",{class:"fas fa-edit","aria-hidden":"true"},null,-1))),Iu={class:"link-message"},Du={key:0,class:"mb-3 list-flex-toolbar is-reversed"},ju=_d((()=>p("i",{class:"fas fa-copy mr-1 cus-onhover",style:{cursor:"pointer",color:"var(--info)","font-size":"large"},"aria-hidden":"true"},null,-1))),Ru=_d((()=>p("br",null,null,-1))),Ou=_d((()=>p("i",{class:"fas fa-copy mr-1 cus-onhover",style:{cursor:"pointer",color:"var(--info)","font-size":"large"},"aria-hidden":"true"},null,-1))),Eu=_d((()=>p("i",{class:"iconify","data-icon":"feather:alert-triangle","aria-hidden":"true"},null,-1))),Uu={class:"profile-wrapper mt-0",style:{width:"100%"}},Lu={class:"profile-body"},Mu={class:"tabs-wrapper"},zu={class:"tabs-inner mt-4"},qu={class:"tabs is-toggle"},$u=[_d((()=>p("span",null,"Profile",-1)))],Pu=[_d((()=>p("span",null,"Licence",-1)))],Fu=[_d((()=>p("span",null,"References",-1)))],Bu=[_d((()=>p("span",null,"Identity Verification",-1)))],Wu=[_d((()=>p("span",null,"Comments",-1)))],Yu=[_d((()=>p("span",null,"Questions",-1)))],Ku=[_d((()=>p("span",null,"Warnings",-1)))],Hu=[_d((()=>p("span",null,"Logs",-1)))],Xu=[_d((()=>p("span",null,"Timesheet",-1)))],Ju=[_d((()=>p("span",null,"Worker Rota",-1)))],Gu={class:"tab-content is-active"},Qu={class:"columns"},Zu={class:"column is-8"},em={class:"profile-card"},lm={class:"profile-card-section"},am={class:"section-content"},tm={class:"column"},sm={key:0,class:"incoming"},im={class:"cus-docTitles"},nm={id:"titles"},om={class:"item-name mb-1 dark-inverted"},rm={key:0,style:{width:"12px",height:"12px"},src:"/images/docmandatory.png"},cm={class:"item-meta"},dm={key:0,style:{color:"var(--light-text)","font-weight":"500"},class:"cu-pointer"},um={class:"item-meta"},mm={class:"cu-pointer cus-sub-title"},pm={key:0,class:"item-meta"},vm=["onClick"],fm={key:0,style:{position:"absolute","background-color":"#fff",padding:"6px",width:"220px"}},ym={key:0,id:"cus-toggle-center",class:"navbar-item is-theme-toggle cell-end"},hm={class:"theme-toggle"},gm=["onUpdate:modelValue","onClick"],bm=_d((()=>p("span",{class:"toggler"},[p("span",{class:"dark"},[p("i",{class:"iconify","data-icon":"feather:check","aria-hidden":"true"})]),p("span",{class:"light"},[p("i",{class:"iconify","data-icon":"feather:x","aria-hidden":"true"})])],-1))),wm={key:1,id:"cus-toggle-center",class:"navbar-item is-theme-toggle"},_m={class:"theme-toggle"},xm=["onUpdate:modelValue","onClick"],km=_d((()=>p("span",{class:"toggler",style:{"border-color":"var(\n                                          --primary-grey\n                                        ) !important"}},[p("span",{class:"cus-dark"},[p("i",{color:"info",class:"iconify","data-icon":"feather:check","aria-hidden":"true"})]),p("span",{class:"light",style:{"background-color":"var(\n                                            --primary-grey\n                                          ) !important"}},[p("i",{color:"info",class:"iconify","data-icon":"feather:x","aria-hidden":"true"})])],-1))),Cm={key:0},Sm={key:0},Am=["onClick"],Nm={key:1},Tm={class:"png-icon"},Vm=["onClick"],Im=_d((()=>p("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1))),Dm=_d((()=>p("i",{class:"iconify","data-icon":"feather:trash-2","aria-hidden":"true"},null,-1))),jm={key:1},Rm={class:"column is-4"},Om={class:"profile-card is-relative"},Em={class:"profile-card-section no-padding cus-comment"},Um=K('<div class="profile-card is-relative" data-v-80c29675><div class="profile-card-section no-padding" data-v-80c29675><div class="section-title" data-v-80c29675><h4 data-v-80c29675>Location</h4></div><div class="section-content no-padding" data-v-80c29675><div id="myMap" style="height:300px;width:100%;border-radius:10px;" data-v-80c29675></div></div></div></div>',1),Lm={class:"profile-card is-relative"},Mm={class:"profile-card-section no-padding"},zm=_d((()=>p("div",{class:"section-title"},[p("h4",null,"License")],-1))),qm={class:"section-content no-padding"},$m={class:"tools-wrapper"},Pm={class:"banking-dashboard banking-dashboard-v1"},Fm={class:"columns is-multiline"},Bm={class:"column is-12",style:{width:"max-content"}},Wm={class:"tab-content is-active"},Ym={key:0},Km={class:"list-flex-toolbar mb-3 mt-2"},Hm=_d((()=>p("h6",{class:"cus-main-heading ml-1"},"Veriff Requests",-1))),Xm={class:"buttons"},Jm=_d((()=>p("span",null,[p("img",{src:"/images/veriff-logo-round.svg",style:{width:"auto",height:"20px","margin-top":"4px","margin-right":"6px","border-radius":"6px"}})],-1))),Gm=_d((()=>p("h5",{class:"light-text mr-4",style:{"font-weight":"500"}}," Send Veriff link ",-1))),Qm={key:1,class:"tab-content is-active"},Zm={key:2,class:"tab-content is-active"},ep={key:3,class:"tab-content is-active"},lp={key:4,class:"tab-content is-active"},ap={key:5,class:"tab-content is-active"},tp={key:6,class:"tab-content is-active"},sp={key:7,class:"tab-content is-active"},ip={class:"columns is-multiline"},np={key:1,class:"column is-6"},op=_d((()=>p("label",{class:"light-text mb-2"},"SIA Number :",-1))),rp={class:"modal-form"},cp=["src"],dp=["src"],up=s({__name:"WorkerProfile",setup(l){const s=n(),b=Ye(),_=i(),T=se(),V=o(!1),I=o(!1),D=o([]),j=ne(),R=o(!1);o(!1);const U=o(""),M=o(0),z=o(null),q=o({}),$=o("personal"),P=o(!1),B=o(!0),W=o(0),Y=o(""),K=o(0),Z=o(""),ee=o(""),ie=o(!1),oe=o(0),re=o(""),ce=o(""),de=o(!1),ue=o(""),ve=o(""),he=o(!1),ge=o(!1),we=o(0),_e=o(!1),xe=o("worker"),Ce=o(""),Se=o({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"});o({id:0,last_updated:"",date_designated:"",unique_id:"",ofsi_group_id:0,un_reference_number:"",regime_name:"",individual_entity_ship:"",designation_source:"",sanctions_imposed:"",other_information:"",names:[],addresses:[]});const Ve=o({id:0,firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:" ",compnayIdCardNumber:" ",compnayIdCardExpiryDate:" ",signedDeclerationForm:" ",veriffStatus:"",sanctionStatus:!1,warning:!1,warningMessage:"",default_sia:{id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",updated_at:"",worker:0},industry:{id:0,name:"",industryLogo:""},arezCompany:"",status:!1,postCode:"",rating:0,activationCode:"",transport:"",archive:!1,bs7858:!1,profileStat:{percentage:"56"},pre_industries:[{id:0,name:"",industryLogo:""}],bgColor:{id:1,backgroundColor:"linear-gradient(to right, #1D2671, #C33764)"}}),Ie={documentTitle:{label:"Documents",grow:!1,media:!0},status:{label:"Status",align:"center"},actions:{label:"Actions",align:"end"}},Re=async(e,l)=>{try{const a=new window.FormData;for(const e in l)a.append(e,l[e]);await T.patch(`/v3/api/worker/document/${e}/`,a);"status"in l?me({message:`Updated the status of <b> ${l.docTitle} </b> to <b>${1==l.status?"Approved":"Disapproved"}.</b>`,objectId:_.params.id,method:"patch"}):"expiryDate"in l&&me({message:`update the expiry date of <b>${l.docTitle}</b> to <b>${l.expiryDate}</b>`,objectId:_.params.id,method:"patch"}),j.dismissAll(),j.success("worker document updated, Worker"),ze(),Ee(!1),we.value=0}catch(a){console.error("ok",a)}},Oe=async(e,l,a=!0)=>{try{const t=new window.FormData;for(const e in l)t.append(e,l[e]);await T.patch(`/v3/api/worker/${e}/`,t);j.dismissAll(),j.success("Worker  updated successfuly"),a&&Le()}catch(t){console.error("ok",t)}},Ee=e=>{let l=D.value;const a=l.findIndex((e=>e.id===q.value.id));-1!==a&&(l[a].loading=e),D.value=[...l]},Ue=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(Ee(!0),q.value.worker?Re(q.value.id,{document:a}):(async(e,l)=>{try{let a={status:!1,worker:_.params.id,companyDocument:e.id,document:l};const t=new window.FormData;for(const e in a)t.append(e,a[e]);console.log(e),await T.post("/v3/api/worker/document/",t),me({message:`added a document  <b>${e.documentTitle}</b>`,objectId:_.params.id,method:"post"}),ze()}catch(a){j.error("Please reduce file size to upload")}finally{Ee(!1)}})(q.value,a),me({message:`updated <b> ${q.value.documentTitle} </b> document.`,objectId:_.params.id,method:"patch"}))},Le=async()=>{try{V.value=!0;const e=await T.get(`/v3/api/worker/${_.params.id}/profile/`,{});Ve.value=e.data,Ce.value=e.data.default_sia?e.data.default_sia.licenceNumber:"",0==Ve.value.pre_industries.length&&Ve.value.pre_industries.push(e.data.industry),e.data.latitude?Ge(e.data.latitude,e.data.longitude):Ge(51.4497984,-.3464489),ze(),V.value=!1}catch(e){console.error("ok",e)}},ze=async()=>{try{B&&(I.value=!0,B.value=!1);const e=await T.get(`/v3/api/worker/document/${_.params.id}/get_documents_of_a_worker/`,{});I.value=!1,D.value=e.data}catch(e){I.value=!1,console.error("ok",e)}},Ke=e=>{navigator.clipboard.writeText(e),j.success("Activation code copied"),me({message:"shared profile using <b> share link </b>",objectId:_.params.id,method:"patch"})},He=()=>{2==K.value?ll():1==K.value?Ze():3==K.value&&al()},Xe=()=>{K.value=3;let e=`Yes, ${Ve.value.status?"In-Active":"Active"} it`;Se.value={title:"Are you sure?",subtitle:"This worker will be "+(Ve.value.status?"In-Active":"Active"),btntext:e,isSweetAlertOpen:!0}};let Je={};const Ge=(e,l)=>{let a={lat:e,lng:length};Je=new google.maps.Map(document.getElementById("myMap"),{center:a,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:6}),new google.maps.Marker({position:{lat:e,lng:l},map:Je,title:"Worker"})},Qe=()=>{Oe(Ve.value.id,{bs7858:!Ve.value.bs7858},!1)},Ze=async()=>{try{Se.value.isSweetAlertOpen=!1;await T.delete(`/v3/api/worker/document/${M.value}/`,{});ze(),me({message:`deleted <b>${ve.value}</b> document`,objectId:_.params.id,method:"delete"}),j.dismissAll(),j.success("Delete worker document, Worker"),K.value=0}catch(e){console.error("ok",e)}},el=H({series:[0],chart:{height:160,type:"radialBar",toolbar:{show:!1}},colors:[b.accent],plotOptions:{radialBar:{hollow:{size:"40%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontWeight:500,offsetY:-10,color:b.lightText},value:{show:!0,fontWeight:600,color:"#fff",fontSize:"16px",offsetY:-10}}}},labels:[""]}),ll=()=>{Se.value.isSweetAlertOpen=!1,Oe(Ve.value.id,{industry:oe.value}),me({message:`switched to the <b>${ue.value}</b> industry`,objectId:_.params.id,method:"patch"}),K.value=0},al=()=>{Oe(Ve.value.id,{status:Ve.value.status},!1),me({message:`change status to <b>${Ve.value.status?"Active":"In-Active"}</b>`,objectId:_.params.id,method:"patch"}),Se.value.isSweetAlertOpen=!1,K.value=0},tl=()=>{Oe(Ve.value.id,{warning:!Ve.value.warning},!1),me({message:`Set to <b>${Ve.value.warning?"Clear":"Warning"}</b>`,objectId:_.params.id,method:"patch"}),$.value="warnings"},sl=()=>{Oe(Ve.value.id,{warningMessage:Ve.value.warningMessage},!1)},il=()=>{Ve.value.sanctionStatus&&(ge.value=!ge.value)},nl=()=>{const e=encodeURIComponent(Ve.value.firstName+" "+Ve.value.lastName);window.open(`/worker-certificate?name=${e}`,"_blank")},ol=()=>{const e={name:encodeURIComponent(Ve.value.firstName+""+Ve.value.lastName)};s.push({query:e,replace:!0}),_e.value=!_e.value},rl=async()=>{try{if(Ce.value.length<16)return j.error("Invalid Number");(await T.post(`v3/api/worker/worker_sia/${_.params.id}/verify-sia-number/`,{siaNumber:Ce.value})).data&&j.success("Licence Verified, Verify")}catch(e){j.error("Licence Unverified")}},cl=E((()=>Ve.value.warningMessage?Ve.value.warningMessage.slice(0,80):Ve.value.warningMessage));return F((()=>_.params.id),(async()=>{Le()})),r((async()=>{await Le()})),(l,s)=>{const i=Fe,n=Q,o=le,r=G,b=je,T=Pe,I=$e,j=Te,E=Me,F=ke,B=ae,H=qe,se=fe,ne=te,Ee=De,ze=wd,Ye=jc,Je=rd,Ge=N,Ze=oc,ll=go,al=$t,dl=Ne,ul=Ae,ml=kt,pl=a,vl=be,fl=t,yl=Wa,hl=ye,gl=Ql,bl=Hl,wl=e,_l=X("tooltip");return c(),d(k,null,[p("div",xd,[p("div",{class:"dashboard-header-wrapper mb-6",style:A({backgroundImage:Ve.value.bgColor.backgroundColor})},[p("div",kd,[Cd,p("div",Sd,[p("div",Ad,[p("img",{size:"medium",style:{"border-radius":"15px"},src:Ve.value.profileImageURL?Ve.value.profileImageURL:"/images/avatars/placeholder.jpg"},null,8,Nd)]),p("div",Td,[p("div",Vd,[p("div",Id,[p("div",Dd,[p("div",jd,[u(o,null,{default:m((()=>[u(n,null,{default:m((()=>[u(i,{onClick:s[0]||(s[0]=e=>(()=>{const e={rating:Ve.value.rating};Oe(Ve.value.id,e,!1),me({message:`updated rating to <b>${Ve.value.rating} </b> stars`,objectId:_.params.id,method:"patch"})})()),"readonly:false":"",modelValue:Ve.value.rating,"onUpdate:modelValue":s[1]||(s[1]=e=>Ve.value.rating=e)},null,8,["modelValue"])])),_:1})])),_:1})]),p("h3",Rd,[p("span",Od,S(Ve.value.firstName)+" "+S(Ve.value.lastName),1)])]),p("div",Ed,[p("div",Ud,[p("div",Ld,[p("span",Md,S(Ve.value.emailAddress),1)])]),p("div",zd,[p("div",{class:"username cu-pointer cu-align-center",onClick:s[2]||(s[2]=e=>{return l=Ve.value.phoneNumber,pe(l),void me({message:"started chat on <b>WhatsApp</b>",objectId:_.params.id,method:"patch"});var l})},[p("span",qd,S(Ve.value.phoneNumber),1),Ve.value.phoneNumber?(c(),d("img",$d)):f("",!0)])]),Pd])])])]),Fd,p("div",Bd,[p("div",Wd,[p("div",Yd,[p("div",Kd,[p("div",Hd,[Xd,u(o,{horizontal:"",style:{"margin-top":"-3px"}},{default:m((()=>[u(n,null,{default:m((()=>[u(r,{onClick:Xe,modelValue:Ve.value.status,"onUpdate:modelValue":s[3]||(s[3]=e=>Ve.value.status=e),"label-true":"",color:"primary",style:{color:"#f1f1f1"}},null,8,["modelValue"])])),_:1})])),_:1})])]),p("div",Jd,[p("div",Gd,[Qd,p("span",Zd,[x(S(Ve.value.activationCode?Ve.value.activationCode:"-----")+" ",1),p("i",{onClick:s[4]||(s[4]=e=>Ke(Ve.value.activationCode)),class:"fas fa-copy mr-1 cus-onhover","aria-hidden":"true"})])])]),p("div",eu,[p("div",lu,[au,p("span",tu,S(Ve.value.veriffStatus.charAt(0).toUpperCase()+Ve.value.veriffStatus.slice(1)),1),"No attempt"==Ve.value.veriffStatus?(c(),y(b,{key:0,style:{cursor:"pointer"},color:"warning",outlined:"",label:"Create link",curved:"",elevated:"",onClick:s[5]||(s[5]=()=>{he.value=!he.value})})):f("",!0)])]),p("div",su,[p("div",iu,[nu,p("span",{class:"ml-1 cu-pointer",onClick:il,style:A({fontWeight:"400",textDecoration:Ve.value.sanctionStatus?"underline":"",color:(Ve.value.sanctionStatus,"#fff")})},S(Ve.value.sanctionStatus?"Not Cleared":"Cleared"),5)])])])])]),ou,p("div",ru,[p("div",cu,[p("div",du,[p("div",uu,[p("div",mu,[pu,u(o,{horizontal:"",style:{"margin-top":"-3px"}},{default:m((()=>[u(n,null,{default:m((()=>[u(T,{onClick:Qe,modelValue:Ve.value.bs7858,"onUpdate:modelValue":s[6]||(s[6]=e=>Ve.value.bs7858=e),"label-true":"",color:"primary",style:{color:"#f1f1f1"}},null,8,["modelValue"])])),_:1})])),_:1}),Ve.value.bs7858?(c(),d("span",vu,[p("img",{onClick:ol,class:"cu-pointer",style:{height:"24px",width:"auto"},src:"/images/view-48.png"})])):f("",!0)])]),fu,p("div",yu,[p("div",hu,[(c(!0),d(k,null,C(Ve.value.pre_industries,((e,l)=>w((c(),d("span",{key:l,class:O(Ve.value.industry.name!=e.name?"":"cus-default"),onClick:l=>(e=>{K.value=2,oe.value=e.id,ue.value=e.name,Se.value={title:"Are you sure?",subtitle:"Your documents and other informations will be changed according to your industry.",btntext:"Yes, switch it",isSweetAlertOpen:!0}})(e),style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",color:"white"}},[e.id?(c(),d("img",{key:0,src:e.industryLogo,style:{width:"42px",height:"42px",padding:"1px","border-radius":"6px"}},null,8,bu)):f("",!0),p("span",{class:"active-industry",style:A({backgroundColor:Ve.value.industry.name==e.name?"":"#F5F5F5",color:Ve.value.industry.name==e.name?"":"black"})},S(e.name),5)],10,gu)),[[_l,"Switch industry",void 0,{primary:!0,top:!0,rounded:!0}]]))),128))])])])])]),p("div",wu,[p("div",_u,[p("div",xu,[p("div",ku,[p("div",Cu,[u(o,null,{default:m((()=>[u(n,null,{default:m((()=>[u(T,{onClick:tl,color:"warning",modelValue:Ve.value.warning,"onUpdate:modelValue":s[7]||(s[7]=e=>Ve.value.warning=e),label:"Set warning"},null,8,["modelValue"])])),_:1})])),_:1})])])])])]),p("div",Su,[p("div",Au,[p("div",Nu,[u(v(We),{id:"radial-circle",class:"circle-chart-wrapper",height:v(el).chart.height,type:v(el).chart.type,series:[Ve.value.profileStat?Ve.value.profileStat.percentage:0],options:v(el)},null,8,["height","type","series","options"])])])])]),p("button",{onClick:s[8]||(s[8]=()=>{Z.value=`https://vms.arez.io/worker-profile/share/?id=${Ve.value.id}&code=${Ve.value.activationCode}`,ie.value=!0,ee.value=`https://vms.arez.io/worker-profile/?code=${Ve.value.activationCode}`}),rounded:"",color:"solid",label:"Error",class:"share-btn",style:{color:"#fff"}},[Tu,x(" Share ")]),w((c(),d("button",{onClick:s[9]||(s[9]=()=>{W.value=Ve.value.id,P.value=!0}),class:"edit-btn tooltip-custom-class",style:{color:"#fff"}},[Vu,x(" Edit ")])),[[_l,"Edit Woker Profile",void 0,{success:!0,bottom:!0,rounded:!0}]]),p("div",Iu,[ie.value?(c(),d("div",Du,[u(I,{color:"primary",class:"is-flex copyLinkStyle",closable:"",onClose:s[12]||(s[12]=e=>ie.value=!1)},{default:m((()=>[x(S(Z.value)+" ",1),w((c(),y(b,{style:{"background-color":"transparent"},onClick:s[10]||(s[10]=e=>Ke(Z.value))},{default:m((()=>[ju])),_:1})),[[_l,"Copy Link",void 0,{rounded:!0,info:!0}]]),Ru,x(" "+S(ee.value)+" ",1),w((c(),y(b,{style:{"background-color":"transparent"},onClick:s[11]||(s[11]=e=>Ke(ee.value))},{default:m((()=>[Ou])),_:1})),[[_l,"Copy Link",void 0,{rounded:!0,info:!0}]])])),_:1})])):f("",!0)]),Ve.value.warning?(c(),y(E,{key:0,title:"Warning Note",class:"cus-warning-block mt-1 column dark-text col-12",subtitle:v(cl)},{icon:m((()=>[u(j,{color:"warning",rounded:""},{default:m((()=>[Eu])),_:1})])),_:1},8,["subtitle"])):f("",!0)])],4),p("div",Uu,[p("div",Lu,[p("div",Mu,[p("div",zu,[p("div",qu,[p("ul",null,[p("li",{class:O(["personal"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=h(g((e=>$.value="personal"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>$.value="personal")},$u,32)],2),p("li",{class:O(["licence"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=h(g((e=>$.value="licence"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>$.value="licence")},Pu,32)],2),p("li",{class:O(["reference"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[17]||(s[17]=h(g((e=>$.value="reference"),["prevent"]),["space"])),onClick:s[18]||(s[18]=e=>$.value="reference")},Fu,32)],2),p("li",{class:O(["veriffTab"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[19]||(s[19]=h(g((e=>$.value="veriffTab"),["prevent"]),["space"])),onClick:s[20]||(s[20]=e=>$.value="veriffTab")},Bu,32)],2),p("li",{class:O(["comments"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[21]||(s[21]=h(g((e=>$.value="comments"),["prevent"]),["space"])),onClick:s[22]||(s[22]=e=>$.value="comments")},Wu,32)],2),p("li",{class:O(["questions"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[23]||(s[23]=h(g((e=>$.value="questions"),["prevent"]),["space"])),onClick:s[24]||(s[24]=e=>$.value="questions")},Yu,32)],2),p("li",{class:O(["warnings"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[25]||(s[25]=h(g((e=>$.value="warnings"),["prevent"]),["space"])),onClick:s[26]||(s[26]=e=>$.value="warnings")},Ku,32)],2),p("li",{class:O(["activity"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[27]||(s[27]=h(g((e=>$.value="activity"),["prevent"]),["space"])),onClick:s[28]||(s[28]=e=>$.value="activity")},Hu,32)],2),p("li",{class:O(["timeSheet"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:s[29]||(s[29]=h(g((e=>$.value="timeSheet"),["prevent"]),["space"])),onClick:s[30]||(s[30]=e=>$.value="timeSheet")},Xu,32)],2),p("li",{class:O(["worker-rota"===$.value?"is-active":"not-active"])},[p("a",{tabindex:"0",role:"button",onClick:s[31]||(s[31]=e=>$.value="worker-rota")},Ju)],2)])])]),w(p("div",Gu,[p("div",Qu,[p("div",Zu,[p("div",em,[p("div",lm,[V.value?(c(),y(F,{key:0})):f("",!0),p("input",{ref_key:"fileInput",ref:z,type:"file",style:{display:"none"},onChange:Ue,accept:"image/*,application/pdf"},null,544),p("div",am,[p("div",tm,[D.value.length>0?(c(),d("div",sm,[u(Ee,{rounded:"",data:D.value,columns:Ie,class:"noborder",id:"doc-table"},{"body-cell":m((({row:e,column:l,value:a})=>["documentTitle"===l.key?(c(),d(k,{key:0},[u(B,{picture:e.icon,squared:!0},null,8,["picture"]),p("div",im,[p("div",nm,[p("span",om,[x(S(e.documentTitle)+" ",1),"step_1"==e.step?(c(),d("img",rm)):f("",!0)]),p("span",cm,[e.expiryDateRequired?w((c(),d("span",dm," Date required",512)),[[L,!e.expiryDate]]):f("",!0)]),p("span",um,[p("span",mm,S(e.subTitle&&e.subTitle.length>60?e.subTitle.slice(0,69):"Not Added")+"...",1)]),e.expiryDateRequired&&e.document?(c(),d("span",pm,[p("span",{style:A({color:e.expiryDate?"var(--primary)":"var(--danger)"}),class:"cu-pointer"},"Expiry date: "+S(e.expiryDate),5),p("i",{onClick:l=>{return a=e.id,t=e.expiryDate,re.value=t,void(we.value=a);var a,t},class:"lnil lnil-pencil ml-2 cu-pointer",style:{color:"var(--primary)","font-size":"10px"},"aria-hidden":"true"},null,8,vm)])):f("",!0)])]),we.value==e.id?(c(),d("div",fm,[u(o,null,{default:m((()=>[p("i",{class:"lnil lnil-close cu-pointer",onClick:s[32]||(s[32]=()=>{we.value=0}),style:{float:"right"},"aria-hidden":"true"}),u(H,null,{default:m((()=>[x("Enter expiry date :")])),_:1}),u(n,null,{default:m((()=>[u(se,{modelValue:re.value,"onUpdate:modelValue":s[33]||(s[33]=e=>re.value=e),onChange:l=>Re(e.id,{expiryDate:re.value,docTitle:Y.value}),type:"Date",placeholder:"Document expiry date"},null,8,["modelValue","onChange"])])),_:2},1024)])),_:2},1024)])):f("",!0)],64)):"status"===l.key?(c(),d(k,{key:1},[e.worker?(c(),d("div",ym,[p("label",hm,[w(p("input",{id:"navbar-night-toggle--daynight","onUpdate:modelValue":l=>e.status=l,onClick:l=>Re(e.id,{status:!e.status,docTitle:e.documentTitle}),"data-cy":"dark-mode-toggle",type:"checkbox"},null,8,gm),[[J,e.status]]),bm])])):(c(),d("div",wm,[p("label",_m,[w(p("input",{style:{"background-color":"var(info) !important"},disabled:"","onUpdate:modelValue":l=>e.status=l,onClick:l=>Re(e.id,{status:!e.status,docTitle:e.documentTitle}),"data-cy":"dark-mode-toggle",type:"checkbox"},null,8,xm),[[J,e.status]]),km])]))],64)):"actions"===l.key?(c(),d(k,{key:2},[e.document?(c(),d("div",Cm,[e.document.includes(".pdf")?(c(),d("div",Sm,[p("img",{onClick:()=>{U.value=e.document,ce.value=e.id,de.value=e.expiryDateRequired,R.value=!0,Y.value=e.documentTitle,re.value=e.expiryDate},class:"image-icon",src:Be,alt:"",style:{"margin-right":"10px",width:"34px",height:"34px",cursor:"pointer","border-radius":"50%"}},null,8,Am)])):(c(),d("div",Nm,[p("div",Tm,[p("i",{onClick:()=>{U.value=e.document,R.value=!0,ce.value=e.id,de.value=e.expiryDateRequired,Y.value=e.documentTitle,re.value=e.expiryDate},class:"fas fa-file-image",style:{"font-size":"18px",cursor:"pointer",color:"var(--primary)"}},null,8,Vm)])]))])):f("",!0),e.loading?f("",!0):(c(),y(j,{key:1,size:"small",color:"info",style:{cursor:"pointer"},rounded:"",onClick:()=>(e=>{q.value=e,z.value&&z.value.click()})(e)},{default:m((()=>[Im])),_:2},1032,["onClick"])),e.loading?(c(),y(ne,{key:2,color:"primary",outlined:"",loading:"",circle:"",icon:"feather:plus"})):f("",!0),e.worker?(c(),y(j,{key:3,size:"small",color:"danger",class:"ml-3",style:{cursor:"pointer"},rounded:"",onClick:l=>(e=>{K.value=1,M.value=e.id,ve.value=e.documentTitle,Se.value={title:"Are you sure?",subtitle:"You will not be able to recover this Worker Document!",btntext:"Yes, Delete it",isSweetAlertOpen:!0}})(e)},{default:m((()=>[Dm])),_:2},1032,["onClick"])):f("",!0)],64)):f("",!0)])),_:1},8,["data"])])):(c(),d("div",jm,[u(b,{color:"solid",label:"No Documents Are Available!",rounded:""})]))])])])])]),p("div",Rm,[p("div",Om,[p("i",{class:"fas fa-expand-arrows-alt expand-arrow",style:{color:"var(--primary-light-12)",cursor:"pointer",position:"absolute",top:"10px",right:"10px"},"aria-hidden":"true",onClick:s[34]||(s[34]=e=>$.value="comments")}),p("div",Em,[u(ze,{id:v(_).params.id},null,8,["id"])])]),Um,p("div",Lm,[p("i",{class:"fas fa-expand-arrows-alt expand-arrow",style:{color:"var(--primary-light-12)",cursor:"pointer",position:"absolute",top:"10px",right:"10px"},"aria-hidden":"true",onClick:s[35]||(s[35]=e=>$.value="licence")}),p("div",Mm,[zm,p("div",qm,[p("div",$m,[p("div",Pm,[p("div",Fm,[p("div",Bm,[u(Ye,{style:{width:"max-content"},siaCard:Ve.value.default_sia},null,8,["siaCard"])])])])])])])])])])],512),[[L,"personal"===$.value]]),w(p("div",Wm,[u(Je,{id:v(_).params.id},null,8,["id"])],512),[[L,"licence"==$.value]]),"veriffTab"===$.value?(c(),d("div",Ym,[p("div",Km,[Hm,p("div",Xm,[Jm,Gm,u(Ge,{color:"info",onClick:s[36]||(s[36]=()=>{he.value=!he.value}),icon:"fas fa-link",elevated:""},{default:m((()=>[x(" Create link ")])),_:1})])]),u(Ze,{id:v(_).params.id},null,8,["id"])])):f("",!0),"reference"===$.value?(c(),d("div",Qm,[u(ll,{id:v(_).params.id,worker:Ve.value},null,8,["id","worker"])])):f("",!0),"activity"===$.value?(c(),d("div",Zm,[u(al,{id:v(_).params.id,worker:Ve.value},null,8,["id","worker"])])):f("",!0),"comments"===$.value?(c(),d("div",ep,[u(ze,{id:v(_).params.id},null,8,["id"])])):f("",!0),"questions"===$.value?(c(),d("div",lp,[u(dl,{type:xe.value,memberId:v(_).params.id},null,8,["type","memberId"])])):f("",!0),"warnings"===$.value?(c(),d("div",ap,[u(o,null,{default:m((()=>[u(n,null,{default:m((()=>[u(ul,{style:{"border-radius":"15px !important","background-color":"#f5f5f5 !important",border:"none !important",padding:"16px 20px !important"},onBlur:sl,modelValue:Ve.value.warningMessage,"onUpdate:modelValue":s[37]||(s[37]=e=>Ve.value.warningMessage=e),class:"textarea is-warning-focus",rows:"2",placeholder:"Enter warning note..."},null,8,["modelValue"])])),_:1})])),_:1})])):f("",!0),"timeSheet"===$.value?(c(),d("div",tp,[u(ml,{id:v(_).params.id,worker:Ve.value},null,8,["id","worker"])])):f("",!0),"worker-rota"===$.value?(c(),d("div",sp,[u(pl,{workerId:v(_).params.id},null,8,["workerId"])])):f("",!0)])])])]),u(fl,{is:"form",open:_e.value,title:Y.value,size:"big",actions:"right",onClose:s[38]||(s[38]=e=>_e.value=!1)},{content:m((()=>[u(vl)])),action:m((()=>[u(Ge,{color:"primary",onClick:nl,raised:""},{default:m((()=>[x("Print")])),_:1})])),_:1},8,["open","title"]),ge.value?(c(),y(yl,{key:0,firstName:Ve.value.firstName,lastName:Ve.value.lastName,openSanctionModal:ge.value,"onUpdate:openSanctionModal":s[39]||(s[39]=e=>ge.value=e)},null,8,["firstName","lastName","openSanctionModal"])):f("",!0),u(fl,{is:"form",open:R.value,title:Y.value,size:"big",actions:"right",onClose:s[43]||(s[43]=e=>R.value=!1)},{content:m((()=>[p("div",ip,[de.value?(c(),y(o,{key:0,class:O("SIA Card"==Y.value?"column is-6":"column is-12")},{default:m((()=>[u(H,null,{default:m((()=>[x("Document expiry date :")])),_:1}),u(n,null,{default:m((()=>[u(se,{modelValue:re.value,"onUpdate:modelValue":s[40]||(s[40]=e=>re.value=e),onChange:s[41]||(s[41]=e=>Re(ce.value,{expiryDate:re.value,docTitle:Y.value})),type:"Date",placeholder:"Document expiry date"},null,8,["modelValue"])])),_:1})])),_:1},8,["class"])):f("",!0),"SIA Card"==Y.value?(c(),d("div",np,[op,u(o,{addons:"",class:"mt-1"},{default:m((()=>[u(n,{expanded:""},{default:m((()=>[u(hl,{modelValue:Ce.value,"onUpdate:modelValue":s[42]||(s[42]=e=>Ce.value=e),required:"",class:"input",id:"siacard",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["modelValue"])])),_:1}),u(n,null,{default:m((()=>[u(Ge,{onClick:rl,color:"primary",rounded:""},{default:m((()=>[x(" Verify ")])),_:1})])),_:1})])),_:1}),p("label",{class:O([Ve.value.default_sia&&Ve.value.default_sia.status?"light-text":"danger-text","mb-2"])},"Status: "+S(Ve.value.default_sia&&Ve.value.default_sia.status?"Approved":"Un-approved"),3)])):f("",!0)]),p("div",rp,[U.value.includes(".pdf")?(c(),d("iframe",{key:0,src:U.value,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,cp)):(c(),d("img",{key:1,src:U.value,alt:""},null,8,dp))])])),cancel:m((()=>[u(Ge,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:m((()=>[x("Close")])),_:1})])),_:1},8,["open","title"]),he.value?(c(),y(gl,{key:1,veriffModal:he.value,id:Ve.value.id,email:Ve.value.emailAddress,phone:Ve.value.phoneNumber,"onUpdate:modalHandler":s[44]||(s[44]=e=>he.value=e)},null,8,["veriffModal","id","email","phone"])):f("",!0),P.value?(c(),y(bl,{key:2,EditCompanyModalOpen:P.value,id:W.value,"onUpdate:modalHandler":s[45]||(s[45]=e=>P.value=e),"onUpdate:OnSuccess":Le},null,8,["EditCompanyModalOpen","id"])):f("",!0),Se.value.isSweetAlertOpen?(c(),y(wl,{key:3,isSweetAlertOpen:Se.value.isSweetAlertOpen,title:Se.value.title,subtitle:Se.value.subtitle,btntext:Se.value.btntext,onConfirm:He,onCancel:()=>Se.value.isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):f("",!0)],64)}}}),mp=I(up,[["__scopeId","data-v-80c29675"]]);export{mp as _};
