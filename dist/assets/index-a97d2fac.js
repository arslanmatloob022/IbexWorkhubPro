import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-79a5bd10.js";import{_ as a,c as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-33659a9d.js";import{_ as s}from"./ProjectListDropdown-ceb3e26c.js";import{_ as l}from"./VTag.vue_vue_type_style_index_0_lang-e0e424bb.js";import{_ as n}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-a0ca9a0a.js";import{_ as i}from"./VControl-48568c4a.js";import{e as r,t as o,r as d,Z as c,o as u,y as p,z as m,C as _,A as y,B as v,S as g,T as f,l as h,j as b,O as x,I as j,H as k,P,Q as w,R as C,aR as D,K as T,J as V,D as K,W as E,X as I,L as A,G as S,v as M}from"./index-236e42c8.js";import{_ as L,a as R}from"./search-4-dark-2b5b440c.js";import{_ as B,a as F}from"./projects-dark-4a371d8a.js";import{u as Q}from"./useAPI-bc0008ee.js";import{b as U}from"./useSupportElement-44c75f51.js";import{u as W}from"./viewWrapper-fe155b42.js";import"./VFlex.vue_vue_type_style_index_0_lang-3d28ad31.js";import"./VDropdown.vue_vue_type_style_index_0_lang-e2d54742.js";import"./VIcon.vue_vue_type_script_setup_true_lang-38cefdf1.js";import"./useDropdown-ffb1b2c3.js";import"./VLabel.vue_vue_type_script_setup_true_lang-c77fec83.js";import"./useVFieldContext-c5a054a2.js";import"./userSession-19a11b55.js";import"./useNotyf-d45cea71.js";import"./notyf-449e07c4.js";import"./useThemeColors-955ff7a5.js";const X=e=>(E("data-v-ca256bdc"),e=e(),I(),e),Y={class:"is-relative tabs-wrapper is-slider is-squared"},Z={class:"page-content-inner"},$={class:"list-flex-toolbar is-reversed"},q={class:"tabs-inner"},z={class:"tabs"},G=[X((()=>_("span",null,"Paid",-1)))],J=[X((()=>_("span",null,"Pending",-1)))],N=X((()=>_("li",{class:"tab-naver"},null,-1))),O={class:"flex-list-v2"},H=X((()=>_("img",{class:"light-image",src:L,alt:""},null,-1))),ee=X((()=>_("img",{class:"dark-image",src:R,alt:""},null,-1))),ae={key:1,class:"tab-content is-active"},te=["onClick"],se={class:"item-name dark-inverted"},le={class:"item-meta"},ne={class:"light-text"},ie={class:"light-text"},re={class:"light-text"},oe={key:2,class:"tab-content is-active"},de=X((()=>_("img",{class:"light-image is-larger",src:B,alt:""},null,-1))),ce=X((()=>_("img",{class:"dark-image is-larger",src:F,alt:""},null,-1))),ue=A(r({__name:"IbexPaymentsList",setup(r){const E=Q(),I=o(),A=d(!1),S=d([{id:"792d596a-beb6-4045-8852-574a544de0a2",client_info:null,created_by_info:{id:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",username:"Krystal",email:"krystal@ibexbuilderstudios.com",role:"admin",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/confident-2362133_1280-removebg-preview_vkihy1"},amount:10,response:{id:"PAYID-M4BDKXQ7KM686468E089260P",links:[{rel:"self",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BDKXQ7KM686468E089260P",method:"GET"},{rel:"approval_url",href:"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5JE23537U81489105",method:"REDIRECT"},{rel:"execute",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BDKXQ7KM686468E089260P/execute",method:"POST"}],payer:{payment_method:"paypal"},state:"created",intent:"sale",create_time:"2024-10-06T06:59:42Z",transactions:[{amount:{total:"10.00",currency:"USD"},description:"string",related_resources:[]}]},status:"created",created_at:"2024-10-06T06:59:43.151276Z",created_by:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",client:null}]),M=d(""),L=d("paid"),R={picture:{label:"Payer",grow:!0,media:!0},customer:"Created At",industry:"Amount",status:"Status",team:{label:"Method"},actions:{label:"Actions",align:"end"}},B=c((()=>{if(M.value){const e=new RegExp(M.value,"i");return S.value.filter((a=>a.id.match(e)||a.created_by_info.username.match(e)||a.created_by_info.email.match(e)||a.created_by_info.role.match(e)))}return S.value}));return u((()=>{(async()=>{try{A.value=!0;const e=await E.get("/api/paypal/");S.value=e.data}catch(e){console.log(e)}finally{A.value=!1}})()})),(r,o)=>{const d=i,c=n,u=t,E=l,A=s,S=a,F=e;return p(),m("div",Y,[_("div",Z,[_("div",$,[y(d,{icon:"feather:search"},{default:v((()=>[g(_("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>b(M)?M.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[f,h(M)]])])),_:1}),_("div",q,[_("div",z,[_("ul",null,[_("li",{class:x(["paid"===h(L)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:o[1]||(o[1]=j(T((e=>L.value="paid"),["prevent"]),["space"])),onClick:o[2]||(o[2]=e=>L.value="paid")},G,32)],2),_("li",{class:x(["pending"===h(L)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:o[3]||(o[3]=j(T((e=>L.value="pending"),["prevent"]),["space"])),onClick:o[4]||(o[4]=e=>L.value="pending")},J,32)],2),N])])])]),_("div",O,[0===h(B).length?(p(),k(c,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:v((()=>[H,ee])),_:1})):P("",!0),"paid"===h(L)?(p(),m("div",ae,[h(B).length?(p(),k(S,{key:0,data:h(B),columns:R,rounded:""},{body:v((()=>[y(D,{name:"list",tag:"div",class:"flex-list-inner"},{default:v((()=>[(p(!0),m(w,null,C(h(B),(e=>(p(),m("div",{key:e.id,class:"flex-table-item",onClick:a=>{return t=e.id,void I.push({path:`/sidebar/dashboard/received-payments/${t}`});var t}},[y(u,{column:{media:!0,grow:!0}},{default:v((()=>[_("div",null,[_("span",se,V(e?.created_by_info?.username),1),_("span",le,[_("span",null,V(e.created_by_info?.email),1)])])])),_:2},1024),y(u,null,{default:v((()=>[_("span",ne,V(h(U)(e.created_at)),1)])),_:2},1024),y(u,null,{default:v((()=>[_("span",ie,"$"+V(e.amount),1)])),_:2},1024),y(u,null,{default:v((()=>[y(E,{color:"approved"==e.status?"primary":"cancel"==e.status?"danger":"info",rounded:""},{default:v((()=>[K(V(e.status),1)])),_:2},1032,["color"])])),_:2},1024),y(u,null,{default:v((()=>[_("span",re,V(e?.response?.payer?.payment_method),1)])),_:2},1024),y(u,{column:{align:"end"}},{default:v((()=>[y(A)])),_:1})],8,te)))),128))])),_:1})])),_:1},8,["data"])):P("",!0),h(B).length>5?(p(),k(F,{key:1,"item-per-page":10,"total-items":90,"current-page":1,"max-links-displayed":5})):P("",!0)])):"pending"===h(L)?(p(),m("div",oe,[y(c,{title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n              start closing off projects, they will be showing up in here."},{image:v((()=>[de,ce])),_:1})])):P("",!0)])])])}}}),[["__scopeId","data-v-ca256bdc"]]),pe={class:"page-content-inner"},me=r({__name:"index",setup(e){S();return W().setPageTitle("Payments"),M((()=>({title:"Payments"}))),(e,a)=>{const t=ue;return p(),m("div",pe,[y(t)])}}});export{me as default};
