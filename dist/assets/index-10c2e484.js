import{_ as e}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-c4ba11b0.js";import{_ as a}from"./AddUpdateUser.vue_vue_type_script_setup_true_lang-64b1788d.js";import{_ as s}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-40ff98d8.js";import{_ as l}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-e7aba8cc.js";import{_ as t}from"./VDropdown.vue_vue_type_style_index_0_lang-cd2c7452.js";import{_ as i}from"./VTag.vue_vue_type_style_index_0_lang-d2469bd6.js";import{_ as r}from"./VAvatar.vue_vue_type_style_index_0_lang-b791d9f6.js";import{_ as n}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-c2c5e793.js";import{e as o,r as u,Z as d,t as p,o as _,y as c,z as m,C as v,A as g,B as y,S as f,T as h,l as j,j as k,D as x,H as w,P as C,Q as V,R as b,aR as P,E as I,J as M,v as S}from"./index-a65f83b3.js";import{_ as T}from"./VField.vue_vue_type_script_setup_true_lang-3fa96a3e.js";import{_ as U}from"./VControl-3135dbef.js";import{_ as E,a as A}from"./search-1-dark-61831a90.js";import{u as R}from"./useAPI-2f18f419.js";import{u as D}from"./useNotyf-53c6f1ce.js";import{u as F}from"./viewWrapper-4ab66497.js";import"./VModal.vue_vue_type_style_index_0_lang-6d4b67a2.js";import"./VIcon.vue_vue_type_script_setup_true_lang-dd7d7e5b.js";import"./VInput.vue_vue_type_script_setup_true_lang-e097553f.js";import"./useVFieldContext-d16d03e0.js";import"./VLabel.vue_vue_type_script_setup_true_lang-c41eaec5.js";import"./VRadio.vue_vue_type_style_index_0_lang-6dbc7d9b.js";import"./VSwitchBlock.vue_vue_type_style_index_0_lang-e809b526.js";import"./VFilePond.vue_vue_type_script_lang-de4e5c8b.js";import"./useSupportElement-b85af168.js";import"./userSession-6a77dfd2.js";import"./VFlex.vue_vue_type_style_index_0_lang-9c934c4d.js";import"./VPlaceloadWrap-eebdd451.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-c638ce62.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-25e4ee80.js";import"./useDropdown-5051a259.js";import"./notyf-ccde3adc.js";import"./useThemeColors-d484401f.js";const H={class:"list-view-toolbar"},N={class:"buttons"},O={class:"page-content-inner"},W={class:"list-view list-view-v1"},z=v("img",{class:"light-image",src:E,alt:""},null,-1),L=v("img",{class:"dark-image",src:A,alt:""},null,-1),q={key:1,class:"list-view-inner"},B={class:"list-view-item-inner"},J=["onClick"],Q=v("i",{"aria-hidden":"true",class:"fas fa-envelope mr-1"},null,-1),Z={class:"meta-right"},K={class:"tags"},$={class:"stats"},G={class:"stat"},X={key:0,class:"primary-text fas fa-check-circle","aria-hidden":"true"},Y={key:1,class:"danger-text fas fa-circle","aria-hidden":"true"},ee=v("span",null,"Email Notify",-1),ae=v("div",{class:"separator"},null,-1),se={class:"stat"},le=v("span",null,"Phone",-1),te=v("div",{class:"separator"},null,-1),ie={class:"stat"},re=v("span",null,"Workers",-1),ne=["onClick"],oe=[v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-user-alt"})],-1),v("div",{class:"meta"},[v("span",null,"Profile"),v("span",null,"View profile")],-1)],ue=["onClick"],de=[v("div",{class:"icon"},[v("i",{class:"lnil lnil-pencil","aria-hidden":"true"})],-1),v("div",{class:"meta"},[v("span",null,"Edit"),v("span",null,"Edit Manager info")],-1)],pe=["onClick"],_e=[v("div",{class:"icon"},[v("i",{class:"lnil lnil-code","aria-hidden":"true"})],-1),v("div",{class:"meta"},[v("span",null,"Password"),v("span",null,"Change user password")],-1)],ce=v("hr",{class:"dropdown-divider"},null,-1),me=["onClick"],ve=[v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-trash"})],-1),v("div",{class:"meta"},[v("span",null,"Delete"),v("span",null,"Delete this user permanently")],-1)],ge=o({__name:"IbexSubContractors",setup(o){const S=R();D();const E=u([{id:"53ac9fe2-e187-456a-a1e0-77d6c3c3d715",total_workers:0,last_login:null,date_joined:"2024-10-02T17:18:03.032660Z",email:"supplier@ibex.com",role:"supplier",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/Screenshot_from_2024-09-26_12-00-53_vrfqiv",is_active:!0,phoneNumber:"03007626555",username:"Second Test",is_sentMail:!1}]),A=u(""),F=u(!1);u("");const ge=u(!1),ye=u(""),fe=u(!1),he=u(""),je=u(!1),ke=async()=>{try{je.value=!0;const e=await S.get("/api/users/suppliers/",{});E.value=e.data}catch(e){console.log(e)}finally{je.value=!1}},xe=d((()=>A.value?E.value.filter((e=>e.username.match(new RegExp(A.value,"i"))||e.email.match(new RegExp(A.value,"i")))):E.value)),we=p(),Ce=e=>{we.push(`/sidebar/dashboard/subcontractors/${e}`)};return _((()=>{ke()})),(o,u)=>{const d=U,p=T,_=I,S=n,E=r,R=i,D=t,we=l,Ve=s,be=a,Pe=e;return c(),m("div",null,[v("div",H,[g(p,null,{default:y((()=>[g(d,{icon:"feather:search"},{default:y((()=>[f(v("input",{"onUpdate:modelValue":u[0]||(u[0]=e=>k(A)?A.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[h,j(A)]])])),_:1})])),_:1}),v("div",N,[g(_,{onClick:u[1]||(u[1]=e=>F.value=!j(F)),color:"primary",icon:"fas fa-plus",elevated:""},{default:y((()=>[x(" Contractors ")])),_:1})])]),v("div",O,[v("div",W,[0!=j(xe).length||j(je)?C("",!0):(c(),w(S,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[z,L])),_:1})),j(je)?C("",!0):(c(),m("div",q,[g(P,{name:"list-complete",tag:"div"},{default:y((()=>[0!=j(xe).length?(c(!0),m(V,{key:0},b(j(xe),((e,a)=>(c(),m("div",{key:e.id,class:"list-view-item"},[v("div",B,[g(E,{onClick:a=>Ce(e.id),picture:e?.avatar,size:"large"},null,8,["onClick","picture"]),v("div",{onClick:a=>Ce(e.id),class:"meta-left"},[v("h3",null,M(e?.username),1),v("span",null,[Q,v("span",null,M(e?.email),1)])],8,J),v("div",Z,[v("div",K,[g(R,{label:e?.role.replace(/^\w/,(e=>e.toUpperCase())),color:"success",rounded:"",elevated:""},null,8,["label"])]),v("div",$,[v("div",G,[v("span",null,[e.is_sentMail?(c(),m("i",X)):(c(),m("i",Y))]),ee]),ae,v("div",se,[v("span",null,M(e.phoneNumber),1),le]),te,v("div",ie,[v("span",null,M(e.total_workers),1),re])]),g(D,{icon:"feather:more-vertical",spaced:"",right:""},{content:y((()=>[v("a",{role:"menuitem",onClick:a=>Ce(e.id),class:"dropdown-item is-media"},oe,8,ne),v("a",{role:"menuitem",onClick:()=>{he.value=e.id,F.value=!0},class:"dropdown-item is-media"},de,8,ue),v("a",{onClick:a=>{return s=e.id,ye.value=s,void(fe.value=!0);var s},role:"menuitem",class:"dropdown-item is-media"},_e,8,pe),ce,v("a",{role:"menuitem",onClick:()=>{ge.value=!0,he.value=e.id},class:"dropdown-item is-media"},ve,8,me)])),_:2},1024)])])])))),128)):C("",!0)])),_:1})])),j(je)?(c(),w(we,{key:2})):C("",!0)]),j(xe).length>5?(c(),w(Ve,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":5})):C("",!0)]),j(F)?(c(),w(be,{key:0,isModalOpen:j(F),userRole:"supplier",userId:j(he),"onUpdate:closeModalHandler":u[2]||(u[2]=e=>F.value=!1),"onUpdate:actionUpdateHandler":ke},null,8,["isModalOpen","userId"])):C("",!0),j(fe)?(c(),w(Pe,{key:1,isModalOpen:j(fe),userId:j(ye),"onUpdate:closeModalHandler":u[3]||(u[3]=e=>fe.value=!1)},null,8,["isModalOpen","userId"])):C("",!0)])}}}),ye=o({__name:"index",setup:e=>(F().setPageTitle("Sub Contractors"),S({title:"Ibex Sub Contractors"}),(e,a)=>{const s=ge;return c(),m("div",null,[g(s)])})});export{ye as default};
