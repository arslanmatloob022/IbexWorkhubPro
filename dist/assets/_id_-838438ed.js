import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-40ff98d8.js";import{_ as a}from"./VTag.vue_vue_type_style_index_0_lang-d2469bd6.js";import{_ as s}from"./VAvatar.vue_vue_type_style_index_0_lang-b791d9f6.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-c2c5e793.js";import{e as t,r as i,Z as r,o as n,l as o,y as u,H as c,z as d,C as p,A as m,B as v,S as _,j as f,T as g,J as y,D as h,O as b,Q as k,R as j,aR as x,P as w,E as T,N as A,t as P,v as V}from"./index-a65f83b3.js";import{_ as S}from"./VField.vue_vue_type_script_setup_true_lang-3fa96a3e.js";import{_ as W}from"./VControl-3135dbef.js";import{_ as L}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-e7aba8cc.js";import{_ as C,a as E}from"./search-1-dark-61831a90.js";import{u as I}from"./useAPI-2f18f419.js";import{u as N}from"./useNotyf-53c6f1ce.js";import{i as z}from"./index-61000f42.js";import{u as R}from"./personalScoreGauge-6689b8be.js";import{u as F}from"./viewWrapper-4ab66497.js";import"./VFlex.vue_vue_type_style_index_0_lang-9c934c4d.js";import"./VLabel.vue_vue_type_script_setup_true_lang-c41eaec5.js";import"./useVFieldContext-d16d03e0.js";import"./VPlaceloadWrap-eebdd451.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-c638ce62.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-25e4ee80.js";import"./userSession-6a77dfd2.js";import"./notyf-ccde3adc.js";import"./useThemeColors-d484401f.js";import"./billboard-5857d5e1.js";const M={key:1},O={class:"list-view-toolbar"},$={class:"list-info"},D={key:0},Q={key:1},Z={class:"buttons"},q={class:"page-content-inner"},H={class:"list-view list-view-v1"},K=p("img",{class:"light-image",src:C,alt:""},null,-1),Y=p("img",{class:"dark-image",src:E,alt:""},null,-1),B={class:"list-view-inner"},G={class:"list-view-item-inner"},J={class:"meta-left"},U=p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:map-pin"},null,-1),X={class:"meta-right"},ee={class:"tags"},ae={class:"stats"},se={class:"stat"},le=p("span",null,"Status",-1),te=p("div",{class:"separator"},null,-1),ie={class:"stat"},re=p("span",null,"Active tasks",-1),ne=p("div",{class:"separator"},null,-1),oe={class:"stat"},ue=p("span",null,"Pending tasks",-1),ce=t({__name:"WorkersOfSubcontractors",props:{supplierId:{}},setup(t){const A=t,P=I();N();const V=i(!1),C=i({id:"a49047a4-13c5-4d63-9015-c2dc2df9e877",active_tasks:0,completed_tasks:0,cancelled_tasks:0,pending_tasks:0,password:"pbkdf2_sha256$260000$EARzFotcnn91r0exIETwhW$cVT0EgRS3AZuWD4wTPzuWSq1CxNYd5a8oycatOQzpfA=",last_login:"",date_joined:"2024-10-07T18:17:28.297351Z",email:"testworker@ibexbuilderstudios.com",role:"worker",avatar:"",is_active:!0,phoneNumber:"123456789",username:"Test Worker",is_sentMail:!0,supplier:"d39eb0db-5e47-4942-bb93-0f978262aaae"}),E=i(""),z=r((()=>E.value?C.value.filter((e=>e.username.match(new RegExp(E.value,"i"))||e.email.match(new RegExp(E.value,"i")))):C.value));console.log(z.value);return n((()=>{(async()=>{try{V.value=!0;const e=await P.get(`/api/users/workers/?supplier=${A.supplierId}`);C.value=e.data}catch(e){console.log(e)}finally{V.value=!1}})()})),(t,i)=>{const r=L,n=W,A=S,P=T,C=l,I=s,N=a,R=e;return o(V)?(u(),c(r,{key:0})):(u(),d("div",M,[p("div",O,[m(A,null,{default:v((()=>[m(n,{icon:"feather:search"},{default:v((()=>[_(p("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>f(E)?E.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[g,o(E)]])])),_:1})])),_:1}),p("div",$,[1===o(z).length?(u(),d("span",D,"1 record found")):(u(),d("span",Q,y(o(z).length)+" records found",1))]),p("div",Z,[m(P,{color:"primary",icon:"fas fa-plus",elevated:""},{default:v((()=>[h(" Worker ")])),_:1})])]),p("div",q,[p("div",H,[m(C,{class:b([0!==o(z).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:v((()=>[K,Y])),_:1},8,["class"]),p("div",B,[m(x,{name:"list-complete",tag:"div"},{default:v((()=>[(u(!0),d(k,null,j(o(z),((e,a)=>(u(),d("div",{key:a,class:"list-view-item"},[p("div",G,[m(I,{picture:e.avatar,size:"large"},null,8,["picture"]),p("div",J,[p("h3",null,y(e.username),1),p("span",null,[U,p("span",null,y(e.email),1)])]),p("div",X,[p("div",ee,[m(N,{label:e.role,color:"info",rounded:"",elevated:""},null,8,["label"])]),p("div",ae,[p("div",se,[p("span",null,y(e.is_active?"Active":"In-Active"),1),le]),te,p("div",ie,[p("span",null,y(e.active_tasks),1),re]),ne,p("div",oe,[p("span",null,y(e.pending_tasks),1),ue])])])])])))),128))])),_:1})])]),o(z).length>5?(u(),c(R,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":5})):w("",!0)])]))}}}),de={class:"lifestyle-dashboard lifestyle-dashboard-v3"},pe={class:"illustration-header"},me={class:"p-4"},ve={class:"header-meta"},_e={class:"summary-stats"},fe={class:"summary-stat"},ge=p("span",null,"Role",-1),ye={class:"summary-stat"},he=p("span",null,"Status",-1),be={class:"summary-stat"},ke=p("span",null,"Phone",-1),je={class:"summary-stat"},xe=p("span",null,"Email",-1),we={class:"summary-stat h-hidden-tablet-p"},Te=p("span",null,"Email Notification",-1),Ae={class:"columns is-multiline is-flex-tablet-p"},Pe={class:"column is-12"},Ve=t({__name:"SubContractorProfile",setup(e){N();const a=I(),l=A();i([]),P(),i("cards"),R();const t=i({id:"",password:"",last_login:null,date_joined:"",email:"",role:"",avatar:"",is_active:!0,phoneNumber:"",username:"",is_sentMail:!1});i(!1),i("all");const r=i(!1);i([]),i([]),i([]),i([]),i({pending:"#fbcf33",active:"#82d616",completed:"#cb0c9f",canceled:"#344767"}),i({plugins:[z],schedulerLicenseKey:"0965592368-fcs-1694657447",initialView:"resourceTimelineMonth",height:"auto",resourceAreaWidth:"20%",selectable:!0,events:[],headerToolbar:{left:"today prev,next",center:"title",right:"resourceTimelineWeek,resourceTimelineMonth,resourceTimelineYear"},editable:!0,views:{resourceTimelineWeek:{slotDuration:{days:1,hours:1},slotLabelFormat:{weekday:"short",month:"numeric",day:"numeric",year:"numeric"}}},resourceAreaHeaderContent:"Projects",resources:[]});return i({}),n((async()=>{await(async()=>{try{r.value=!0;const e=await a.get(`/api/users/${l.params.id}`);t.value=e.data}catch(e){console.log(e)}finally{r.value=!1}})()})),(e,a)=>{const i=s,n=ce;return u(),d("div",de,[p("div",pe,[p("div",me,[m(i,{size:"xl",squared:"",picture:o(t).avatar,alt:""},null,8,["picture"])]),p("div",ve,[p("h3",null,y(o(r)?"Loading...":o(t)?.username),1),p("div",_e,[p("div",fe,[p("span",null,y(o(r)?"Loading...":o(t)?.role),1),ge]),p("div",ye,[p("span",null,y(o(r)?"Loading...":o(t)?.is_active?"Active":" In-Active"),1),he]),p("div",be,[p("span",null,y(o(r)?"Loading...":o(t)?.phoneNumber?o(t)?.phoneNumber:"N/A"),1),ke]),p("div",je,[p("span",null,y(o(r)?"Loading...":o(t)?.email),1),xe]),p("div",we,[p("span",null,y(o(r)?"Loading...":o(t).is_sentMail?"On":"Off"),1),Te])])])]),p("div",Ae,[p("div",Pe,[m(n,{"supplier-id":o(l).params.id},null,8,["supplier-id"])])])])}}}),Se={class:""},We=t({__name:"[id]",setup:e=>(F().setPageTitle("Sub-Contractor Info"),V({title:"Sub-Contractor info - Ibex"}),(e,a)=>{const s=Ve;return u(),d("div",Se,[m(s)])})});export{We as default};
