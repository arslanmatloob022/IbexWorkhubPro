import{p as t}from"./index-f21c7c16.js";import{c as e,e as r}from"./index-a6845ddb.js";import{v as o}from"./index-60eaa22f.js";import"./index-d5d6981c.js";import"./index-76358a05.js";const n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=/^[a-zA-Z]:\\/;const i=["nofollow"],p=["http","https"];function a(t,e){return"function"==typeof t?t(e):t}function c(c={}){const f=e(c.test);return e=>{o(e,"element",((e,o,l)=>{if("a"===e.tagName&&e.properties&&"string"==typeof e.properties.href&&f(e,o,l)){const o=e.properties.href,f=o.slice(0,o.indexOf(":")),l=a(c.target,e),d=a(c.rel,e)||i,m="string"==typeof d?t(d):d,g=a(c.protocols,e)||p,h=a(c.content,e),u=h&&!Array.isArray(h)?[h]:h,y=a(c.contentProperties,e)||{};(function(t){if("string"!=typeof t)throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return!s.test(t)&&n.test(t)}(o)?g.includes(f):o.startsWith("//"))&&(l&&(e.properties.target=l),m.length>0&&(e.properties.rel=m.concat()),u&&e.children.push({type:"element",tagName:"span",properties:r(!0,y),children:r(!0,u)}))}}))}}export{c as default};
