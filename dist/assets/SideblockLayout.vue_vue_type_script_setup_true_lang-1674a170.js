import{_ as e,a as s,b as a,c as l,d as i,e as t,f as r}from"./UserProfileDropdown-791d171c.js";import{_ as n}from"./VPageContent-d3c35f4e.js";import{_ as o}from"./VField.vue_vue_type_script_setup_true_lang-33a8026b.js";import{_ as c}from"./VControl-51dce2e2.js";import{_ as d}from"./VAvatar.vue_vue_type_style_index_0_lang-26d64bce.js";import{f as u,y as p,r as h,x as b,C as m,O as y,G as g,F as k,m as v,D as f,V as _,W as x,N as w,L as C,X as j,E as T,k as K,K as I,U as P,H as S,J as L,$ as A,Z as M,I as U,b as N,B as $,v as D,T as B,aq as J,o as O,j as V,w as W,a1 as F}from"./index-ad60eb89.js";import{_ as H}from"./whatsapp-93d30726.js";import{u as q}from"./useAPI-7fa47a36.js";import{u as E}from"./company-36f0a947.js";import{s as R,h as z}from"./useSupportElement-a64a79fb.js";import{_ as X,a as G,b as Z}from"./LayoutsMobileSubsidebar-a93f0714.js";import{_ as Q}from"./SearchPanel.vue_vue_type_style_index_0_lang-34417386.js";import{_ as Y}from"./CircularMenu.vue_vue_type_style_index_0_lang-d2296753.js";import{_ as ee}from"./AnimatedLogo-cc35199e.js";import{u as se}from"./panels-ed4235c7.js";import{u as ae}from"./viewWrapper-7ba15722.js";import{u as le}from"./layoutSwitcher-3be4a17b.js";import{u as ie}from"./useNotyf-49f4c377.js";const te={key:0,class:"is-active search-results has-slimscroll"},re={class:"ml-2",style:{display:"flex","flex-direction":"column","text-align":"left"}},ne=["onClick"],oe=["src","onClick"],ce=["onClick"],de=T("img",{src:H,style:{width:"12px",height:"12px","margin-top":"3px","margin-right":"2px"}},null,-1),ue={key:1,class:"is-active search-results has-slimscroll"},pe=[T("h1",{class:"p-4 light-text"},"No result found",-1)],he=["onKeydown"],be=[T("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],me=u({__name:"SearchWorkerInput",setup(e){const s=q();p();const a=h(!1),l=E(),i=h(""),t=b(),r=h([]),n=z((()=>{i.value?u():r.value=[]}),500),u=async()=>{try{a.value=!0;const e=await s.get(`/v3/api/worker/workers-for-options/${l.loggedCompany.id}/?search=${i.value}`,{});r.value=e.data}catch(e){console.error("Error while searching",e)}finally{a.value=!1}},A=e=>{t.push(`/sidebar/company/workers/${e}`),M()},M=()=>{i.value="",r.value=[]};return(e,s)=>{const l=d,t=c,u=o;return m(),y(u,{class:"mt-4"},{default:g((()=>[k(t,{icon:v(a)?"feather:loader":"feather:search"},{extra:g((()=>[v(r).length>0?(m(),f("div",te,[(m(!0),f(_,null,x(v(r),(e=>(m(),f("div",{key:e.id,class:"search-result cu-pointer"},[k(l,{class:"cus-pointer",picture:e.profileImageURL,onClick:s=>A(e.id)},null,8,["picture","onClick"]),T("div",re,[T("span",{class:"item-name dark-inverted",style:{"margin-bottom":"2px !important","font-weight":"500"},onClick:s=>A(e.id)},[I(P(e.firstName)+" "+P(e.lastName)+" ",1),T("img",{style:{width:"20px",height:"20px"},src:e.industry.industryLogo,onClick:s=>A(e.id)},null,8,oe)],8,ne),T("div",{onClick:s=>v(R)(e.phoneNumber),style:{color:"var(--light-text)",display:"flex",gap:"4px","algin-items":"center"}},[de,I(" "+P(e.phoneNumber),1)],8,ce)])])))),128))])):w("",!0),v(r).length||!v(i)||v(a)?w("",!0):(m(),f("div",ue,pe))])),default:g((()=>[C(T("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>K(i)?i.value=e:null),type:"text",class:"input is-rounded search-input cus-searchInput",placeholder:"Search...",onInput:s[1]||(s[1]=(...e)=>v(n)&&v(n)(...e))},null,544),[[j,v(i)]]),v(i)?(m(),f("div",{key:0,class:"form-icon is-right",tabindex:"0",role:"button",onKeydown:S(L(M,["prevent"]),["space"]),onClick:M},be,40,he)):w("",!0)])),_:1},8,["icon"])])),_:1})}}}),ye={class:"sidebar-block-header"},ge={class:"sidebar-block-inner"},ke={class:"sidebar-block-footer"},ve=u({__name:"Sideblock",props:{theme:{default:"default"},isOpen:{type:Boolean}},setup(e){const s=e,a=A((()=>{switch(s.theme){case"color":return"is-colored";case"curved":return"is-curved";case"color-curved":return"is-colored is-curved";default:return""}}));return(e,s)=>(m(),f("div",{class:U(["sidebar-block is-active",[v(a)]])},[T("div",ye,[M(e.$slots,"header")]),T("div",ge,[T("ul",null,[M(e.$slots,"links")])]),T("div",ke,[M(e.$slots,"bottom-links")])],2))}}),fe=h([{title:"Dashboard",icon:"lnir lnir-bar-chart",class:"single-link",route:"/sidebar/dashboard",linkType:"single",tabKey:"dashboard"},{title:"Jobs & Leads",icon:"lnir lnir-library",collapseId:"estimates",class:"collapse-wrap",headerIcon:"lnir lnir-library",headerTitle:"Jobs & Leads",linkType:"collapse",tabKey:"jobs_and_leads",children:[{title:"Lead Opportunity",icon:"lnir lnir-cloud-search",class:"is-submenu",route:"/sidebar/dashboard/leads",activeClass:"leads",tabKey:"jal_lead_opportunity"},{title:"All Jobs",icon:"lnir lnir-suitcase",class:"is-submenu",route:"/sidebar/dashboard/jobs",activeClass:"projects",tabKey:"jal_all_jobs"},{title:"Jobs Manager",icon:"lnir lnir-appointment",class:"is-submenu",route:"/sidebar/dashboard/manage-projects",activeClass:"manage-projects",tabKey:"jal_jobs_manager"},{title:"Workers Chart",icon:"lnir lnir-calendar",class:"is-submenu",route:"/sidebar/dashboard/workers-tasks",activeClass:"workers-tasks",tabKey:"jal_workers_chart"},{title:"Lead Proposals",icon:"lnir lnir-add-files",class:"is-submenu",route:"/sidebar/dashboard/proposals",tabKey:"jal_lead_proposals"},{title:"Completed Jobs",icon:"lnir lnir-list",class:"is-submenu",route:"/sidebar/dashboard/completed-projects",activeClass:"pre-construction",tabKey:"jal_completed_jobs"}]},{title:"Finance",icon:"lnir lnir-bank",collapseId:"payments",class:"collapse-wrap",headerIcon:"lnir lnir-bank",linkType:"collapse",headerTitle:"Finance",tabKey:"finance",children:[{title:"Create Payment",icon:"lnir lnir-paypal",class:"is-submenu",route:"/sidebar/dashboard/create-payment",activeClass:"projects",tabKey:"fi_create_payments"},{title:"All Payments",icon:"lnir lnir-invest-monitor",class:"is-submenu",route:"/sidebar/dashboard/received-payments",activeClass:"received-payments",tabKey:"fi_all_payments"},{title:"Succeeded Payments",icon:"lnir lnir-diagnosis-alt",class:"is-submenu",route:"/sidebar/dashboard/succeeded-payments",activeClass:"succeeded-payments",tabKey:"fi_succeeded_payments"}]},{title:"System Users",icon:"lnir lnir-users",collapseId:"users",class:"collapse-wrap",headerIcon:"lnir lnir-users",headerTitle:"System Users",linkType:"collapse",tabKey:"system_users",children:[{title:"Clients",icon:"lnir lnir-user-alt-2",class:"is-submenu",route:"/sidebar/dashboard/clients",tabKey:"su_clients"},{title:"Managers",icon:"lnir lnir-user-alt-1",class:"is-submenu",route:"/sidebar/dashboard/managers",tabKey:"su_managers"},{title:"Contractors",icon:"lnir lnir-user-alt",class:"is-submenu",route:"/sidebar/dashboard/contractors",tabKey:"su_contractors"},{title:"Sub Contractors",icon:"lnir lnir-user",class:"is-submenu",route:"/sidebar/dashboard/subcontractors",tabKey:"su_subcontractors"},{title:"Workers",icon:"lnir lnir-users",class:"is-submenu",route:"/sidebar/dashboard/workers",tabKey:"su_workers"}]},{title:"Company Settings",icon:"lnir lnir-cogs",collapseId:"setting",class:"collapse-wrap",headerIcon:"lnir lnir-cogs",headerTitle:"Company Settings",linkType:"collapse",tabKey:"company_settings",children:[{title:"Settings",icon:"lnir lnir-cog",class:"is-submenu",route:"/sidebar/dashboard/company-settings",tabKey:"cs_settings"},{title:"Templates & Catalogs",icon:"lnir lnir-files",class:"is-submenu",route:"/sidebar/dashboard/proposal-templates",tabKey:"cs_templates_and_catalogs"}]},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/dashboard/profile",linkType:"single",tabKey:"profile"}]),_e=h([{title:"My Tasks",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/worker/tasks",linkType:"single"},{title:"Tasks Calendar",icon:"lnir lnir-calender-alt-1",class:"single-link",route:"/sidebar/worker/calendar",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/worker/profile",linkType:"single"}]),xe=h([{title:"My Projects",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/contractor/projects",linkType:"single"},{title:"Projects Calendar",icon:"lnir lnir-calender-alt-1",class:"single-link",route:"/sidebar/contractor/calendar",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/contractor/profile",linkType:"single"}]),we=h([{title:"My Projects",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/manager/projects",linkType:"single"},{title:"Projects Calendar",icon:"lnir lnir-calender-alt-1",class:"single-link",route:"/sidebar/manager/calendar",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/manager/profile",linkType:"single"}]),Ce=h([{title:"My Projects",icon:"lnir lnir-list-alt",class:"single-link",route:"/sidebar/client/projects",linkType:"single"},{title:"Profile",icon:"lnir lnir-user-alt-2",class:"single-link",route:"/sidebar/client/profile",linkType:"single"}]),je={class:"mobile-subsidebar"},Te={class:"inner"},Ke=T("div",{class:"sidebar-title"},[T("h3",null,"Ibex WorkHub")],-1),Ie={class:"submenu","data-simplebar":""},Pe={key:0},Se=T("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),Le=T("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),Ae=T("li",{class:"divider"},null,-1),Me=u({__name:"CustomAdminMobileSidebar",setup(e){const s=N(),a=h({worker:_e,client:Ce,manager:we,contractor:xe,admin:fe,superAdmin:fe});return(e,l)=>{const i=$("RouterLink"),t=X;return m(),f("div",je,[T("div",Te,[Ke,T("ul",Ie,[(m(!0),f(_,null,x(v(a)[v(s).user.role],(e=>(m(),f(_,{key:e.title},["single"==e.linkType?(m(),f("li",Pe,[k(i,{to:e.route},{default:g((()=>[I(P(e.title),1)])),_:2},1032,["to"])])):"collapse"==e.linkType?(m(),y(t,{key:1},{header:g((()=>[I(P(e.headerTitle)+" ",1),Se,Le])),default:g((()=>[(m(!0),f(_,null,x(e.children,(e=>(m(),y(i,{to:e.route,class:"is-submenu"},{default:g((()=>[T("i",{class:U(e.icon),"aria-hidden":"true"},null,2),T("span",null,P(e.title),1)])),_:2},1032,["to"])))),256))])),_:2},1024)):w("",!0)],64)))),128)),Ae])])])}}}),Ue="/logos/ibexwhite.png",Ne={class:"sidebar-layout"},$e={class:"brand-end"},De=[T("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:activity"},null,-1)],Be={key:0},Je=[T("img",{style:{height:"26px",width:"24px",cursor:"pointer",float:"right"},src:"/images/icons/sidebarclose.png"},null,-1)],Oe={key:0},Ve={class:"icon"},We={class:"icon"},Fe=T("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),He=T("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),qe={class:"icon"},Ee=T("div",{class:"pb-3"},null,-1),Re={style:{width:"100%",height:"100%","margin-top":"60px",display:"flex",gap:"12px","flex-direction":"column","justify-content":"center","align-items":"center"}},ze=T("div",{style:{width:"100%",height:"auto",display:"flex","justify-content":"center","border-radius":"16px","align-items":"center"}},[T("img",{style:{width:"120px",height:"100%","background-color":"transparent","border-radius":"12px",display:"block"},src:Ue})],-1),Xe=[T("span",{class:"menu-toggle has-chevron"},[T("img",{style:{height:"22px",width:"20px",cursor:"pointer"},src:"/images/icons/sidebarOpen.png"})],-1)],Ge={key:0},Ze={class:"icon",id:"cus-spanLink"},Qe={key:1},Ye={class:"icon"},es={class:"icon"},ss={class:"page-title has-text-centered"},as={class:"vuero-hamburger nav-trigger push-resize",tabindex:"0",role:"button"},ls=[T("span",null,[T("i",{style:{color:"var(--primary)","background-color":"transparent"},class:"lnir lnir-chevron-left","aria-hidden":"true"})],-1)],is={class:"title-wrap is-flex cu-align-center"},ts={class:"title is-4 mr-2"},rs={class:"toolbar"},ns=[T("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:grid"},null,-1)],os={class:"toolbar-link"},cs=["checked"],ds=T("span",null,null,-1),us=u({__name:"SideblockLayout",props:{theme:{default:"default"},defaultSideblock:{default:"dashboard"},closeOnChange:{type:Boolean},openOnMounted:{type:Boolean},nowrap:{type:Boolean}},setup(o){const c=o,d=N(),u=h({worker:_e,client:Ce,manager:we,contractor:xe,admin:fe,superAdmin:fe,ultraAdmin:fe}),C=h({worker:!1,client:!1,manager:!0,contractor:!0,admin:!0,superAdmin:!0});ie(),h([{id:0,page:"",count:0,user:0}]);const j=le(),I=b(),H=p();q(),h(!1),h(!1);const R=ae(),z=se(),te=h(""),re=h(!1),ne=h(!0),oe=h(c.defaultSideblock);E();const ce=D(),{locale:de}=B();h({all:0,archived:0,industries:[]}),h({all:0,archived:0,industries:[]}),A((()=>{switch(de.value){case"fr":return"/images/icons/flags/france.svg";case"es":return"/images/icons/flags/spain.svg";case"es-MX":return"/images/icons/flags/mexico.svg";case"de":return"/images/icons/flags/germany.svg";case"zh-CN":return"/images/icons/flags/china.svg";case"ar":return"/images/icons/flags/saudi-arabia.svg";default:return"/images/icons/flags/united-states-of-america.svg"}})),J((()=>{R.setPushedBlock(ne.value??!1)})),J((()=>{j.setDynamicLayoutId(ce.isDark?"sideblock-default":"sideblock-color")})),h(!1);const ue=A((()=>"/sidebar/company"!==H.path)),pe=h(""),he=()=>{const e=new Date;pe.value=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})};let be=h(0);return O((()=>{he(),be.value=setInterval(he,1e3)})),V((()=>{clearInterval(be.value)})),W((()=>H.fullPath),((e,s)=>{re.value=!1,c.closeOnChange&&ne.value})),O((()=>{R.setPushed(!1)})),(o,p)=>{const h=ee,b=$("RouterLink"),j=e,A=s,N=a,D=Me,B=G,J=Y,O=X,V=ve,W=l,q=i,E=Q,se=Z,ae=me,le=n,ie=t,de=r;return m(),f("div",Ne,[k(A,{"is-open":v(re),onToggle:p[0]||(p[0]=e=>re.value=!v(re))},{brand:g((()=>[k(b,{to:"/sidebar/dashboard",class:"navbar-item is-brand"},{default:g((()=>[k(h,{width:"38px",height:"38px",style:{cursor:"pointer"}})])),_:1}),T("div",$e,[k(j)])])),_:1},8,["is-open"]),k(N,{"is-open":v(re),onToggle:p[3]||(p[3]=e=>re.value=!v(re))},{links:g((()=>[T("li",null,[T("a",{class:U(["dashboard"===v(oe)&&"is-active"]),"aria-label":"Display dashboard content",tabindex:"0",role:"button",onKeydown:p[1]||(p[1]=S(L((e=>oe.value="dashboard"),["prevent"]),["space"])),onClick:p[2]||(p[2]=e=>oe.value="dashboard")},De,34)])])),"bottom-links":g((()=>[T("li",null,[k(h)])])),_:1},8,["is-open"]),k(F,{name:"slide-x"},{default:g((()=>[v(re)&&"dashboard"===v(oe)?(m(),y(D,{key:0})):v(re)&&"layout"===v(oe)?(m(),y(B,{key:1})):w("",!0)])),_:1}),k(J),k(F,{name:"slide-x"},{default:g((()=>[v(ne)?(m(),y(V,{key:0,class:"is-curved is-colored",theme:c.theme},{header:g((()=>[T("div",{onClick:p[5]||(p[5]=e=>v(I).push("/sidebar/dashboard")),style:{width:"280px","margin-top":"20px","margin-left":"20px",height:"100%",overflow:"hidden"}},[T("img",{style:{width:"auto",height:"100%",display:"block",margin:"0","border-radius":"12px",cursor:"pointer"},onClick:p[4]||(p[4]=e=>v(I).push("/sidebar/dashboard")),src:Ue})]),T("div",{onKeydown:p[6]||(p[6]=S(L((e=>ne.value=!v(ne)),["prevent"]),["space"])),onClick:p[7]||(p[7]=e=>ne.value=!v(ne)),style:{width:"100%",display:"flex, align-items:right"}},[v(ne)?(m(),f("span",Be,Je)):w("",!0)],32)])),links:g((()=>[(m(!0),f(_,null,x(v(u)[v(d).user.role],(e=>(m(),f(_,{key:e.title},["single"===e.linkType&&v(d).checkUserPermission(e.tabKey)?(m(),f("li",Oe,[k(b,{to:e.route,class:U(e.class)},{default:g((()=>[T("span",Ve,[T("i",{class:U(e.icon),"aria-hidden":"true"},null,2)]),T("span",null,P(e.title),1)])),_:2},1032,["to","class"])])):"collapse"===e.linkType&&v(d).checkUserPermission(e.tabKey)?(m(),y(O,{key:1,open:v(te),"onUpdate:open":p[8]||(p[8]=e=>K(te)?te.value=e:null),"collapse-id":e.collapseId,class:"collapse-wrap"},{header:g((()=>[T("div",We,[T("i",{class:U(e.headerIcon),"aria-hidden":"true"},null,2)]),T("span",null,P(e.headerTitle),1),Fe,He])),default:g((()=>{return[(m(!0),f(_,null,x((s=e.children,s.filter((e=>d.checkUserPermission(e.tabKey)))),(e=>(m(),y(b,{key:e.title,to:e.route,class:U(["is-submenu",{active:v(H).query.tab===e.activeClass}])},{default:g((()=>[T("span",qe,[T("i",{class:U(e.icon),"aria-hidden":"true"},null,2)]),T("span",null,P(e.title),1)])),_:2},1032,["to","class"])))),128))];var s})),_:2},1032,["open","collapse-id"])):w("",!0)],64)))),128))])),"bottom-links":g((()=>[k(j,{left:""}),T("p",null,P(v(pe)),1),Ee])),_:1},8,["theme"])):(m(),y(V,{key:1,style:{width:"100px"},class:"is-curved",theme:c.theme},{header:g((()=>[T("div",Re,[ze,T("div",{onKeydown:p[9]||(p[9]=S(L((e=>ne.value=!v(ne)),["prevent"]),["space"])),onClick:p[10]||(p[10]=e=>ne.value=!v(ne)),style:{"margin-top":"16px",display:"flex","justify-content":"center","align-items":"center"}},Xe,32)])])),links:g((()=>[(m(!0),f(_,null,x(v(u)[v(d).user.role],((e,s)=>(m(),f(_,{key:s},["single"==e.linkType?(m(),f("li",Ge,[k(b,{id:"cus-routerLinks",to:e.route,class:"single-link"},{default:g((()=>[T("span",Ze,[T("i",{class:U(e.icon),"aria-hidden":"true"},null,2)])])),_:2},1032,["to"])])):"collapse"==e.linkType?(m(),f("li",Qe,[k(O,{open:v(te),"onUpdate:open":p[11]||(p[11]=e=>K(te)?te.value=e:null),"collapse-id":e.collapseId},{header:g((()=>[T("span",Ye,[T("i",{class:U(e.headerIcon),"aria-hidden":"true"},null,2)])])),default:g((()=>[(m(!0),f(_,null,x(e.children,(e=>(m(),y(b,{class:"is-submenu",to:e.route},{default:g((()=>[T("span",es,[T("i",{class:U(e.icon),"aria-hidden":"true"},null,2)])])),_:2},1032,["to"])))),256))])),_:2},1032,["open","collapse-id"])])):w("",!0)],64)))),128))])),"bottom-links":g((()=>[])),_:1},8,["theme"]))])),_:1}),k(W),k(q),k(E),k(se),k(de,{class:"mt-0",full:v(ne)},{default:g((()=>[k(ie,null,{default:g((()=>[c.nowrap?M(o.$slots,"default",{key:0}):(m(),y(le,{key:1,class:"is-relative"},{default:g((()=>[T("div",ss,[T("div",as,[v(ue)?(m(),f("span",{key:0,onClick:p[12]||(p[12]=()=>{v(I).go(-1)}),class:"menu-toggle has-chevron"},ls)):w("",!0)]),T("div",is,[T("h1",ts,P(v(R).pageTitle),1)]),T("div",rs,[k(ae),v(C)[v(d).user.role]?(m(),f("a",{key:0,class:"toolbar-link right-panel-trigger","aria-label":"View activity panel",tabindex:"0",role:"button",onKeydown:p[13]||(p[13]=S(L((e=>v(z).setActive("activity")),["prevent"]),["space"])),onClick:p[14]||(p[14]=e=>v(z).setActive("activity"))},ns,32)):w("",!0),T("div",os,[T("label",{tabindex:"0",class:"dark-mode",role:"button",onKeydown:p[16]||(p[16]=S(L((e=>e.target.click()),["prevent"]),["space"]))},[T("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!v(ce).isDark,onChange:p[15]||(p[15]=(...e)=>v(ce).onChange&&v(ce).onChange(...e))},null,40,cs),ds],32)]),k(j)])]),M(o.$slots,"default")])),_:3}))])),_:3})])),_:3},8,["full"])])}}});export{us as _};
