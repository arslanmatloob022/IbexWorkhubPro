import{e,r as l,s,o as a,b as t,_ as i,y as o,z as n,K as r,C as c,O as d,l as u,D as m,S as p,Y as v,T as y,A as g,B as f,P as b,H as h,I as _,j as x,Q as C,R as w,J as k,at as A,a3 as N,E as V,aB as I,W as S,X as T,L as j,N as B}from"./index-0be7d825.js";import{_ as R}from"./SweetAlert.vue_vue_type_style_index_0_lang-0bd9d65f.js";import{_ as U,a as L}from"./VOption.vue_vue_type_style_index_0_lang-671c49c2.js";import{_ as M}from"./VField.vue_vue_type_script_setup_true_lang-aa0edb62.js";import{_ as O}from"./VControl-730c576e.js";import{_ as P}from"./VAvatar.vue_vue_type_style_index_0_lang-2c6bcd74.js";import{_ as z}from"./VIconButton-20618bdb.js";import{u as D,a as E}from"./useAPI-4f36037c.js";import{m as q}from"./upload-3-aa248e9c.js";import{u as $}from"./company-d9bcd565.js";import{u as K}from"./useNotyf-8f2dd69a.js";import{m as H,a as W}from"./useSupportElement-7ea35b98.js";import{_ as Y}from"./CompanyContract-954b8cad.js";import{u as G}from"./viewWrapper-5b8f25b4.js";const F=e=>(S("data-v-5d80bfc6"),e=e(),T(),e),J=["onSubmit"],X={class:"cus-sidebar"},Q=F((()=>c("li",null,null,-1))),Z=F((()=>c("div",null,null,-1))),ee={class:"form-content"},le={class:""},se={class:"modal-form columns cu-all-input is-multiline"},ae=F((()=>c("div",{class:"column is-12 mb-6"},[c("h2",{class:"section-heading"},[c("i",{style:{"margin-right":"10px"},class:"fas fa-building","aria-hidden":"true"}),m(" Contact Infomation ")])],-1))),te={class:"column is-12"},ie={class:"columns mb-0 p-0"},oe={class:"column is-6 mb-0 p-0"},ne={class:"field column is-12 mb-0"},re=F((()=>c("label",null,"Registered Company Name: *",-1))),ce={class:"control"},de={class:"field column is-12 mb-0"},ue=F((()=>c("label",null,"Company Registration Number:",-1))),me={class:"control"},pe={class:"field column is-12 mb-0"},ve=F((()=>c("label",null,"Trade Name: ",-1))),ye={class:"control"},ge=F((()=>c("label",null,"Company Logo:",-1))),fe=["src"],be={key:1},he={class:"field column is-6 mb-0"},_e=F((()=>c("label",null,"Email Address: *",-1))),xe={class:"control"},Ce={class:"field column is-6 mb-0"},we=F((()=>c("label",null,"Phone Number:",-1))),ke={class:"control"},Ae={class:"column is-12 pb-4",style:{display:"flex","align-items":"center","justify-content":"flex-end","margin-top":"2rem"}},Ne={class:""},Ve={class:"modal-form columns cu-all-input is-multiline"},Ie=F((()=>c("div",{class:"column is-12 mb-6"},[c("h2",{class:"section-heading"},[c("i",{class:"lnil lnil-graph-alt-3","aria-hidden":"true"}),m(" Business Information ")])],-1))),Se={class:"field column is-4 mb-0",style:{display:"flex","flex-direction":"column",gap:"0.2rem"}},Te=F((()=>c("label",null,"Business Type: ",-1))),je={class:"field column is-4 mb-0",style:{display:"flex","flex-direction":"column",gap:"0.2rem"}},Be=F((()=>c("label",null,"Max Working Distance: ",-1))),Re={class:"field column is-6 mb-0"},Ue=F((()=>c("label",null,"Are you VAT registered?: ",-1))),Le={class:"control",style:{display:"flex","align-items":"center",gap:"0.7rem","margin-top":"1rem"}},Me={for:"notVatRegistered",style:{display:"flex","align-items":"center",gap:"0.5rem"}},Oe=F((()=>c("b",null,"No",-1))),Pe={for:"vatRegistered",style:{display:"flex","align-items":"center",gap:"0.5rem"}},ze=F((()=>c("b",null,"Yes",-1))),De={key:0,class:"field column is-6 mb-0"},Ee=F((()=>c("label",null,"Your VAT Number: ",-1))),qe={class:"control"},$e={class:"field column is-12 mb-0"},Ke=F((()=>c("label",{style:{"margin-bottom":"0.5rem"}},"Business Details",-1))),He={class:"page-content-inner"},We={class:"columns is-multiline"},Ye={class:"column is-12"},Ge={class:"columns"},Fe={class:"column is-12 content",style:{position:"relative"}},Je=F((()=>c("i",{class:"fas fa-robot","aria-hidden":"true",style:{"font-size":"1.5rem",cursor:"pointer"}},null,-1))),Xe={class:"column is-12 pb-4",style:{display:"flex","align-items":"center","justify-content":"flex-end","margin-top":"2rem"}},Qe={class:"content-box"},Ze=F((()=>c("div",{class:"column is-12 mb-6"},[c("h2",{class:"section-heading"},[c("i",{class:"iconify","data-icon":"feather:map-pin","aria-hidden":"true"}),m(" Location Information ")])],-1))),el={class:""},ll={class:"modal-form columns cu-all-input is-multiline"},sl={class:"field column is-6 mb-0"},al=F((()=>c("label",null,"Postcode: *",-1))),tl={class:"control",style:{position:"relative"}},il=F((()=>c("i",{class:"iconify","data-icon":"feather:search","aria-hidden":"true",style:{"font-size":"1.5rem"}},null,-1))),ol=["loading"],nl={class:"field column is-6 mb-0"},rl=F((()=>c("label",null,"Business Address: ",-1))),cl={class:"control"},dl={class:"columns mb-4 p-0",style:{position:"relative","margin-left":"-2rem",cursor:"pointer"}},ul=F((()=>c("i",{style:{color:"var(--primary)","margin-left":"10px",size:"3rem"},class:"fas fa-paint-brush","aria-hidden":"true"},null,-1))),ml={class:"column is-6 pb-4"},pl={key:0,style:{position:"absolute",bottom:"-2rem","background-color":"white",width:"350px",left:"6rem","z-index":"999"}},vl={class:"colorContainer"},yl={class:"close-btn"},gl=["onClick"],fl={key:0,class:"fas fa-check","aria-hidden":"true"},bl=F((()=>c("div",{class:"column is-12 pb-2",style:{"margin-top":"0.3rem"}},[c("div",{class:"revenue-stat"},[c("div",{id:"partnerMap",style:{height:"250px",width:"100%","border-radius":"1rem"}})])],-1))),hl=j(e({__name:"CompanyLargeModal",props:{openCustomCompany:{type:Boolean},id:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:S}){const T=e,j=D(),B=K(),Y=$(),G=l(1);l(!1);const F=l(""),hl=l(""),_l=l(!1),xl=l(!1),Cl=l(!1),wl=l(!1),kl=l(!1),Al=l("update");l(!1),l(0);const Nl=l(""),Vl=l(!1),Il=l(""),Sl=s(),Tl=l(""),jl=l({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),Bl=l({id:0,hexCode:""}),Rl=()=>{S("update:modalHandler",!1),console.log("modal closed"),Ll.value={name:"",trade_name:"",email:"",phone_number:"",postcode:"",latitude:"",longitude:"",logo:null,business_details:"",reg_no:"",business_type:"",covered_distance:"",vat_no:"",address:"",industry:""}},Ul=e=>{G.value=e};!Y.loggedCompany.industry||Y.loggedCompany.industry;const Ll=l({id:"",name:"",trade_name:"",email:"",phone_number:"",postcode:"",latitude:"",longitude:"",logo:null,business_details:"",reg_no:"",business_type:"",covered_distance:"",vat_no:"",address:"",industry:"",company:Y.loggedCompany.id,color:"#D875C7"}),Ml=()=>{Ll.value.name&&Ll.value.email&&(Ll.value.id||(G.value=2))},Ol=async()=>{try{const e=W(Ll.value,["logo"]);if(!Ll.value.company)return B.error("Company is required!.");let l={};if(Ll.value.id){await j.patch(`/v3/api/customer-company/${Ll.value.id}/`,e);B.success("Data Added Succesfully."),S("update:OnSuccess",null),4==G.value&&Rl()}else{await j.post("/v3/api/customer-company/",e);Rl(),B.dismissAll(),B.success("New company added"),S("update:OnSuccess",null)}if(_l.value){const e=window.location.origin;F.value=e+"/partner-signup?token="+l.data.token,hl.value=l.data.password}else G.value>3?Rl():G.value+=1;4==G.value&&Rl()}catch(e){B.error(e)}},Pl=()=>{xl.value=!xl.value},zl=(e,l)=>{let s=new google.maps.Map(document.getElementById("partnerMap"),{center:{lat:e,lng:l},scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:7});new google.maps.Marker({position:{lat:e,lng:l},map:s,title:"Supplier Location"}),console.log(Ll.value.latitude)},Dl=async()=>{try{const e=await E.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${Ll.value.postcode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);if("OK"===e.data.status){Ll.value.address=e.data.results[0].formatted_address;const l=e.data.results[0].geometry.location.lat;Ll.value.latitude=l;const s=e.data.results[0].geometry.location.lng;Ll.value.longitude=s,zl(l,s),B.success("Address Added")}else"ZERO_RESULTS"===e.data.status&&B.error("Invalid Post-Code")}catch(e){B.error("Invalid Post-Code"),console.error(e)}},El=()=>{wl.value=!1},ql=async()=>{Cl.value=!0;try{const{data:e}=await j.post("v3/api/scripts/generate-content/",{prompt:`Write description in correct format related to this company ${Ll.value.name}. Which business type is ${Ll.value.business_type}.  `}),l=(e=>{const l=e.split("**"),s=[];for(let a=0;a<l.length;a++)""!==l[a]&&(a%2==0?s.push({type:"title",content:l[a].trim()}):s.push({type:"content",content:l[a].trim()}));return s})(e),s=(e=>{let l="";for(const s of e)"content"===s.type?l+=`<h3>${s.content}</h3>\n`:l+=`<p>${s.content}</p>\n`;return l})(l);console.log("formattedDescription:",l),Ll.value.business_details=s,Cl.value=!1,console.log("AI Response:",Tl.value)}catch(e){console.log(e),B.error("Something went wrong!"),Cl.value=!1}};a((async()=>{T.id&&await(async()=>{const e=await j.get(`/v3/api/customer-company/${T.id}/`);e.data.business_details||(e.data.business_details=""),Ll.value=e.data,Nl.value=e.data.logo,zl(e.data.latitude,e.data.longitude)})()}));const $l=e=>{const l=function(e){const l=e.split(","),s=l[0].indexOf("base64")>=0?atob(l[1]):decodeURI(l[1]),a=l[0].split(":")[1].split(";")[0],t=new Uint8Array(s.length);for(let i=0;i<s.length;i++)t[i]=s.charCodeAt(i);return new Blob([t],{type:a})}(e);Ll.value.logo=l,Nl.value=e,console.log("Image URl:",e)};const Kl=["Self-employed / Sole Trader","Limited Company","Public Limited Company","Ordinary Partnership","Limited Partnership"],Hl=[5,10,15,20,25,50,75,100],Wl=t((()=>i((()=>import("./ckeditor-5ec021a3.js").then((e=>e.c))),["assets/ckeditor-5ec021a3.js","assets/index-0be7d825.js","assets/index-03be73ef.css","assets/vue.runtime.esm-bundler-c0ad1a1c.js"]).then((e=>e.default.component)))),Yl={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return a((async()=>{Sl.value=await i((()=>import("./ckeditor-19828bf0.js").then((e=>e.c))),["assets/ckeditor-19828bf0.js","assets/index-0be7d825.js","assets/index-03be73ef.css"]).then((e=>e.default))})),(e,l)=>{const s=z,a=P,t=O,i=M,S=V,j=U,B=L,D=I,E=R;return o(),n(C,null,[T.openCustomCompany?(o(),n("form",{key:0,class:"parent-div",onSubmit:r(Ol,["prevent"]),onClose:Rl},[c("i",{class:"lnir lnir-close close-icon","aria-hidden":"true",onClick:Rl,color:"primary",elevated:""}),c("div",X,[c("ul",null,[c("li",null,[c("div",{onClick:l[0]||(l[0]=e=>Ul(1)),class:d([{active:1===u(G)},"cus-single-link cu-pointer"])},[c("span",{class:d(["cus-icon",{active:1===u(G)}])}," 1 ",2),m(" Contact Infomation ")],2)]),c("li",null,[c("div",{onClick:l[1]||(l[1]=e=>Ul(2)),class:d([{active:2===u(G)},"cus-single-link cu-pointer"])},[c("span",{class:d(["cus-icon",{active:2===u(G)}])}," 2 ",2),m(" Businesss Information ")],2)]),c("li",null,[c("div",{onClick:l[2]||(l[2]=e=>Ul(3)),class:d([{active:3===u(G)},"cus-single-link cu-pointer"])},[c("span",{class:d(["cus-icon",{active:3===u(G)}])}," 3 ",2),m(" Location Information ")],2)]),Q]),Z]),c("div",ee,[p(c("div",{class:"content-box",onClick:El},[p(c("div",le,[c("div",se,[ae,c("div",te,[c("div",ie,[c("div",oe,[c("div",ne,[re,c("div",ce,[p(c("input",{type:"text",name:"registeredCompanyName","onUpdate:modelValue":l[3]||(l[3]=e=>u(Ll).name=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Registered Company Name"},null,512),[[y,u(Ll).name]])])]),c("div",de,[ue,c("div",me,[p(c("input",{type:"text",name:"companyRegistrationNumber","onUpdate:modelValue":l[4]||(l[4]=e=>u(Ll).reg_no=e),class:"input is-primary-focus is-primary-focus",placeholder:"Company Registration Number"},null,512),[[y,u(Ll).reg_no]])])]),c("div",pe,[ve,c("div",ye,[p(c("input",{type:"text",name:"tradename","onUpdate:modelValue":l[5]||(l[5]=e=>u(Ll).trade_name=e),class:"input is-primary-focus is-primary-focus",placeholder:"Trade Name"},null,512),[[y,u(Ll).trade_name]])])])]),g(i,{class:"column is-6"},{default:f((()=>[ge,g(t,{class:"is-flex is-justify-content-center mt-5"},{default:f((()=>[g(a,{size:"xl",class:"profile-v-avatar mt-4"},{avatar:f((()=>[u(kl)?b("",!0):(o(),n("img",{key:0,class:"avatar",src:u(Nl)?u(Nl):"/images/avatars/placeholder.jpg",alt:""},null,8,fe)),"update"==u(Al)?(o(),n("span",be,[u(kl)?(o(),h(s,{key:1,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:arrow-left",class:"edit-button is-back",circle:"",tabindex:"0",onKeydown:l[8]||(l[8]=_(r((e=>kl.value=!1),["prevent"]),["space"])),onClick:l[9]||(l[9]=e=>kl.value=!1)})):(o(),h(s,{key:0,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:edit-2",class:"edit-button is-edit",circle:"",tabindex:"0",onKeydown:l[6]||(l[6]=_(r((e=>kl.value=!0),["prevent"]),["space"])),onClick:l[7]||(l[7]=()=>{Vl.value=!u(Vl)})}))])):b("",!0)])),_:1})])),_:1}),g(u(q),{field:"img",onCropSuccess:$l,modelValue:u(Vl),"onUpdate:modelValue":l[10]||(l[10]=e=>x(Vl)?Vl.value=e:null),noRotate:!1,noSquare:!1,langType:"en","img-format":"png/jpg"},null,8,["modelValue"])])),_:1})])]),c("div",he,[_e,c("div",xe,[p(c("input",{type:"email",name:"emailAddress","onUpdate:modelValue":l[11]||(l[11]=e=>u(Ll).email=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Email Address"},null,512),[[y,u(Ll).email]])])]),c("div",Ce,[we,c("div",ke,[p(c("input",{type:"tel",name:"phoneNumber","onUpdate:modelValue":l[12]||(l[12]=e=>u(Ll).phone_number=e),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,512),[[y,u(Ll).phone_number]])])]),c("div",Ae,[g(S,{type:"submit",onClick:Ml,class:"next-tag",style:{width:"6rem"}},{default:f((()=>[m(" Next ")])),_:1})])])],512),[[v,1===u(G)]])],512),[[v,1===u(G)]]),p(c("div",Ne,[c("div",Ve,[Ie,c("div",Se,[Te,g(i,null,{default:f((()=>[g(t,null,{default:f((()=>[g(B,{modelValue:u(Ll).business_type,"onUpdate:modelValue":l[13]||(l[13]=e=>u(Ll).business_type=e),name:"business_type",class:"is-rounded"},{default:f((()=>[g(j,{value:""},{default:f((()=>[m("Please select")])),_:1}),(o(),n(C,null,w(Kl,((e,l)=>g(j,{value:e,key:l},{default:f((()=>[m(k(e),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),g(i,{id:"interests",class:"pb-4",label:""})]),c("div",je,[Be,g(i,null,{default:f((()=>[g(t,null,{default:f((()=>[g(B,{modelValue:u(Ll).covered_distance,"onUpdate:modelValue":l[14]||(l[14]=e=>u(Ll).covered_distance=e),name:"covered_distance",class:"is-rounded"},{default:f((()=>[g(j,{value:""},{default:f((()=>[m("Please select")])),_:1}),(o(),n(C,null,w(Hl,((e,l)=>g(j,{value:e,key:l},{default:f((()=>[m(k(e)+" miles ",1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1}),g(i,{id:"interests",class:"pb-4",label:""})]),c("div",Re,[Ue,c("div",Le,[c("label",Me,[p(c("input",{id:"notVatRegistered",type:"radio",name:"vat","onUpdate:modelValue":l[15]||(l[15]=e=>x(Il)?Il.value=e:null),value:"No",style:{},placeholder:"VAT number"},null,512),[[A,u(Il)]]),Oe,m(" I'm not VAT registered ")]),c("label",Pe,[p(c("input",{id:"vatRegistered",type:"radio",name:"vat","onUpdate:modelValue":l[16]||(l[16]=e=>x(Il)?Il.value=e:null),value:"Yes",style:{},placeholder:"VAT number"},null,512),[[A,u(Il)]]),ze,m(" I'm VAT registered ")])])]),"Yes"===u(Il)?(o(),n("div",De,[Ee,c("div",qe,[p(c("input",{type:"text",name:"vatnumber","onUpdate:modelValue":l[17]||(l[17]=e=>u(Ll).vat_no=e),class:"input is-primary-focus is-primary-focus",placeholder:"VAT Number"},null,512),[[y,u(Ll).vat_no]])])])):b("",!0)]),c("div",$e,[Ke,c("div",He,[c("div",We,[c("div",Ye,[c("div",Ge,[c("div",Fe,[g(S,{color:"primary",raised:"",loading:u(Cl),style:{position:"absolute","z-index":"50",top:"0.9rem",right:"2rem",width:"2rem"},title:"Write description with AI.",onClick:ql},{default:f((()=>[Je])),_:1},8,["loading"]),u(Sl)?(o(),h(u(Wl),{key:0,modelValue:u(Ll).business_details,"onUpdate:modelValue":l[18]||(l[18]=e=>u(Ll).business_details=e),editor:u(Sl),config:Yl},null,8,["modelValue","editor"])):(o(),h(D,{key:1,height:"500px"}))])])])])])]),c("div",Xe,[g(S,{type:"button",onClick:l[19]||(l[19]=()=>{u(Ll).id?Ol():G.value=3}),class:"next-tag",style:{width:"6rem"}},{default:f((()=>[m(" Next ")])),_:1})])],512),[[v,2===u(G)]]),p(c("div",Qe,[Ze,c("div",el,[c("div",ll,[c("div",sl,[al,c("div",tl,[g(S,{color:"primary",light:"",style:{position:"absolute",right:"0.2rem",top:"0.3rem","z-index":"10",width:"3rem","border-radius":"2rem"},onClick:Dl},{default:f((()=>[il])),_:1}),p(c("input",{type:"text",name:"postCode",autocomplete:"off",required:"",loading:u(Cl),"onUpdate:modelValue":l[20]||(l[20]=e=>u(Ll).postcode=e),class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Enter post code "},null,8,ol),[[y,u(Ll).postcode]])])]),c("div",nl,[rl,c("div",cl,[p(c("input",{type:"text",name:"businessAdress","onUpdate:modelValue":l[21]||(l[21]=e=>u(Ll).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Business Address"},null,512),[[y,u(Ll).address]])])]),c("div",dl,[c("div",{class:"column is-6 pb-4 cus-input-label",style:{display:"flex","align-items":"center",gap:"0.5rem",color:"#bbb","font-weight":"500",width:"100%"},onClick:Pl},[m(" Color "),ul]),c("div",ml,[c("div",null,[c("div",{onClick:Pl,class:"color-pellate"},[c("div",{class:"current-color-div",style:N({backgroundColor:u(Ll).color})},null,4)])])]),u(xl)?(o(),n("div",pl,[c("div",vl,[c("div",yl,[c("i",{onClick:l[22]||(l[22]=e=>xl.value=!1),class:"lnir lnir-close","aria-hidden":"true"})]),(o(!0),n(C,null,w(u(H),((e,l)=>(o(),n("div",{key:e.id,onClick:l=>(e=>{Bl.value=e,xl.value=!1,Ll.value={...Ll.value,color:e.hexCode}})(e),style:N({backgroundColor:e.hexCode}),class:"colorDiv"},[u(Bl)==e?(o(),n("i",fl)):b("",!0)],12,gl)))),128))])])):b("",!0)]),bl]),g(S,{loading:u(Cl),type:"submit",color:"primary",raised:"",style:{float:"right"}},{default:f((()=>[m("Save & close")])),_:1},8,["loading"])])],512),[[v,3===u(G)]])])],40,J)):b("",!0),u(jl).isSweetAlertOpen?(o(),h(E,{key:1,isSweetAlertOpen:u(jl).isSweetAlertOpen,title:u(jl).title,subtitle:u(jl).subtitle,btntext:u(jl).btntext,onCancel:()=>u(jl).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):b("",!0)],64)}}}),[["__scopeId","data-v-5d80bfc6"]]),_l=e=>(S("data-v-b1772040"),e=e(),T(),e),xl={class:"left-profile-wrapper"},Cl={class:"left-profile-image"},wl=["src"],kl={class:"left-profile-content"},Al={class:"left-profileContent",style:{display:"flex","flex-direction":"column",gap:"0.1rem","margin-top":"0.3srem"}},Nl={class:"Brooks-Brothers",style:{"font-family":"sans-serif"}},Vl={style:{}},Il={style:{}},Sl={class:"is-flex"},Tl={style:{display:"flex","align-items":"center","flex-direction":"column",gap:"1.3rem"}},jl=_l((()=>c("div",{class:"",style:{display:"flex","align-items":"center"}},[c("div",{class:"is-flex flex-columns justify-center",style:{width:"200px","border-radius":"1rem",overflow:"hidden",height:"80px"}})],-1))),Bl=_l((()=>c("i",{class:"fas fa-pen","aria-hidden":"true",style:{opacity:"1",color:"#179e9b","margin-right":"0.5rem"}},null,-1))),Rl={class:"tabs-wrapper"},Ul={class:"tabs-inner"},Ll={class:"tabs is-toggle"},Ml=[_l((()=>c("span",null,"Contact Info",-1)))],Ol=[_l((()=>c("span",null,"Businesss Info",-1)))],Pl=[_l((()=>c("span",null,"Location Info ",-1)))],zl=[_l((()=>c("span",null,"Contract / Site ",-1)))],Dl={class:"",style:{"margin-top":"3.5rem"}},El={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},ql={class:"partnerInfo1",style:{}},$l={class:"",style:{}},Kl=_l((()=>c("h4",{class:"title is-6 mb-2 mt-4",style:{color:"var(--light-text)"}}," Registered Company Name ",-1))),Hl={class:"title is-6"},Wl={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},Yl={class:"",style:{}},Gl=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Company Registration Number ",-1))),Fl={class:"title is-6"},Jl={class:"",style:{}},Xl=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Trade Name ",-1))),Ql={class:"title is-6"},Zl={class:"",style:{width:"100%"}},es=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Email Address ",-1))),ls={class:"title is-6"},ss={class:"",style:{width:"100%"}},as=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Phone Number ",-1))),ts={class:"title is-6"},is={class:"",style:{width:"100%"}},os=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Assigned Color ",-1))),ns={class:"",style:{"margin-top":"3.5rem"}},rs={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},cs={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},ds={class:"",style:{}},us=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Type ",-1))),ms={class:"title is-6"},ps={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},vs={class:"",style:{width:"12rem"}},ys=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Max Working Distance ",-1))),gs={class:"title is-6"},fs={class:"",style:{}},bs=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Area ",-1))),hs={class:"title is-6"},_s={class:"",style:{width:"100%"}},xs=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Your VAT Number ",-1))),Cs={class:"title is-6"},ws={class:"",style:{width:"100%"}},ks=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Details ",-1))),As=["innerHTML"],Ns={class:"",style:{"margin-top":"3.5rem"}},Vs={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},Is={class:"",style:{width:"100%"}},Ss=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Postcode ",-1))),Ts={class:"title is-6"},js={class:"",style:{width:"100%"}},Bs=_l((()=>c("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Business Address ",-1))),Rs={class:"title is-6"},Us=_l((()=>c("div",{class:"",style:{width:"100%"}},[c("h4",{style:{"font-size":"15px"},class:"title is-6 mb-4 mt-4"}," Business location "),c("div",{id:"supplierMap",style:{height:"200px",width:"340px","margin-top":"12px","border-radius":"10px"}})],-1))),Ls={class:"",style:{"margin-top":"3.5rem"}},Ms=j(e({__name:"CompaniesDetails",setup(e){const s=G(),t=B(),i=D(),y=l("contact");K(),l("partner"),l("#8b8df2");const x=l({id:"",name:"",trade_name:"",email:"",phone_number:"",postcode:"",latitude:"",longitude:"",logo:null,business_details:"",reg_no:"",business_type:"",covered_distance:"",vat_no:"",address:"",industry:"",company:0,color:"",profileStats:{percentage:10}}),w=l(!1);l(""),l(0),l(!1),l([{name:"Guard & Security"},{name:"Guard & Cleaning"}]),l([{name:"Supplier"},{name:"UnSpecified"}]);const A=async()=>{const e=await i.get(`/v3/api/customer-company/${t.params.id}/`);console.log("Companies Data:",e.data),x.value=e.data,console.log("Form Data:",x.value.name),s.setPageTitle("Business Infomation"),I(e.data.latitude,e.data.longitude)},I=(e,l)=>{let s=new google.maps.Map(document.getElementById("supplierMap"),{center:{lat:e,lng:l},scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:7});new google.maps.Marker({position:{lat:e,lng:l},map:s,title:"Supplier Location",icon:{path:"M-1.547 12l6.563-6.609-1.406-1.406-5.156 5.203-2.063-2.109-1.406 1.406zM0 0q2.906 0 4.945 2.039t2.039 4.945q0 1.453-0.727 3.328t-1.758 3.516-2.039 3.070-1.711 2.273l-0.75 0.797q-0.281-0.328-0.75-0.867t-1.688-2.156-2.133-3.141-1.664-3.445-0.75-3.375q0-2.906 2.039-4.945t4.945-2.039z",scale:2.5,strokeWeight:2,fillColor:x.value.color,fillOpacity:1,strokeColor:x.value.color,anchor:new google.maps.Point(0,20)}})};return a((async()=>{await A()})),(e,l)=>{const s=V,a=Y,i=hl;return o(),n(C,null,[c("div",null,[c("div",{class:"sup-profile rounded mb-4 space-between",style:N({backgroundImage:`linear-gradient(to right, ${x.value.color}50, ${x.value.color}30, ${x.value.color}10)`})},[c("div",xl,[c("div",Cl,[c("img",{src:null==x.value.logo?"/images/logoplaceholder.png":x.value.logo},null,8,wl)]),c("div",kl,[c("div",Al,[c("h3",Nl,k(x.value.name),1),c("span",Vl,k(x.value.email?x.value.email:"N/A"),1),c("span",Il,k(x.value.phone_number?x.value.phone_number:"N/A"),1)])])]),c("div",Sl,[c("div",Tl,[jl,g(s,{class:"editbtn",onClick:l[0]||(l[0]=()=>{w.value=!0})},{default:f((()=>[Bl,m("Edit Business Details")])),_:1})])])],4),c("div",Rl,[c("div",Ul,[c("div",Ll,[c("ul",null,[c("li",{class:d(["contact"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[1]||(l[1]=_(r((e=>y.value="contact"),["prevent"]),["space"])),onClick:l[2]||(l[2]=e=>y.value="contact")},Ml,32)],2),c("li",{class:d(["businesss"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[3]||(l[3]=_(r((e=>y.value="businesss"),["prevent"]),["space"])),onClick:l[4]||(l[4]=e=>y.value="businesss")},Ol,32)],2),c("li",{class:d(["location"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[5]||(l[5]=_(r((e=>y.value="location"),["prevent"]),["space"])),onClick:l[6]||(l[6]=e=>y.value="location")},Pl,32)],2),c("li",{class:d(["contract"===y.value?"is-active":"not-active"])},[c("a",{tabindex:"0",role:"button",onKeydown:l[7]||(l[7]=_(r((e=>y.value="contract"),["prevent"]),["space"])),onClick:l[8]||(l[8]=e=>y.value="contract")},zl,32)],2)])])]),p(c("div",Dl,[c("div",El,[c("div",ql,[c("div",$l,[Kl,c("h4",Hl,k(x.value.name),1)])]),c("div",Wl,[c("div",Yl,[Gl,c("h4",Fl,k(x.value.reg_no?x.value.reg_no:"N/A"),1)]),c("div",Jl,[Xl,c("h4",Ql,k(x.value.trade_name?x.value.trade_name:"N/A"),1)])]),c("div",Zl,[es,c("h4",ls,k(x.value.email?x.value.email:"N/A"),1)]),c("div",ss,[as,c("h4",ts,k(x.value.phone_number?x.value.phone_number:"N/A"),1)]),c("div",is,[os,c("div",{style:N([{width:"60px",height:"24px","border-radius":"6px"},{backgroundColor:x.value.color}])},k(x.value.color?" ":"N/A"),5)])])],512),[[v,"contact"==y.value]]),p(c("div",ns,[c("div",rs,[c("div",cs,[c("div",ds,[us,c("h4",ms,k(x.value.business_type?x.value.business_type:"N/A"),1)])]),c("div",ps,[c("div",vs,[ys,c("h4",gs,k(x.value.covered_distance?x.value.covered_distance:"N/A")+" miles ",1)]),c("div",fs,[bs,c("h4",hs,k(x.value.industry?x.value.industry:"N/A"),1)])]),c("div",_s,[xs,c("h4",Cs,k(x.value.vat_no?x.value.vat_no:"N/A"),1)]),c("div",ws,[ks,c("div",{innerHTML:x.value?.business_details,class:"ckeditor",style:{"font-weight":"500","margin-left":"0.5rem",color:"#111"}},null,8,As)])])],512),[[v,"businesss"==y.value]]),p(c("div",Ns,[c("div",Vs,[c("div",Is,[Ss,c("h4",Ts,k(x.value.postcode?x.value.postcode:"N/A"),1)]),c("div",js,[Bs,c("h4",Rs,k(x.value.address?x.value.address:"N/A"),1)]),Us])],512),[[v,"location"==y.value]]),p(c("div",Ls,[g(a,{companyLogo:x.value.logo,companyName:x.value.name},null,8,["companyLogo","companyName"])],512),[[v,"contract"==y.value]])])]),w.value?(o(),h(i,{key:0,id:u(t).params.id,openCustomCompany:w.value,"onUpdate:modalHandler":l[9]||(l[9]=e=>(w.value=e,A()))},null,8,["id","openCustomCompany"])):b("",!0)],64)}}}),[["__scopeId","data-v-b1772040"]]);export{Ms as _};
