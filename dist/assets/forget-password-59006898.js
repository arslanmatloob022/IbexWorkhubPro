import{e,r as a,t as s,v as l,x as o,o as t,z as i,A as d,B as r,C as u,D as n,E as m,F as c,G as p,l as v,H as _,I as h,J as f,j as g,X as y,O as w,P as b,Q as j,R as V}from"./index-d9ebeddb.js";import{_ as k}from"./VCheckbox.vue_vue_type_style_index_0_lang-67dfcce4.js";import{_ as x}from"./VField.vue_vue_type_script_setup_true_lang-b0155ea2.js";import{_ as P}from"./VControl-fe176f35.js";import{_ as C}from"./VInput.vue_vue_type_script_setup_true_lang-b3410b05.js";import{_ as A}from"./VLabel.vue_vue_type_script_setup_true_lang-29b3146f.js";import{_ as I}from"./AnimatedLogo-881ce168.js";import{_ as S}from"./station-d527b828.js";import{u as q}from"./useNotyf-a5ec9275.js";import{u as L}from"./useAPI-5fb4dc64.js";import{u as R}from"./layoutSwitcher-ceaee686.js";import"./useVFieldContext-25812e0f.js";import"./notyf-5a2528b8.js";import"./useThemeColors-3c638543.js";import"./userSession-854a934c.js";const U=e=>(b("data-v-6a8ee938"),e=e(),j(),e),z={class:"modern-login"},B=U((()=>n("div",{class:"underlay h-hidden-mobile h-hidden-tablet-p"},null,-1))),F={class:"columns is-gapless is-vcentered"},D=y('<div class="column is-relative is-8 h-hidden-mobile h-hidden-tablet-p" data-v-6a8ee938><div class="hero is-fullheight is-image" data-v-6a8ee938><div class="hero-body" data-v-6a8ee938><div class="container" data-v-6a8ee938><div class="columns" data-v-6a8ee938><div class="column" data-v-6a8ee938><img class="hero-image" src="'+S+'" alt="" data-v-6a8ee938></div></div></div></div></div></div>',1),H={class:"column is-4 is-relative"},J={class:"top-tools"},K=["checked"],E=U((()=>n("span",null,null,-1))),G={class:"is-form"},M={class:"is-form-inner"},N=[U((()=>n("h2",null,"Reset Password",-1)))],O=["onSubmit"],Q={class:"button-wrap has-help"},T=V(e({__name:"forget-password",setup(e){R();const y=a("login"),b=a(!1),j=s(),V=l(),S=o(),U=q(),T=L(),X=a(""),W=a(""),Y=a(""),Z=a(""),$=async()=>{if(!b.value){if(X.value!=W.value)return void U.error("Both password and confirm password  must be matched");b.value=!0;try{await T.post("/v3/api/account/auth/set-password/",{email:Z.value,password:X.value,token:Y.value,confirm_password:W.value});ee()}catch(e){b.value=!1,U.dismissAll(),U.error("Inavlid or expired link, password update")}}},ee=()=>{b.value=!1,U.dismissAll(),U.success("Password updated successfully"),V.push("/")};t((()=>{Y.value=S.query.token,Z.value=S.query.email})),i({title:"Reset Password - Arez"});const ae=a(!1),se=a("Password"),le=()=>{se.value="Password"===se.value?"text":"Password"};return(e,a)=>{const s=I,l=d("RouterLink"),o=A,t=C,i=P,V=x,S=k,q=w;return r(),u("div",z,[B,n("div",F,[D,n("div",H,[n("div",J,[m(l,{to:"/",class:"top-logo"},{default:c((()=>[m(s,{width:"38px",height:"38px"})])),_:1}),n("label",{class:"dark-mode",tabindex:"0",role:"button",onKeydown:a[1]||(a[1]=p(h((e=>e.target.click()),["prevent"]),["space"]))},[n("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!v(j).isDark,onChange:a[0]||(a[0]=(...e)=>v(j).onChange&&v(j).onChange(...e))},null,40,K),E],32)]),n("div",G,[n("div",M,[n("div",{class:_(["form-text",["login"!==v(y)&&"is-hidden"]])},N,2),n("form",{method:"post","data-cy":"login-form",class:_([["login"!==v(y)&&"is-hidden"],"login-wrapper"]),onSubmit:h($,["prevent"])},[m(V,null,{default:c((()=>[m(i,{icon:"lnil lnil-lock-alt autv-icon"},{default:c((()=>[m(o,{class:"auth-label"},{default:c((()=>[f(" Password ")])),_:1}),m(t,{modelValue:v(X),"onUpdate:modelValue":a[2]||(a[2]=e=>g(X)?X.value=e:null),type:v(se),required:"",minlength:"6"},null,8,["modelValue","type"])])),_:1})])),_:1}),m(V,null,{default:c((()=>[m(i,{icon:"lnil lnil-lock-alt autv-icon"},{default:c((()=>[m(o,{class:"auth-label"},{default:c((()=>[f(" Confirm Password ")])),_:1}),m(t,{modelValue:v(W),"onUpdate:modelValue":a[3]||(a[3]=e=>g(W)?W.value=e:null),required:"",type:v(se),minlength:"6"},null,8,["modelValue","type"])])),_:1})])),_:1}),m(V,null,{default:c((()=>[m(i,{class:"is-flex"},{default:c((()=>[m(i,{raw:"",subcontrol:""},{default:c((()=>[m(S,{modelValue:v(ae),"onUpdate:modelValue":a[4]||(a[4]=e=>g(ae)?ae.value=e:null),label:"Show Password",color:"primary",onClick:le},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),n("div",Q,[m(q,{id:"login-button",loading:v(b),color:"primary",type:"submit",size:"big",rounded:"",raised:"",bold:""},{default:c((()=>[f(" Submit ")])),_:1},8,["loading"])])],42,O)])])])])])}}}),[["__scopeId","data-v-6a8ee938"]]);export{T as default};
