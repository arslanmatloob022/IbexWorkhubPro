import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-1b3efaa2.js";import{_ as a}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-60676b0d.js";import{_ as l}from"./VAvatar.vue_vue_type_style_index_0_lang-ca35c0b4.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-fcfb9eec.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-a9286499.js";import{e as o,v as i,x as n,r as c,Z as d,o as r,i as u,B as p,C as m,D as v,E as f,F as g,G as _,N as y,M as h,U as b,V as C,T as k,H as w,a3 as x,O as V,P as U,Q as T,R as S,f as j,J as I,K as D,l as M,W as A,I as O,A as P,ak as E,j as H,z}from"./index-083aead2.js";import{_ as L}from"./VControl-3e240123.js";import{_ as W}from"./VInput.vue_vue_type_script_setup_true_lang-09ecb6e3.js";import{_ as N,a as R}from"./projects-dark-4a371d8a.js";import{u as K}from"./useAPI-4bc9c287.js";import{u as $}from"./userSession-0864928d.js";import{_ as Z}from"./VCheckbox.vue_vue_type_style_index_0_lang-679cf2fd.js";import{_ as B}from"./VCollapse.vue_vue_type_style_index_0_lang-f2c43c56.js";import{_ as F}from"./VLabel.vue_vue_type_script_setup_true_lang-b9c53ff4.js";import{b as q}from"./route-block-83d24a4e.js";import{_ as G}from"./VModal.vue_vue_type_style_index_0_lang-c1f9dc44.js";import{_ as J}from"./VTextarea.vue_vue_type_script_setup_true_lang-da726c0d.js";import{u as Y}from"./useNotyf-82024493.js";import{_ as Q,a as X}from"./VOption.vue_vue_type_style_index_0_lang-4de36fa9.js";import{_ as ee}from"./VIconWrap.vue_vue_type_style_index_0_lang-d13d2b8c.js";import{_ as ae,a as le}from"./search-4-dark-2b5b440c.js";import{_ as te}from"./VTag.vue_vue_type_style_index_0_lang-b5273870.js";import{u as se}from"./layoutSwitcher-2585518f.js";import{u as oe}from"./viewWrapper-324fa8be.js";import"./VFlex.vue_vue_type_style_index_0_lang-9ac36ab2.js";import"./VPlaceloadWrap-9fdf14b1.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-08758cca.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-f4d4ea8f.js";import"./useVFieldContext-0c090f92.js";import"./VIcon.vue_vue_type_script_setup_true_lang-40c938da.js";import"./notyf-bd6af76a.js";import"./useThemeColors-91d0c2e7.js";import"./via-placeholder-24645670.js";const ie=e=>(U("data-v-bee4111d"),e=e(),T(),e),ne={class:"columns is-multiline"},ce={class:"column is-12"},de={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},re=ie((()=>v("i",{class:"fa fa-search"},null,-1))),ue={class:"timeline-wrapper"},pe=ie((()=>v("div",{class:"timeline-header"},null,-1))),me={class:"timeline-wrapper-inner no-padding-all"},ve={class:"timeline-container"},fe={class:"date"},ge={class:"content-wrap"},_e={class:"content-box"},ye={class:"box-text"},he={class:"meta-text"},be=["innerHTML"],Ce=ie((()=>v("img",{class:"light-image is-larger",src:N,alt:""},null,-1))),ke=ie((()=>v("img",{class:"dark-image is-larger",src:R,alt:""},null,-1))),we=S(o({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(o){const U=o;$();const T=i(),S=n(),j=K(),I=c(!1),D=c([]),M=c(!1),A=c("2"),O=async()=>{I.value=!0;try{const e=await j.get("/api/activity-logs/");D.value=e.data,M.value=D.value.length>0}catch(e){console.error("Error fetching worker activities:",e)}finally{I.value=!1}},P={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const E=c(1),H=c(10),z=c(""),N=d((()=>{const e=z.value.toLowerCase(),a=function(e){const a=new Date,l=new Date,t=new Date;switch(e){case"1":l.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":l.setDate(a.getDate()-1),l.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":l.setDate(a.getDate()-7);break;case"14":l.setDate(a.getDate()-14);break;case"30":l.setDate(a.getDate()-30);break;case"90":l.setDate(a.getDate()-90);break;default:return null}return{start:l,end:t}}(A.value),l=D.value.filter((l=>{const t=l.actor_info.username.toLowerCase().includes(e)||l.actor_info.last_name&&l.actor_info.last_name.toLowerCase().includes(e)||l.message.toLowerCase().includes(e);if(a){const e=new Date(l.timestamp);return t&&e>=a.start&&e<=a.end}return t}));return M.value=l.length>0,l})),R=d((()=>{const e=(E.value-1)*H.value,a=e+H.value;return N.value.slice(e,a)})),Z=d((()=>N.value.length>H.value)),B=e=>{E.value=e,T.push({path:S.path,query:{...S.query,page:e}})};return r((()=>{E.value=parseInt(S.query.page)||1,O()})),u((()=>{U.id=0})),(o,i)=>{const n=W,c=L,d=V,r=s,u=t,U=l,T=a,S=e;return p(),m("div",ne,[v("div",ce,[v("div",de,[f(r,{addons:"",style:{width:"21rem"}},{default:g((()=>[f(c,{expanded:""},{default:g((()=>[f(n,{onKeypress:_(O,["enter"]),type:"text",class:"input",modelValue:z.value,"onUpdate:modelValue":i[0]||(i[0]=e=>z.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),f(c,null,{default:g((()=>[f(d,{color:"primary",onClick:O},{default:g((()=>[re])),_:1})])),_:1})])),_:1}),v("div",ue,[pe,v("div",me,[v("div",ve,[I.value?(p(),y(u,{key:0})):h("",!0),(p(!0),m(b,null,C(R.value,(e=>{return p(),m("div",{class:"timeline-item is-unread",key:e?.id},[v("div",fe,[v("span",null,k((a=e?.timestamp.slice(0,10),new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),v("div",{class:w(["dot",P[e.action]])},null,2),v("div",ge,[v("div",_e,[f(U,{picture:e?.actor_info.avatar},null,8,["picture"]),v("div",ye,[v("div",he,[v("p",null,[v("span",{style:x({color:""+(e.actor===e?.object_id?"var(--red)":"")})},k(e?.actor_info.username)+" "+k(e?.actor_info.last_name)+". ",5),v("span",{class:"action-message",innerHTML:e?.message},null,8,be)]),v("span",null,k(e?.timestamp.slice(11,16)),1)])])])])]);var a})),128)),M.value||I.value?h("",!0):(p(),y(T,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:g((()=>[Ce,ke])),_:1}))])]),Z.value?(p(),y(S,{key:0,"current-page":E.value,"onUpdate:currentPage":[i[1]||(i[1]=e=>E.value=e),B],"item-per-page":H.value,"total-items":N.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):h("",!0)])])])])}}}),[["__scopeId","data-v-bee4111d"]]),xe=e=>(U("data-v-08c5b175"),e=e(),T(),e),Ve={class:"role-management"},Ue={class:"role-category"},Te={class:"role-table"},Se=xe((()=>v("th",null,"View",-1))),je=xe((()=>v("th",null,"Add",-1))),Ie=xe((()=>v("th",null,"Edit",-1))),De=xe((()=>v("th",null,"Delete",-1))),Me={class:"pt-5"},Ae=S(o({__name:"ManageRole",setup(e){const a=j([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(e,l)=>{const t=Z,o=L,i=s;return p(),m("div",Ve,[(p(!0),m(b,null,C(a,(e=>(p(),m("div",{key:e.category,class:"role-section"},[v("h3",Ue,k(e.category),1),v("table",Te,[v("thead",null,[v("tr",null,[v("th",null,k(e.title),1),Se,je,Ie,De])]),v("tbody",null,[(p(!0),m(b,null,C(e.items,(e=>(p(),m("tr",{key:e.name},[v("td",Me,k(e.name),1),v("td",null,[f(i,null,{default:g((()=>[f(o,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.view,"onUpdate:modelValue":a=>e.view=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),v("td",null,[f(i,null,{default:g((()=>[f(o,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.add,"onUpdate:modelValue":a=>e.add=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),v("td",null,[f(i,null,{default:g((()=>[f(o,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.edit,"onUpdate:modelValue":a=>e.edit=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),v("td",null,[f(i,null,{default:g((()=>[f(o,{raw:"",subcontrol:""},{default:g((()=>[f(t,{modelValue:e.delete,"onUpdate:modelValue":a=>e.delete=a,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),Oe={class:"column is-12"},Pe=o({__name:"RoleManagement",setup(e){const a=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,l)=>{const t=B;return p(),m("div",Oe,[f(t,{items:a,"with-chevron":""})])}}}),Ee={class:"pill"},He=o({__name:"BulletPill",setup:e=>(e,a)=>(p(),m("span",Ee))});"function"==typeof q&&q(He);const ze=S(He,[["__scopeId","data-v-325a7b2c"]]),Le=o({name:"FolderSettings",setup(){const e=j({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),We=e=>(U("data-v-ff241c58"),e=e(),T(),e),Ne={class:""},Re={class:"section"},Ke={class:"title is-5"},$e={class:"mt-5"},Ze=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Be=We((()=>v("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),Fe=We((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),qe={class:"columns is-multiline"},Ge={class:"column is-3"},Je=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ye=We((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),Qe={class:"column is-3"},Xe=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ea=We((()=>v("h2",{class:"title is-6"},"Clients",-1))),aa={class:"section"},la={class:"title is-5"},ta={class:"mt-5"},sa=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),oa=We((()=>v("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),ia={class:"columns is-multiline"},na={class:"column is-6"},ca=We((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),da={class:"columns is-multiline"},ra={class:"column is-6"},ua=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),pa=We((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),ma={class:"column is-6"},va=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),fa=We((()=>v("h2",{class:"title is-6"},"Clients",-1))),ga={class:"column is-6"},_a=We((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),ya={class:"columns is-multiline"},ha={class:"column is-6"},ba=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ca=We((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),ka={class:"column is-6"},wa=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),xa=We((()=>v("h2",{class:"title is-6"},"Clients",-1))),Va={class:"section"},Ua={class:"title is-5"},Ta=We((()=>v("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Sa={class:"columns is-multiline"},ja={class:"column is-3"},Ia=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Da=We((()=>v("h2",{class:"title is-6"},"SubVendors",-1))),Ma={class:"column is-3"},Aa=We((()=>v("span",{class:"toggler"},[v("span",{class:"active"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),v("span",{class:"inactive"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Oa=We((()=>v("h2",{class:"title is-6"},"Clients",-1)));const Pa=S(Le,[["render",function(e,a,l,t,s,o){const i=ze,n=W,c=F,d=L;return p(),m("div",Ne,[v("div",Re,[v("h3",Ke,[f(i),I(" Document folders ")]),v("div",$e,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),Ze])),_:1}),Be])),_:1})])]),v("div",null,[Fe,v("div",qe,[v("div",Ge,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),Je])),_:1}),Ye])),_:1})])]),v("div",Qe,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Xe])),_:1}),ea])),_:1})])])])])]),v("div",aa,[v("h3",la,[f(i),I(" Photo folders ")]),v("div",ta,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),sa])),_:1}),oa])),_:1})])]),v("div",ia,[v("div",na,[ca,v("div",da,[v("div",ra,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),ua])),_:1}),pa])),_:1})])]),v("div",ma,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),va])),_:1}),fa])),_:1})])])])]),v("div",ga,[_a,v("div",ya,[v("div",ha,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),ba])),_:1}),Ca])),_:1})])]),v("div",ka,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),wa])),_:1}),xa])),_:1})])])])])])]),v("div",Va,[v("h3",Ua,[f(i),I(" Video folders ")]),v("div",null,[Ta,v("div",Sa,[v("div",ja,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),Ia])),_:1}),Da])),_:1})])]),v("div",Ma,[v("label",null,[f(d,{class:"is-flex align-items-ceneter"},{default:g((()=>[f(c,{raw:"",class:"remember-toggle"},{default:g((()=>[f(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Aa])),_:1}),Oa])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),Ea={class:"modal-form columns is-multiline"},Ha={class:"column is-12"},za=v("label",{class:"label"},"Title *",-1),La={class:"column is-12"},Wa=v("label",{class:"label"},"Description",-1),Na=o({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const l=e,t=K(),o=c(!1),i=Y(),n=c({id:l.trade?.id||"",name:l.trade?.name||"",description:l.trade?.description||""}),d=()=>{a("update:modalHandler",!1)},r=async()=>{try{o.value=!0,n.value.id?(await t.patch(`/api/cost-trade/${n.value.id}/`,n.value),i.success("Trade updated successfully")):(await t.post("/api/cost-trade/",n.value),i.success("Trade created successfully")),a("update:OnSuccess"),d()}catch(e){console.log(e)}finally{o.value=!1}};return(e,a)=>{const l=J,t=L,i=s,c=V,u=G;return p(),y(u,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:O(r,["prevent"]),onClose:d},{content:g((()=>[v("div",Ea,[v("div",Ha,[za,D(v("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":a[0]||(a[0]=e=>M(n).name=e)},null,512),[[A,M(n).name]])]),v("div",La,[Wa,f(i,null,{default:g((()=>[f(t,null,{default:g((()=>[f(l,{modelValue:M(n).description,"onUpdate:modelValue":a[1]||(a[1]=e=>M(n).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:g((()=>[f(c,{type:"submit",color:"primary",loading:M(o),raised:""},{default:g((()=>[I("Save")])),_:1},8,["loading"])])),cancel:g((()=>[f(c,{color:"light",onClick:d,raised:""},{default:g((()=>[I("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ra={class:"modal-form columns is-multiline"},Ka={class:"column is-6"},$a={class:"field"},Za=v("label",{class:"label"},"Title *",-1),Ba={class:"control"},Fa={class:"column is-6"},qa={class:"field"},Ga=v("label",{class:"label"},"Trade *",-1),Ja={class:"column is-12"},Ya={class:"field"},Qa=v("label",{class:"label"},"Description",-1),Xa=o({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const l=e,t=K(),o=c(!1),i=Y(),n=c(!1),d=()=>{a("update:modalHandler",!1)},u=c({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});c("");const _=async()=>{try{if(n.value=!0,l.categoryId){await t.patch(`/api/cost-category/${l.categoryId}/`,u.value)}else{await t.post("/api/cost-category/",u.value)}a("update:OnSuccess",null),i.success(`Category  ${l.categoryId?"updated":"created"} successfully`),d()}catch(e){console.log(e)}finally{n.value=!1}},h=c([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return r((()=>{l.categoryId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-category/${l.categoryId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-trade/");h.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,a)=>{const t=Q,i=X,n=L,c=J,r=s,w=V,x=G;return p(),y(x,{is:"form",open:l.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:O(_,["prevent"]),onClose:d},{content:g((()=>[v("div",Ra,[v("div",Ka,[v("div",$a,[Za,v("div",Ba,[D(v("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":a[0]||(a[0]=e=>M(u).name=e)},null,512),[[A,M(u).name]])])])]),v("div",Fa,[v("div",qa,[Ga,f(n,null,{default:g((()=>[f(i,{modelValue:M(u).trade,"onUpdate:modelValue":a[1]||(a[1]=e=>M(u).trade=e),required:""},{default:g((()=>[(p(!0),m(b,null,C(M(h),(e=>(p(),y(t,{value:e.id},{default:g((()=>[I(k(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),v("div",Ja,[v("div",Ya,[Qa,f(r,null,{default:g((()=>[f(n,null,{default:g((()=>[f(c,{modelValue:M(u).description,"onUpdate:modelValue":a[2]||(a[2]=e=>M(u).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:g((()=>[f(w,{type:"submit",color:"primary",loading:M(o),raised:""},{default:g((()=>[I(k(l.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:g((()=>[f(w,{color:"light",onClick:d,raised:""},{default:g((()=>[I("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),el={class:"modal-form columns is-multiline"},al={class:"column is-6"},ll={class:"field"},tl=v("label",{class:"label"},"Title * ",-1),sl={class:"control"},ol={class:"column is-6"},il={class:"field"},nl=v("label",{class:"label"},"Category *",-1),cl={class:"control"},dl={class:"field column is-12"},rl=v("label",{class:"label"},"Sub code of ",-1),ul={class:"control"},pl={class:"column is-12"},ml={class:"columns is-multiline"},vl={class:"field column is-6"},fl=v("label",{class:"label"},null,-1),gl={key:0,class:"column is-6"},_l={class:"field"},yl=v("label",{class:"label"},"Default labour cost ($)",-1),hl={class:"control"},bl={class:"column is-6"},Cl={class:"field"},kl=v("label",{class:"label"},"Unit cost ($)",-1),wl={class:"control"},xl={class:"column is-6"},Vl={class:"field"},Ul=v("label",{class:"label"},"Worker cost ($)",-1),Tl={class:"control"},Sl=v("hr",null,null,-1),jl={class:"column is-12"},Il={class:"field"},Dl=v("label",{class:"label"},"Description",-1),Ml=o({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},selectedCatCostCode:{},selectedCostCodeID:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:a}){const l=e,t=K(),o=c(!1),i=Y(),n=c(!1),d=()=>{a("update:modalHandler",!1)},u=c({id:"",name:"",category:l.selectedCatCostCode||"",parent_code:l.selectedCostCodeID||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit_cost:0,is_active:!0}),_=async()=>{try{if(n.value=!0,l.costCodeId){await t.patch(`/api/cost-code/${l.costCodeId}/`,u.value);i.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",u.value);i.success("Cost code created successfully")}d(),a("update:OnSuccess",null)}catch(e){console.log(e)}finally{n.value=!1}},w=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=c([]);return r((()=>{console.log(l.selectedCatCostCode),l.costCodeId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-code/${l.costCodeId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-category/");w.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-code/");x.value=e.data.map((e=>({value:e.id,label:e.name})))}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,a)=>{const t=Q,i=X,n=L,c=s,r=P("Multiselect"),U=Z,T=J,S=V,j=G;return p(),y(j,{is:"form",open:l.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:O(_,["prevent"]),onClose:d},{content:g((()=>[v("div",el,[v("div",al,[v("div",ll,[tl,v("div",sl,[D(v("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":a[0]||(a[0]=e=>M(u).name=e)},null,512),[[A,M(u).name]])])])]),v("div",ol,[v("div",il,[nl,v("div",cl,[f(c,null,{default:g((()=>[f(n,null,{default:g((()=>[f(i,{modelValue:M(u).category,"onUpdate:modelValue":a[1]||(a[1]=e=>M(u).category=e),required:""},{default:g((()=>[f(t,{value:""},{default:g((()=>[I(" Select a category ")])),_:1}),(p(!0),m(b,null,C(M(w),(e=>(p(),y(t,{value:e.id},{default:g((()=>[I(k(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),v("div",dl,[rl,v("div",ul,[f(c,null,{default:g((({id:l})=>[f(n,null,{default:g((()=>[f(r,{disabled:!!e.CategoryMode,modelValue:M(u).parent_code,"onUpdate:modelValue":a[2]||(a[2]=e=>M(u).parent_code=e),attrs:{id:l},searchable:!0,options:M(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),v("div",pl,[v("div",ml,[v("div",vl,[fl,f(c,{class:"is-flex"},{default:g((()=>[f(n,{raw:"",subcontrol:""},{default:g((()=>[f(U,{modelValue:M(u).is_labour_code,"onUpdate:modelValue":a[3]||(a[3]=e=>M(u).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),M(u).is_labour_code?(p(),m("div",gl,[v("div",_l,[yl,v("div",hl,[D(v("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":a[4]||(a[4]=e=>M(u).labour_cost=e)},null,512),[[A,M(u).labour_cost]])])])])):h("",!0)])]),v("div",bl,[v("div",Cl,[kl,v("div",wl,[D(v("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":a[5]||(a[5]=e=>M(u).unit_cost=e)},null,512),[[A,M(u).unit_cost]])])])]),v("div",xl,[v("div",Vl,[Ul,v("div",Tl,[D(v("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":a[6]||(a[6]=e=>M(u).worker_cost=e)},null,512),[[A,M(u).worker_cost]])])])]),Sl,v("div",jl,[v("div",Il,[Dl,f(c,null,{default:g((()=>[f(n,null,{default:g((()=>[f(T,{modelValue:M(u).description,"onUpdate:modelValue":a[7]||(a[7]=e=>M(u).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:g((()=>[f(S,{type:"submit",color:"primary",loading:M(o),raised:""},{default:g((()=>[I(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:g((()=>[f(S,{color:"light",onClick:d,raised:""},{default:g((()=>[I("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Al=e=>(U("data-v-453d3f7e"),e=e(),T(),e),Ol={class:"list-flex-toolbar flex-list-v1"},Pl={class:"page-content-inner"},El=Al((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),Hl=Al((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),zl={class:"table is-hoverable is-fullwidth"},Ll=Al((()=>v("thead",null,[v("tr",null,[v("th",null,"Title"),v("th",null,"Description"),v("th",null,"Children"),v("th",{class:"is-end"},"Actions")])],-1))),Wl={class:"is-end"},Nl={class:"is-flex is-justify-content-flex-end"},Rl=S(o({__name:"TradeComp",setup(e){const l=Y(),t=c(!1);c("Items list");const o=c([]),i=K(),n=c(""),u=c(!1),_=c(null),w=async()=>{try{t.value=!0;const e=await i.get("/api/cost-trade/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{_.value=e,u.value=!0},U=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return o.value.filter((a=>a.name?.match(e)))}return o.value}));return r((()=>{w()})),(e,t)=>{const o=L,c=s,d=V,r=E,T=a,S=ee,j=Na;return p(),m("div",null,[v("div",Ol,[f(c,null,{default:g((()=>[f(o,{icon:"feather:search"},{default:g((()=>[D(v("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,n.value]])])),_:1})])),_:1}),f(r,null,{default:g((()=>[f(d,{onClick:t[1]||(t[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:g((()=>[I(" Trade ")])),_:1})])),_:1})]),v("div",Pl,[U.value.length?h("",!0):(p(),y(T,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:g((()=>[El,Hl])),_:1})),v("table",zl,[Ll,v("tbody",null,[(p(!0),m(b,null,C(U.value,(e=>(p(),m("tr",{key:e.id},[v("td",null,k(e.name??"n/a"),1),v("td",null,k(e.description||"No description"),1),v("td",null,k(e.codes?.length||0),1),v("td",Wl,[v("div",Nl,[f(S,{onClick:a=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),f(S,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{await i.delete(`/api/cost-trade/${e}/`),l.success("Trade deleted successfully"),w()}catch(a){console.log(a),l.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])]),u.value?(p(),y(j,{key:0,openTradeModal:u.value,trade:_.value,"onUpdate:modalHandler":t[2]||(t[2]=e=>u.value=!1),"onUpdate:OnSuccess":w},null,8,["openTradeModal","trade"])):h("",!0)])}}}),[["__scopeId","data-v-453d3f7e"]]),Kl=e=>(U("data-v-502b606b"),e=e(),T(),e),$l={class:"list-flex-toolbar flex-list-v1"},Zl={class:"page-content-inner"},Bl=Kl((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),Fl=Kl((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),ql={class:"table is-hoverable is-fullwidth"},Gl=Kl((()=>v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Title"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Children"),v("th",{scope:"col",class:"is-end"},[v("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Jl={class:"pl-5"},Yl={class:"dark-text text-primary"},Ql={class:"is-end"},Xl={class:"is-flex is-justify-content-flex-end"},et=S(o({__name:"CostCodes",setup(e){const l=Y(),t=c(!1);c("Items list");const o=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),i=K(),n=c(""),u=[{}],_=c(!1);c(!1),c(!1);const w=c(""),x=async()=>{try{t.value=!0;const e=await i.get("/api/cost-code/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},U=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return u.filter((a=>a.username?.match(e)||a.location?.match(e)))}return u}));return r((()=>{x()})),(e,c)=>{const d=L,r=s,u=V,T=E,S=a,j=ee,O=Ml;return p(),m("div",null,[v("div",$l,[f(r,null,{default:g((()=>[f(d,{icon:"feather:search"},{default:g((()=>[D(v("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>H(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,M(n)]])])),_:1})])),_:1}),f(T,null,{default:g((()=>[f(u,{color:"primary",onClick:c[1]||(c[1]=e=>_.value=!M(_)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:g((()=>[I(" Cost Code ")])),_:1})])),_:1})]),v("div",Zl,[M(U).length?h("",!0):(p(),y(S,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[Bl,Fl])),_:1})),v("table",ql,[Gl,v("tbody",null,[(p(!0),m(b,null,C(M(o),(e=>(p(),m("tr",{key:e.id,class:"sub-item"},[v("td",Jl,[v("p",Yl,k(e.name),1)]),v("td",null,k(e.description||"No description"),1),v("td",null,k(e.child_codes?.length||0),1),v("td",Ql,[v("div",Xl,[f(j,{onClick:a=>{return l=e.id,w.value=l,void(_.value=!_.value);var l},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),f(j,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>(async e=>{try{t.value=!0,await i.delete(`/api/cost-code/${e}/`),x(),l.success("delete cost code")}catch(a){console.log(a)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])]),M(_)?(p(),y(O,{key:0,addUpdateCostCodeModal:M(_),"cost-code-id":M(w),"onUpdate:modalHandler":c[2]||(c[2]=e=>_.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):h("",!0)])}}}),[["__scopeId","data-v-502b606b"]]),at=e=>(U("data-v-317f06b1"),e=e(),T(),e),lt={class:""},tt={class:"list-flex-toolbar flex-list-v1"},st={class:"page-content-inner"},ot=at((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),it=at((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),nt={class:"table is-hoverable is-fullwidth"},ct=at((()=>v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Title"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Children"),v("th",{scope:"col",class:"is-end"},[v("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),dt={class:"info-text is-bold"},rt={class:"is-end"},ut={class:"is-flex is-justify-content-flex-end"},pt=S(o({__name:"CategoryComp",setup(e){const l=Y(),t=c(!1);c("Items list");const o=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),i=K(),n=c(""),u=[{}];c(!1);const _=c(!1);c(!1);const w=c(""),x=async()=>{try{t.value=!0;const e=await i.get("/api/cost-category/list/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},U=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return u.filter((a=>a.username?.match(e)||a.location?.match(e)))}return u}));return r((()=>{x()})),(e,c)=>{const d=L,r=s,u=V,T=E,S=a,j=ee,O=Xa;return p(),m("div",null,[v("div",lt,[v("div",tt,[f(r,null,{default:g((()=>[f(d,{icon:"feather:search"},{default:g((()=>[D(v("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>H(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,M(n)]])])),_:1})])),_:1}),f(T,null,{default:g((()=>[f(u,{onClick:c[1]||(c[1]=e=>_.value=!M(_)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:g((()=>[I(" Category ")])),_:1})])),_:1})]),v("div",st,[M(U).length?h("",!0):(p(),y(S,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[ot,it])),_:1})),v("table",nt,[ct,v("tbody",null,[(p(!0),m(b,null,C(M(o),(e=>(p(),m("tr",{key:e.id},[v("td",null,[v("p",dt,k(e.name??"n/a"),1)]),v("td",null,[v("p",null,k(e.description||"No description"),1)]),v("td",null,k(e.codes?.length||0),1),v("td",rt,[v("div",ut,[f(j,{onClick:a=>{return l=e?.id,w.value=l,void(_.value=!_.value);var l},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),f(j,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{t.value=!0,await i.delete(`/api/cost-category/${e}/`),x(),l.success("delete category")}catch(a){console.log(a)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),M(_)?(p(),y(O,{key:0,addUpdateCategoryModal:M(_),"category-id":M(w),"onUpdate:modalHandler":c[2]||(c[2]=e=>_.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):h("",!0)])}}}),[["__scopeId","data-v-317f06b1"]]),mt=e=>(U("data-v-0c06ee6f"),e=e(),T(),e),vt={class:"tabs-wrapper"},ft={class:"tabs-inner"},gt={class:"tabs"},_t=[mt((()=>v("span",null,"Identity List",-1)))],yt=[mt((()=>v("span",null,"Category",-1)))],ht=[mt((()=>v("span",null,"Cost Codes",-1)))],bt=[mt((()=>v("span",null,"Trade",-1)))],Ct={key:0,class:""},kt={class:"list-flex-toolbar flex-list-v1"},wt={class:"page-content-inner"},xt=mt((()=>v("img",{class:"light-image",src:ae,alt:""},null,-1))),Vt=mt((()=>v("img",{class:"dark-image",src:le,alt:""},null,-1))),Ut={class:"table is-hoverable is-fullwidth"},Tt=mt((()=>v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Title"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Children"),v("th",{scope:"col",class:"is-end"},[v("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),St={class:"info-text is-bold"},jt=["onClick"],It={class:"is-end"},Dt={class:"is-flex is-justify-content-flex-end"},Mt={class:"sub-item"},At={class:"pl-5"},Ot={class:"dark-text text-primary"},Pt=["onClick"],Et={class:"is-end"},Ht={class:"is-flex is-justify-content-flex-end"},zt={class:"pl-6"},Lt=mt((()=>v("td",null,"-",-1))),Wt={class:"is-end"},Nt={class:"is-flex is-justify-content-flex-end"},Rt={key:1,class:""},Kt={key:2,class:""},$t={key:3,class:""},Zt=S(o({__name:"IdentityList",setup(e){const l=Y(),t=c(!1),o=c("Items list"),i=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),n=K(),u=c(""),x=[{}],U=c(!1),T=c(!1),S=c(!1),j=c(""),P=async e=>{try{t.value=!0;await n.delete(`/api/cost-code/${e}/`);z(),l.success("delete cost code")}catch(a){console.log(a)}finally{t.value=!1}},z=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},W=e=>{j.value=e,U.value=!U.value},N=c(""),R=c(!1),$=c(""),Z=(e=null,a=null)=>{console.log(e),console.log(a),N.value="",$.value="",$.value=a?.id,N.value=e?.id,U.value=!0},B=d((()=>{if(u.value){const e=new RegExp(u.value,"i");return x.filter((a=>a.username?.match(e)||a.location?.match(e)))}return x}));return r((()=>{z()})),(e,c)=>{const d=L,r=s,x=V,K=E,F=a,q=ee,G=pt,J=et,Y=Rl,Q=Ml,X=Xa,ae=Na;return p(),m("div",null,[v("div",vt,[v("div",ft,[v("div",gt,[v("ul",null,[v("li",{class:w(["Items list"===M(o)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[0]||(c[0]=_(O((e=>o.value="Items list"),["prevent"]),["space"])),onClick:c[1]||(c[1]=e=>o.value="Items list")},_t,32)],2),v("li",{class:w(["Category"===M(o)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[2]||(c[2]=_(O((e=>o.value="Category"),["prevent"]),["space"])),onClick:c[3]||(c[3]=e=>o.value="Category")},yt,32)],2),v("li",{class:w(["costCodes"===M(o)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[4]||(c[4]=_(O((e=>o.value="costCodes"),["prevent"]),["space"])),onClick:c[5]||(c[5]=e=>o.value="costCodes")},ht,32)],2),v("li",{class:w(["Trade"===M(o)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[6]||(c[6]=_(O((e=>o.value="Trade"),["prevent"]),["space"])),onClick:c[7]||(c[7]=e=>o.value="Trade")},bt,32)],2)])])])]),"Items list"==M(o)?(p(),m("div",Ct,[v("div",kt,[f(r,null,{default:g((()=>[f(d,{icon:"feather:search"},{default:g((()=>[D(v("input",{"onUpdate:modelValue":c[8]||(c[8]=e=>H(u)?u.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[A,M(u)]])])),_:1})])),_:1}),f(K,null,{default:g((()=>[f(x,{color:"primary",onClick:c[9]||(c[9]=e=>Z()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:g((()=>[I(" Cost Code ")])),_:1}),f(x,{onClick:c[10]||(c[10]=e=>T.value=!M(T)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:g((()=>[I(" Category ")])),_:1}),f(x,{onClick:c[11]||(c[11]=e=>S.value=!M(S)),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:g((()=>[I(" Trade ")])),_:1})])),_:1})]),v("div",wt,[M(B).length?h("",!0):(p(),y(F,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[xt,Vt])),_:1})),v("table",Ut,[Tt,v("tbody",null,[(p(!0),m(b,null,C(M(i),(e=>(p(),m(b,{key:e.id},[v("tr",null,[v("td",null,[v("p",St,[I(k(e.name??"n/a")+" ",1),v("i",{class:"fas fa-plus cursor-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{Z(e),R.value=!1,R.value=!0}},null,8,jt)])]),v("td",null,[v("p",null,k(e.description||"No description"),1)]),v("td",null,k(e.codes?.length||0),1),v("td",It,[v("div",Dt,[f(q,{onClick:a=>{return l=e?.id,j.value=l,void(T.value=!T.value);var l},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),f(q,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:a=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),z(),l.success("delete category")}catch(a){console.log(a)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(p(!0),m(b,{key:0},C(e.codes,(a=>(p(),m(b,{key:a?.id},[v("tr",Mt,[v("td",At,[v("p",Ot,[I(k(a.name)+" ",1),v("i",{class:"fas fa-plus cursor-pointer ml-2",style:{"font-size":"11px"},onClick:l=>Z(e,a)},null,8,Pt)])]),v("td",null,k(a.description||"No description"),1),v("td",null,k(a.child_codes?.length||0),1),v("td",Et,[v("div",Ht,[f(q,{onClick:e=>W(a.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),f(q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:e=>P(a.id)},null,8,["onClick"])])])]),a?.child_codes?.length?(p(!0),m(b,{key:0},C(a.child_codes,(e=>(p(),m("tr",{key:e.id,class:"child-item"},[v("td",zt,k(e.name),1),v("td",null,k(e.description||"No description"),1),Lt,v("td",Wt,[v("div",Nt,[f(q,{onClick:a=>W(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),f(q,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:a=>P(e.id)},null,8,["onClick"])])])])))),128)):h("",!0)],64)))),128)):h("",!0)],64)))),128))])])])])):h("",!0),"Category"==M(o)?(p(),m("div",Rt,[f(G)])):h("",!0),"costCodes"==M(o)?(p(),m("div",Kt,[f(J)])):h("",!0),"Trade"==M(o)?(p(),m("div",$t,[f(Y)])):h("",!0),M(U)?(p(),y(Q,{key:4,addUpdateCostCodeModal:M(U),"cost-code-id":M(j),selectedCatCostCode:M(N),selectedCostCodeID:M($),CategoryMode:M(R),"onUpdate:modalHandler":c[12]||(c[12]=e=>{U.value=!1,R.value=!1}),"onUpdate:OnSuccess":c[13]||(c[13]=e=>z())},null,8,["addUpdateCostCodeModal","cost-code-id","selectedCatCostCode","selectedCostCodeID","CategoryMode"])):h("",!0),M(T)?(p(),y(X,{key:5,addUpdateCategoryModal:M(T),"category-id":M(j),"onUpdate:modalHandler":c[14]||(c[14]=e=>T.value=!1),"onUpdate:OnSuccess":c[15]||(c[15]=e=>z())},null,8,["addUpdateCategoryModal","category-id"])):h("",!0),M(S)?(p(),y(ae,{key:6,addUpdateTradeModal:M(S),"onUpdate:modalHandler":c[16]||(c[16]=e=>S.value=!1),"onUpdate:OnSuccess":c[17]||(c[17]=e=>z())},null,8,["addUpdateTradeModal"])):h("",!0)])}}}),[["__scopeId","data-v-0c06ee6f"]]),Bt=e=>(U("data-v-effe63ee"),e=e(),T(),e),Ft={class:"container"},qt={class:"box cu-property"},Gt={class:"box-body"},Jt={class:"position-relative"},Yt={class:"position-absolute",style:{top:"0px",right:"0px"}},Qt=Bt((()=>v("i",{class:"fas fa-pen"},null,-1))),Xt={class:"columns is-multiline p-5 align-items-center"},es=Bt((()=>v("div",{class:"column is-2 text-align-center"},[v("img",{src:"/images/homePlaceholder.png",style:{width:"140px","border-radius":"10px"},alt:"",srcset:""})],-1))),as={class:"column is-3"},ls={class:"title is-5 mb-2"},ts=Bt((()=>v("p",{class:"light-text mb-0 font-500"},"TexhoIbex@gmial.com",-1))),ss={class:"light-text font-500"},os=Bt((()=>v("div",{class:"column is-1"},[v("div",{class:"cu-vr-seperator"})],-1))),is={class:"column is-3"},ns={class:"light-text mb-0 font-400"},cs=Bt((()=>v("b",null,"State:",-1))),ds={class:"light-text mb-0 font-400"},rs=Bt((()=>v("b",null,"City:",-1))),us={class:"light-text mb-0 font-400"},ps=Bt((()=>v("b",null,"PoctCode:",-1))),ms=Bt((()=>v("div",{class:"column is-1"},[v("div",{class:"cu-vr-seperator"})],-1))),vs={class:"column is-2"},fs={class:"light-text mb-0 font-400"},gs=Bt((()=>v("b",null,"Website:",-1))),_s=Bt((()=>v("b",null,"Status:",-1))),ys={class:"m-t-20"},hs={class:"tabs-wrapper"},bs={class:"tabs-inner"},Cs={class:"tabs is-boxed"},ks=[Bt((()=>v("span",null,"General",-1)))],ws=[Bt((()=>v("span",null,"Cost Codes",-1)))],xs=[Bt((()=>v("span",null,"Users permissions",-1)))],Vs=[Bt((()=>v("span",null,"Role Management",-1)))],Us=[Bt((()=>v("span",null,"Manage Role",-1)))],Ts=[Bt((()=>v("span",null,"Action logs",-1)))],Ss={key:0},js={key:1},Is={key:2},Ds={key:3},Ms={key:4},As={key:5},Os=o({__name:"CompanySettingsComponent",setup(e){const a=c("general"),l=c(!1);c("proposals");const t=j({name:"ABC Corp",website:"https://example.com",phone:"123-456-7890",address:{street:"123 Main St",city:"Evergreen",state:"CO",zipCode:"80437-0242"}});return(e,s)=>{const o=V,i=te,n=Zt,c=Pa,d=Pe,r=Ae,u=we;return p(),m("div",Ft,[v("div",qt,[v("div",Gt,[v("div",Jt,[v("div",Yt,[f(o,{color:"primary",onClick:s[0]||(s[0]=e=>{l.value=!0}),size:"xsmall",rounded:""},{default:g((()=>[Qt,I(" Edit")])),_:1})])]),v("div",Xt,[es,v("div",as,[v("h2",ls,k(M(t).name),1),ts,v("p",ss,k(M(t).phone),1)]),os,v("div",is,[v("p",ns,[cs,I(" "+k(M(t)?.address?.state?M(t)?.address?.state:"N/A"),1)]),v("p",ds,[rs,I(" "+k(M(t)?.address?.city?M(t)?.address?.city:"N/A"),1)]),v("p",us,[ps,I(" "+k(M(t)?.address?.zipCode?M(t)?.address?.zipCode:"N/A"),1)])]),ms,v("div",vs,[v("p",fs,[gs,I(" "+k(M(t)?.website?M(t)?.website:"N/A"),1)]),_s,f(i,{color:"primary",class:"ml-2",rounded:""},{default:g((()=>[I("Active")])),_:1})])])])]),v("div",ys,[v("div",hs,[v("div",bs,[v("div",Cs,[v("ul",null,[v("li",{class:w(["general"===M(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=_(O((e=>a.value="general"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>a.value="general")},ks,32)],2),v("li",{class:w(["costCodes"===M(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=_(O((e=>a.value="costCodes"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>a.value="costCodes")},ws,32)],2),v("li",{class:w(["permissions"===M(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=_(O((e=>a.value="permissions"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>a.value="permissions")},xs,32)],2),v("li",{class:w(["roleManagement"===M(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=_(O((e=>a.value="roleManagement"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>a.value="roleManagement")},Vs,32)],2),v("li",{class:w(["manageRole"===M(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=_(O((e=>a.value="manageRole"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>a.value="manageRole")},Us,32)],2),v("li",{class:w(["logs"===M(a)?"is-active":"not-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=_(O((e=>a.value="logs"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>a.value="logs")},Ts,32)],2)])])])]),"general"===M(a)?(p(),m("div",Ss,"General")):h("",!0),"costCodes"===M(a)?(p(),m("div",js,[f(n)])):h("",!0),"permissions"===M(a)?(p(),m("div",Is,[f(c)])):h("",!0),"roleManagement"===M(a)?(p(),m("div",Ds,[f(d)])):h("",!0),"manageRole"===M(a)?(p(),m("div",Ms,[f(r)])):h("",!0),"logs"===M(a)?(p(),m("div",As,[f(u)])):h("",!0)])])}}});"function"==typeof q&&q(Os);const Ps=S(Os,[["__scopeId","data-v-effe63ee"]]),Es=o({__name:"index",setup(e){se();return oe().setPageTitle("Company Settings"),z((()=>({title:"Company Settings"}))),(e,a)=>{const l=Ps;return p(),m("div",null,[f(l)])}}});"function"==typeof q&&q(Es);export{Es as default};
