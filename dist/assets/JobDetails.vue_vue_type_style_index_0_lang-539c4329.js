import{_ as e}from"./LeadAddUpdateModal.vue_vue_type_style_index_0_lang-d52d58b5.js";import{_ as l,a as t}from"./ProjectFiles-a9eda862.js";import{u as a,_ as s,a as i}from"./groupedCircleCharts-e48cd87e.js";import{b as n,u as o,a as d,c,_ as r}from"./groupedRadialCharts-45ca4ca5.js";import{_ as u}from"./SparkStatWidget.vue_vue_type_style_index_0_lang-0372fd4b.js";import{A as p}from"./vue3-apexcharts.common-4167368b.js";import{u as m}from"./salesSparksChart-c4f56824.js";import{u as v}from"./revenueAreaChart-196fb865.js";import{f as h,C as f,D as g,E as _,F as y,G as b,m as k,r as j,o as w,V as x,W as C,U as T,I as S,Q as M,R as I,S as A,x as D,$ as P,H as E,J as U,N as R,B as V,L as F,k as O,X as N,P as B,al as J,aB as K,O as z,K as $,aS as H,b as G,y as W,av as Z}from"./index-b8ac71f4.js";import{_ as q}from"./VAvatar.vue_vue_type_style_index_0_lang-247b05b5.js";import{u as X}from"./useAPI-739ae789.js";import{h as Q}from"./moment-1b9a430c.js";import{_ as Y}from"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-02566f1a.js";import{p as ee}from"./index-c1fc2d09.js";import{a as le}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-79a42ed4.js";import{_ as te}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-54df68bc.js";import{_ as ae}from"./VField.vue_vue_type_script_setup_true_lang-90e51777.js";import{_ as se}from"./VControl-e481220c.js";import{_ as ie}from"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-52d0f868.js";import{_ as ne}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-2fe6a9a3.js";import{_ as oe,a as de}from"./search-4-dark-2b5b440c.js";import{o as ce}from"./via-placeholder-24645670.js";import{b as re,a as ue,C as pe,f as me}from"./useSupportElement-675bdd25.js";import{_ as ve}from"./JobLeadActivities.vue_vue_type_style_index_0_lang-31168e1c.js";import{_ as he}from"./VModal.vue_vue_type_style_index_0_lang-4a7ab054.js";import{u as fe}from"./useNotyf-e0eecc00.js";import{_ as ge}from"./VDropdown.vue_vue_type_style_index_0_lang-989b4fbc.js";import{_ as _e}from"./PlaceloadV4.vue_vue_type_style_index_0_lang-266f82bf.js";import{f as ye}from"./index-5fa9b154.js";import{_ as be}from"./UIWidget.vue_vue_type_style_index_0_lang-c8df3aff.js";import{_ as ke}from"./JobTodos.vue_vue_type_style_index_0_lang-f4766298.js";import{_ as je}from"./UserCardDropdown-61c754cf.js";import{_ as we}from"./VFlexTable.vue_vue_type_style_index_0_lang-7e886696.js";import{_ as xe}from"./VTag.vue_vue_type_style_index_0_lang-620c6b57.js";import{_ as Ce}from"./VIconBox.vue_vue_type_style_index_0_lang-25a7f0be.js";import{_ as Te}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-448c89fa.js";const Se={class:"columns is-multiline"},Me={class:"column is-3"},Ie={class:"column is-3"},Ae={class:"column is-3"},De={class:"column is-3"},Pe={class:"column is-6"},Ee={class:"column is-6"},Ue={class:"column is-6"},Re={class:"column is-6"},Ve={class:"column is-6"},Le={class:"column is-6"},Fe=h({__name:"JobReport",setup(e){const{spark1:l,spark2:t,spark3:h,spark4:j}=m(),{revenueOptions:w}=v(),{lineStatsChartOptions:x}=n(),{flexRadialChartCircleOptions:C}=o(),{flexRadialChartStripesOptions:T}=d(),{widgetGaugeGroup1Options:S,widgetGaugeGroup2Options:M,widgetGaugeGroup3Options:I}=c(),{widgetRadialGroup1Options:A,widgetRadialGroup2Options:D,widgetRadialGroup3Options:P}=a();return(e,a)=>{const n=u,o=r,d=s,c=i;return f(),g("div",Se,[_("div",Me,[y(n,{straight:""},{default:b((()=>[y(k(p),{id:"widget-spark1",height:k(l).chart.height,type:k(l).chart.type,series:k(l).series,options:k(l)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ie,[y(n,{straight:""},{default:b((()=>[y(k(p),{id:"widget-spark2",height:k(t).chart.height,type:k(t).chart.type,series:k(t).series,options:k(t)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ae,[y(n,{straight:""},{default:b((()=>[y(k(p),{id:"widget-spark3",height:k(h).chart.height,type:k(h).chart.type,series:k(h).series,options:k(h)},null,8,["height","type","series","options"])])),_:1})]),_("div",De,[y(n,{straight:""},{default:b((()=>[y(k(p),{id:"widget-spark4",height:k(j).chart.height,type:k(j).chart.type,series:k(j).series,options:k(j)},null,8,["height","type","series","options"])])),_:1})]),_("div",Pe,[y(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[y(k(p),{id:"line-stats-widget-chart",height:k(x).chart.height,type:k(x).chart.type,series:k(x).series,options:k(x)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ee,[y(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[y(k(p),{id:"line-stats-area-chart",height:k(w).chart.height,type:k(w).chart.type,series:k(w).series,options:k(w)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ue,[y(d,{title:"Sales Revenue",straight:""},{default:b((()=>[y(k(p),{id:"flex-stat-circle",height:k(C).chart.height,type:k(C).chart.type,series:k(C).series,options:k(C)},null,8,["height","type","series","options"])])),_:1})]),_("div",Re,[y(d,{title:"Sales Revenue",straight:""},{default:b((()=>[y(k(p),{id:"flex-stat-radial",height:k(T).chart.height,type:k(T).chart.type,series:k(T).series,options:k(T)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ve,[y(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"]},{chart1:b((()=>[y(k(p),{id:"group-radial-1",height:k(A).chart.height,type:k(A).chart.type,series:k(A).series,options:k(A)},null,8,["height","type","series","options"])])),chart2:b((()=>[y(k(p),{id:"group-radial-2",height:k(D).chart.height,type:k(D).chart.type,series:k(D).series,options:k(D)},null,8,["height","type","series","options"])])),chart3:b((()=>[y(k(p),{id:"group-radial-3",height:k(P).chart.height,type:k(P).chart.type,series:k(P).series,options:k(P)},null,8,["height","type","series","options"])])),_:1})]),_("div",Le,[y(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"],gauge:""},{chart1:b((()=>[y(k(p),{id:"group-gauge-1",height:k(S).chart.height,type:k(S).chart.type,series:k(S).series,options:k(S)},null,8,["height","type","series","options"])])),chart2:b((()=>[y(k(p),{id:"group-gauge-2",height:k(M).chart.height,type:k(M).chart.type,series:k(M).series,options:k(M)},null,8,["height","type","series","options"])])),chart3:b((()=>[y(k(p),{id:"group-gauge-3",height:k(I).chart.height,type:k(I).chart.type,series:k(I).series,options:k(I)},null,8,["height","type","series","options"])])),_:1})])])}}}),Oe=e=>(M("data-v-1f68036b"),e=e(),I(),e),Ne={class:"timeline-wrapper"},Be=Oe((()=>_("div",{class:"timeline-header"},null,-1))),Je={class:"timeline-wrapper-inner"},Ke={class:"timeline-container"},ze={class:"timeline-item is-unread"},$e={class:"date"},He={class:"content-wrap"},Ge={class:"content-box"},We=Oe((()=>_("div",{class:"status"},null,-1))),Ze={class:"box-text"},qe={class:"meta-text"},Xe=["innerHTML"],Qe=h({__name:"JobActivities",props:{object_id:{},object_type:{}},setup(e){const l=e,t=X(),a=j([{id:"06b62536-220c-4d54-b437-50f035677d17",action:"UPDATE",timestamp:"2025-02-21T18:09:11.830145Z",actor_info:{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"},message:"updated <b>HENNING</b> lead information.",object_id:"1be101da-7a93-43af-b3e3-d1ca908aa2c9",object_type:"lead",actor:"0feda007-d8a0-4b96-acb7-d7763614854e"}]),s={UPDATE:"is-info",RETRIEVE:"is-warning",DELETE:"is-danger",CREATE:"is-primary"};return w((()=>{(async()=>{try{const e=await t.get(`/api/activity-logs/?object_id=${l.object_id}`);a.value=e.data}catch(e){console.log(e)}})()})),(e,l)=>{const t=q;return f(),g("div",Ne,[Be,_("div",Je,[_("div",Ke,[(f(!0),g(x,null,C(k(a),(e=>(f(),g("div",ze,[_("div",$e,[_("span",null,T(k(Q)(e.timestamp).format("ddd, mm yyyy")),1)]),_("div",{class:S(["dot",s[e.action]])},null,2),_("div",He,[_("div",Ge,[We,y(t,{picture:e.actor_info?.avatar},null,8,["picture"]),_("div",Ze,[_("div",qe,[_("p",null,[_("span",null,T(e.actor_info?.username??"N/A")+" "+T(e.actor_info?.last_name??"N/A"),1),_("span",{class:"log-message",innerHTML:e.message},null,8,Xe)]),_("span",null,T(k(Q)(e.timestamp).format("hh:mm:ss")),1)])])])])])))),256))])])])}}}),Ye=A(Qe,[["__scopeId","data-v-1f68036b"]]),el={class:"table is-striped is-fullwidth"},ll=_("thead",null,[_("tr",null,[_("th",{scope:"col"},"Job"),_("th",{scope:"col"},"ID"),_("th",{scope:"col"},"Title"),_("th",{scope:"col"},"Status"),_("th",{scope:"col"},"Total Price"),_("th",{scope:"col"},"Total Tax"),_("th",{scope:"col"},"Amount Paid"),_("th",{scope:"col"},"Balance"),_("th",{scope:"col"},"Deadline"),_("th",{scope:"col"},"Date Paid"),_("th",{scope:"col"},"Files"),_("th",{scope:"col",class:"is-end"},"Actions")])],-1),tl=_("td",null,"Tina",-1),al=_("td",null,"Bergmann",-1),sl=_("td",null,"Sales",-1),il=_("td",null,"Tina",-1),nl=_("td",null,"Bergmann",-1),ol=_("td",null,"Sales",-1),dl=_("td",null,"Tina",-1),cl=_("td",null,"Bergmann",-1),rl=_("td",null,"Sales",-1),ul=_("td",null,"Bergmann",-1),pl=_("td",null,"Sales",-1),ml={class:"is-end"},vl={class:"is-flex is-justify-content-flex-end"},hl=_("td",null,"Tina",-1),fl=_("td",null,"Bergmann",-1),gl=_("td",null,"Sales",-1),_l=_("td",null,"Tina",-1),yl=_("td",null,"Bergmann",-1),bl=_("td",null,"Sales",-1),kl=_("td",null,"Tina",-1),jl=_("td",null,"Bergmann",-1),wl=_("td",null,"Sales",-1),xl=_("td",null,"Bergmann",-1),Cl=_("td",null,"Sales",-1),Tl={class:"is-end"},Sl={class:"is-flex is-justify-content-flex-end"},Ml=_("td",null,"Tina",-1),Il=_("td",null,"Bergmann",-1),Al=_("td",null,"Sales",-1),Dl=_("td",null,"Tina",-1),Pl=_("td",null,"Bergmann",-1),El=_("td",null,"Sales",-1),Ul=_("td",null,"Tina",-1),Rl=_("td",null,"Bergmann",-1),Vl=_("td",null,"Sales",-1),Ll=_("td",null,"Bergmann",-1),Fl=_("td",null,"Sales",-1),Ol={class:"is-end"},Nl={class:"is-flex is-justify-content-flex-end"},Bl=_("td",null,"Tina",-1),Jl=_("td",null,"Bergmann",-1),Kl=_("td",null,"Sales",-1),zl=_("td",null,"Tina",-1),$l=_("td",null,"Bergmann",-1),Hl=_("td",null,"Sales",-1),Gl=_("td",null,"Tina",-1),Wl=_("td",null,"Bergmann",-1),Zl=_("td",null,"Sales",-1),ql=_("td",null,"Bergmann",-1),Xl=_("td",null,"Sales",-1),Ql={class:"is-end"},Yl={class:"is-flex is-justify-content-flex-end"},et=h({__name:"JobInvoice",props:{activeTab:{default:"active"}},setup(e){const l=e,t=ee;D();const a=j("");return j(l.activeTab),P((()=>{if(a.value){const e=new RegExp(a.value,"i");return t.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return t})),(e,l)=>{const t=Y;return f(),g("table",el,[ll,_("tbody",null,[_("tr",null,[tl,al,sl,il,nl,ol,dl,cl,rl,ul,pl,_("td",ml,[_("div",vl,[y(t)])])]),_("tr",null,[hl,fl,gl,_l,yl,bl,kl,jl,wl,xl,Cl,_("td",Tl,[_("div",Sl,[y(t)])])]),_("tr",null,[Ml,Il,Al,Dl,Pl,El,Ul,Rl,Vl,Ll,Fl,_("td",Ol,[_("div",Nl,[y(t)])])]),_("tr",null,[Bl,Jl,Kl,zl,$l,Hl,Gl,Wl,Zl,ql,Xl,_("td",Ql,[_("div",Yl,[y(t)])])])])])}}}),lt={class:"table is-striped is-fullwidth"},tt=_("thead",null,[_("tr",null,[_("th",{scope:"col"},"First Name"),_("th",{scope:"col"},"Last Name"),_("th",{scope:"col"},"Position"),_("th",{scope:"col",class:"is-end"},[_("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1),at=_("td",null,"Tina",-1),st=_("td",null,"Bergmann",-1),it=_("td",null,"Head of Sales",-1),nt={class:"is-end"},ot={class:"is-flex is-justify-content-flex-end"},dt=_("td",null,"John",-1),ct=_("td",null,"Wistmus",-1),rt=_("td",null,"Senior Executive",-1),ut={class:"is-end"},pt={class:"is-flex is-justify-content-flex-end"},mt=_("td",null,"Sam",-1),vt=_("td",null,"Watson",-1),ht=_("td",null,"Software Engineer",-1),ft={class:"is-end"},gt={class:"is-flex is-justify-content-flex-end"},_t=_("td",null,"Jolaine",-1),yt=_("td",null,"Joestar",-1),bt=_("td",null,"HR Manager",-1),kt={class:"is-end"},jt={class:"is-flex is-justify-content-flex-end"},wt=_("td",null,"Anders",-1),xt=_("td",null,"Jensen",-1),Ct=_("td",null,"Accountant",-1),Tt={class:"is-end"},St={class:"is-flex is-justify-content-flex-end"},Mt=h({__name:"JobEstimates",props:{activeTab:{default:"active"}},setup(e){const l=e,t=ee;D();const a=j("");return j(l.activeTab),P((()=>{if(a.value){const e=new RegExp(a.value,"i");return t.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return t})),(e,l)=>{const t=Y;return f(),g("table",lt,[tt,_("tbody",null,[_("tr",null,[at,st,it,_("td",nt,[_("div",ot,[y(t)])])]),_("tr",null,[dt,ct,rt,_("td",ut,[_("div",pt,[y(t)])])]),_("tr",null,[mt,vt,ht,_("td",ft,[_("div",gt,[y(t)])])]),_("tr",null,[_t,yt,bt,_("td",kt,[_("div",jt,[y(t)])])]),_("tr",null,[wt,xt,Ct,_("td",Tt,[_("div",St,[y(t)])])])])])}}}),It={class:"columns is-multiline"},At={class:"column is-12"},Dt={class:"toolbar"},Pt={class:"tabs-inner"},Et={class:"tabs"},Ut=_("span",null,"Estimate",-1),Rt=[Ut],Vt=[_("span",null,"Budget",-1)],Lt=[_("span",null,"Owner Invoice",-1)],Ft=_("li",{class:"tab-naver"},null,-1),Ot={key:0,class:"column is-12"},Nt={key:1,class:"column is-12"},Bt={key:2,class:"column is-12"},Jt=h({__name:"JobFinance",props:{activeTab:{default:"active"}},setup(e){const l=ee;D();const t=j("estimate"),a=j("");return P((()=>{if(a.value){const e=new RegExp(a.value,"i");return l.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return l})),(e,l)=>{const a=Mt,s=et;return f(),g("div",It,[_("div",At,[_("div",Dt,[_("div",Pt,[_("div",Et,[_("ul",null,[_("li",{class:S(["estimate"===k(t)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=E(U((e=>t.value="estimate"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>t.value="estimate")},Rt,32)],2),_("li",{class:S(["budget"===k(t)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=E(U((e=>t.value="budget"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>t.value="budget")},Vt,32)],2),_("li",{class:S(["invoice"===k(t)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=E(U((e=>t.value="invoice"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>t.value="invoice")},Lt,32)],2),Ft])])])])]),"estimate"===k(t)?(f(),g("div",Ot,[y(a)])):R("",!0),"budget"===k(t)?(f(),g("div",Nt)):R("",!0),"invoice"===k(t)?(f(),g("div",Bt,[y(s)])):R("",!0)])}}}),Kt={class:"user-grid-toolbar"},zt=_("span",{class:"icon"},[_("i",{class:"fas fa-plus"})],-1),$t=_("span",null,"Progress",-1),Ht={class:"user-grid user-grid-v1"},Gt={class:"columns is-multiline"},Wt={class:"grid-item"},Zt={class:"is-flex"},qt=h({__name:"JobProgressLoader",setup(e){const l=j(""),t=j(0),a=["All","UI/UX Design","Web Development","Software Eng.","Business"];return(e,s)=>{const i=se,n=V("Multiselect"),o=ae,d=B,c=J,r=K,u=ne,p=ie;return f(),g("div",null,[_("div",Kt,[y(i,{icon:"feather:search"},{default:b((()=>[F(_("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>O(l)?l.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(l)]])])),_:1}),y(c,null,{default:b((()=>[y(o,{class:"h-hidden-mobile"},{default:b((()=>[y(i,null,{default:b((()=>[y(n,{modelValue:k(t),"onUpdate:modelValue":s[1]||(s[1]=e=>O(t)?t.value=e:null),options:a,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),y(d,null,{default:b((()=>[zt,$t])),_:1})])),_:1})]),_("div",Ht,[_("div",Gt,[(f(),g(x,null,C(20,(e=>_("div",{key:e,class:"column is-3"},[_("div",Wt,[y(r,{height:"160px",centered:"",class:"mb-2"}),y(u,{class:"mb-5",width:"80%",lines:3,"last-line-width":"60%"}),_("div",Zt,[y(p,{size:"small",class:"mx-1"}),y(u,{class:"mb-4",width:"80%",lines:2,"last-line-width":"60%"})])])]))),64))])])])}}}),Xt={key:1},Qt={class:"card-grid-toolbar"},Yt={class:"buttons"},ea=_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),la=_("span",null,"Progress",-1),ta={class:"card-grid card-grid-v4"},aa=_("img",{class:"light-image",src:oe,alt:""},null,-1),sa=_("img",{class:"dark-image",src:de,alt:""},null,-1),ia=["href","title"],na=["src","alt"],oa={class:"card-grid-item-content"},da={class:"dark-inverted"},ca={key:0},ra=_("summary",null,"Read More",-1),ua={key:0,class:"card-grid-item-footer"},pa={class:"meta"},ma={class:"dark-inverted"},va=h({__name:"JobProgress",props:{object:{},type:{},taskData:{}},setup(e){const l=e,t=X(),a=j(""),s=j(!1),i=j(!1),n=j(0),o=["All Posts","Recent Posts","Older Posts","Popular Posts"],d=j([{id:"",uploaded_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},file_info:{url:"",name:"",type:"",size:0},progress:0,title:"",description:"",created_at:"",file:"",job:"",task:"",uploaded_by:""}]),c=async()=>{try{s.value=!0;const e=await t.get(`/api/job-progress/by-job/${l.object}/`);d.value=e.data}catch(e){console.log(e)}finally{s.value=!1}};P((()=>d.value.map((e=>({src:e.file_info.url,thumbnail:e.file_info.url,w:1200,h:900,alt:e.file_info.name})))));const r=P((()=>{if(a.value){const e=new RegExp(a.value,"i");return console.log(e),d.value.filter((l=>l.title?.match(e)||l.created_at?.match(e)||l.uploaded_by_info?.username?.match(e)||l.uploaded_by_info?.email?.match(e)||l.uploaded_by_info?.last_name?.match(e)))}return d.value}));return w((()=>{"job"===l.type&&c()})),(e,t)=>{const d=qt,u=se,p=V("Multiselect"),m=ae,v=B,h=te,j=q,w=le;return k(s)?(f(),z(d,{key:0})):(f(),g("div",Xt,[_("div",Qt,[y(u,{icon:"feather:search"},{default:b((()=>[F(_("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>O(a)?a.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(a)]])])),_:1}),_("div",Yt,[y(m,{class:"h-hidden-mobile"},{default:b((()=>[y(u,null,{default:b((()=>[y(p,{modelValue:k(n),"onUpdate:modelValue":t[1]||(t[1]=e=>O(n)?n.value=e:null),options:o,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),y(v,{onClick:t[2]||(t[2]=e=>i.value=!k(i)),color:"primary",raised:""},{default:b((()=>[ea,la])),_:1})])]),_("div",ta,[y(h,{class:S([0!==k(r).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[aa,sa])),_:1},8,["class"]),y(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),g(x,null,C(k(r),(e=>(f(),g("div",{key:e.id,class:"column is-3"},[_("a",{href:e.file,title:e.title,itemprop:"contentUrl","data-pswp-width":"1200","data-pswp-height":"900",target:"_blank","data-cropped":"true",ref_for:!0,ref:"noreferrer",class:"card-grid-item"},[_("img",{src:e.file,alt:e.title,onErrorOnce:t[3]||(t[3]=e=>k(ce)(400,300))},null,40,na),_("div",oa,[_("h3",da,T(e.title?e.title:"No Title"),1),_("p",null,[$(T(e.description?e.description.slice(0,34):"No Description")+" ",1),e.description.length>44?(f(),g("details",ca,[ra,$(" "+T(e.description?e.description:""),1)])):R("",!0)])]),e.uploaded_by_info?(f(),g("div",ua,[y(j,{picture:e.uploaded_by_info.avatar,size:"small"},null,8,["picture"]),_("div",pa,[_("span",ma,T(e.uploaded_by_info.username??"N/A")+" "+T(e.uploaded_by_info.last_name??""),1),_("span",null,T(k(re)(e.created_at)),1)])])):R("",!0)],8,ia)])))),128))])),_:1})]),k(i)?(f(),z(w,{key:0,job:l.object,openProgressModal:k(i),"onUpdate:OnSuccess":c,"onClose:ModalHandler":t[4]||(t[4]=e=>i.value=!1)},null,8,["job","openProgressModal"])):R("",!0)]))}}}),ha={class:"modal-form columns is-multiline"},fa={class:"column is-full"},ga={class:"field"},_a=_("label",{class:"label"},"Title ",-1),ya={class:"control"},ba={class:"field column is-half"},ka={class:"file"},ja={class:"file-label"},wa={class:"file-cta"},xa=_("span",{class:"file-icon"},[_("i",{class:"fas fa-cloud-upload-alt"})],-1),Ca={class:"file-label"},Ta=h({__name:"UploadDocumentModal",props:{openFileModal:{type:Boolean},type:{},object:{}},emits:["close:ModalHandler","update:OnSuccess"],setup(e,{emit:l}){const t=e;j(null);const a=X(),s=fe(),i=j(!1),n=G(),o=()=>{l("close:ModalHandler",!1)},d=j({type:t.type,object:t.object,title:"",uploaded_by:n.user.id,file:null}),c=async()=>{try{i.value=!0;const e=ue(d.value,["file"]);await a.post("/api/attachment/",e);pe({object_type:"files",object_id:t.object,action:"CREATE",message:`Uploaded new file named <b>${d.value.title}</b>.`,performedOnName:"job"}),s.success("File uploaded successfully!"),l("update:OnSuccess",null),o()}catch(e){console.log(e)}finally{i.value=!1}},r=j(""),u=e=>{const l=e.target,t=l.files?.[0];l.value="",t&&(d.value.file=t,r.value=t.name)};return w((()=>{})),(e,l)=>{const a=se,s=ae,n=B,p=he;return f(),z(p,{is:"form",open:t.openFileModal,title:"Add Progress",size:"medium",actions:"right",onSubmit:U(c,["prevent"]),onClose:o},{content:b((()=>[_("div",ha,[_("div",fa,[_("div",ga,[_a,_("div",ya,[F(_("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>k(d).title=e)},null,512),[[N,k(d).title]])])])]),_("div",ba,[y(s,{grouped:""},{default:b((()=>[y(a,null,{default:b((()=>[_("div",ka,[_("label",ja,[_("input",{onChange:u,class:"file-input",type:"file",name:"resume"},null,32),_("span",wa,[xa,_("span",Ca,T(k(r)?k(r):"Choose a file…"),1)])])])])),_:1})])),_:1})])])])),action:b((()=>[y(n,{type:"submit",color:"primary",loading:k(i),raised:""},{default:b((()=>[$(" Save")])),_:1},8,["loading"])])),cancel:b((()=>[y(n,{color:"light",onClick:o,raised:""},{default:b((()=>[$("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Sa={key:0,class:"modal-form"},Ma=["src"],Ia=["src"],Aa=["src"],Da=["src"],Pa={key:1,class:"modal-form"},Ea=[_("h1",{class:"title is-5"},"No media file attached",-1)],Ua=h({__name:"DocumentViewer",props:{openDocViewModal:{type:Boolean},document:{},title:{}},emits:["update:closeModalHandler","update:OnSuccess"],setup(e,{emit:l}){const t=e,a=()=>{l("update:closeModalHandler",!1)},s=e=>`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`;return w((async()=>{console.log("picture",t.document)})),(e,l)=>{const i=B,n=he;return f(),z(n,{is:"form",open:t.openDocViewModal,title:t.title?t.title:"Attached Document",size:"xl",actions:"right",onClose:a},{content:b((()=>[t.document?(f(),g("div",Sa,[t.document?.includes(".pdf")?(f(),g("iframe",{key:0,src:`${t.document}#toolbar=0&view=FitH`,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Ma)):t.document?.toLowerCase().includes(".doc")||t.document?.toLowerCase().includes(".docx")?(f(),g("iframe",{key:1,src:s(t.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Ia)):t.document?.toLowerCase().includes(".xls")||t.document?.toLowerCase().includes(".xlsx")?(f(),g("iframe",{key:2,src:s(t.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Aa)):(f(),g("img",{key:3,src:t.document,alt:""},null,8,Da))])):(f(),g("div",Pa,Ea))])),cancel:b((()=>[y(i,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:b((()=>[$("Close")])),_:1})])),_:1},8,["open","title"])}}}),Ra={class:"tile-grid-item"},Va={class:"tile-grid-item-inner"},La=["src"],Fa={class:"meta"},Oa={class:"dark-inverted"},Na=_("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),Ba=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-cloud-download"})],-1),_("div",{class:"meta"},[_("span",null,"Download"),_("span",null,"Download this file")],-1)],Ja=_("hr",{class:"dropdown-divider"},null,-1),Ka=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),_("div",{class:"meta"},[_("span",null,"Delete"),_("span",null,"Delete this file")],-1)],za=h({__name:"DocumentTile",props:{document:{}},emits:["deleteSelectedFile"],setup(e,{emit:l}){const t=e,a=j(""),s=j(!1),i=j(""),n={pdf:"/images/icons/files/pdf.svg",xls:"/images/icons/files/sheet.svg",doc:"/images/icons/files/doc-2.svg",ppt:"/images/icons/files/ppt.svg",ai:"/images/icons/files/ai.svg",docx:"/images/icons/files/doc-2.svg",docs:"/images/icons/files/doc-2.svg",xlsx:"/images/icons/files/sheet.svg",ai2:"/images/icons/files/ai.svg",xlx:"/images/icons/files/sheet.svg",ods:"/images/icons/files/sheet.svg",png:"/icons/png-icon.png",jpg:"/icons/jpg-50.png",jpeg:"/icons/jpg-50.png"};return(e,o)=>{const d=ge;return f(),g("div",null,[_("div",Ra,[_("div",Va,[_("img",{onClick:o[0]||(o[0]=e=>{return l=t.document?.file,a.value=l,i.value=l.title,void(s.value=!s.value);var l}),src:n[t.document?.file_info?.type]},null,8,La),_("div",Fa,[_("span",Oa,T(t.document.title??"N/A"),1),_("span",null,[_("span",null,T(t.document?.file_info?.size??0)+" MB",1),Na,_("span",null,"At:"+T(k(me)(t.document.created_at)),1)])]),y(d,{icon:"feather:more-vertical",spaced:"",right:""},{content:b((()=>[_("a",{role:"menuitem",onClick:o[1]||(o[1]=e=>(async(e,l)=>{try{const t=await fetch(e);if(!t.ok)throw new Error("Network response was not ok");const a=await t.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(t){console.error("Download failed:",t)}})(t.document.file,t.document.title)),class:"dropdown-item is-media"},Ba),Ja,_("a",{role:"menuitem",onClick:o[2]||(o[2]=e=>{return a=t.document.id,void l("deleteSelectedFile",a);var a}),class:"dropdown-item is-media"},Ka)])),_:1})])]),k(s)?(f(),z(Ua,{key:0,openDocViewModal:k(s),document:k(a),title:k(i),"onUpdate:closeModalHandler":o[3]||(o[3]=e=>s.value=!1)},null,8,["openDocViewModal","document","title"])):R("",!0)])}}}),$a={key:1},Ha={class:"tile-grid-toolbar"},Ga={class:"buttons"},Wa=_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),Za=_("span",null,"Add File",-1),qa={class:"tile-grid tile-grid-v2"},Xa=_("img",{class:"light-image",src:oe,alt:""},null,-1),Qa=_("img",{class:"dark-image",src:de,alt:""},null,-1),Ya=h({__name:"ObjectDocumentsTiles",props:{objectId:{},docType:{}},setup(e){const l=e,t=fe(),a=X(),s=j(""),i=j(0),n=j(""),o=j(!1),d=j(!1),c=j([{id:"27223081-e97a-4420-91f2-6a08da82d846",uploaded_by_info:{id:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b",username:"APIs",last_name:"Dev",email:"api@dev.com",role:"admin",avatar:null},file_info:{url:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",name:"combined_proposal_95Ac2Fu.pdf",type:"pdf",size:.14},file:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",type:"proposal_formats",object:"751b95b2-9961-45a0-948c-96f85cea6a52",created_at:"2025-02-14T19:42:31.991589Z",title:"proposal",uploaded_by:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b"}]),r=["All Files","Recently Updated","My Files","Team Files","Deprecated"],u=async(e="proposal_formats")=>{try{o.value=!0;const e=await a.get(`/api/attachment/by-object/${l.objectId}/?type=${l.docType}`);c.value=e.data}catch(t){console.log(t)}finally{o.value=!1}},p=async e=>{try{const s=await a.delete(`/api/attachment/${e}/`);pe({object_type:"files",object_id:l.objectId,action:"DELETE",message:`Deleted a file named <b>${s.data.title}</b>.`,performedOnName:"job"}),t.purple("File Deleted Successfully"),u()}catch(s){console.log(s)}},m=P((()=>s.value?c.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.file_info?.name?.match(new RegExp(s.value,"i"))||e.created_at.match(new RegExp(s.value,"i")))):c.value));return w((()=>{u()})),(e,t)=>{const a=_e,c=se,v=V("Multiselect"),h=ae,j=B,w=te,T=za,S=Ta;return f(),g("div",null,[k(o)?(f(),z(a,{key:0,rows:4})):(f(),g("div",$a,[_("div",Ha,[y(c,{icon:"feather:search"},{default:b((()=>[F(_("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>O(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(s)]])])),_:1}),_("div",Ga,[y(h,{class:"h-hidden-mobile"},{default:b((()=>[y(c,null,{default:b((()=>[y(v,{modelValue:k(i),"onUpdate:modelValue":t[1]||(t[1]=e=>O(i)?i.value=e:null),options:r,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),y(j,{onClick:t[2]||(t[2]=e=>(n.value=l.docType,void(d.value=!d.value))),color:"primary",raised:""},{default:b((()=>[Wa,Za])),_:1})])]),_("div",qa,[0!=k(m).length||k(o)?R("",!0):(f(),z(w,{key:0,title:"We couldn't find any matching file of this directory.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[Xa,Qa])),_:1})),_("div",null,[y(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),g(x,null,C(k(m),(e=>(f(),g("div",{key:e.id,class:"column is-4"},[y(T,{document:e,onDeleteSelectedFile:p},null,8,["document"])])))),128))])),_:1})])]),k(d)?(f(),z(S,{key:0,openFileModal:k(d),object:l.objectId,type:k(n),"onClose:ModalHandler":t[3]||(t[3]=e=>d.value=!1),"onUpdate:OnSuccess":u},null,8,["openFileModal","object","type"])):R("",!0)]))])}}}),es={class:"tabs-inner"},ls={class:"tabs"},ts=[_("span",null,"Grouped Proposals",-1)],as=[_("span",null,"Contracts",-1)],ss=[_("span",null,"Customer Estimates",-1)],is=[_("span",null,"Job Scope",-1)],ns=[_("span",null,"Asbestos & Lead Report",-1)],os=[_("span",null,"Permits",-1)],ds=[_("span",null,"Bids & Material",-1)],cs=[_("span",null,"Miscellaneous",-1)],rs=[_("span",null,"Uploaded Files",-1)],us=_("li",{class:"tab-naver"},null,-1),ps={class:"tile-grid tile-grid-v2"},ms=_("img",{class:"light-image",src:oe,alt:""},null,-1),vs=_("img",{class:"dark-image",src:de,alt:""},null,-1),hs={key:0},fs={key:1},gs={key:2},_s={key:3},ys={key:4},bs={key:5},ks={key:6},js={key:7},ws={key:8},xs=h({__name:"JobDocuments",props:{leadId:{},uploaded_files:{}},emits:["getProjectInfo"],setup(e,{emit:t}){const a=e;fe();const s=X(),i=j("");j(0);const n=j(""),o=j("proposal_formats"),d=j(!1),c=j([]),r=P((()=>i.value?ye.filter((e=>e.name.match(new RegExp(i.value,"i"))||e.size.match(new RegExp(i.value,"i")))):ye)),u=()=>{t("getProjectInfo",null)},p=async(e="proposal_formats")=>{try{o.value=e;const l=await s.get(`/api/attachment/by-object/${a.leadId}/?type=${e}`);c.value=l.data}catch(l){console.log(l)}};return w((()=>{p()})),(e,t)=>{const s=te,i=Ya,c=l,m=Ta;return f(),g("div",null,[_("div",es,[_("div",ls,[_("ul",null,[_("li",{class:S(["proposal_formats"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[0]||(t[0]=E(U((e=>p("proposal_formats")),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>p("proposal_formats"))},ts,32)],2),_("li",{class:S(["contracts"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[2]||(t[2]=E(U((e=>p("contracts")),["prevent"]),["space"])),onClick:t[3]||(t[3]=e=>p("contracts"))},as,32)],2),_("li",{class:S(["estimates"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[4]||(t[4]=E(U((e=>p("estimates")),["prevent"]),["space"])),onClick:t[5]||(t[5]=e=>p("estimates"))},ss,32)],2),_("li",{class:S(["job_scope"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[6]||(t[6]=E(U((e=>o.value="job_scope"),["prevent"]),["space"])),onClick:t[7]||(t[7]=e=>o.value="job_scope")},is,32)],2),_("li",{class:S(["asbestos"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[8]||(t[8]=E(U((e=>o.value="asbestos"),["prevent"]),["space"])),onClick:t[9]||(t[9]=e=>o.value="asbestos")},ns,32)],2),_("li",{class:S(["permits"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[10]||(t[10]=E(U((e=>o.value="permits"),["prevent"]),["space"])),onClick:t[11]||(t[11]=e=>o.value="permits")},os,32)],2),_("li",{class:S(["material"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[12]||(t[12]=E(U((e=>o.value="material"),["prevent"]),["space"])),onClick:t[13]||(t[13]=e=>o.value="material")},ds,32)],2),_("li",{class:S(["miscellaneous"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[14]||(t[14]=E(U((e=>o.value="miscellaneous"),["prevent"]),["space"])),onClick:t[15]||(t[15]=e=>o.value="miscellaneous")},cs,32)],2),_("li",{class:S(["files"===k(o)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:t[16]||(t[16]=E(U((e=>p("files")),["prevent"]),["space"])),onClick:t[17]||(t[17]=e=>p("files"))},rs,32)],2),us])])]),_("div",ps,[y(s,{class:S([0!==k(r).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[ms,vs])),_:1},8,["class"]),"contracts"==k(o)?(f(),g("div",hs,[y(i,{"doc-type":"contracts","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"estimates"==k(o)?(f(),g("div",fs,[y(i,{"doc-type":"estimates","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"proposal_formats"==k(o)?(f(),g("div",gs,[y(i,{"doc-type":"proposal_formats","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"job_scope"==k(o)?(f(),g("div",_s,[y(i,{"doc-type":"job_scope","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"asbestos"==k(o)?(f(),g("div",ys,[y(i,{"doc-type":"asbestos","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"permits"==k(o)?(f(),g("div",bs,[y(i,{"doc-type":"permits","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"material"==k(o)?(f(),g("div",ks,[y(i,{"doc-type":"material","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"miscellaneous"==k(o)?(f(),g("div",js,[y(i,{"doc-type":"miscellaneous","object-id":a.leadId},null,8,["object-id"])])):R("",!0),"files"==k(o)?(f(),g("div",ws,[y(c,{projectId:a.leadId,files:a.uploaded_files,"onUpdate:onUploadFile":u},null,8,["projectId","files"])])):R("",!0)]),k(d)?(f(),z(m,{key:0,openFileModal:k(d),object:a.leadId,type:k(n),"onClose:ModalHandler":t[18]||(t[18]=e=>d.value=!1),"onUpdate:OnSuccess":p},null,8,["openFileModal","object","type"])):R("",!0)])}}}),Cs={class:"business-dashboard hr-dashboard"},Ts={class:"columns is-multiline"},Ss={class:"column is-12"},Ms={class:"columns is-multiline"},Is={class:"column is-12"},As={class:"block-header"},Ds={class:"left"},Ps={class:"current-user"},Es={class:"center"},Us=_("h4",{class:"block-heading"},"Address",-1),Rs={class:"block-text"},Vs=_("br",null,null,-1),Ls=_("br",null,null,-1),Fs={class:"right"},Os=_("h4",{class:"block-heading"},"Managers",-1),Ns={class:"candidates"},Bs=_("button",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"})],-1),Js={class:"column is-12"},Ks={class:"toolbar"},zs={class:"tabs-inner"},$s={class:"tabs is-boxed"},Hs=[_("span",null,"Job Management",-1)],Gs=[_("span",null,"Documents/Files",-1)],Ws=[_("span",null,"Proposals",-1)],Zs=[_("span",null,"Tasks",-1)],qs=[_("span",null,"Activities",-1)],Xs=[_("span",null,"Job progress",-1)],Qs=[_("span",null,"Finance",-1)],Ys=[_("span",null,"Report",-1)],ei=_("li",{class:"tab-naver"},null,-1),li={key:0,class:"column is-12"},ti={class:"columns is-multiline"},ai={class:"column is-8"},si={class:"columns is-multiline"},ii={class:"column is-12"},ni={class:"feed-settings"},oi=_("h3",{class:"dark-inverted"},"Job feeds",-1),di={class:"buttons"},ci={class:"column is-4"},ri={class:"side-text"},ui=_("h3",{class:"dark-inverted"},"Job Description",-1),pi=["innerHTML"],mi=_("a",{class:"action-link",tabindex:"0"},"Read More",-1),vi={class:"column is-7 is-offset-1"},hi={class:"incoming"},fi=_("i",{"aria-hidden":"true",class:"lnil lnil-envelope-alt"},null,-1),gi=_("div",null,[_("span",{class:"item-name dark-inverted"},"Messages"),_("span",{class:"item-meta"},[_("span",null,"Inbox messages")])],-1),_i=_("i",{"aria-hidden":"true",class:"lnil lnil-checkmark-circle"},null,-1),yi=_("div",null,[_("span",{class:"item-name dark-inverted"},"Tasks"),_("span",{class:"item-meta"},[_("span",null,"Pending tasks")])],-1),bi={key:3,tabindex:"0",class:"action-link is-pushed-mobile"},ki={key:4,class:"light-text"},ji={class:"column is-12"},wi={class:"recent-rookies"},xi=_("div",{class:"recent-rookies-header"},[_("h3",{class:"dark-inverted"},"Internal Users"),_("a",{class:"action-link",tabindex:"0"},"View All")],-1),Ci={class:"columns is-multiline user-grid user-grid-v4"},Ti={class:"column is-4"},Si={class:"grid-item"},Mi={class:"dark-inverted"},Ii={class:"capitalized"},Ai={class:"button-wrap has-text-centered"},Di={class:"column is-4"},Pi={key:0,class:"card mb-4",id:"workerProfileMap",style:{height:"300px",width:"100%","border-radius":"10px","z-index":"9"}},Ei=_("div",{class:"widget-toolbar"},[_("div",{class:"left"},[_("a",{class:"action-icon"},[_("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"}),_("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"})])]),_("div",{class:"center"},[_("h3",null,"October 2020")]),_("div",{class:"right"},[_("a",{class:"action-icon"},[_("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"}),_("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"})])])],-1),Ui=_("table",{class:"calendar"},[_("thead",null,[_("tr",null,[_("th",{scope:"col"},"Mon"),_("th",{scope:"col"},"Tue"),_("th",{scope:"col"},"Wed"),_("th",{scope:"col"},"Thu"),_("th",{scope:"col"},"Fri"),_("th",{scope:"col"},"Sat"),_("th",{scope:"col"},"Sun")])]),_("tbody",null,[_("tr",null,[_("td",{class:"prev-month"},"29"),_("td",{class:"prev-month"},"30"),_("td",{class:"prev-month"},"31"),_("td",null,"1"),_("td",null,"2"),_("td",null,"3"),_("td",null,"4")]),_("tr",null,[_("td",null,"5"),_("td",null,"6"),_("td",null,"7"),_("td",null,"8"),_("td",null,"9"),_("td",null,"10"),_("td",null,"11")]),_("tr",null,[_("td",null,"12"),_("td",null,"13"),_("td",null,"14"),_("td",null,"15"),_("td",null,"16"),_("td",null,"17"),_("td",{class:"current-day"},"18")]),_("tr",null,[_("td",null,"19"),_("td",null,"20"),_("td",null,"21"),_("td",null,"22"),_("td",null,"23"),_("td",null,"24"),_("td",null,"25")]),_("tr",null,[_("td",null,"26"),_("td",null,"27"),_("td",null,"28"),_("td",null,"29"),_("td",null,"30"),_("td",null,"31"),_("td",{class:"next-month"},"1")])])],-1),Ri={key:1,class:"column is-12"},Vi={key:2,class:"column is-12"},Li={key:3,class:"column is-12"},Fi={key:4,class:"column is-12"},Oi={key:5,class:"column is-12"},Ni={key:6,class:"column is-12"},Bi={key:7,class:"column is-12"},Ji={key:8,class:"column is-12"},Ki=h({__name:"JobDetails",setup(l){const a=W();D();const s=X();fe();const i=j(!1),n=j(""),o=j(!1),d=j({id:"",sales_people_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:null,email:"",role:"",avatar:""},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],clientInfo:{id:"",username:"",last_name:null,email:"",role:"",avatar:null},created_by_info:{id:"",username:"",last_name:null,email:"",role:"",avatar:""},managers_list:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],uploaded_files:[],title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:"",sale_date:"",tags:[],estimated_from:"",estimated_to:"",sources:"",project_type:"",notes:"",attach_mail:"",latitude:null,longitude:null,created_at:"",updated_at:"",created_by:"",client:"",contractor:null,sales_people:[],managers:[]}),c=j("management"),r=[{type:"messages",count:5,status:"new"},{type:"tasks",count:3,status:"pending"}],u={type:{label:"Type",grow:"lg",media:!0},count:{label:"Count",align:"center"},status:"Status",actions:{label:"Actions",align:"end"}};let p;const m=async()=>{try{i.value=!0;const e=await s.get(`/api/project/${a.params.id}/detail/`);d.value=e.data,e.data.latitude&&((e,l)=>{if(p&&p.remove(),p=L.map("workerProfileMap").setView([51.4497984,-.3464489],24),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(p),e&&l){const t=[e,l];L.marker(t).addTo(p),p.setView(t,34)}else console.log("Invalid latitude or longitude for supplier")})(e.data.latitude??39.63,e.data.longitude??-105.3199999)}catch(e){console.error(e)}finally{i.value=!1}};return w((()=>{m()})),(l,s)=>{const i=q,p=B,v=Ce,h=xe,j=we,w=je,M=ke,I=be,A=xs,D=ve,P=va,V=Jt,L=Ye,O=Fe,N=t,J=e,K=Z("tooltip");return f(),g("div",Cs,[_("div",Ts,[_("div",Ss,[_("div",Ms,[_("div",Is,[_("div",As,[_("div",Ds,[_("div",Ps,[y(i,{size:"large",picture:"lead"==k(d).current_state?"/icons/lead-shield-96.png":"/icons/job-sheild.png",squared:""},null,8,["picture"]),_("h3",null,T(k(d).title?k(d).title:"No Title"),1)])]),_("div",Es,[Us,_("p",Rs,[$(T(k(d).address?k(d).address:"No Address Added")+" ",1),Vs,$(" "+T(k(d).city?k(d).city:"No City Added")+", "+T(k(d).state?k(d).state:"No State Added")+" ",1),Ls,$(" "+T(k(d).zip_code?k(d).zip_code:"No Zip Code Added"),1)])]),_("div",Fs,[Os,_("div",Ns,[(f(!0),g(x,null,C(k(d).managers_list,(e=>F((f(),z(i,{picture:e.avatar,initials:e.username.slice(0,2),squared:"",color:"warning"},null,8,["picture","initials"])),[[K,`${e.username??"N/A"} ${e.last_name??""}`,void 0,{info:!0,rounded:!0}]]))),256)),Bs]),y(p,{class:"mt-1",onClick:s[0]||(s[0]=e=>{return l=k(a).params.id,n.value=l,void(o.value=!0);var l}),bold:"",fullwidth:"","dark-outlined":""},{default:b((()=>[$(" Update "+T("lead"==k(d).current_state?"lead":"job"),1)])),_:1})])])]),_("div",Js,[_("div",Ks,[_("div",zs,[_("div",$s,[_("ul",null,[_("li",{class:S(["management"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=E(U((e=>c.value="management"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>c.value="management")},Hs,32)],2),_("li",{class:S(["documents"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=E(U((e=>c.value="documents"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>c.value="documents")},Gs,32)],2),_("li",{class:S(["proposals"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=E(U((e=>c.value="proposals"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>c.value="proposals")},Ws,32)],2),_("li",{class:S(["tasks"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=E(U((e=>c.value="tasks"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>c.value="tasks")},Zs,32)],2),_("li",{class:S(["activities"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=E(U((e=>c.value="activities"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>c.value="activities")},qs,32)],2),_("li",{class:S(["progress"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=E(U((e=>c.value="progress"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>c.value="progress")},Xs,32)],2),_("li",{class:S(["finance"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=E(U((e=>c.value="finance"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>c.value="finance")},Qs,32)],2),_("li",{class:S(["report"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=E(U((e=>c.value="report"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>c.value="report")},Ys,32)],2),ei])])])])]),"management"===k(c)?(f(),g("div",li,[_("div",ti,[_("div",ai,[_("div",si,[_("div",ii,[_("div",ni,[oi,_("div",di,[(f(!0),g(x,null,C(k(d).tags,((e,l)=>(f(),g("button",{key:l,class:"button is-selected is-light is-dark-outlined"},T(e),1)))),128))])])]),_("div",ci,[_("div",ri,[ui,_("div",{innerHTML:k(d).notes},null,8,pi),mi])]),_("div",vi,[_("div",hi,[y(j,{rounded:"",data:r,columns:u},{"body-cell":b((({row:e,column:l,value:t})=>["type"===l.key&&"messages"===e.type?(f(),g(x,{key:0},[y(v,{color:"green"},{default:b((()=>[fi])),_:1}),gi],64)):"type"===l.key&&"tasks"===e.type?(f(),g(x,{key:1},[y(v,{color:"orange"},{default:b((()=>[_i])),_:1}),yi],64)):"status"===l.key?(f(),g(x,{key:2},["new"===e.status?(f(),z(h,{key:0,rounded:"",color:"success",label:"New"})):(f(),z(h,{key:1,rounded:"",label:"Pending"}))],64)):"actions"===l.key?(f(),g("a",bi,"Open")):(f(),g("span",ki,T(t),1))])),_:1})])]),_("div",ji,[_("div",wi,[xi,_("div",Ci,[(f(!0),g(x,null,C(k(d).sales_people_info,(e=>(f(),g("div",Ti,[_("div",Si,[y(w),y(i,{picture:e.avatar,initials:e.username.slice(0,2),size:"large"},null,8,["picture","initials"]),_("h3",Mi,T(e.username??"N/A")+" "+T(e.last_name??""),1),_("p",Ii,T(e.role),1),_("div",Ai,[y(p,{color:"primary",raised:""},{default:b((()=>[$(" View Profile ")])),_:1})])])])))),256))])])])])]),_("div",Di,["management"===k(c)?(f(),g("div",Pi)):R("",!0),y(M,{project:k(a).params.id},null,8,["project"]),y(I,{class:"picker-widget"},{header:b((()=>[Ei])),body:b((()=>[Ui])),_:1})])])])):R("",!0),"documents"===k(c)?(f(),g("div",Ri,[y(A,{leadId:k(a).params.id,uploaded_files:k(d).uploaded_files,getProjectInfo:m},null,8,["leadId","uploaded_files"])])):R("",!0),"proposals"===k(c)?(f(),g("div",Vi,[y(Te,{"lead-id":k(a).params.id,onUpdateCompany:m},null,8,["lead-id"])])):R("",!0),"activities"===k(c)?(f(),g("div",Li,[y(D,{jobId:k(a).params.id},null,8,["jobId"])])):R("",!0),"progress"===k(c)?(f(),g("div",Fi,[y(P,{object:k(a).params.id,type:"job"},null,8,["object"])])):R("",!0),"finance"===k(c)?(f(),g("div",Oi,[y(V)])):R("",!0),"activityLogs"===k(c)?(f(),g("div",Ni,[y(L,{object_id:k(a).params.id||k(d).id,object_type:"lead"},null,8,["object_id"])])):R("",!0),"report"===k(c)?(f(),g("div",Bi,[y(O)])):R("",!0),"tasks"===k(c)?(f(),g("div",Ji,[y(N,{projectID:k(a).params.id},null,8,["projectID"])])):R("",!0)])])]),k(o)?(f(),z(J,{key:0,addUpdateLeadModal:k(o),leadId:k(n),"onUpdate:modalHandler":s[17]||(s[17]=e=>o.value=!1),"onUpdate:OnSuccess":m},null,8,["addUpdateLeadModal","leadId"])):R("",!0)])}}});export{Ki as _};
