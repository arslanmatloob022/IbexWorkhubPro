import{_ as e}from"./VBlock.vue_vue_type_style_index_0_lang-8b24c45f.js";import{_ as a}from"./VIconWrap.vue_vue_type_style_index_0_lang-78fc676b.js";import{e as s,v as t,x as n,r as i,o as r,B as l,C as p,D as o,E as d,J as c,T as u,l as _,F as m,G as y,U as f,V as v,O as h,I as g,N as k}from"./index-70af507c.js";import{_ as b}from"./VTag.vue_vue_type_style_index_0_lang-caab6404.js";import{_ as T}from"./VAvatar.vue_vue_type_style_index_0_lang-f1d074f0.js";import{s as x}from"./sleep-fd7a5d8b.js";import{u as I}from"./useNotyf-98b938b1.js";import{u as E}from"./useAPI-7526ffb5.js";import{f as A}from"./useSupportElement-6fb37513.js";import{b as S}from"./route-block-83d24a4e.js";const D={class:"action-page-wrapper action-page-v2"},P={class:"wrapper-outer"},B={class:"wrapper-inner"},L={class:"action-box"},C={class:"box-content"},w={class:"dark-inverted"},Y={class:"sender-message is-dark-card-bordered is-dark-bg-4"},M=o("h4",{class:"dark-inverted"},"Payer Information",-1),j={class:"dark-text"},H={class:"dark-text"},N={class:"dark-text"},U={class:"dark-text"},G={class:"sender-message is-dark-card-bordered is-dark-bg-4 mt-3"},F=o("h4",{class:"dark-inverted"},"Shipping Address",-1),R={class:"dark-text"},J={class:"dark-text"},V={class:"dark-text"},O={class:"dark-text"},Z={class:"dark-text"},K={class:"buttons"},Q={class:"side-wrapper"},z={class:"side-inner"},W={class:"side-title"},$=o("h3",{class:"dark-inverted"},"Payment Receipt",-1),q={class:"dark-text"},X={class:"action-list"},ee=o("div",{class:"side-title"},[o("h3",{class:"dark-inverted"},"Amount")],-1),ae={class:"mb-3"},se={class:"dark-text"},te=o("p",null,[c(" Currency: "),o("span",{class:"dark-text"},"USD")],-1),ne=o("div",{class:"side-title"},[o("h3",{class:"dark-inverted"},"Links")],-1),ie={class:"action-list mt-4"},re=o("div",{class:"side-title"},[o("h3",{class:"dark-inverted"},"Transactions")],-1),le=o("p",null,"Details",-1),pe=s({__name:"PaymentDetails",setup(s){const S=I(),pe=t(),oe=E(),de=n(),ce=i(!1),ue=i({id:"e07eb0c8-e2d4-4373-8cf7-281c7966d8a0",client_info:null,created_by_info:{id:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",username:"Krystal",email:"krystal@ibexbuilderstudios.com",role:"admin",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/confident-2362133_1280-removebg-preview_vkihy1"},amount:94,response:{id:"PAYID-M4BF44I2Y949776H29175308",cart:"7CB39354499642142",links:[{rel:"self",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BF44I2Y949776H29175308",method:"GET"}],payer:{status:"UNVERIFIED",payer_info:{email:"julio@gmail.com",phone:"7203395598",payer_id:"WHRSNDB5FP7Q4",last_name:"Adams",first_name:"Julio",country_code:"US",shipping_address:{city:"Lahore",line1:"157 / C-Block, Main Boulevard, Guldasht Town",state:"AL",postal_code:"54000",country_code:"US",recipient_name:"Julio Adams"}},payment_method:"paypal"},state:"approved",intent:"sale",create_time:"2024-10-06T09:54:57Z",update_time:"2024-10-06T10:25:03Z",transactions:[{payee:{email:"sb-jcewl33176163@business.example.com",merchant_id:"6G3AKS3EQZELQ"},amount:{total:"94.00",details:{discount:"0.00",shipping:"0.00",subtotal:"94.00",insurance:"0.00",handling_fee:"0.00",shipping_discount:"0.00"},currency:"USD"},item_list:{shipping_address:{city:"Lahore",line1:"157 / C-Block, Main Boulevard, Guldasht Town",state:"AL",postal_code:"54000",country_code:"US",recipient_name:"Julio Adams"}},description:"success",soft_descriptor:"PAYPAL *TEST STORE",related_resources:[{sale:{id:"85377044MH420592J",links:[{rel:"self",href:"https://api.sandbox.paypal.com/v1/payments/sale/85377044MH420592J",method:"GET"},{rel:"refund",href:"https://api.sandbox.paypal.com/v1/payments/sale/85377044MH420592J/refund",method:"POST"},{rel:"parent_payment",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BF44I2Y949776H29175308",method:"GET"}],state:"completed",amount:{total:"94.00",details:{discount:"0.00",shipping:"0.00",subtotal:"94.00",insurance:"0.00",handling_fee:"0.00",shipping_discount:"0.00"},currency:"USD"},receipt_id:"1959624121915991",create_time:"2024-10-06T10:25:03Z",update_time:"2024-10-06T10:25:03Z",payment_mode:"INSTANT_TRANSFER",parent_payment:"PAYID-M4BF44I2Y949776H29175308",soft_descriptor:"PAYPAL *TEST STORE",transaction_fee:{value:"3.77",currency:"USD"},protection_eligibility:"ELIGIBLE",protection_eligibility_type:"ITEM_NOT_RECEIVED_ELIGIBLE,UNAUTHORIZED_PAYMENT_ELIGIBLE"}}]}]},PayementId:"PAYID-M4BF44I2Y949776H29175308",status:"approved",created_at:"2024-10-06T09:54:57.669752Z",created_by:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",client:null}),_e=async()=>{ce.value=!0,S.success("Transaction is accepted"),await x(),pe.push("/sidebar/dashboard/received-payments"),ce.value=!1};return r((()=>{(async()=>{try{ce.value=!0;const e=await oe.get(`/api/paypal/${de.params.id}`);ue.value=e.data}catch(e){console.log(e)}finally{ce.value=!1}})()})),(s,t)=>{const n=T,i=b,r=h,x=a,I=e;return l(),p("div",D,[o("div",P,[o("div",B,[o("div",L,[o("div",C,[d(n,{size:"big",picture:"/icons/paypal.png",badge:"/icons/paypal-48.png"}),o("h3",w,[c(u(_(ue).id)+" ",1),d(i,{light:"",rounded:"",color:"created"==_(ue).status?"info":"cancel"==_(ue).status?"danger":"primary"},{default:m((()=>[c(u(_(ue).status),1)])),_:1},8,["color"])]),o("div",Y,[M,o("p",null,[c(" Name: "),o("span",j,u(_(ue)?.response?.payer?.payer_info?.first_name)+" "+u(_(ue)?.response?.payer?.payer_info?.last_name),1)]),o("p",null,[c(" Email: "),o("span",H,u(_(ue)?.response?.payer?.payer_info?.email),1)]),o("p",null,[c(" Id: "),o("span",N,u(_(ue)?.response?.payer?.payer_info?.payer_id),1)]),o("p",null,[c(" Status: "),o("span",U,u(_(ue)?.response?.payer?.status),1)])]),o("div",G,[F,o("p",null,[c(" Line1: "),o("span",R,u(_(ue)?.response?.payer?.payer_info?.shipping_address?.line1),1)]),o("p",null,[c(" City: "),o("span",J,u(_(ue)?.response?.payer?.payer_info?.shipping_address?.city),1)]),o("p",null,[c(" State: "),o("span",V,u(_(ue)?.response?.payer?.payer_info?.shipping_address?.state),1)]),o("p",null,[c(" Postal Code: "),o("span",O,u(_(ue)?.response?.payer?.payer_info?.shipping_address?.postal_code),1)]),o("p",null,[c(" Country: "),o("span",Z,u(_(ue)?.response?.payer?.payer_info?.shipping_address?.country_code),1)])]),o("div",K,[d(r,{onClick:t[0]||(t[0]=e=>_(pe).go(-1)),"dark-outlined":""},{default:m((()=>[c(" Back ")])),_:1}),d(r,{color:"primary",loading:_(ce),raised:"",tabindex:"0",onKeydown:y(g(_e,["prevent"]),["space"]),onClick:_e},{default:m((()=>[c(" Verify ")])),_:1},8,["loading","onKeydown"])])])])]),o("div",Q,[o("div",z,[o("div",W,[$,o("p",null,[c(" Created at: "),o("span",q,u(_(A)(_(ue).response.create_time)),1)])]),o("div",X,[ee,o("div",ae,[o("p",null,[c(" Total: "),o("span",se,u(_(ue)?.amount),1)]),te]),ne,(l(!0),p(f,null,v(_(ue)?.response.links,(e=>(l(),k(I,{title:e.rel},{icon:m((()=>[d(x,{onClick:a=>(e=>{e&&(navigator.clipboard.writeText(e),S.success("Link Copied"))})(e?.href),icon:"fas fa-copy",class:"cu-pointer",dark:"3","dark-primary":"","dark-card-bordered":""},null,8,["onClick"])])),default:m((()=>[o("p",null,u(e?.href.length>20?e?.href.slice(12,40):e?.href),1)])),_:2},1032,["title"])))),256))]),o("div",ie,[re,le,(l(!0),p(f,null,v(_(ue)?.response?.transactions,(e=>(l(),k(I,{title:e?.payee?.merchant_id},{default:m((()=>[o("p",null,"Amount: $"+u(e?.amount?.total),1),o("p",null,"Discount: "+u(e?.amount?.details?.discount),1),o("p",null,"Shipping: "+u(e?.amount?.details?.shipping),1),o("p",null,"Subtotal: "+u(e?.amount?.details?.subtotal),1),o("p",null,"Handling fee: "+u(e?.amount?.details?.handling_fee),1),o("p",null,"Descriptor: "+u(e?.soft_descriptor),1),o("p",null,"State: "+u(e?.related_resources[0]?.sale?.state),1)])),_:2},1032,["title"])))),256))])])])])])}}});"function"==typeof S&&S(pe);export{pe as _};
