import{_ as e}from"./VField.vue_vue_type_script_setup_true_lang-cdd70ce3.js";import{_ as l}from"./VControl-94ba8187.js";import{_ as a}from"./VCheckbox.vue_vue_type_style_index_0_lang-a3a0bf88.js";import{e as t,f as s,B as o,C as i,U as c,V as n,D as d,T as r,E as u,F as p,P as m,Q as v,R as f,J as g,r as y,N as h,K as _,l as b,W as C,I as k,O as w,o as x,A as V,M as T,Z as U,ak as S,j as I,H as M,G as j,z as A}from"./index-955e6b64.js";import{_ as D}from"./VCollapse.vue_vue_type_style_index_0_lang-94d2f251.js";import{_ as O}from"./VLabel.vue_vue_type_script_setup_true_lang-96704c3b.js";import{_ as E}from"./VInput.vue_vue_type_script_setup_true_lang-ba0088e6.js";import{b as Z}from"./route-block-83d24a4e.js";import{_ as P}from"./VModal.vue_vue_type_style_index_0_lang-d8830cd0.js";import{_ as R}from"./VTextarea.vue_vue_type_script_setup_true_lang-e8c5ae69.js";import{u as H}from"./useNotyf-6b0cb226.js";import{u as N}from"./useAPI-7747cae5.js";import{_ as W,a as $}from"./VOption.vue_vue_type_style_index_0_lang-9446c6ea.js";import{_ as K}from"./VIconWrap.vue_vue_type_style_index_0_lang-923fdffa.js";import{_ as z}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-2ec19514.js";import{_ as B,a as F}from"./search-4-dark-2b5b440c.js";import{_ as L}from"./VTag.vue_vue_type_style_index_0_lang-a133ccdf.js";import{u as q}from"./layoutSwitcher-31ecab16.js";import{u as G}from"./viewWrapper-f834f96f.js";import"./useVFieldContext-062a43f1.js";import"./VIcon.vue_vue_type_script_setup_true_lang-2b7dd98f.js";import"./notyf-53f3dfd1.js";import"./useThemeColors-b50bedd9.js";import"./userSession-ca905ae9.js";import"./via-placeholder-24645670.js";const J=e=>(m("data-v-08c5b175"),e=e(),v(),e),Y={class:"role-management"},Q={class:"role-category"},X={class:"role-table"},ee=J((()=>d("th",null,"View",-1))),le=J((()=>d("th",null,"Add",-1))),ae=J((()=>d("th",null,"Edit",-1))),te=J((()=>d("th",null,"Delete",-1))),se={class:"pt-5"},oe=f(t({__name:"ManageRole",setup(t){const m=s([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(t,s)=>{const v=a,f=l,g=e;return o(),i("div",Y,[(o(!0),i(c,null,n(m,(e=>(o(),i("div",{key:e.category,class:"role-section"},[d("h3",Q,r(e.category),1),d("table",X,[d("thead",null,[d("tr",null,[d("th",null,r(e.title),1),ee,le,ae,te])]),d("tbody",null,[(o(!0),i(c,null,n(e.items,(e=>(o(),i("tr",{key:e.name},[d("td",se,r(e.name),1),d("td",null,[u(g,null,{default:p((()=>[u(f,{raw:"",subcontrol:""},{default:p((()=>[u(v,{modelValue:e.view,"onUpdate:modelValue":l=>e.view=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),d("td",null,[u(g,null,{default:p((()=>[u(f,{raw:"",subcontrol:""},{default:p((()=>[u(v,{modelValue:e.add,"onUpdate:modelValue":l=>e.add=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),d("td",null,[u(g,null,{default:p((()=>[u(f,{raw:"",subcontrol:""},{default:p((()=>[u(v,{modelValue:e.edit,"onUpdate:modelValue":l=>e.edit=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),d("td",null,[u(g,null,{default:p((()=>[u(f,{raw:"",subcontrol:""},{default:p((()=>[u(v,{modelValue:e.delete,"onUpdate:modelValue":l=>e.delete=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),ie={class:"column is-12"},ce=t({__name:"RoleManagement",setup(e){const l=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,a)=>{const t=D;return o(),i("div",ie,[u(t,{items:l,"with-chevron":""})])}}}),ne={class:"pill"},de=t({__name:"BulletPill",setup:e=>(e,l)=>(o(),i("span",ne))});"function"==typeof Z&&Z(de);const re=f(de,[["__scopeId","data-v-325a7b2c"]]),ue=t({name:"FolderSettings",setup(){const e=s({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),pe=e=>(m("data-v-ff241c58"),e=e(),v(),e),me={class:""},ve={class:"section"},fe={class:"title is-5"},ge={class:"mt-5"},ye=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),he=pe((()=>d("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),_e=pe((()=>d("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),be={class:"columns is-multiline"},Ce={class:"column is-3"},ke=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),we=pe((()=>d("h2",{class:"title is-6"},"SubVendors",-1))),xe={class:"column is-3"},Ve=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Te=pe((()=>d("h2",{class:"title is-6"},"Clients",-1))),Ue={class:"section"},Se={class:"title is-5"},Ie={class:"mt-5"},Me=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),je=pe((()=>d("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),Ae={class:"columns is-multiline"},De={class:"column is-6"},Oe=pe((()=>d("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Ee={class:"columns is-multiline"},Ze={class:"column is-6"},Pe=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Re=pe((()=>d("h2",{class:"title is-6"},"SubVendors",-1))),He={class:"column is-6"},Ne=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),We=pe((()=>d("h2",{class:"title is-6"},"Clients",-1))),$e={class:"column is-6"},Ke=pe((()=>d("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),ze={class:"columns is-multiline"},Be={class:"column is-6"},Fe=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Le=pe((()=>d("h2",{class:"title is-6"},"SubVendors",-1))),qe={class:"column is-6"},Ge=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Je=pe((()=>d("h2",{class:"title is-6"},"Clients",-1))),Ye={class:"section"},Qe={class:"title is-5"},Xe=pe((()=>d("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),el={class:"columns is-multiline"},ll={class:"column is-3"},al=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),tl=pe((()=>d("h2",{class:"title is-6"},"SubVendors",-1))),sl={class:"column is-3"},ol=pe((()=>d("span",{class:"toggler"},[d("span",{class:"active"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),d("span",{class:"inactive"},[d("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),il=pe((()=>d("h2",{class:"title is-6"},"Clients",-1)));const cl=f(ue,[["render",function(e,a,t,s,c,n){const r=re,m=E,v=O,f=l;return o(),i("div",me,[d("div",ve,[d("h3",fe,[u(r),g(" Document folders ")]),d("div",ge,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),ye])),_:1}),he])),_:1})])]),d("div",null,[_e,d("div",be,[d("div",Ce,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),ke])),_:1}),we])),_:1})])]),d("div",xe,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Ve])),_:1}),Te])),_:1})])])])])]),d("div",Ue,[d("h3",Se,[u(r),g(" Photo folders ")]),d("div",Ie,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),Me])),_:1}),je])),_:1})])]),d("div",Ae,[d("div",De,[Oe,d("div",Ee,[d("div",Ze,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),Pe])),_:1}),Re])),_:1})])]),d("div",He,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Ne])),_:1}),We])),_:1})])])])]),d("div",$e,[Ke,d("div",ze,[d("div",Be,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),Fe])),_:1}),Le])),_:1})])]),d("div",qe,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Ge])),_:1}),Je])),_:1})])])])])])]),d("div",Ye,[d("h3",Qe,[u(r),g(" Video folders ")]),d("div",null,[Xe,d("div",el,[d("div",ll,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),al])),_:1}),tl])),_:1})])]),d("div",sl,[d("label",null,[u(f,{class:"is-flex align-items-ceneter"},{default:p((()=>[u(v,{raw:"",class:"remember-toggle"},{default:p((()=>[u(m,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),ol])),_:1}),il])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),nl={class:"modal-form columns is-multiline"},dl={class:"column is-12"},rl=d("label",{class:"label"},"Title *",-1),ul={class:"column is-12"},pl=d("label",{class:"label"},"Description",-1),ml=t({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(a,{emit:t}){const s=a,i=N(),c=y(!1),n=H(),r=y({id:s.trade?.id||"",name:s.trade?.name||"",description:s.trade?.description||""}),m=()=>{t("update:modalHandler",!1)},v=async()=>{try{c.value=!0,r.value.id?(await i.patch(`/api/cost-trade/${r.value.id}/`,r.value),n.success("Trade updated successfully")):(await i.post("/api/cost-trade/",r.value),n.success("Trade created successfully")),t("update:OnSuccess"),m()}catch(e){console.log(e)}finally{c.value=!1}};return(a,t)=>{const s=R,i=l,n=e,f=w,y=P;return o(),h(y,{is:"form",open:a.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:k(v,["prevent"]),onClose:m},{content:p((()=>[d("div",nl,[d("div",dl,[rl,_(d("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":t[0]||(t[0]=e=>b(r).name=e)},null,512),[[C,b(r).name]])]),d("div",ul,[pl,u(n,null,{default:p((()=>[u(i,null,{default:p((()=>[u(s,{modelValue:b(r).description,"onUpdate:modelValue":t[1]||(t[1]=e=>b(r).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:p((()=>[u(f,{type:"submit",color:"primary",loading:b(c),raised:""},{default:p((()=>[g("Save")])),_:1},8,["loading"])])),cancel:p((()=>[u(f,{color:"light",onClick:m,raised:""},{default:p((()=>[g("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),vl={class:"modal-form columns is-multiline"},fl={class:"column is-6"},gl={class:"field"},yl=d("label",{class:"label"},"Title *",-1),hl={class:"control"},_l={class:"column is-6"},bl={class:"field"},Cl=d("label",{class:"label"},"Trade *",-1),kl={class:"column is-12"},wl={class:"field"},xl=d("label",{class:"label"},"Description",-1),Vl=t({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(a,{emit:t}){const s=a,m=N(),v=y(!1),f=H(),V=y(!1),T=()=>{t("update:modalHandler",!1)},U=y({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});y("");const S=async()=>{try{if(V.value=!0,s.categoryId){await m.patch(`/api/cost-category/${s.categoryId}/`,U.value)}else{await m.post("/api/cost-category/",U.value)}t("update:OnSuccess",null),f.success(`Category  ${s.categoryId?"updated":"created"} successfully`),T()}catch(e){console.log(e)}finally{V.value=!1}},I=y([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return x((()=>{s.categoryId&&(async()=>{try{V.value=!0;const e=await m.get(`/api/cost-category/${s.categoryId}/`);U.value=e.data}catch(e){console.log(e)}finally{V.value=!1}})(),(async()=>{try{V.value=!0;const e=await m.get("/api/cost-trade/");I.value=e.data}catch(e){console.log(e)}finally{V.value=!1}})()})),(a,t)=>{const m=W,f=$,y=l,x=R,V=e,M=w,j=P;return o(),h(j,{is:"form",open:s.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:k(S,["prevent"]),onClose:T},{content:p((()=>[d("div",vl,[d("div",fl,[d("div",gl,[yl,d("div",hl,[_(d("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":t[0]||(t[0]=e=>b(U).name=e)},null,512),[[C,b(U).name]])])])]),d("div",_l,[d("div",bl,[Cl,u(y,null,{default:p((()=>[u(f,{modelValue:b(U).trade,"onUpdate:modelValue":t[1]||(t[1]=e=>b(U).trade=e),required:""},{default:p((()=>[(o(!0),i(c,null,n(b(I),(e=>(o(),h(m,{value:e.id},{default:p((()=>[g(r(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),d("div",kl,[d("div",wl,[xl,u(V,null,{default:p((()=>[u(y,null,{default:p((()=>[u(x,{modelValue:b(U).description,"onUpdate:modelValue":t[2]||(t[2]=e=>b(U).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:p((()=>[u(M,{type:"submit",color:"primary",loading:b(v),raised:""},{default:p((()=>[g(r(s.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:p((()=>[u(M,{color:"light",onClick:T,raised:""},{default:p((()=>[g("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Tl={class:"modal-form columns is-multiline"},Ul={class:"column is-6"},Sl={class:"field"},Il=d("label",{class:"label"},"Title * ",-1),Ml={class:"control"},jl={class:"column is-6"},Al={class:"field"},Dl=d("label",{class:"label"},"Category *",-1),Ol={class:"control"},El={class:"field column is-12"},Zl=d("label",{class:"label"},"Sub code of ",-1),Pl={class:"control"},Rl={class:"field column is-6"},Hl=d("label",{class:"label"},null,-1),Nl={key:0,class:"column is-6"},Wl={class:"field"},$l=d("label",{class:"label"},"Default labour cost ($)",-1),Kl={class:"control"},zl={class:"column is-12"},Bl={class:"field"},Fl=d("label",{class:"label"},"Unit cost ($)",-1),Ll={class:"control"},ql=d("hr",null,null,-1),Gl={class:"column is-12"},Jl={class:"field"},Yl=d("label",{class:"label"},"Description",-1),Ql=t({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},selectedCatCostCode:{},selectedCostCodeID:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(t,{emit:s}){const m=t,v=N(),f=y(!1),U=H(),S=y(!1),I=()=>{s("update:modalHandler",!1)},M=y({id:"",name:"",category:m.selectedCatCostCode||"",parent_code:m.selectedCostCodeID||"",is_labour_code:!1,labour_cost:0,description:"",unit_cost:0,is_active:!0}),j=async()=>{try{if(S.value=!0,m.costCodeId){await v.patch(`/api/cost-code/${m.costCodeId}/`,M.value);U.info("Cost code updated successfully")}else{await v.post("/api/cost-code/",M.value);U.success("Cost code created successfully")}I(),s("update:OnSuccess",null)}catch(e){console.log(e)}finally{S.value=!1}},A=y([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),D=y([]);return x((()=>{console.log(m.selectedCatCostCode),m.costCodeId&&(async()=>{try{S.value=!0;const e=await v.get(`/api/cost-code/${m.costCodeId}/`);M.value=e.data}catch(e){console.log(e)}finally{S.value=!1}})(),(async()=>{try{S.value=!0;const e=await v.get("/api/cost-category/");A.value=e.data}catch(e){console.log(e)}finally{S.value=!1}})(),(async()=>{try{S.value=!0;const e=await v.get("/api/cost-code/");D.value=e.data.map((e=>({value:e.id,label:e.name})))}catch(e){console.log(e)}finally{S.value=!1}})()})),(t,s)=>{const v=W,y=$,x=l,U=e,S=V("Multiselect"),O=a,E=R,Z=w,H=P;return o(),h(H,{is:"form",open:m.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:k(j,["prevent"]),onClose:I},{content:p((()=>[d("div",Tl,[d("div",Ul,[d("div",Sl,[Il,d("div",Ml,[_(d("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":s[0]||(s[0]=e=>b(M).name=e)},null,512),[[C,b(M).name]])])])]),d("div",jl,[d("div",Al,[Dl,d("div",Ol,[u(U,null,{default:p((()=>[u(x,null,{default:p((()=>[u(y,{modelValue:b(M).category,"onUpdate:modelValue":s[1]||(s[1]=e=>b(M).category=e),required:""},{default:p((()=>[u(v,{value:""},{default:p((()=>[g(" Select a category ")])),_:1}),(o(!0),i(c,null,n(b(A),(e=>(o(),h(v,{value:e.id},{default:p((()=>[g(r(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),d("div",El,[Zl,d("div",Pl,[u(U,null,{default:p((({id:e})=>[u(x,null,{default:p((()=>[u(S,{disabled:!!t.CategoryMode,modelValue:b(M).parent_code,"onUpdate:modelValue":s[2]||(s[2]=e=>b(M).parent_code=e),attrs:{id:e},searchable:!0,options:b(D),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),d("div",Rl,[Hl,u(U,{class:"is-flex"},{default:p((()=>[u(x,{raw:"",subcontrol:""},{default:p((()=>[u(O,{modelValue:b(M).is_labour_code,"onUpdate:modelValue":s[3]||(s[3]=e=>b(M).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),b(M).is_labour_code?(o(),i("div",Nl,[d("div",Wl,[$l,d("div",Kl,[_(d("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":s[4]||(s[4]=e=>b(M).labour_cost=e)},null,512),[[C,b(M).labour_cost]])])])])):T("",!0),d("div",zl,[d("div",Bl,[Fl,d("div",Ll,[_(d("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":s[5]||(s[5]=e=>b(M).unit_cost=e)},null,512),[[C,b(M).unit_cost]])])])]),ql,d("div",Gl,[d("div",Jl,[Yl,u(U,null,{default:p((()=>[u(x,null,{default:p((()=>[u(E,{modelValue:b(M).description,"onUpdate:modelValue":s[6]||(s[6]=e=>b(M).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:p((()=>[u(Z,{type:"submit",color:"primary",loading:b(f),raised:""},{default:p((()=>[g(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:p((()=>[u(Z,{color:"light",onClick:I,raised:""},{default:p((()=>[g("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Xl=e=>(m("data-v-81fa94f9"),e=e(),v(),e),ea={class:"list-flex-toolbar flex-list-v1"},la={class:"page-content-inner"},aa=Xl((()=>d("img",{class:"light-image",src:B,alt:""},null,-1))),ta=Xl((()=>d("img",{class:"dark-image",src:F,alt:""},null,-1))),sa={class:"table is-hoverable is-fullwidth"},oa=Xl((()=>d("thead",null,[d("tr",null,[d("th",null,"Title"),d("th",null,"Description"),d("th",null,"Children"),d("th",{class:"is-end"},"Actions")])],-1))),ia={class:"is-end"},ca={class:"is-flex is-justify-content-flex-end"},na=f(t({__name:"TradeComp",setup(a){const t=H(),s=y(!1);y("Items list");const m=y([]),v=N(),f=y(""),b=y(!1),k=y(null),V=async()=>{try{s.value=!0;const e=await v.get("/api/cost-trade/");m.value=e.data}catch(e){console.log(e)}finally{s.value=!1}},I=(e=null)=>{k.value=e,b.value=!0},M=U((()=>{if(f.value){const e=new RegExp(f.value,"i");return m.value.filter((l=>l.name?.match(e)))}return m.value}));return x((()=>{V()})),(a,s)=>{const m=l,y=e,x=w,U=S,j=z,A=K,D=ml;return o(),i("div",null,[d("div",ea,[u(y,null,{default:p((()=>[u(m,{icon:"feather:search"},{default:p((()=>[_(d("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>f.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[C,f.value]])])),_:1})])),_:1}),u(U,null,{default:p((()=>[u(x,{onClick:s[1]||(s[1]=e=>I()),color:"warning",icon:"fas fa-plus",outlined:"",elevated:""},{default:p((()=>[g(" Trade ")])),_:1})])),_:1})]),d("div",la,[M.value.length?T("",!0):(o(),h(j,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:p((()=>[aa,ta])),_:1})),d("table",sa,[oa,d("tbody",null,[(o(!0),i(c,null,n(M.value,(e=>(o(),i("tr",{key:e.id},[d("td",null,r(e.name??"n/a"),1),d("td",null,r(e.description||"No description"),1),d("td",null,r(e.codes?.length||0),1),d("td",ia,[d("div",ca,[u(A,{onClick:l=>I(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),u(A,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{await v.delete(`/api/cost-trade/${e}/`),t.success("Trade deleted successfully"),V()}catch(l){console.log(l),t.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])]),b.value?(o(),h(D,{key:0,openTradeModal:b.value,trade:k.value,"onUpdate:modalHandler":s[2]||(s[2]=e=>b.value=!1),"onUpdate:OnSuccess":V},null,8,["openTradeModal","trade"])):T("",!0)])}}}),[["__scopeId","data-v-81fa94f9"]]),da=e=>(m("data-v-438a587c"),e=e(),v(),e),ra={class:"list-flex-toolbar flex-list-v1"},ua={class:"page-content-inner"},pa=da((()=>d("img",{class:"light-image",src:B,alt:""},null,-1))),ma=da((()=>d("img",{class:"dark-image",src:F,alt:""},null,-1))),va={class:"table is-hoverable is-fullwidth"},fa=da((()=>d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Title"),d("th",{scope:"col"},"Description"),d("th",{scope:"col"},"Children"),d("th",{scope:"col",class:"is-end"},[d("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),ga={class:"pl-5"},ya={class:"dark-text text-primary"},ha={class:"is-end"},_a={class:"is-flex is-justify-content-flex-end"},ba=f(t({__name:"CostCodes",setup(a){const t=H(),s=y(!1);y("Items list");const m=y([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),v=N(),f=y(""),k=[{}],V=y(!1);y(!1),y(!1);const M=y(""),j=async()=>{try{s.value=!0;const e=await v.get("/api/cost-category/list/");m.value=e.data}catch(e){console.log(e)}finally{s.value=!1}},A=U((()=>{if(f.value){const e=new RegExp(f.value,"i");return k.filter((l=>l.username?.match(e)||l.location?.match(e)))}return k}));return x((()=>{j()})),(a,y)=>{const k=l,x=e,U=w,D=S,O=z,E=K,Z=Ql;return o(),i("div",null,[d("div",ra,[u(x,null,{default:p((()=>[u(k,{icon:"feather:search"},{default:p((()=>[_(d("input",{"onUpdate:modelValue":y[0]||(y[0]=e=>I(f)?f.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[C,b(f)]])])),_:1})])),_:1}),u(D,null,{default:p((()=>[u(U,{color:"primary",onClick:y[1]||(y[1]=e=>V.value=!b(V)),icon:"fas fa-plus",elevated:"",outlined:""},{default:p((()=>[g(" Cost Code ")])),_:1})])),_:1})]),d("div",ua,[b(A).length?T("",!0):(o(),h(O,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:p((()=>[pa,ma])),_:1})),d("table",va,[fa,d("tbody",null,[(o(!0),i(c,null,n(b(m),(e=>(o(),i(c,{key:e.id},[e?.codes?.length?(o(!0),i(c,{key:0},n(e.codes,(e=>(o(),i("tr",{key:e?.id,class:"sub-item"},[d("td",ga,[d("p",ya,r(e.name),1)]),d("td",null,r(e.description||"No description"),1),d("td",null,r(e.child_codes?.length||0),1),d("td",ha,[d("div",_a,[u(E,{onClick:l=>{return a=e.id,M.value=a,void(V.value=!V.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),u(E,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>(async e=>{try{s.value=!0,await v.delete(`/api/cost-code/${e}/`),j(),t.success("delete cost code")}catch(l){console.log(l)}finally{s.value=!1}})(e.id)},null,8,["onClick"])])])])))),128)):T("",!0)],64)))),128))])])]),b(V)?(o(),h(Z,{key:0,addUpdateCostCodeModal:b(V),"cost-code-id":b(M),"onUpdate:modalHandler":y[2]||(y[2]=e=>V.value=!1),"onUpdate:OnSuccess":y[3]||(y[3]=e=>j())},null,8,["addUpdateCostCodeModal","cost-code-id"])):T("",!0)])}}}),[["__scopeId","data-v-438a587c"]]),Ca=e=>(m("data-v-dd2290b0"),e=e(),v(),e),ka={class:""},wa={class:"list-flex-toolbar flex-list-v1"},xa={class:"page-content-inner"},Va=Ca((()=>d("img",{class:"light-image",src:B,alt:""},null,-1))),Ta=Ca((()=>d("img",{class:"dark-image",src:F,alt:""},null,-1))),Ua={class:"table is-hoverable is-fullwidth"},Sa=Ca((()=>d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Title"),d("th",{scope:"col"},"Description"),d("th",{scope:"col"},"Children"),d("th",{scope:"col",class:"is-end"},[d("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Ia={class:"info-text is-bold"},Ma={class:"is-end"},ja={class:"is-flex is-justify-content-flex-end"},Aa=f(t({__name:"CategoryComp",setup(a){const t=H(),s=y(!1);y("Items list");const m=y([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),v=N(),f=y(""),k=[{}];y(!1);const V=y(!1);y(!1);const M=y(""),j=async()=>{try{s.value=!0;const e=await v.get("/api/cost-category/list/");m.value=e.data}catch(e){console.log(e)}finally{s.value=!1}},A=U((()=>{if(f.value){const e=new RegExp(f.value,"i");return k.filter((l=>l.username?.match(e)||l.location?.match(e)))}return k}));return x((()=>{j()})),(a,y)=>{const k=l,x=e,U=w,D=S,O=z,E=K,Z=Vl;return o(),i("div",null,[d("div",ka,[d("div",wa,[u(x,null,{default:p((()=>[u(k,{icon:"feather:search"},{default:p((()=>[_(d("input",{"onUpdate:modelValue":y[0]||(y[0]=e=>I(f)?f.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[C,b(f)]])])),_:1})])),_:1}),u(D,null,{default:p((()=>[u(U,{onClick:y[1]||(y[1]=e=>V.value=!b(V)),color:"info",icon:"fas fa-plus",elevated:"",outlined:""},{default:p((()=>[g(" Category ")])),_:1})])),_:1})]),d("div",xa,[b(A).length?T("",!0):(o(),h(O,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:p((()=>[Va,Ta])),_:1})),d("table",Ua,[Sa,d("tbody",null,[(o(!0),i(c,null,n(b(m),(e=>(o(),i("tr",{key:e.id},[d("td",null,[d("p",Ia,r(e.name??"n/a"),1)]),d("td",null,[d("p",null,r(e.description||"No description"),1)]),d("td",null,r(e.codes?.length||0),1),d("td",Ma,[d("div",ja,[u(E,{onClick:l=>{return a=e?.id,M.value=a,void(V.value=!V.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),u(E,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{s.value=!0,await v.delete(`/api/cost-category/${e}/`),j(),t.success("delete category")}catch(l){console.log(l)}finally{s.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),b(V)?(o(),h(Z,{key:0,addUpdateCategoryModal:b(V),"category-id":b(M),"onUpdate:modalHandler":y[2]||(y[2]=e=>V.value=!1),"onUpdate:OnSuccess":y[3]||(y[3]=e=>j())},null,8,["addUpdateCategoryModal","category-id"])):T("",!0)])}}}),[["__scopeId","data-v-dd2290b0"]]),Da=e=>(m("data-v-69d9d80e"),e=e(),v(),e),Oa={class:"tabs-wrapper"},Ea={class:"tabs-inner"},Za={class:"tabs"},Pa=[Da((()=>d("span",null,"Identity List",-1)))],Ra=[Da((()=>d("span",null,"Category",-1)))],Ha=[Da((()=>d("span",null,"Cost Codes",-1)))],Na=[Da((()=>d("span",null,"Trade",-1)))],Wa={key:0,class:""},$a={class:"list-flex-toolbar flex-list-v1"},Ka={class:"page-content-inner"},za=Da((()=>d("img",{class:"light-image",src:B,alt:""},null,-1))),Ba=Da((()=>d("img",{class:"dark-image",src:F,alt:""},null,-1))),Fa={class:"table is-hoverable is-fullwidth"},La=Da((()=>d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Title"),d("th",{scope:"col"},"Description"),d("th",{scope:"col"},"Children"),d("th",{scope:"col",class:"is-end"},[d("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),qa={class:"info-text is-bold"},Ga=["onClick"],Ja={class:"is-end"},Ya={class:"is-flex is-justify-content-flex-end"},Qa={class:"sub-item"},Xa={class:"pl-5"},et={class:"dark-text text-primary"},lt=["onClick"],at={class:"is-end"},tt={class:"is-flex is-justify-content-flex-end"},st={class:"pl-6"},ot=Da((()=>d("td",null,"-",-1))),it={class:"is-end"},ct={class:"is-flex is-justify-content-flex-end"},nt={key:1,class:""},dt={key:2,class:""},rt={key:3,class:""},ut=f(t({__name:"IdentityList",setup(a){const t=H(),s=y(!1),m=y("Items list"),v=y([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),f=N(),V=y(""),A=[{}],D=y(!1),O=y(!1),E=y(!1),Z=y(""),P=async e=>{try{s.value=!0;await f.delete(`/api/cost-code/${e}/`);R(),t.success("delete cost code")}catch(l){console.log(l)}finally{s.value=!1}},R=async()=>{try{s.value=!0;const e=await f.get("/api/cost-category/list/");v.value=e.data}catch(e){console.log(e)}finally{s.value=!1}},W=e=>{Z.value=e,D.value=!D.value},$=y(""),B=y(!1),F=y(""),L=(e=null,l=null)=>{console.log(e),console.log(l),$.value="",F.value="",F.value=l?.id,$.value=e?.id,D.value=!0},q=U((()=>{if(V.value){const e=new RegExp(V.value,"i");return A.filter((l=>l.username?.match(e)||l.location?.match(e)))}return A}));return x((()=>{R()})),(a,y)=>{const x=l,U=e,A=w,H=S,N=z,G=K,J=Aa,Y=ba,Q=na,X=Ql,ee=Vl,le=ml;return o(),i("div",null,[d("div",Oa,[d("div",Ea,[d("div",Za,[d("ul",null,[d("li",{class:M(["Items list"===b(m)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:y[0]||(y[0]=j(k((e=>m.value="Items list"),["prevent"]),["space"])),onClick:y[1]||(y[1]=e=>m.value="Items list")},Pa,32)],2),d("li",{class:M(["Category"===b(m)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:y[2]||(y[2]=j(k((e=>m.value="Category"),["prevent"]),["space"])),onClick:y[3]||(y[3]=e=>m.value="Category")},Ra,32)],2),d("li",{class:M(["costCodes"===b(m)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:y[4]||(y[4]=j(k((e=>m.value="costCodes"),["prevent"]),["space"])),onClick:y[5]||(y[5]=e=>m.value="costCodes")},Ha,32)],2),d("li",{class:M(["Trade"===b(m)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:y[6]||(y[6]=j(k((e=>m.value="Trade"),["prevent"]),["space"])),onClick:y[7]||(y[7]=e=>m.value="Trade")},Na,32)],2)])])])]),"Items list"==b(m)?(o(),i("div",Wa,[d("div",$a,[u(U,null,{default:p((()=>[u(x,{icon:"feather:search"},{default:p((()=>[_(d("input",{"onUpdate:modelValue":y[8]||(y[8]=e=>I(V)?V.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[C,b(V)]])])),_:1})])),_:1}),u(H,null,{default:p((()=>[u(A,{color:"primary",onClick:y[9]||(y[9]=e=>L()),icon:"fas fa-plus",elevated:"",outlined:""},{default:p((()=>[g(" Cost Code ")])),_:1}),u(A,{onClick:y[10]||(y[10]=e=>O.value=!b(O)),color:"info",icon:"fas fa-plus",elevated:"",outlined:""},{default:p((()=>[g(" Category ")])),_:1}),u(A,{onClick:y[11]||(y[11]=e=>E.value=!b(E)),color:"warning",icon:"fas fa-plus",outlined:"",elevated:""},{default:p((()=>[g(" Trade ")])),_:1})])),_:1})]),d("div",Ka,[b(q).length?T("",!0):(o(),h(N,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:p((()=>[za,Ba])),_:1})),d("table",Fa,[La,d("tbody",null,[(o(!0),i(c,null,n(b(v),(e=>(o(),i(c,{key:e.id},[d("tr",null,[d("td",null,[d("p",qa,[g(r(e.name??"n/a")+" ",1),d("i",{class:"fas fa-plus cursor-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{L(e),B.value=!1,B.value=!0}},null,8,Ga)])]),d("td",null,[d("p",null,r(e.description||"No description"),1)]),d("td",null,r(e.codes?.length||0),1),d("td",Ja,[d("div",Ya,[u(G,{onClick:l=>{return a=e?.id,Z.value=a,void(O.value=!O.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),u(G,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{s.value=!0,await f.delete(`/api/cost-category/${e}/`),R(),t.success("delete category")}catch(l){console.log(l)}finally{s.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(o(!0),i(c,{key:0},n(e.codes,(l=>(o(),i(c,{key:l?.id},[d("tr",Qa,[d("td",Xa,[d("p",et,[g(r(l.name)+" ",1),d("i",{class:"fas fa-plus cursor-pointer ml-2",style:{"font-size":"11px"},onClick:a=>L(e,l)},null,8,lt)])]),d("td",null,r(l.description||"No description"),1),d("td",null,r(l.child_codes?.length||0),1),d("td",at,[d("div",tt,[u(G,{onClick:e=>W(l.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),u(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:e=>P(l.id)},null,8,["onClick"])])])]),l?.child_codes?.length?(o(!0),i(c,{key:0},n(l.child_codes,(e=>(o(),i("tr",{key:e.id,class:"child-item"},[d("td",st,r(e.name),1),d("td",null,r(e.description||"No description"),1),ot,d("td",it,[d("div",ct,[u(G,{onClick:l=>W(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),u(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>P(e.id)},null,8,["onClick"])])])])))),128)):T("",!0)],64)))),128)):T("",!0)],64)))),128))])])])])):T("",!0),"Category"==b(m)?(o(),i("div",nt,[u(J)])):T("",!0),"costCodes"==b(m)?(o(),i("div",dt,[u(Y)])):T("",!0),"Trade"==b(m)?(o(),i("div",rt,[u(Q)])):T("",!0),b(D)?(o(),h(X,{key:4,addUpdateCostCodeModal:b(D),"cost-code-id":b(Z),selectedCatCostCode:b($),selectedCostCodeID:b(F),CategoryMode:b(B),"onUpdate:modalHandler":y[12]||(y[12]=e=>{D.value=!1,B.value=!1}),"onUpdate:OnSuccess":y[13]||(y[13]=e=>R())},null,8,["addUpdateCostCodeModal","cost-code-id","selectedCatCostCode","selectedCostCodeID","CategoryMode"])):T("",!0),b(O)?(o(),h(ee,{key:5,addUpdateCategoryModal:b(O),"category-id":b(Z),"onUpdate:modalHandler":y[14]||(y[14]=e=>O.value=!1),"onUpdate:OnSuccess":y[15]||(y[15]=e=>R())},null,8,["addUpdateCategoryModal","category-id"])):T("",!0),b(E)?(o(),h(le,{key:6,addUpdateTradeModal:b(E),"onUpdate:modalHandler":y[16]||(y[16]=e=>E.value=!1),"onUpdate:OnSuccess":y[17]||(y[17]=e=>R())},null,8,["addUpdateTradeModal"])):T("",!0)])}}}),[["__scopeId","data-v-69d9d80e"]]),pt=e=>(m("data-v-f4c1fcbb"),e=e(),v(),e),mt={class:"container"},vt={class:"box cu-property"},ft={class:"box-body"},gt={class:"position-relative"},yt={class:"position-absolute",style:{top:"0px",right:"0px"}},ht=pt((()=>d("i",{class:"fas fa-pen"},null,-1))),_t={class:"columns is-multiline p-5 align-items-center"},bt=pt((()=>d("div",{class:"column is-2 text-align-center"},[d("img",{src:"/images/homePlaceholder.png",style:{width:"140px","border-radius":"10px"},alt:"",srcset:""})],-1))),Ct={class:"column is-3"},kt={class:"title is-5 mb-2"},wt=pt((()=>d("p",{class:"light-text mb-0 font-500"},"TexhoIbex@gmial.com",-1))),xt={class:"light-text font-500"},Vt=pt((()=>d("div",{class:"column is-1"},[d("div",{class:"cu-vr-seperator"})],-1))),Tt={class:"column is-3"},Ut={class:"light-text mb-0 font-400"},St=pt((()=>d("b",null,"State:",-1))),It={class:"light-text mb-0 font-400"},Mt=pt((()=>d("b",null,"City:",-1))),jt={class:"light-text mb-0 font-400"},At=pt((()=>d("b",null,"PoctCode:",-1))),Dt=pt((()=>d("div",{class:"column is-1"},[d("div",{class:"cu-vr-seperator"})],-1))),Ot={class:"column is-2"},Et={class:"light-text mb-0 font-400"},Zt=pt((()=>d("b",null,"Website:",-1))),Pt=pt((()=>d("b",null,"Status:",-1))),Rt={class:"m-t-20"},Ht={class:"tabs-wrapper"},Nt={class:"tabs-inner"},Wt={class:"tabs is-boxed"},$t=[pt((()=>d("span",null,"General",-1)))],Kt=[pt((()=>d("span",null,"Cost Codes",-1)))],zt=[pt((()=>d("span",null,"Templates/Catalog",-1)))],Bt=[pt((()=>d("span",null,"Users permissions",-1)))],Ft=[pt((()=>d("span",null,"Role Management",-1)))],Lt=[pt((()=>d("span",null,"Manage Role",-1)))],qt={key:0},Gt={key:1},Jt={key:2},Yt={key:3},Qt={key:4},Xt={key:5},es=t({__name:"CompanySettingsComponent",setup(e){const l=y("general"),a=y(!1),t=s({name:"ABC Corp",website:"https://example.com",phone:"123-456-7890",address:{street:"123 Main St",city:"Evergreen",state:"CO",zipCode:"80437-0242"}});return(e,s)=>{const c=w,n=L,m=ut,v=cl,f=ce,y=oe;return o(),i("div",mt,[d("div",vt,[d("div",ft,[d("div",gt,[d("div",yt,[u(c,{color:"primary",onClick:s[0]||(s[0]=e=>{a.value=!0}),size:"xsmall",rounded:""},{default:p((()=>[ht,g(" Edit")])),_:1})])]),d("div",_t,[bt,d("div",Ct,[d("h2",kt,r(b(t).name),1),wt,d("p",xt,r(b(t).phone),1)]),Vt,d("div",Tt,[d("p",Ut,[St,g(" "+r(b(t)?.address?.state?b(t)?.address?.state:"N/A"),1)]),d("p",It,[Mt,g(" "+r(b(t)?.address?.city?b(t)?.address?.city:"N/A"),1)]),d("p",jt,[At,g(" "+r(b(t)?.address?.zipCode?b(t)?.address?.zipCode:"N/A"),1)])]),Dt,d("div",Ot,[d("p",Et,[Zt,g(" "+r(b(t)?.website?b(t)?.website:"N/A"),1)]),Pt,u(n,{color:"primary",class:"ml-2",rounded:""},{default:p((()=>[g("Active")])),_:1})])])])]),d("div",Rt,[d("div",Ht,[d("div",Nt,[d("div",Wt,[d("ul",null,[d("li",{class:M(["general"===b(l)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=j(k((e=>l.value="general"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>l.value="general")},$t,32)],2),d("li",{class:M(["costCodes"===b(l)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=j(k((e=>l.value="costCodes"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>l.value="costCodes")},Kt,32)],2),d("li",{class:M(["proposalsTemplates"===b(l)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=j(k((e=>l.value="proposalsTemplates"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>l.value="proposalsTemplates")},zt,32)],2),d("li",{class:M(["permissions"===b(l)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=j(k((e=>l.value="permissions"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>l.value="permissions")},Bt,32)],2),d("li",{class:M(["roleManagement"===b(l)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=j(k((e=>l.value="roleManagement"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>l.value="roleManagement")},Ft,32)],2),d("li",{class:M(["manageRole"===b(l)?"is-active":"not-active"])},[d("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=j(k((e=>l.value="manageRole"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>l.value="manageRole")},Lt,32)],2)])])])]),"general"===b(l)?(o(),i("div",qt,"General")):T("",!0),"costCodes"===b(l)?(o(),i("div",Gt,[u(m)])):T("",!0),"proposalsTemplates"===b(l)?(o(),i("div",Jt,"Templates/Catalog")):T("",!0),"permissions"===b(l)?(o(),i("div",Yt,[u(v)])):T("",!0),"roleManagement"===b(l)?(o(),i("div",Qt,[u(f)])):T("",!0),"manageRole"===b(l)?(o(),i("div",Xt,[u(y)])):T("",!0)])])}}});"function"==typeof Z&&Z(es);const ls=f(es,[["__scopeId","data-v-f4c1fcbb"]]),as=t({__name:"index",setup(e){q();return G().setPageTitle("Company Settings"),A((()=>({title:"Company Settings"}))),(e,l)=>{const a=ls;return o(),i("div",null,[u(a)])}}});"function"==typeof Z&&Z(as);export{as as default};
