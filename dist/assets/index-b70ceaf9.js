import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-9e240783.js";import{_ as a,c as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-2d57de85.js";import{_ as s}from"./ProjectListDropdown-15b45b33.js";import{_ as l}from"./VTag.vue_vue_type_style_index_0_lang-102e374b.js";import{_ as n}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-d460f775.js";import{_ as i}from"./VControl-71751153.js";import{_ as r}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-e09d4f6e.js";import{e as o,t as d,r as u,Z as c,o as p,l as _,y as m,H as v,z as y,C as g,A as f,B as b,S as h,T as x,j,O as k,I as P,P as w,Q as V,R as T,aR as D,K as C,J as E,D as K,W as A,X as I,L as M,G as L,v as S}from"./index-ed878baa.js";import{_ as W,a as B}from"./search-4-dark-2b5b440c.js";import{_ as F,a as R}from"./projects-dark-4a371d8a.js";import{u as Q}from"./useAPI-4dbd45d9.js";import{b as U}from"./useSupportElement-c53eaf20.js";import{u as X}from"./viewWrapper-5df11b72.js";import{b as Y}from"./route-block-83d24a4e.js";import"./VFlex.vue_vue_type_style_index_0_lang-94ea1992.js";import"./VDropdown.vue_vue_type_style_index_0_lang-c405b2c5.js";import"./VIcon.vue_vue_type_script_setup_true_lang-63563bed.js";import"./useDropdown-c85775b5.js";import"./VLabel.vue_vue_type_script_setup_true_lang-cb6c0e84.js";import"./useVFieldContext-9a447149.js";import"./VPlaceloadWrap-30647390.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-566dd4d9.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-b5c04341.js";import"./VField.vue_vue_type_script_setup_true_lang-63cc4033.js";import"./userSession-3fb9a025.js";import"./useNotyf-51dcaca9.js";import"./notyf-fd8b7ffd.js";import"./useThemeColors-be929954.js";const Z=e=>(A("data-v-b50e7590"),e=e(),I(),e),q={key:1,class:"is-relative tabs-wrapper is-slider is-squared"},z={class:"page-content-inner"},G={class:"list-flex-toolbar is-reversed"},J={class:"tabs-inner"},N={class:"tabs"},O=[Z((()=>g("span",null,"Paid",-1)))],$=[Z((()=>g("span",null,"Pending",-1)))],H=Z((()=>g("li",{class:"tab-naver"},null,-1))),ee={class:"flex-list-v2"},ae=Z((()=>g("img",{class:"light-image",src:W,alt:""},null,-1))),te=Z((()=>g("img",{class:"dark-image",src:B,alt:""},null,-1))),se={key:1,class:"tab-content is-active"},le=["onClick"],ne={class:"item-name dark-inverted"},ie={class:"item-meta"},re={class:"light-text"},oe={class:"light-text"},de={class:"light-text"},ue={key:2,class:"tab-content is-active"},ce=Z((()=>g("img",{class:"light-image is-larger",src:F,alt:""},null,-1))),pe=Z((()=>g("img",{class:"dark-image is-larger",src:R,alt:""},null,-1))),_e=M(o({__name:"IbexPaymentsList",setup(o){const A=Q(),I=d(),M=u(!1),L=u([{id:"792d596a-beb6-4045-8852-574a544de0a2",client_info:null,created_by_info:{id:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",username:"Krystal",email:"krystal@ibexbuilderstudios.com",role:"admin",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/confident-2362133_1280-removebg-preview_vkihy1"},amount:10,response:{id:"PAYID-M4BDKXQ7KM686468E089260P",links:[{rel:"self",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BDKXQ7KM686468E089260P",method:"GET"},{rel:"approval_url",href:"https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&token=EC-5JE23537U81489105",method:"REDIRECT"},{rel:"execute",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BDKXQ7KM686468E089260P/execute",method:"POST"}],payer:{payment_method:"paypal"},state:"created",intent:"sale",create_time:"2024-10-06T06:59:42Z",transactions:[{amount:{total:"10.00",currency:"USD"},description:"string",related_resources:[]}]},status:"created",created_at:"2024-10-06T06:59:43.151276Z",created_by:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",client:null}]),S=u(""),W=u("paid"),B={picture:{label:"Payer",grow:!0,media:!0},customer:"Created At",industry:"Amount",status:"Status",team:{label:"Method"},actions:{label:"Actions",align:"end"}},F=c((()=>{if(S.value){const e=new RegExp(S.value,"i");return L.value.filter((a=>a.id.match(e)||a.created_by_info.username.match(e)||a.created_by_info.email.match(e)||a.created_by_info.role.match(e)))}return L.value}));return p((()=>{(async()=>{try{M.value=!0;const e=await A.get("/api/paypal/");L.value=e.data}catch(e){console.log(e)}finally{M.value=!1}})()})),(o,d)=>{const u=r,c=i,p=n,A=t,L=l,R=s,Q=a,X=e;return _(M)?(m(),v(u,{key:0})):(m(),y("div",q,[g("div",z,[g("div",G,[f(c,{icon:"feather:search"},{default:b((()=>[h(g("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>j(S)?S.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[x,_(S)]])])),_:1}),g("div",J,[g("div",N,[g("ul",null,[g("li",{class:k(["paid"===_(W)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:d[1]||(d[1]=P(C((e=>W.value="paid"),["prevent"]),["space"])),onClick:d[2]||(d[2]=e=>W.value="paid")},O,32)],2),g("li",{class:k(["pending"===_(W)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:d[3]||(d[3]=P(C((e=>W.value="pending"),["prevent"]),["space"])),onClick:d[4]||(d[4]=e=>W.value="pending")},$,32)],2),H])])])]),g("div",ee,[0===_(F).length?(m(),v(p,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[ae,te])),_:1})):w("",!0),"paid"===_(W)?(m(),y("div",se,[_(F).length?(m(),v(Q,{key:0,data:_(F),columns:B,rounded:""},{body:b((()=>[f(D,{name:"list",tag:"div",class:"flex-list-inner"},{default:b((()=>[(m(!0),y(V,null,T(_(F),(e=>(m(),y("div",{key:e.id,class:"flex-table-item",onClick:a=>{return t=e.id,void I.push({path:`/sidebar/dashboard/received-payments/${t}`});var t}},[f(A,{column:{media:!0,grow:!0}},{default:b((()=>[g("div",null,[g("span",ne,E(e?.created_by_info?.username),1),g("span",ie,[g("span",null,E(e.created_by_info?.email),1)])])])),_:2},1024),f(A,null,{default:b((()=>[g("span",re,E(_(U)(e.created_at)),1)])),_:2},1024),f(A,null,{default:b((()=>[g("span",oe,"$"+E(e.amount),1)])),_:2},1024),f(A,null,{default:b((()=>[f(L,{color:"approved"==e.status?"primary":"cancel"==e.status?"danger":"info",rounded:""},{default:b((()=>[K(E(e.status),1)])),_:2},1032,["color"])])),_:2},1024),f(A,null,{default:b((()=>[g("span",de,E(e?.response?.payer?.payment_method),1)])),_:2},1024),f(A,{column:{align:"end"}},{default:b((()=>[f(R)])),_:1})],8,le)))),128))])),_:1})])),_:1},8,["data"])):w("",!0),_(F).length>5?(m(),v(X,{key:1,"item-per-page":10,"total-items":90,"current-page":1,"max-links-displayed":5})):w("",!0)])):"pending"===_(W)?(m(),y("div",ue,[f(p,{title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n              start closing off projects, they will be showing up in here."},{image:b((()=>[ce,pe])),_:1})])):w("",!0)])])]))}}}),[["__scopeId","data-v-b50e7590"]]),me={class:"page-content-inner"},ve=o({__name:"index",setup(e){L();return X().setPageTitle("Payments"),S((()=>({title:"Payments"}))),(e,a)=>{const t=_e;return m(),y("div",me,[f(t)])}}});"function"==typeof Y&&Y(ve);export{ve as default};
