import{u as e}from"./viewWrapper-260c517a.js";import{f as a,C as s,D as t,Z as l,I as i,m as n,S as o,r as c,b as r,o as d,V as u,W as p,E as v,U as g,H as m,F as _,N as b,G as f,k as h,K as y,P as k,J as w,T as x,u as j,w as V,L as S,as as C,x as T,O as U}from"./index-daa999df.js";import{u as K}from"./useAPI-158f49f8.js";import{u as A}from"./useNotyf-5408e445.js";import{h as B}from"./moment-bad41465.js";import{_ as D}from"./VBlock.vue_vue_type_style_index_0_lang-87482f8c.js";import{_ as I}from"./VIconBox.vue_vue_type_style_index_0_lang-83c6e2f0.js";import{_ as M}from"./VIcon.vue_vue_type_script_setup_true_lang-2f166df8.js";import{_ as O}from"./VField.vue_vue_type_script_setup_true_lang-8aded60a.js";import{_ as P}from"./VControl-fa912047.js";import{_ as $}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-390e161f.js";import{_ as z}from"./JobTodos.vue_vue_type_style_index_0_lang-c41c29f7.js";import{u as N}from"./panels-a5a52234.js";import{u as L}from"./company-37a00ddc.js";import{_ as W,a as Y,b as E,c as F,e as J,d as q}from"./saudi-arabia-c8f7a528.js";import{_ as G}from"./VDropdown.vue_vue_type_style_index_0_lang-b236a741.js";import{_ as H}from"./VAvatar.vue_vue_type_style_index_0_lang-4cb896ee.js";import{u as Z}from"./layoutSwitcher-1e044f83.js";const R=a({__name:"VViewWrapper",props:{topNav:{type:Boolean},full:{type:Boolean}},setup(a){const o=a,c=e();return(e,a)=>(s(),t("div",{class:i(["view-wrapper",[o.topNav&&"has-top-nav",o.full&&"view-wrapper-full",n(c).isPushed&&"is-pushed-full",n(c).isPushedBlock&&"is-pushed-block"]])},[l(e.$slots,"default")],2))}}),X={class:"page-content-wrapper"};const Q=o({},[["render",function(e,a){return s(),t("div",X,[l(e.$slots,"default")])}]]),ee={class:"icon-timeline"},ae={class:"timeline-icon"},se=["data-icon"],te={class:"timeline-content"},le=a({__name:"ShortActivities",props:{title:{default:"Todo"},object:{},task:{},activityId:{},user:{},getUserActivities:{type:Boolean,default:!1},labels:{type:Function,default:()=>["Today","All"]}},setup(e){const a=e;c("today");const l=c(!1);c("Today");const i=K();A();const o=r(),m=c([{id:"d6b97056-0001-4c90-9c7b-aa019c94e152",attendees_info:[{id:"a1af480c-4b20-4669-bcc6-db4402074fc7",username:"Test",last_name:"contractor",email:"testcontractor@gmail.com",role:"contractor",avatar:null},{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"}],initiated_by_info:{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"},title:"Test",description:"Descriptio",objectId:"f3e8ca35-7ff6-456f-af56-fe034fa1b974",type:"email",color:"#22c55e",status:"pending",date:"2025-02-05",start_time:"00:08:00",end_time:"03:06:00",reminder_time:"01:06:00",created_at:"2025-02-06T19:06:55.257721Z",address:"Rosecroft Gardens, Twickenham TW2 7PX, UK",city:"",state:"England",zip_code:"tw2 7px",file:null,latitude:51.4497981,longitude:-.3464276,initiated_by:"0feda007-d8a0-4b96-acb7-d7763614854e",attendees:["a1af480c-4b20-4669-bcc6-db4402074fc7","0feda007-d8a0-4b96-acb7-d7763614854e"]}]),_=()=>{1==a.getUserActivities?(async()=>{try{l.value=!0;const e=await i.get(`/api/activity/by-user/${o.user.id}/`);m.value=e.data}catch(e){console.log("getting todos",e)}finally{l.value=!1}})():a.object&&(async()=>{try{l.value=!0;const e=await i.get(`/api/activity/by-object/${a.object}/`);m.value=e.data}catch(e){console.log("getting todos",e)}finally{l.value=!1}})()},b=c({call:"lucide:phone-call",email:"lucide:mail",followup:"lucide:repeat",visit:"lucide:bookmark",form:"lucide:file-text"});return d((()=>{_()})),(e,a)=>(s(),t("div",ee,[(s(!0),t(u,null,p(n(m),(e=>(s(),t("div",{key:e.id,class:"timeline-item"},[v("div",ae,[v("i",{"aria-hidden":"true",class:"iconify","data-icon":n(b)[e.type]},null,8,se)]),v("div",te,[v("p",null,g(e.title),1),v("span",null,g(n(B)(e.date).format("DD MMM YYYY"))+" - "+g(e.start_time),1)])])))),128))]))}}),ie={class:"right-panel"},ne={class:"right-panel-head"},oe=v("h3",null,"Daily Activities",-1),ce=[v("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),v("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1)],re={class:"tabs-wrapper is-triple-slider is-squared"},de={class:"tabs-inner"},ue={class:"tabs"},pe=[v("span",null,"Todo",-1)],ve=[v("span",null,"Activities",-1)],ge=[v("span",null,"Scheduling",-1)],me=v("li",{class:"tab-naver"},null,-1),_e={class:"right-panel-body"},be={key:0,id:"team-side-tab",class:"tab-content is-active"},fe={class:"project-card"},he={class:"project-inner"},ye={class:"meta"},ke={class:"project-card"},we={class:"project-inner"},xe={class:"meta"},je={key:1,id:"activity-side-tab",class:"tab-content is-active"},Ve=a({__name:"ActivityPanel",setup(e){const a=K(),l=A(),o=L(),r=c(!1),d=()=>{o.toggleScheduleMode(),r.value=o.isScheduleMode,l.green("The schedule mode is turned "+("true"==localStorage.getItem("isScheduleMode")?"On":"Off"))},u=c(!1),p=()=>{try{u.value=!0;a.post("/api/task/worker-mail/",{worker:"all"});l.success("Email has been sent to all workers"),u.value=!1}catch(e){console.log(e),l.error("Something went wrong, try again after refresh.")}},g=N(),x=c("todo");return(e,a)=>{const l=$,o=P,c=O,j=M,V=I,S=k,C=D,T=le;return s(),t("div",{id:"activity-panel",class:i([["activity"===n(g).active&&"is-active"],"right-panel-wrapper is-activity"])},[v("div",{class:"panel-overlay",tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=m(w((e=>n(g).close()),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>n(g).close())},null,32),v("div",ie,[v("div",ne,[oe,v("a",{class:"close-panel",tabindex:"0",role:"button",onKeydown:a[2]||(a[2]=m(w((e=>n(g).close()),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>n(g).close())},ce,32)]),v("div",re,[v("div",de,[v("div",ue,[v("ul",null,[v("li",{class:i(["todo"===n(x)&&"is-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:a[4]||(a[4]=m(w((e=>x.value="todo"),["prevent"]),["space"])),onClick:a[5]||(a[5]=e=>x.value="todo")},pe,32)],2),v("li",{class:i(["activity"===n(x)&&"is-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:a[6]||(a[6]=m(w((e=>x.value="activity"),["prevent"]),["space"])),onClick:a[7]||(a[7]=e=>x.value="activity")},ve,32)],2),v("li",{class:i(["schedule"===n(x)&&"is-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:a[8]||(a[8]=m(w((e=>x.value="schedule"),["prevent"]),["space"])),onClick:a[9]||(a[9]=e=>x.value="schedule")},ge,32)],2),me])])]),v("div",_e,["todo"===n(x)?(s(),t("div",be,[_(z,{"get-user-todo":!0})])):b("",!0),v("div",{id:"schedule-side-tab",class:i(["tab-content",["schedule"===n(x)&&"is-active"]])},[v("div",fe,[v("div",he,[v("div",ye,[_(c,{class:"m-0"},{default:f((()=>[_(o,null,{default:f((()=>[_(l,{color:"info",modelValue:n(r),"onUpdate:modelValue":a[10]||(a[10]=e=>h(r)?r.value=e:null),onClick:d,label:"Schedule mode",thin:""},null,8,["modelValue"])])),_:1})])),_:1})])])]),v("div",ke,[v("div",we,[v("div",xe,[_(c,{class:"m-0"},{default:f((()=>[_(C,{title:"Mail Schedules",subtitle:"Send main to workers"},{icon:f((()=>[_(V,{color:"success",rounded:""},{default:f((()=>[_(j,{icon:"lucide:clock"})])),_:1})])),action:f((()=>[_(S,{class:"ml-4",onClick:p,color:"dark",rounded:"",loading:n(u),elevated:""},{default:f((()=>[y(" Send ")])),_:1},8,["loading"])])),_:1})])),_:1})])])])],2),"activity"===n(x)?(s(),t("div",je,[_(T,{getUserActivities:!0})])):b("",!0)])])])],2)}}}),Se={class:"right-panel"},Ce={class:"right-panel-head"},Te=[v("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),v("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1)],Ue={class:"right-panel-body has-slimscroll"},Ke={class:"languages-boxes"},Ae={class:"language-box"},Be={class:"language-option"},De=v("div",{class:"language-option-inner"},[v("img",{src:W,alt:""}),v("div",{class:"indicator"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),Ie={class:"language-box"},Me={class:"language-option"},Oe=v("div",{class:"language-option-inner"},[v("img",{src:Y,alt:""}),v("div",{class:"indicator"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),Pe={class:"language-box"},$e={class:"language-option"},ze=v("div",{class:"language-option-inner"},[v("img",{src:E,alt:""}),v("div",{class:"indicator"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),Ne={class:"language-box"},Le={class:"language-option"},We=v("div",{class:"language-option-inner"},[v("img",{src:F,alt:""}),v("div",{class:"indicator"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),Ye={class:"language-box"},Ee={class:"language-option"},Fe=v("div",{class:"language-option-inner"},[v("img",{src:J,alt:""}),v("div",{class:"indicator"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),Je={class:"language-box"},qe={class:"language-option"},Ge=v("div",{class:"language-option-inner"},[v("img",{src:q,alt:""}),v("div",{class:"indicator"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),He=v("div",{class:"img-wrap has-text-centered"},[v("img",{class:"light-image",src:"/assets/languages-d0ee3ed8.svg",alt:""}),v("img",{class:"dark-image",src:"/assets/languages-dark-0bc1fd2d.svg",alt:""})],-1),Ze=a({__name:"LanguagesPanel",setup(e){const a=N(),{locale:l,t:o}=x(),c=j("locale","en");return V(l,(()=>{c.value=l.value})),(e,c)=>(s(),t("div",{id:"languages-panel",class:i([["languages"===n(a).active&&"is-active"],"right-panel-wrapper is-languages"])},[v("div",{class:"panel-overlay",tabindex:"0",role:"button",onKeydown:c[0]||(c[0]=m(w((e=>n(a).close()),["prevent"]),["space"])),onClick:c[1]||(c[1]=e=>n(a).close())},null,32),v("div",Se,[v("div",Ce,[v("h3",null,g(n(o)("select-language")),1),v("a",{class:"close-panel",tabindex:"0",role:"button",onKeydown:c[2]||(c[2]=m(w((e=>n(a).close()),["prevent"]),["space"])),onClick:c[3]||(c[3]=e=>n(a).close())},Te,32)]),v("div",Ue,[v("div",Ke,[v("div",Ae,[v("div",Be,[S(v("input",{"onUpdate:modelValue":c[4]||(c[4]=e=>h(l)?l.value=e:null),type:"radio",name:"language_selection",value:"en",checked:""},null,512),[[C,n(l)]]),De])]),v("div",Ie,[v("div",Me,[S(v("input",{"onUpdate:modelValue":c[5]||(c[5]=e=>h(l)?l.value=e:null),type:"radio",name:"language_selection",value:"fr"},null,512),[[C,n(l)]]),Oe])]),v("div",Pe,[v("div",$e,[S(v("input",{"onUpdate:modelValue":c[6]||(c[6]=e=>h(l)?l.value=e:null),type:"radio",name:"language_selection",value:"es"},null,512),[[C,n(l)]]),ze])]),v("div",Ne,[v("div",Le,[S(v("input",{"onUpdate:modelValue":c[7]||(c[7]=e=>h(l)?l.value=e:null),type:"radio",name:"language_selection",value:"de"},null,512),[[C,n(l)]]),We])]),v("div",Ye,[v("div",Ee,[S(v("input",{"onUpdate:modelValue":c[8]||(c[8]=e=>h(l)?l.value=e:null),type:"radio",name:"language_selection",value:"ar"},null,512),[[C,n(l)]]),Fe])]),v("div",Je,[v("div",qe,[S(v("input",{"onUpdate:modelValue":c[9]||(c[9]=e=>h(l)?l.value=e:null),type:"radio",name:"language_selection",value:"zh-CN"},null,512),[[C,n(l)]]),Ge])])]),He])])],2))}}),Re={class:"inner"},Xe={class:"icon-side-menu"},Qe=v("li",null,[v("a",{"aria-label":"Back to homepage",href:"/"},[v("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:activity"})])],-1),ea={class:"bottom-icon-side-menu"},aa=a({__name:"MobileSidebar",props:{isOpen:{type:Boolean}},emits:["toggle"],setup(e,{emit:a}){const n=e;return(e,o)=>(s(),t(u,null,[v("div",{class:i([[n.isOpen&&"is-active"],"mobile-main-sidebar"])},[v("div",Re,[v("ul",Xe,[l(e.$slots,"links",{},(()=>[Qe]))]),v("ul",ea,[l(e.$slots,"bottom-links")])])],2),n.isOpen?(s(),t("div",{key:0,class:"mobile-overlay",tabindex:"0",role:"button",onKeydown:o[0]||(o[0]=m(w((e=>a("toggle")),["prevent"]),["space"])),onClick:o[1]||(o[1]=e=>a("toggle"))},null,32)):b("",!0)],64))}}),sa={class:"navbar mobile-navbar is-hidden-desktop is-hidden-tablet","aria-label":"main navigation"},ta={class:"container"},la={class:"navbar-brand"},ia={class:"brand-start"},na=[v("span",null,null,-1),v("span",null,null,-1),v("span",null,null,-1)],oa=a({__name:"MobileNavbar",props:{isOpen:{type:Boolean}},emits:["toggle"],setup(e,{emit:a}){const n=e;return(e,o)=>(s(),t("nav",sa,[v("div",ta,[v("div",la,[v("div",ia,[v("div",{class:i(["navbar-burger",[n.isOpen&&"is-active"]]),tabindex:"0",role:"button",onKeydown:o[0]||(o[0]=m(w((e=>a("toggle")),["prevent"]),["space"])),onClick:o[1]||(o[1]=e=>a("toggle"))},na,34)]),l(e.$slots,"brand")])])]))}}),ca=["onKeydown","onClick"],ra={class:"dropdown-head"},da={style:{display:"flex !important","flex-direction":"column !important","margin-left":"10px !important"}},ua={style:{color:"var(--light-text)","text-transform":"capitalize"}},pa={class:"dropdown-item is-button"},va=o(a({__name:"UserProfileDropdown",setup(e){const a=r(),t=T();async function l(){a.logoutUser(),await t.push({path:"/"}),t.go(0)}return Z(),(e,t)=>{const i=H,o=k,c=G;return s(),U(c,{right:"",spaced:"",class:"user-dropdown profile-dropdown"},{button:f((({toggle:e})=>[v("a",{role:"button",tabindex:"0",class:"is-trigger dropdown-trigger","aria-haspopup":"true",onKeydown:m(w(e,["prevent"]),["space"]),onClick:e},[_(i,{picture:n(a).user&&n(a)?.user?.avatar?n(a)?.user?.avatar:"/images/avatars/svg/vuero-1.svg"},null,8,["picture"])],40,ca)])),content:f((()=>[v("div",ra,[_(i,{size:"large",picture:n(a).user&&n(a).user.avatar?n(a).user.avatar:"/images/avatars/svg/vuero-1.svg"},null,8,["picture"]),v("div",da,[v("span",null,g(n(a).user&&n(a).user.username),1),v("span",ua,g(n(a).user&&n(a).user.role),1)])]),v("div",pa,[_(o,{class:"logout-button",icon:"feather:log-out",color:"primary",role:"menuitem",raised:"",fullwidth:"",onClick:l},{default:f((()=>[y(" Logout ")])),_:1})])])),_:1})}}}),[["__scopeId","data-v-db661640"]]);export{va as _,oa as a,aa as b,Ze as c,Ve as d,Q as e,R as f};
