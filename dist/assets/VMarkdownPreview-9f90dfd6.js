import{e,r as t,t as i,ag as a,Z as s,h as r,aA as l,l as h,_ as n,R as m}from"./index-666288a0.js";const d=m(e({name:"VMarkdownPreview",props:{source:{type:String,default:""},size:{type:String,default:void 0},maxWidth:{type:String,default:void 0},shiki:{type:Object,default:()=>({theme:{light:"min-light",dark:"github-dark-dimmed"},langs:["vue","vue-html","typescript","bash","scss"]})},placeholder:{type:Object,default:()=>({height:"100px"})}},setup(e){const m=t(),d=i(),u=t(!1),_=t("");a((async()=>{const t=d.isDark,i=e.shiki.langs,a={light:"string"==typeof e.shiki.theme?e.shiki.theme:e.shiki.theme.light,dark:"string"==typeof e.shiki.theme?e.shiki.theme:e.shiki.theme.dark},{remarkShiki:s,rehypeExternalLinks:r,rehypeRaw:l,rehypeSanitize:h,defaultSchema:u,rehypeStringify:_,rehypeSlug:o,rehypeAutolinkHeadings:p,remarkGfm:c,remarkParse:g,remarkRehype:f,getHighlighter:k,unified:y}=await async function(){const[e,t,i,[a,s],r,l,h,m,d,u,[_,o],p]=await Promise.all([n((()=>import("./index-dfe8b89c.js")),["assets/index-dfe8b89c.js","assets/index-666288a0.js","assets/index-ce8747cd.css","assets/index-60eaa22f.js","assets/index-76358a05.js"]).then((e=>e.default)),n((()=>import("./index-47c14ae6.js")),["assets/index-47c14ae6.js","assets/index-f21c7c16.js","assets/index-4d24ec2a.js","assets/index-666288a0.js","assets/index-ce8747cd.css","assets/index-60eaa22f.js","assets/index-76358a05.js"]).then((e=>e.default)),n((()=>import("./index-46669ab7.js")),["assets/index-46669ab7.js","assets/index-ffc6f090.js","assets/index-82a6c6e9.js","assets/index-8023ccec.js","assets/index-f21c7c16.js"]).then((e=>e.default)),n((()=>import("./index-15a8ef9a.js")),["assets/index-15a8ef9a.js","assets/index-ffc6f090.js","assets/index-8023ccec.js"]).then((e=>[e.default,e.defaultSchema])),n((()=>import("./index-bf0cc680.js")),["assets/index-bf0cc680.js","assets/index-82a6c6e9.js","assets/index-ef6a7e57.js","assets/index-f21c7c16.js"]).then((e=>e.default)),n((()=>import("./index-ab038608.js")),["assets/index-ab038608.js","assets/index-60eaa22f.js","assets/index-76358a05.js","assets/index-f231174b.js"]).then((e=>e.default)),n((()=>import("./index-75222f56.js")),["assets/index-75222f56.js","assets/index-4d24ec2a.js","assets/index-666288a0.js","assets/index-ce8747cd.css","assets/index-60eaa22f.js","assets/index-76358a05.js","assets/index-f231174b.js"]).then((e=>e.default)),n((()=>import("./index-1cb71b2e.js")),["assets/index-1cb71b2e.js","assets/index-0c7421de.js","assets/index-ef6a7e57.js","assets/index-76358a05.js"]).then((e=>e.default)),n((()=>import("./index-78bafa18.js")),["assets/index-78bafa18.js","assets/index-0c7421de.js"]).then((e=>e.default)),n((()=>import("./index-ecd0ca61.js")),["assets/index-ecd0ca61.js","assets/index-60eaa22f.js","assets/index-76358a05.js"]).then((e=>e.default)),n((()=>import("./index.esm-2ef1f020.js")),["assets/index.esm-2ef1f020.js","assets/index-666288a0.js","assets/index-ce8747cd.css"]).then((e=>[e.getHighlighter,e.setCDN])),n((()=>import("./index-77100f16.js")),["assets/index-77100f16.js","assets/index-ffc6f090.js"]).then((e=>e.unified))]);return o("/shiki/"),{remarkShiki:e,rehypeExternalLinks:t,rehypeRaw:i,rehypeSanitize:a,defaultSchema:s,rehypeStringify:r,rehypeSlug:l,rehypeAutolinkHeadings:h,remarkGfm:m,remarkParse:d,remarkRehype:u,getHighlighter:_,unified:p}}(),x=await k({theme:t?a.dark:a.light,langs:i});m.value=y().use(g).use(c).use(s,{highlighter:x}).use(f,{allowDangerousHtml:!0}).use(l).use(h,{...u,attributes:{...u.attributes,pre:[...u.attributes?.pre||[],["className"],["style"]],code:[...u.attributes?.code||[],["className"],["style"]],i:[...u.attributes?.i||[],["className"]],span:[...u.attributes?.span||[],["className"],["style"],["dataHint"]]}}).use(r,{rel:["nofollow"],target:"_blank"}).use(o).use(p,{behavior:"append",content:{type:"element",tagName:"i",properties:{className:["iconify toc-link-anchor"],dataIcon:"feather:link"},children:[]}}).use(_)})),a((()=>{const t=h(e.source),i=h(m);if(!i)return;if(!t)return;const a=i.processSync(t).toString();u.value=!0,_.value=a}));const o=s((()=>({"markdown content":!0,"is-max-width-fullwidth":"fullwidth"===e.maxWidth,"is-max-width-medium":"medium"===e.maxWidth,"is-max-width-small":"small"===e.maxWidth,"is-small":"small"===e.size,"is-medium":"medium"===e.size,"is-large":"large"===e.size})));return()=>u.value?r("div",{class:o.value,innerHTML:_.value}):r(l,{...e.placeholder,class:{"is-max-width-fullwidth":"fullwidth"===e.maxWidth,"is-max-width-medium":"medium"===e.maxWidth,"is-max-width-small":"small"===e.maxWidth}})}}),[["__scopeId","data-v-a4b40699"]]);export{d as _};
