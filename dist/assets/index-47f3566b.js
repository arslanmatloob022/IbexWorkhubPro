import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-513141d2.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-2957d35c.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-476b15ed.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-a9cf8baf.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-ffb40958.js";import{f as i,b as n,x as o,y as c,r as d,$ as r,o as u,j as p,C as m,D as v,E as f,F as g,G as y,H as _,O as h,N as b,V as C,W as k,U as w,I as x,a4 as V,P as U,Q as S,R as T,S as j,h as I,K as M,L as D,m as A,X as L,J as z,w as P,B as E,al as O,aB as B,k as H,aS as R,A as W}from"./index-a6f90e95.js";import{_ as $}from"./VControl-2918d79c.js";import{_ as N}from"./VInput.vue_vue_type_script_setup_true_lang-4615fc82.js";import{_ as q,a as F}from"./projects-dark-4a371d8a.js";import{u as K}from"./useAPI-a388d998.js";import{_ as Z}from"./VCheckbox.vue_vue_type_style_index_0_lang-901c9921.js";import{_ as J}from"./VCollapse.vue_vue_type_style_index_0_lang-ba0e7e19.js";import{_ as G}from"./VLabel.vue_vue_type_script_setup_true_lang-d6364d4c.js";import{b as Q}from"./route-block-83d24a4e.js";import{_ as X}from"./VModal.vue_vue_type_style_index_0_lang-474bea0c.js";import{_ as Y}from"./VTextarea.vue_vue_type_script_setup_true_lang-3171d2eb.js";import{u as ee}from"./useNotyf-18c8fac3.js";import{_ as le,a as ae}from"./VOption.vue_vue_type_style_index_0_lang-fc60244d.js";import{_ as te}from"./VIconWrap.vue_vue_type_style_index_0_lang-1845e71c.js";import{_ as se,a as ie}from"./search-4-dark-2b5b440c.js";import{_ as ne}from"./VFilePond.vue_vue_type_script_lang-5249154b.js";import{c as oe}from"./useSupportElement-295717ea.js";import{_ as ce}from"./VDropdown.vue_vue_type_style_index_0_lang-0d9beffb.js";import{u as de}from"./company-1b37374e.js";import{u as re}from"./layoutSwitcher-d8db8ce5.js";import{u as ue}from"./viewWrapper-2fd52d42.js";import"./VFlex.vue_vue_type_style_index_0_lang-c4bbc341.js";import"./VPlaceloadWrap-3abd0aff.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-43a211e4.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-3864fd8a.js";import"./useVFieldContext-c68823e7.js";import"./VIcon.vue_vue_type_script_setup_true_lang-435015bc.js";import"./notyf-9422c675.js";import"./useThemeColors-d0db8b0f.js";import"./via-placeholder-24645670.js";import"./useDropdown-4b6cdb5d.js";const pe=e=>(S("data-v-d672db14"),e=e(),T(),e),me={class:"columns is-multiline"},ve={class:"column is-12"},fe={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},ge=pe((()=>f("i",{class:"fa fa-search"},null,-1))),ye={class:"timeline-wrapper"},_e=pe((()=>f("div",{class:"timeline-header"},null,-1))),he={class:"timeline-wrapper-inner no-padding-all"},be={class:"timeline-container"},Ce={class:"date"},ke={class:"content-wrap"},we={class:"content-box"},xe={class:"box-text"},Ve={class:"meta-text"},Ue=["innerHTML"],Se=pe((()=>f("img",{class:"light-image is-larger",src:q,alt:""},null,-1))),Te=pe((()=>f("img",{class:"dark-image is-larger",src:F,alt:""},null,-1))),je=j(i({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(i){n();const S=o(),T=c(),j=K(),I=d(!1),M=d([]),D=d(!1),A=d("2"),L=async()=>{I.value=!0;try{const e=await j.get("/api/activity-logs/");M.value=e.data}catch(e){console.error("Error fetching worker activities:",e)}finally{I.value=!1}},z={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const P=d(1),E=d(10),O=d(""),B=r((()=>{const e=O.value.toLowerCase(),l=function(e){const l=new Date,a=new Date,t=new Date;switch(e){case"1":a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":a.setDate(l.getDate()-1),a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":a.setDate(l.getDate()-7);break;case"14":a.setDate(l.getDate()-14);break;case"30":a.setDate(l.getDate()-30);break;case"90":a.setDate(l.getDate()-90);break;default:return null}return{start:a,end:t}}(A.value),a=M.value.filter((a=>{const t=a.actor_info?.username.toLowerCase().includes(e)||a.actor_info?.last_name&&a.actor_info?.last_name?.toLowerCase().includes(e)||a.message.toLowerCase().includes(e);if(l){const e=new Date(a.timestamp);return t&&e>=l.start&&e<=l.end}return t}));return D.value=a.length>0,a}));r((()=>{const e=(P.value-1)*E.value,l=e+E.value;return B.value.slice(e,l)}));const H=r((()=>B.value.length>E.value)),R=e=>{P.value=e,S.push({path:T.path,query:{...T.query,page:e}})};return u((()=>{P.value=parseInt(T.query.page)||1,L()})),p((()=>{})),(i,n)=>{const o=N,c=$,d=U,r=s,u=t,p=a,S=l,T=e;return m(),v("div",me,[f("div",ve,[f("div",fe,[g(r,{addons:"",style:{width:"21rem"}},{default:y((()=>[g(c,{expanded:""},{default:y((()=>[g(o,{onKeypress:_(L,["enter"]),type:"text",class:"input",modelValue:O.value,"onUpdate:modelValue":n[0]||(n[0]=e=>O.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),g(c,null,{default:y((()=>[g(d,{color:"primary",onClick:L},{default:y((()=>[ge])),_:1})])),_:1})])),_:1}),f("div",ye,[_e,f("div",he,[f("div",be,[I.value?(m(),h(u,{key:0})):b("",!0),(m(!0),v(C,null,k(M.value,(e=>{return m(),v("div",{class:"timeline-item is-unread",key:e?.id},[f("div",Ce,[f("span",null,w((l=e?.timestamp.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),f("div",{class:x(["dot",z[e.action]])},null,2),f("div",ke,[f("div",we,[g(p,{picture:e?.actor_info.avatar},null,8,["picture"]),f("div",xe,[f("div",Ve,[f("p",null,[f("span",{style:V({color:""+(e.actor===e?.object_id?"var(--red)":"")})},w(e?.actor_info.username)+" "+w(e?.actor_info.last_name)+". ",5),f("span",{class:"action-message",innerHTML:e?.message},null,8,Ue)]),f("span",null,w(e?.timestamp.slice(11,16)),1)])])])])]);var l})),128)),D.value||I.value?b("",!0):(m(),h(S,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:y((()=>[Se,Te])),_:1}))])]),H.value?(m(),h(T,{key:0,"current-page":P.value,"onUpdate:currentPage":[n[1]||(n[1]=e=>P.value=e),R],"item-per-page":E.value,"total-items":B.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):b("",!0)])])])])}}}),[["__scopeId","data-v-d672db14"]]),Ie=e=>(S("data-v-08c5b175"),e=e(),T(),e),Me={class:"role-management"},De={class:"role-category"},Ae={class:"role-table"},Le=Ie((()=>f("th",null,"View",-1))),ze=Ie((()=>f("th",null,"Add",-1))),Pe=Ie((()=>f("th",null,"Edit",-1))),Ee=Ie((()=>f("th",null,"Delete",-1))),Oe={class:"pt-5"},Be=j(i({__name:"ManageRole",setup(e){const l=I([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(e,a)=>{const t=Z,i=$,n=s;return m(),v("div",Me,[(m(!0),v(C,null,k(l,(e=>(m(),v("div",{key:e.category,class:"role-section"},[f("h3",De,w(e.category),1),f("table",Ae,[f("thead",null,[f("tr",null,[f("th",null,w(e.title),1),Le,ze,Pe,Ee])]),f("tbody",null,[(m(!0),v(C,null,k(e.items,(e=>(m(),v("tr",{key:e.name},[f("td",Oe,w(e.name),1),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.view,"onUpdate:modelValue":l=>e.view=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.add,"onUpdate:modelValue":l=>e.add=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.edit,"onUpdate:modelValue":l=>e.edit=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.delete,"onUpdate:modelValue":l=>e.delete=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),He={class:"column is-12"},Re=i({__name:"RoleManagement",setup(e){const l=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,a)=>{const t=J;return m(),v("div",He,[g(t,{items:l,"with-chevron":""})])}}}),We={class:"pill"},$e=i({__name:"BulletPill",setup:e=>(e,l)=>(m(),v("span",We))});"function"==typeof Q&&Q($e);const Ne=j($e,[["__scopeId","data-v-325a7b2c"]]),qe=i({name:"FolderSettings",setup(){const e=I({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),Fe=e=>(S("data-v-ff241c58"),e=e(),T(),e),Ke={class:""},Ze={class:"section"},Je={class:"title is-5"},Ge={class:"mt-5"},Qe=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Xe=Fe((()=>f("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),Ye=Fe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),el={class:"columns is-multiline"},ll={class:"column is-3"},al=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),tl=Fe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),sl={class:"column is-3"},il=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),nl=Fe((()=>f("h2",{class:"title is-6"},"Clients",-1))),ol={class:"section"},cl={class:"title is-5"},dl={class:"mt-5"},rl=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ul=Fe((()=>f("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),pl={class:"columns is-multiline"},ml={class:"column is-6"},vl=Fe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),fl={class:"columns is-multiline"},gl={class:"column is-6"},yl=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),_l=Fe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),hl={class:"column is-6"},bl=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Cl=Fe((()=>f("h2",{class:"title is-6"},"Clients",-1))),kl={class:"column is-6"},wl=Fe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),xl={class:"columns is-multiline"},Vl={class:"column is-6"},Ul=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Sl=Fe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),Tl={class:"column is-6"},jl=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Il=Fe((()=>f("h2",{class:"title is-6"},"Clients",-1))),Ml={class:"section"},Dl={class:"title is-5"},Al=Fe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Ll={class:"columns is-multiline"},zl={class:"column is-3"},Pl=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),El=Fe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),Ol={class:"column is-3"},Bl=Fe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Hl=Fe((()=>f("h2",{class:"title is-6"},"Clients",-1)));const Rl=j(qe,[["render",function(e,l,a,t,s,i){const n=Ne,o=N,c=G,d=$;return m(),v("div",Ke,[f("div",Ze,[f("h3",Je,[g(n),M(" Document folders ")]),f("div",Ge,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),Qe])),_:1}),Xe])),_:1})])]),f("div",null,[Ye,f("div",el,[f("div",ll,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),al])),_:1}),tl])),_:1})])]),f("div",sl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),il])),_:1}),nl])),_:1})])])])])]),f("div",ol,[f("h3",cl,[g(n),M(" Photo folders ")]),f("div",dl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),rl])),_:1}),ul])),_:1})])]),f("div",pl,[f("div",ml,[vl,f("div",fl,[f("div",gl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),yl])),_:1}),_l])),_:1})])]),f("div",hl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),bl])),_:1}),Cl])),_:1})])])])]),f("div",kl,[wl,f("div",xl,[f("div",Vl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),Ul])),_:1}),Sl])),_:1})])]),f("div",Tl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),jl])),_:1}),Il])),_:1})])])])])])]),f("div",Ml,[f("h3",Dl,[g(n),M(" Video folders ")]),f("div",null,[Al,f("div",Ll,[f("div",zl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),Pl])),_:1}),El])),_:1})])]),f("div",Ol,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Bl])),_:1}),Hl])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),Wl={class:"modal-form columns is-multiline"},$l={class:"column is-12"},Nl=f("label",{class:"label"},"Title *",-1),ql={class:"column is-12"},Fl=f("label",{class:"label"},"Description",-1),Kl=i({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=K(),i=d(!1),n=ee(),o=d({id:a.trade?.id||"",name:a.trade?.name||"",description:a.trade?.description||""}),c=()=>{l("update:modalHandler",!1)},r=async()=>{try{i.value=!0,o.value.id?(await t.patch(`/api/cost-trade/${o.value.id}/`,o.value),n.success("Trade updated successfully")):(await t.post("/api/cost-trade/",o.value),n.success("Trade created successfully")),l("update:OnSuccess"),c()}catch(e){console.log(e)}finally{i.value=!1}};return(e,l)=>{const a=Y,t=$,n=s,d=U,u=X;return m(),h(u,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:z(r,["prevent"]),onClose:c},{content:y((()=>[f("div",Wl,[f("div",$l,[Nl,D(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>A(o).name=e)},null,512),[[L,A(o).name]])]),f("div",ql,[Fl,g(n,null,{default:y((()=>[g(t,null,{default:y((()=>[g(a,{modelValue:A(o).description,"onUpdate:modelValue":l[1]||(l[1]=e=>A(o).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:y((()=>[g(d,{type:"submit",color:"primary",loading:A(i),raised:""},{default:y((()=>[M("Save")])),_:1},8,["loading"])])),cancel:y((()=>[g(d,{color:"light",onClick:c,raised:""},{default:y((()=>[M("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Zl={class:"modal-form columns is-multiline"},Jl={class:"column is-6"},Gl={class:"field"},Ql=f("label",{class:"label"},"Title *",-1),Xl={class:"control"},Yl={class:"column is-6"},ea={class:"field"},la=f("label",{class:"label"},"Trade *",-1),aa={class:"column is-12"},ta={class:"field"},sa=f("label",{class:"label"},"Description",-1),ia=i({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=K(),i=d(!1),n=ee(),o=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});d("");const p=async()=>{try{if(o.value=!0,a.categoryId){await t.patch(`/api/cost-category/${a.categoryId}/`,r.value)}else{await t.post("/api/cost-category/",r.value)}l("update:OnSuccess",null),n.success(`Category  ${a.categoryId?"updated":"created"} successfully`),c()}catch(e){console.log(e)}finally{o.value=!1}},_=d([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return u((()=>{a.categoryId&&(async()=>{try{o.value=!0;const e=await t.get(`/api/cost-category/${a.categoryId}/`);r.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})(),(async()=>{try{o.value=!0;const e=await t.get("/api/cost-trade/");_.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})()})),(e,l)=>{const t=le,n=ae,o=$,d=Y,u=s,b=U,x=X;return m(),h(x,{is:"form",open:a.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:z(p,["prevent"]),onClose:c},{content:y((()=>[f("div",Zl,[f("div",Jl,[f("div",Gl,[Ql,f("div",Xl,[D(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>A(r).name=e)},null,512),[[L,A(r).name]])])])]),f("div",Yl,[f("div",ea,[la,g(o,null,{default:y((()=>[g(n,{modelValue:A(r).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>A(r).trade=e),required:""},{default:y((()=>[(m(!0),v(C,null,k(A(_),(e=>(m(),h(t,{value:e.id},{default:y((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),f("div",aa,[f("div",ta,[sa,g(u,null,{default:y((()=>[g(o,null,{default:y((()=>[g(d,{modelValue:A(r).description,"onUpdate:modelValue":l[2]||(l[2]=e=>A(r).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:y((()=>[g(b,{type:"submit",color:"primary",loading:A(i),raised:""},{default:y((()=>[M(w(a.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:y((()=>[g(b,{color:"light",onClick:c,raised:""},{default:y((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),na={class:"modal-form columns is-multiline"},oa={class:"column is-6"},ca={class:"field"},da=f("label",{class:"label"},"Title * ",-1),ra={class:"control"},ua={class:"column is-6"},pa={class:"field"},ma=f("label",{class:"label"},"Category *",-1),va={class:"control"},fa={class:"field column is-12"},ga=f("label",{class:"label"},"Sub code of ",-1),ya={class:"control"},_a={class:"column is-12"},ha={class:"columns is-multiline"},ba={class:"field column is-6"},Ca=f("label",{class:"label"},null,-1),ka={key:0,class:"column is-6"},wa={class:"field"},xa=f("label",{class:"label"},"Default labour cost ($)",-1),Va={class:"control"},Ua={class:"column is-4"},Sa={class:"field"},Ta=f("label",{class:"label"},"Unit cost ($)",-1),ja={class:"control"},Ia={class:"column is-4"},Ma={class:"field"},Da=f("label",{class:"label"},"Worker cost ($)",-1),Aa={class:"control"},La={class:"column is-4"},za={class:"field"},Pa=f("label",{class:"label"},"Unit",-1),Ea=f("hr",null,null,-1),Oa={class:"column is-12"},Ba={class:"field"},Ha=f("label",{class:"label"},"Description",-1),Ra=i({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=K(),i=d(!1),n=ee(),o=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",category:a.codeCategoryId||"",parent_code:a.parentCodeId||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit:"--",unit_cost:0,is_active:!0}),p=async()=>{try{if(o.value=!0,a.costCodeId){await t.patch(`/api/cost-code/${a.costCodeId}/`,r.value);n.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",r.value);n.success("Cost code created successfully")}c(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{o.value=!1}},_=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=d([]),V=async(e="")=>{try{o.value=!0;const l=await t.get(`/api/cost-code/?category=${e}`);x.value=l.data.map((e=>({...e,value:e.id,label:e.name})))}catch(l){console.log(l)}finally{o.value=!1}};P((()=>r.value.category),(e=>{V(e)}));const S=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]);return u((()=>{console.log(a.codeCategoryId),a.costCodeId&&(async()=>{try{o.value=!0;const e=await t.get(`/api/cost-code/${a.costCodeId}/`);r.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})(),(async()=>{try{i.value=!0;const e=await t.get("/api/units/");S.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})(),(async()=>{try{o.value=!0;const e=await t.get("/api/cost-category/");_.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})(),V()})),(e,l)=>{const t=le,n=ae,o=$,d=s,u=E("Multiselect"),V=Z,T=Y,j=U,I=X;return m(),h(I,{is:"form",open:a.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:z(p,["prevent"]),onClose:c},{content:y((()=>[f("div",na,[f("div",oa,[f("div",ca,[da,f("div",ra,[D(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>A(r).name=e)},null,512),[[L,A(r).name]])])])]),f("div",ua,[f("div",pa,[ma,f("div",va,[g(d,null,{default:y((()=>[g(o,null,{default:y((()=>[g(n,{modelValue:A(r).category,"onUpdate:modelValue":l[1]||(l[1]=e=>A(r).category=e),required:""},{default:y((()=>[g(t,{value:""},{default:y((()=>[M(" Select a category ")])),_:1}),(m(!0),v(C,null,k(A(_),(e=>(m(),h(t,{value:e.id},{default:y((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),f("div",fa,[ga,f("div",ya,[g(d,null,{default:y((({id:a})=>[g(o,null,{default:y((()=>[g(u,{disabled:!!e.CategoryMode,modelValue:A(r).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>A(r).parent_code=e),attrs:{id:a},searchable:!0,options:A(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),f("div",_a,[f("div",ha,[f("div",ba,[Ca,g(d,{class:"is-flex"},{default:y((()=>[g(o,{raw:"",subcontrol:""},{default:y((()=>[g(V,{modelValue:A(r).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>A(r).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),A(r).is_labour_code?(m(),v("div",ka,[f("div",wa,[xa,f("div",Va,[D(f("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>A(r).labour_cost=e)},null,512),[[L,A(r).labour_cost]])])])])):b("",!0)])]),f("div",Ua,[f("div",Sa,[Ta,f("div",ja,[D(f("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>A(r).unit_cost=e)},null,512),[[L,A(r).unit_cost]])])])]),f("div",Ia,[f("div",Ma,[Da,f("div",Aa,[D(f("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":l[6]||(l[6]=e=>A(r).worker_cost=e)},null,512),[[L,A(r).worker_cost]])])])]),f("div",La,[f("div",za,[Pa,g(o,null,{default:y((()=>[g(n,{modelValue:A(r).unit,"onUpdate:modelValue":l[7]||(l[7]=e=>A(r).unit=e)},{default:y((()=>[g(t,{value:""},{default:y((()=>[M(" Select Unit ")])),_:1}),(m(!0),v(C,null,k(A(S),(e=>(m(),h(t,{value:e.value},{default:y((()=>[M(w(e.title)+" ("+w(e.value??"")+") ",1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),Ea,f("div",Oa,[f("div",Ba,[Ha,g(d,null,{default:y((()=>[g(o,null,{default:y((()=>[g(T,{modelValue:A(r).description,"onUpdate:modelValue":l[8]||(l[8]=e=>A(r).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:y((()=>[g(j,{type:"submit",color:"primary",loading:A(i),raised:""},{default:y((()=>[M(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:y((()=>[g(j,{color:"light",onClick:c,raised:""},{default:y((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Wa=e=>(S("data-v-2f1f2834"),e=e(),T(),e),$a={class:"list-flex-toolbar flex-list-v1"},Na={key:0,class:"columns is-multiline"},qa={class:"column is-12"},Fa={key:1,class:"page-content-inner"},Ka=Wa((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),Za=Wa((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),Ja={class:"table is-hoverable is-fullwidth"},Ga=Wa((()=>f("thead",null,[f("tr",null,[f("th",null,"Title"),f("th",null,"Description"),f("th",null,"Children"),f("th",{class:"is-end"},"Actions")])],-1))),Qa={class:"is-end"},Xa={class:"is-flex is-justify-content-flex-end"},Ya=j(i({__name:"TradeComp",setup(e){const a=ee(),t=d(!1);d("Items list");const i=d([]),n=K(),o=d(""),c=d(!1),p=d(null),_=async()=>{try{t.value=!0;const e=await n.get("/api/cost-trade/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{p.value=e,c.value=!0},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return i.value.filter((l=>l.name?.match(e)))}return i.value}));return u((()=>{_()})),(e,i)=>{const d=$,r=s,u=U,S=O,T=B,j=l,I=te,A=Kl;return m(),v("div",null,[f("div",$a,[g(r,null,{default:y((()=>[g(d,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,o.value]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(u,{onClick:i[1]||(i[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:y((()=>[M(" Trade ")])),_:1})])),_:1})]),t.value?(m(),v("div",Na,[f("div",qa,[(m(),v(C,null,k(20,(e=>g(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(m(),v("div",Fa,[V.value.length?b("",!0):(m(),h(j,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:y((()=>[Ka,Za])),_:1})),f("table",Ja,[Ga,f("tbody",null,[(m(!0),v(C,null,k(V.value,(e=>(m(),v("tr",{key:e.id},[f("td",null,w(e.name??"n/a"),1),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.codes?.length||0),1),f("td",Qa,[f("div",Xa,[g(I,{onClick:l=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{await n.delete(`/api/cost-trade/${e}/`),a.success("Trade deleted successfully"),_()}catch(l){console.log(l),a.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])])),c.value?(m(),h(A,{key:2,openTradeModal:c.value,trade:p.value,"onUpdate:modalHandler":i[2]||(i[2]=e=>c.value=!1),"onUpdate:OnSuccess":_},null,8,["openTradeModal","trade"])):b("",!0)])}}}),[["__scopeId","data-v-2f1f2834"]]),et=e=>(S("data-v-43528037"),e=e(),T(),e),lt={class:"list-flex-toolbar flex-list-v1"},at={key:0,class:"columns is-multiline"},tt={class:"column is-12"},st={key:1,class:"page-content-inner"},it=et((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),nt=et((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),ot={class:"table is-hoverable is-fullwidth"},ct=et((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),dt={class:"pl-5"},rt={class:"dark-text text-primary"},ut={class:"is-end"},pt={class:"is-flex is-justify-content-flex-end"},mt=j(i({__name:"CostCodes",setup(e){const a=ee(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),n=K(),o=d(""),c=[{}],p=d(!1);d(!1),d(!1);const _=d(""),x=async()=>{try{t.value=!0;const e=await n.get("/api/cost-code/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=$,r=s,u=U,S=O,T=B,j=l,I=te,z=Ra;return m(),v("div",null,[f("div",lt,[g(r,null,{default:y((()=>[g(d,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>H(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(o)]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(u,{color:"primary",onClick:c[1]||(c[1]=e=>p.value=!A(p)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[M(" Cost Code ")])),_:1})])),_:1})]),A(t)?(m(),v("div",at,[f("div",tt,[(m(),v(C,null,k(20,(e=>g(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(m(),v("div",st,[A(V).length?b("",!0):(m(),h(j,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[it,nt])),_:1})),f("table",ot,[ct,f("tbody",null,[(m(!0),v(C,null,k(A(i),(e=>(m(),v("tr",{key:e.id,class:"sub-item"},[f("td",dt,[f("p",rt,w(e.name),1)]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",ut,[f("div",pt,[g(I,{onClick:l=>{return a=e.id,_.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-code/${e}/`),x(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])])),A(p)?(m(),h(z,{key:2,addUpdateCostCodeModal:A(p),"cost-code-id":A(_),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):b("",!0)])}}}),[["__scopeId","data-v-43528037"]]),vt=e=>(S("data-v-e9bf2a7f"),e=e(),T(),e),ft={class:""},gt={class:"list-flex-toolbar flex-list-v1"},yt={key:0,class:"columns is-multiline"},_t={class:"column is-12"},ht={class:"page-content-inner"},bt=vt((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),Ct=vt((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),kt={class:"table is-hoverable is-fullwidth"},wt=vt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),xt={class:"info-text is-bold"},Vt={class:"is-end"},Ut={class:"is-flex is-justify-content-flex-end"},St=j(i({__name:"CategoryComp",setup(e){const a=ee(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),n=K(),o=d(""),c=[{}];d(!1);const p=d(!1);d(!1);const _=d(""),x=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=$,r=s,u=U,S=O,T=B,j=l,I=te,z=ia;return m(),v("div",null,[f("div",ft,[f("div",gt,[g(r,null,{default:y((()=>[g(d,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>H(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(o)]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(u,{onClick:c[1]||(c[1]=e=>p.value=!A(p)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[M(" Category ")])),_:1})])),_:1})]),A(t)?(m(),v("div",yt,[f("div",_t,[(m(),v(C,null,k(20,(e=>g(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):b("",!0),f("div",ht,[A(V).length?b("",!0):(m(),h(j,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[bt,Ct])),_:1})),f("table",kt,[wt,f("tbody",null,[(m(!0),v(C,null,k(A(i),(e=>(m(),v("tr",{key:e.id},[f("td",null,[f("p",xt,w(e.name??"n/a"),1)]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",Vt,[f("div",Ut,[g(I,{onClick:l=>{return a=e?.id,_.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),x(),a.success("delete category")}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),A(p)?(m(),h(z,{key:0,addUpdateCategoryModal:A(p),"category-id":A(_),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0)])}}}),[["__scopeId","data-v-e9bf2a7f"]]),Tt=e=>(S("data-v-1299f547"),e=e(),T(),e),jt={class:"tabs-wrapper"},It={class:"tabs-inner"},Mt={class:"tabs"},Dt=[Tt((()=>f("span",null,"Identity List",-1)))],At=[Tt((()=>f("span",null,"Cost Codes",-1)))],Lt=[Tt((()=>f("span",null,"Category",-1)))],zt=[Tt((()=>f("span",null,"Trade",-1)))],Pt={key:0},Et={class:"columns is-multiline"},Ot={class:"column is-12"},Bt={class:"list-flex-toolbar flex-list-v1"},Ht={class:"page-content-inner"},Rt=Tt((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),Wt=Tt((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),$t={class:"table is-hoverable is-fullwidth"},Nt=Tt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),qt={class:"info-text is-bold"},Ft=["onClick"],Kt={class:"is-end"},Zt={class:"is-flex is-justify-content-flex-end"},Jt={class:"sub-item"},Gt={class:"pl-5"},Qt={class:"dark-text text-primary"},Xt=["onClick"],Yt={class:"is-end"},es={class:"is-flex is-justify-content-flex-end"},ls={class:"child-item"},as={class:"pl-6"},ts=["onClick"],ss=Tt((()=>f("td",null,"-",-1))),is={class:"is-end"},ns={class:"is-flex is-justify-content-flex-end"},os={class:"p-l-60"},cs=Tt((()=>f("td",null,"-",-1))),ds={class:"is-end"},rs={class:"is-flex is-justify-content-flex-end"},us={key:1},ps={key:2},ms={key:3},vs=j(i({__name:"IdentityList",setup(e){const a=ee(),t=d(!1),i=d("itemsList"),n=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),o=K(),c=d(""),p=[{}],V=d(!1),S=d(!1),T=d(!1),j=d(""),I=async e=>{try{t.value=!0;await o.delete(`/api/cost-code/${e}/`);P(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}},P=async()=>{try{t.value=!0;const e=await o.get("/api/cost-category/list/");n.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},E=e=>{j.value=e,V.value=!V.value},R=d(""),W=d(!1),N=d(""),q=(e=null,l=null)=>{console.log(e),console.log(l),R.value="",N.value="",N.value=e,R.value=l,V.value=!0},F=r((()=>{if(c.value){const e=new RegExp(c.value,"i");return p.filter((l=>l.username?.match(e)||l.location?.match(e)))}return p}));return u((()=>{P()})),(e,d)=>{const r=B,u=$,p=s,K=U,Z=O,J=l,G=te,Q=St,X=mt,Y=Ya,ee=Ra,le=ia,ae=Kl;return m(),v("div",null,[f("div",jt,[f("div",It,[f("div",Mt,[f("ul",null,[f("li",{class:x(["itemsList"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[0]||(d[0]=_(z((e=>i.value="itemsList"),["prevent"]),["space"])),onClick:d[1]||(d[1]=e=>i.value="itemsList")},Dt,32)],2),f("li",{class:x(["costCodes"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[2]||(d[2]=_(z((e=>i.value="costCodes"),["prevent"]),["space"])),onClick:d[3]||(d[3]=e=>i.value="costCodes")},At,32)],2),f("li",{class:x(["Category"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[4]||(d[4]=_(z((e=>i.value="Category"),["prevent"]),["space"])),onClick:d[5]||(d[5]=e=>i.value="Category")},Lt,32)],2),f("li",{class:x(["Trade"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[6]||(d[6]=_(z((e=>i.value="Trade"),["prevent"]),["space"])),onClick:d[7]||(d[7]=e=>i.value="Trade")},zt,32)],2)])])])]),"itemsList"==A(i)?(m(),v("div",Pt,[f("div",Et,[f("div",Ot,[A(t)?(m(),v(C,{key:0},k(20,(e=>g(r,{height:"40px",width:"100%",class:"my-2"}))),64)):b("",!0)])]),f("div",Bt,[g(p,null,{default:y((()=>[g(u,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":d[8]||(d[8]=e=>H(c)?c.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(c)]])])),_:1})])),_:1}),g(Z,null,{default:y((()=>[g(K,{color:"primary",onClick:d[9]||(d[9]=e=>q()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:y((()=>[M(" Cost Code ")])),_:1}),g(K,{onClick:d[10]||(d[10]=e=>S.value=!A(S)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:y((()=>[M(" Category ")])),_:1})])),_:1})]),f("div",Ht,[A(F).length?b("",!0):(m(),h(J,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Rt,Wt])),_:1})),f("table",$t,[Nt,f("tbody",null,[(m(!0),v(C,null,k(A(n),(e=>(m(),v(C,{key:e.id},[f("tr",null,[f("td",null,[f("p",qt,[M(w(e.name??"n/a")+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{q(e.id),W.value=!1,W.value=!0}},null,8,Ft)])]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",Kt,[f("div",Zt,[g(G,{onClick:l=>{return a=e?.id,j.value=a,void(S.value=!S.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(G,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-category/${e}/`),a.success("delete category"),P()}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(m(!0),v(C,{key:0},k(e.codes,(e=>(m(),v(C,{key:e?.id},[f("tr",Jt,[f("td",Gt,[f("p",Qt,[M(w(e.name)+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>q(e.category,e.id)},null,8,Xt)])]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",Yt,[f("div",es,[g(G,{onClick:l=>E(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>I(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v(C,{key:e.id},[f("tr",ls,[f("td",as,[M(w(e.name),1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>q(e.category,e.id)},null,8,ts)]),f("td",null,w(e.description||"No description"),1),ss,f("td",is,[f("div",ns,[g(G,{onClick:l=>E(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>I(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v("tr",{key:e.id,class:"child-item"},[f("td",os,w(e.name),1),f("td",null,w(e.description||"No description"),1),cs,f("td",ds,[f("div",rs,[g(G,{onClick:l=>E(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>I(e.id)},null,8,["onClick"])])])])))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128))])])])])):b("",!0),"Category"==A(i)?(m(),v("div",us,[g(Q)])):b("",!0),"costCodes"==A(i)?(m(),v("div",ps,[g(X)])):b("",!0),"Trade"==A(i)?(m(),v("div",ms,[g(Y)])):b("",!0),A(V)?(m(),h(ee,{key:4,addUpdateCostCodeModal:A(V),"cost-code-id":A(j),parentCodeId:A(R),codeCategoryId:A(N),CategoryMode:A(W),"onUpdate:modalHandler":d[11]||(d[11]=e=>{V.value=!1,W.value=!1}),"onUpdate:OnSuccess":d[12]||(d[12]=e=>P())},null,8,["addUpdateCostCodeModal","cost-code-id","parentCodeId","codeCategoryId","CategoryMode"])):b("",!0),A(S)?(m(),h(le,{key:5,addUpdateCategoryModal:A(S),"category-id":A(j),"onUpdate:modalHandler":d[13]||(d[13]=e=>S.value=!1),"onUpdate:OnSuccess":d[14]||(d[14]=e=>P())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0),A(T)?(m(),h(ae,{key:6,addUpdateTradeModal:A(T),"onUpdate:modalHandler":d[15]||(d[15]=e=>T.value=!1),"onUpdate:OnSuccess":d[16]||(d[16]=e=>P())},null,8,["addUpdateTradeModal"])):b("",!0)])}}}),[["__scopeId","data-v-1299f547"]]),fs=e=>(S("data-v-3775b8bc"),e=e(),T(),e),gs=fs((()=>f("div",{class:"list-flex-toolbar flex-list-v1"},null,-1))),ys={class:"page-content-inner"},_s=fs((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),hs=fs((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),bs={class:"columns is-multiline"},Cs={class:"column is-6"},ks={class:"column is-6"},ws={class:"column is-6"},xs={class:"column is-6"},Vs={class:"column is-12"},Us={class:"column is-3"},Ss={class:"column is-3"},Ts={class:"column is-3"},js={class:"column is-3"},Is={class:"column is-6"},Ms={class:"column is-6"},Ds={class:"columns is-multiline"},As=fs((()=>f("div",{class:"column is-12"},[f("h1",{class:"title is-4"},"Company Logos")],-1))),Ls={class:"column is-4 is-flex"},zs={class:"column is-4 is-flex"},Ps={class:"column is-4 is-flex"},Es=j(i({__name:"CompanyInformation",setup(e){ee();const t=d(!1),i=K();d(""),d(!1);const n=d({id:"",name:"",trade_name:"",zipCode:null,city:"",state:null,country:null,address:null,phone_number:null,email:null,website:null,logo:null,created_at:"",updated_at:"",sidebar_logo:"",favicon:null,invoice_header_logo:null,login_page_logo:"",branding_line:""}),o=async()=>{try{t.value=!0;const e=await i.get("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/");n.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},c=async e=>{try{t.value=!0;const l=await i.patch("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/",e);o(),n.value=l.data}catch(l){console.log(l)}finally{t.value=!1}},r=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(n.value.logo=a,c({logo:a}))},p=(e,l)=>{e?console.error(e):(console.log(l),n.value.logo=null)},_=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(n.value.favicon=a,c({favicon:a}),oe(n.value.favicon))},C=(e,l)=>{e?console.error(e):(console.log(l),n.value.favicon=null)},k=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(n.value.invoice_header_logo=a,c({invoice_header_logo:a}))},w=(e,l)=>{e?console.error(e):(console.log(l),n.value.invoice_header_logo=null)};return u((()=>{o()})),(e,t)=>{const i=l,o=G,d=N,u=$,x=s,V=a,U=ne;return m(),v("div",null,[gs,f("div",ys,[A(n).name?b("",!0):(m(),h(i,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[_s,hs])),_:1})),f("div",bs,[f("div",Cs,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Company Name")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).name,"onUpdate:modelValue":t[0]||(t[0]=e=>A(n).name=e),type:"text",placeholder:"Company Name",onBlur:t[1]||(t[1]=e=>c({name:A(n).name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ks,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Trade Name")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).trade_name,"onUpdate:modelValue":t[2]||(t[2]=e=>A(n).trade_name=e),type:"text",placeholder:"Trade Name",onBlur:t[3]||(t[3]=e=>c({trade_name:A(n).trade_name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ws,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Email Address")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).email,"onUpdate:modelValue":t[4]||(t[4]=e=>A(n).email=e),type:"text",placeholder:"Company Email",onBlur:t[5]||(t[5]=e=>c({email:A(n).email}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",xs,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Phone Number")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).phone_number,"onUpdate:modelValue":t[6]||(t[6]=e=>A(n).phone_number=e),type:"text",placeholder:"Phone Number",onBlur:t[7]||(t[7]=e=>c({phone_number:A(n).phone_number}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Vs,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Company Website")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).website,"onUpdate:modelValue":t[8]||(t[8]=e=>A(n).website=e),type:"url",placeholder:"Website URL",onBlur:t[9]||(t[9]=e=>c({website:A(n).website}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Us,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Zip Code")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).zipCode,"onUpdate:modelValue":t[10]||(t[10]=e=>A(n).zipCode=e),type:"text",placeholder:"Zip Code",onBlur:t[11]||(t[11]=e=>c({zipCode:A(n).zipCode}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ss,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("City ")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).city,"onUpdate:modelValue":t[12]||(t[12]=e=>A(n).city=e),type:"text",placeholder:"City",onBlur:t[13]||(t[13]=e=>c({city:A(n).city}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ts,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("State")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).state,"onUpdate:modelValue":t[14]||(t[14]=e=>A(n).state=e),type:"text",placeholder:"State",onBlur:t[15]||(t[15]=e=>c({state:A(n).state}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",js,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Country")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).country,"onUpdate:modelValue":t[16]||(t[16]=e=>A(n).country=e),type:"text",placeholder:"Country",onBlur:t[17]||(t[17]=e=>c({country:A(n).country}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Is,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Complete Address")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).address,"onUpdate:modelValue":t[18]||(t[18]=e=>A(n).address=e),type:"text",placeholder:"Address",onBlur:t[19]||(t[19]=e=>c({address:A(n).address}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ms,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Company One Liner")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).branding_line,"onUpdate:modelValue":t[20]||(t[20]=e=>A(n).branding_line=e),type:"text",placeholder:"john.doe",onBlur:t[21]||(t[21]=e=>c({branding_line:A(n).branding_line}))},null,8,["modelValue"])])),_:1})])),_:1})])]),f("div",Ds,[As,f("div",Ls,[g(x,{label:"Sidebar logo"},{default:y((()=>[g(V,{size:"xl",picture:A(n).logo,color:"primary",initials:A(n).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(u,null,{default:y((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:r,onRemovefile:p})])),_:1})])),_:1})]),f("div",zs,[g(x,{label:"Proposal Logo"},{default:y((()=>[g(V,{size:"xl",picture:A(n).invoice_header_logo,color:"primary",initials:A(n).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(u,null,{default:y((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:k,onRemovefile:w})])),_:1})])),_:1})]),f("div",Ps,[g(x,{label:"Favicon"},{default:y((()=>[g(V,{size:"large",color:"primary",picture:A(n).favicon,initials:A(n).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(u,null,{default:y((()=>[g(U,{size:"tiny",class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":80,"image-resize-target-width":80,"image-resize-target-height":80,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:_,onRemovefile:C})])),_:1})])),_:1})])])])])}}}),[["__scopeId","data-v-3775b8bc"]]),Os={class:"modal-form columns is-multiline"},Bs={class:"column is-12"},Hs={class:"field"},Rs=f("label",{class:"label"},"Title * ",-1),Ws={class:"control"},$s={class:"column is-12"},Ns={class:"field"},qs=f("label",{class:"label"},"Value *",-1),Fs={class:"control"},Ks=f("hr",null,null,-1),Zs={class:"column is-12"},Js={class:"field"},Gs=f("label",{class:"label"},"Description",-1),Qs=i({__name:"UnitAddUpdateModal",props:{addUpdateCostUnitModal:{type:Boolean},unitId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=K(),i=d(!1),n=ee(),o=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}),p=async()=>{try{if(o.value=!0,a.unitId){await t.patch(`/api/units/${a.unitId}/`,r.value);n.info("Cost code updated successfully")}else{await t.post("/api/units/",r.value);n.success("Cost code created successfully")}l("update:OnSuccess",null),c()}catch(e){console.log(e)}finally{o.value=!1}};return d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),u((()=>{a.unitId&&(async()=>{try{o.value=!0;const e=await t.get(`/api/units/${a.unitId}/`);r.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})()})),(e,l)=>{const t=Y,n=$,o=s,d=U,u=X;return m(),h(u,{is:"form",open:a.addUpdateCostUnitModal,title:"Unit",size:"medium",actions:"right",onSubmit:z(p,["prevent"]),onClose:c},{content:y((()=>[f("div",Os,[f("div",Bs,[f("div",Hs,[Rs,f("div",Ws,[D(f("input",{type:"text",required:"",class:"input",placeholder:"Title e.g Square Feet","onUpdate:modelValue":l[0]||(l[0]=e=>A(r).title=e)},null,512),[[L,A(r).title]])])])]),f("div",$s,[f("div",Ns,[qs,f("div",Fs,[D(f("input",{type:"text",required:"",class:"input",placeholder:"e.g Sq Ft","onUpdate:modelValue":l[1]||(l[1]=e=>A(r).value=e)},null,512),[[L,A(r).value]])])])]),Ks,f("div",Zs,[f("div",Js,[Gs,g(o,null,{default:y((()=>[g(n,null,{default:y((()=>[g(t,{modelValue:A(r).description,"onUpdate:modelValue":l[2]||(l[2]=e=>A(r).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:y((()=>[g(d,{type:"submit",color:"primary",loading:A(i),raised:""},{default:y((()=>[M(" Save ")])),_:1},8,["loading"])])),cancel:y((()=>[g(d,{color:"light",onClick:c,raised:""},{default:y((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Xs={class:"list-flex-toolbar flex-list-v1"},Ys={class:"tile-grid tile-grid-v1"},ei=f("img",{class:"light-image",src:se,alt:""},null,-1),li=f("img",{class:"dark-image",src:ie,alt:""},null,-1),ai={class:"tile-grid-item"},ti={class:"tile-grid-item-inner"},si={class:"meta"},ii={class:"dark-inverted"},ni=["onClick"],oi=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],ci=f("hr",{class:"dropdown-divider"},null,-1),di=["onClick"],ri=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],ui=i({__name:"CompanyUnits",setup(e){const a=ee(),t=d(!1),i=K(),n=d(""),o=d(!1),c=d(""),p=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),_=async()=>{try{t.value=!0;const e=await i.get("/api/units/");p.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{c.value=e,o.value=!o.value},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return p.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return p.value}));return u((()=>{_()})),(e,d)=>{const r=$,u=s,p=U,S=O,T=l,j=ce,I=Qs;return m(),v("div",null,[f("div",Xs,[g(u,null,{default:y((()=>[g(r,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>H(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(n)]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(p,{color:"primary",onClick:d[1]||(d[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[M(" Unit ")])),_:1})])),_:1})]),f("div",Ys,[A(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[ei,li])),_:1})),g(R,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:y((()=>[(m(!0),v(C,null,k(A(V),((e,l)=>(m(),v("div",{key:l,class:"column is-4"},[f("div",ai,[f("div",ti,[f("div",si,[f("span",ii,w(e.title),1),f("span",null,w(e.value),1)]),g(j,{icon:"feather:more-vertical",spaced:"",right:""},{content:y((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},oi,8,ni),ci,f("a",{onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/units/${e}/`),_(),a.success("Unit deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},ri,8,di)])),_:2},1024)])])])))),128))])),_:1})]),A(o)?(m(),h(I,{key:0,addUpdateCostUnitModal:A(o),unitId:A(c),"onUpdate:modalHandler":d[2]||(d[2]=e=>{o.value=!1,c.value=""}),"onUpdate:OnSuccess":d[3]||(d[3]=e=>_())},null,8,["addUpdateCostUnitModal","unitId"])):b("",!0)])}}}),pi=e=>(S("data-v-f1cd654a"),e=e(),T(),e),mi={class:"container"},vi={class:"box cu-property"},fi={class:"box-body"},gi={class:"columns is-multiline p-5 align-items-center"},yi={class:"column is-2 text-align-center"},_i=["src"],hi={class:"column is-3"},bi={class:"title is-5 mb-2"},Ci={class:"light-text mb-0 font-500"},ki={class:"light-text font-500"},wi={class:"m-t-20"},xi={class:"tabs-wrapper"},Vi={class:"tabs-inner"},Ui={class:"tabs is-boxed"},Si=[pi((()=>f("span",null,"General",-1)))],Ti=[pi((()=>f("span",null,"Cost Codes",-1)))],ji=[pi((()=>f("span",null,"Units",-1)))],Ii=[pi((()=>f("span",null,"Users permissions",-1)))],Mi=[pi((()=>f("span",null,"Role Management",-1)))],Di=[pi((()=>f("span",null,"Manage Role",-1)))],Ai=[pi((()=>f("span",null,"Action logs",-1)))],Li={key:0},zi={key:1},Pi={key:2},Ei={key:3},Oi={key:4},Bi={key:5},Hi={key:6},Ri=i({__name:"CompanySettingsComponent",setup(e){const l=de(),a=d("general");return d(!1),(e,t)=>{const s=ui,i=Es,n=vs,o=Rl,c=Re,d=Be,r=je;return m(),v("div",mi,[f("div",vi,[f("div",fi,[f("div",gi,[f("div",yi,[f("img",{src:A(l).currentCompany?.logo,style:{width:"100px","border-radius":"10px"},alt:"",srcset:""},null,8,_i)]),f("div",hi,[f("h2",bi,w(A(l).currentCompany?.name??""),1),f("p",Ci,w(A(l).currentCompany?.email??""),1),f("p",ki,w(A(l).currentCompany?.phone_number??""),1)])])])]),f("div",wi,[f("div",xi,[f("div",Vi,[f("div",Ui,[f("ul",null,[f("li",{class:x(["general"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[0]||(t[0]=_(z((e=>a.value="general"),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>a.value="general")},Si,32)],2),f("li",{class:x(["costCodes"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[2]||(t[2]=_(z((e=>a.value="costCodes"),["prevent"]),["space"])),onClick:t[3]||(t[3]=e=>a.value="costCodes")},Ti,32)],2),f("li",{class:x(["units"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[4]||(t[4]=_(z((e=>a.value="units"),["prevent"]),["space"])),onClick:t[5]||(t[5]=e=>a.value="units")},ji,32)],2),f("li",{class:x(["permissions"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[6]||(t[6]=_(z((e=>a.value="permissions"),["prevent"]),["space"])),onClick:t[7]||(t[7]=e=>a.value="permissions")},Ii,32)],2),f("li",{class:x(["roleManagement"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[8]||(t[8]=_(z((e=>a.value="roleManagement"),["prevent"]),["space"])),onClick:t[9]||(t[9]=e=>a.value="roleManagement")},Mi,32)],2),f("li",{class:x(["manageRole"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[10]||(t[10]=_(z((e=>a.value="manageRole"),["prevent"]),["space"])),onClick:t[11]||(t[11]=e=>a.value="manageRole")},Di,32)],2),f("li",{class:x(["logs"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[12]||(t[12]=_(z((e=>a.value="logs"),["prevent"]),["space"])),onClick:t[13]||(t[13]=e=>a.value="logs")},Ai,32)],2)])])])]),"units"===A(a)?(m(),v("div",Li,[g(s)])):b("",!0),"general"===A(a)?(m(),v("div",zi,[g(i)])):b("",!0),"costCodes"===A(a)?(m(),v("div",Pi,[g(n)])):b("",!0),"permissions"===A(a)?(m(),v("div",Ei,[g(o)])):b("",!0),"roleManagement"===A(a)?(m(),v("div",Oi,[g(c)])):b("",!0),"manageRole"===A(a)?(m(),v("div",Bi,[g(d)])):b("",!0),"logs"===A(a)?(m(),v("div",Hi,[g(r)])):b("",!0)])])}}});"function"==typeof Q&&Q(Ri);const Wi=j(Ri,[["__scopeId","data-v-f1cd654a"]]),$i=i({__name:"index",setup(e){re();return ue().setPageTitle("Company Settings"),W((()=>({title:"Company Settings"}))),(e,l)=>{const a=Wi;return m(),v("div",null,[g(a)])}}});"function"==typeof Q&&Q($i);export{$i as default};
