import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-0aa7df88.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-000779e2.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-cd438bf8.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-c9be1019.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-98034c2c.js";import{f as i,b as o,x as n,y as c,r as d,$ as r,o as u,j as p,C as m,D as v,E as f,F as g,G as _,H as y,O as h,N as b,V as C,W as k,U as w,I as x,a4 as V,P as U,Q as S,R as T,S as I,h as j,K as M,L as A,m as D,X as z,J as P,B as E,al as O,k as L,aS as B,A as H}from"./index-175b3e55.js";import{_ as N}from"./VControl-b18c07a3.js";import{_ as R}from"./VInput.vue_vue_type_script_setup_true_lang-508f4e11.js";import{_ as W,a as $}from"./projects-dark-4a371d8a.js";import{u as q}from"./useAPI-4749054c.js";import{_ as F}from"./VCheckbox.vue_vue_type_style_index_0_lang-1b9b589a.js";import{_ as K}from"./VCollapse.vue_vue_type_style_index_0_lang-1d7009a0.js";import{_ as Z}from"./VLabel.vue_vue_type_script_setup_true_lang-bbcc17c0.js";import{b as J}from"./route-block-83d24a4e.js";import{_ as G}from"./VModal.vue_vue_type_style_index_0_lang-e73ae533.js";import{_ as Q}from"./VTextarea.vue_vue_type_script_setup_true_lang-429906b1.js";import{u as X}from"./useNotyf-4a6d74a6.js";import{_ as Y,a as ee}from"./VOption.vue_vue_type_style_index_0_lang-6eaf58fc.js";import{_ as le}from"./VIconWrap.vue_vue_type_style_index_0_lang-c00d22e3.js";import{_ as ae,a as te}from"./search-4-dark-2b5b440c.js";import{_ as se}from"./VFilePond.vue_vue_type_script_lang-7739ff38.js";import{c as ie}from"./useSupportElement-fb373e92.js";import{_ as oe}from"./VDropdown.vue_vue_type_style_index_0_lang-5c35e803.js";import{_ as ne}from"./VTag.vue_vue_type_style_index_0_lang-f7e74b07.js";import{u as ce}from"./layoutSwitcher-1d1f7395.js";import{u as de}from"./viewWrapper-5295095b.js";import"./VFlex.vue_vue_type_style_index_0_lang-0e9a7e96.js";import"./VPlaceloadWrap-ae741025.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-15e077a2.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-4879bfd2.js";import"./useVFieldContext-2d769e3e.js";import"./VIcon.vue_vue_type_script_setup_true_lang-d3e92219.js";import"./notyf-c4dd34f0.js";import"./useThemeColors-1baaedf8.js";import"./via-placeholder-24645670.js";import"./useDropdown-ff427b55.js";const re=e=>(S("data-v-bee4111d"),e=e(),T(),e),ue={class:"columns is-multiline"},pe={class:"column is-12"},me={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},ve=re((()=>f("i",{class:"fa fa-search"},null,-1))),fe={class:"timeline-wrapper"},ge=re((()=>f("div",{class:"timeline-header"},null,-1))),_e={class:"timeline-wrapper-inner no-padding-all"},ye={class:"timeline-container"},he={class:"date"},be={class:"content-wrap"},Ce={class:"content-box"},ke={class:"box-text"},we={class:"meta-text"},xe=["innerHTML"],Ve=re((()=>f("img",{class:"light-image is-larger",src:W,alt:""},null,-1))),Ue=re((()=>f("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),Se=I(i({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(i){const S=i;o();const T=n(),I=c(),j=q(),M=d(!1),A=d([]),D=d(!1),z=d("2"),P=async()=>{M.value=!0;try{const e=await j.get("/api/activity-logs/");A.value=e.data,D.value=A.value.length>0}catch(e){console.error("Error fetching worker activities:",e)}finally{M.value=!1}},E={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const O=d(1),L=d(10),B=d(""),H=r((()=>{const e=B.value.toLowerCase(),l=function(e){const l=new Date,a=new Date,t=new Date;switch(e){case"1":a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":a.setDate(l.getDate()-1),a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":a.setDate(l.getDate()-7);break;case"14":a.setDate(l.getDate()-14);break;case"30":a.setDate(l.getDate()-30);break;case"90":a.setDate(l.getDate()-90);break;default:return null}return{start:a,end:t}}(z.value),a=A.value.filter((a=>{const t=a.actor_info.username.toLowerCase().includes(e)||a.actor_info.last_name&&a.actor_info.last_name.toLowerCase().includes(e)||a.message.toLowerCase().includes(e);if(l){const e=new Date(a.timestamp);return t&&e>=l.start&&e<=l.end}return t}));return D.value=a.length>0,a})),W=r((()=>{const e=(O.value-1)*L.value,l=e+L.value;return H.value.slice(e,l)})),$=r((()=>H.value.length>L.value)),F=e=>{O.value=e,T.push({path:I.path,query:{...I.query,page:e}})};return u((()=>{O.value=parseInt(I.query.page)||1,P()})),p((()=>{S.id=0})),(i,o)=>{const n=R,c=N,d=U,r=s,u=t,p=a,S=l,T=e;return m(),v("div",ue,[f("div",pe,[f("div",me,[g(r,{addons:"",style:{width:"21rem"}},{default:_((()=>[g(c,{expanded:""},{default:_((()=>[g(n,{onKeypress:y(P,["enter"]),type:"text",class:"input",modelValue:B.value,"onUpdate:modelValue":o[0]||(o[0]=e=>B.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),g(c,null,{default:_((()=>[g(d,{color:"primary",onClick:P},{default:_((()=>[ve])),_:1})])),_:1})])),_:1}),f("div",fe,[ge,f("div",_e,[f("div",ye,[M.value?(m(),h(u,{key:0})):b("",!0),(m(!0),v(C,null,k(W.value,(e=>{return m(),v("div",{class:"timeline-item is-unread",key:e?.id},[f("div",he,[f("span",null,w((l=e?.timestamp.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),f("div",{class:x(["dot",E[e.action]])},null,2),f("div",be,[f("div",Ce,[g(p,{picture:e?.actor_info.avatar},null,8,["picture"]),f("div",ke,[f("div",we,[f("p",null,[f("span",{style:V({color:""+(e.actor===e?.object_id?"var(--red)":"")})},w(e?.actor_info.username)+" "+w(e?.actor_info.last_name)+". ",5),f("span",{class:"action-message",innerHTML:e?.message},null,8,xe)]),f("span",null,w(e?.timestamp.slice(11,16)),1)])])])])]);var l})),128)),D.value||M.value?b("",!0):(m(),h(S,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:_((()=>[Ve,Ue])),_:1}))])]),$.value?(m(),h(T,{key:0,"current-page":O.value,"onUpdate:currentPage":[o[1]||(o[1]=e=>O.value=e),F],"item-per-page":L.value,"total-items":H.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):b("",!0)])])])])}}}),[["__scopeId","data-v-bee4111d"]]),Te=e=>(S("data-v-08c5b175"),e=e(),T(),e),Ie={class:"role-management"},je={class:"role-category"},Me={class:"role-table"},Ae=Te((()=>f("th",null,"View",-1))),De=Te((()=>f("th",null,"Add",-1))),ze=Te((()=>f("th",null,"Edit",-1))),Pe=Te((()=>f("th",null,"Delete",-1))),Ee={class:"pt-5"},Oe=I(i({__name:"ManageRole",setup(e){const l=j([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(e,a)=>{const t=F,i=N,o=s;return m(),v("div",Ie,[(m(!0),v(C,null,k(l,(e=>(m(),v("div",{key:e.category,class:"role-section"},[f("h3",je,w(e.category),1),f("table",Me,[f("thead",null,[f("tr",null,[f("th",null,w(e.title),1),Ae,De,ze,Pe])]),f("tbody",null,[(m(!0),v(C,null,k(e.items,(e=>(m(),v("tr",{key:e.name},[f("td",Ee,w(e.name),1),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.view,"onUpdate:modelValue":l=>e.view=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.add,"onUpdate:modelValue":l=>e.add=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.edit,"onUpdate:modelValue":l=>e.edit=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.delete,"onUpdate:modelValue":l=>e.delete=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),Le={class:"column is-12"},Be=i({__name:"RoleManagement",setup(e){const l=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,a)=>{const t=K;return m(),v("div",Le,[g(t,{items:l,"with-chevron":""})])}}}),He={class:"pill"},Ne=i({__name:"BulletPill",setup:e=>(e,l)=>(m(),v("span",He))});"function"==typeof J&&J(Ne);const Re=I(Ne,[["__scopeId","data-v-325a7b2c"]]),We=i({name:"FolderSettings",setup(){const e=j({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),$e=e=>(S("data-v-ff241c58"),e=e(),T(),e),qe={class:""},Fe={class:"section"},Ke={class:"title is-5"},Ze={class:"mt-5"},Je=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ge=$e((()=>f("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),Qe=$e((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Xe={class:"columns is-multiline"},Ye={class:"column is-3"},el=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ll=$e((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),al={class:"column is-3"},tl=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),sl=$e((()=>f("h2",{class:"title is-6"},"Clients",-1))),il={class:"section"},ol={class:"title is-5"},nl={class:"mt-5"},cl=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),dl=$e((()=>f("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),rl={class:"columns is-multiline"},ul={class:"column is-6"},pl=$e((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),ml={class:"columns is-multiline"},vl={class:"column is-6"},fl=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),gl=$e((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),_l={class:"column is-6"},yl=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),hl=$e((()=>f("h2",{class:"title is-6"},"Clients",-1))),bl={class:"column is-6"},Cl=$e((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),kl={class:"columns is-multiline"},wl={class:"column is-6"},xl=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Vl=$e((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),Ul={class:"column is-6"},Sl=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Tl=$e((()=>f("h2",{class:"title is-6"},"Clients",-1))),Il={class:"section"},jl={class:"title is-5"},Ml=$e((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Al={class:"columns is-multiline"},Dl={class:"column is-3"},zl=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Pl=$e((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),El={class:"column is-3"},Ol=$e((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ll=$e((()=>f("h2",{class:"title is-6"},"Clients",-1)));const Bl=I(We,[["render",function(e,l,a,t,s,i){const o=Re,n=R,c=Z,d=N;return m(),v("div",qe,[f("div",Fe,[f("h3",Ke,[g(o),M(" Document folders ")]),f("div",Ze,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),Je])),_:1}),Ge])),_:1})])]),f("div",null,[Qe,f("div",Xe,[f("div",Ye,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),el])),_:1}),ll])),_:1})])]),f("div",al,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),tl])),_:1}),sl])),_:1})])])])])]),f("div",il,[f("h3",ol,[g(o),M(" Photo folders ")]),f("div",nl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),cl])),_:1}),dl])),_:1})])]),f("div",rl,[f("div",ul,[pl,f("div",ml,[f("div",vl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),fl])),_:1}),gl])),_:1})])]),f("div",_l,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),yl])),_:1}),hl])),_:1})])])])]),f("div",bl,[Cl,f("div",kl,[f("div",wl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),xl])),_:1}),Vl])),_:1})])]),f("div",Ul,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Sl])),_:1}),Tl])),_:1})])])])])])]),f("div",Il,[f("h3",jl,[g(o),M(" Video folders ")]),f("div",null,[Ml,f("div",Al,[f("div",Dl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),zl])),_:1}),Pl])),_:1})])]),f("div",El,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Ol])),_:1}),Ll])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),Hl={class:"modal-form columns is-multiline"},Nl={class:"column is-12"},Rl=f("label",{class:"label"},"Title *",-1),Wl={class:"column is-12"},$l=f("label",{class:"label"},"Description",-1),ql=i({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d({id:a.trade?.id||"",name:a.trade?.name||"",description:a.trade?.description||""}),c=()=>{l("update:modalHandler",!1)},r=async()=>{try{i.value=!0,n.value.id?(await t.patch(`/api/cost-trade/${n.value.id}/`,n.value),o.success("Trade updated successfully")):(await t.post("/api/cost-trade/",n.value),o.success("Trade created successfully")),l("update:OnSuccess"),c()}catch(e){console.log(e)}finally{i.value=!1}};return(e,l)=>{const a=Q,t=N,o=s,d=U,u=G;return m(),h(u,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:P(r,["prevent"]),onClose:c},{content:_((()=>[f("div",Hl,[f("div",Nl,[Rl,A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>D(n).name=e)},null,512),[[z,D(n).name]])]),f("div",Wl,[$l,g(o,null,{default:_((()=>[g(t,null,{default:_((()=>[g(a,{modelValue:D(n).description,"onUpdate:modelValue":l[1]||(l[1]=e=>D(n).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:_((()=>[g(d,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M("Save")])),_:1},8,["loading"])])),cancel:_((()=>[g(d,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Fl={class:"modal-form columns is-multiline"},Kl={class:"column is-6"},Zl={class:"field"},Jl=f("label",{class:"label"},"Title *",-1),Gl={class:"control"},Ql={class:"column is-6"},Xl={class:"field"},Yl=f("label",{class:"label"},"Trade *",-1),ea={class:"column is-12"},la={class:"field"},aa=f("label",{class:"label"},"Description",-1),ta=i({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});d("");const p=async()=>{try{if(n.value=!0,a.categoryId){await t.patch(`/api/cost-category/${a.categoryId}/`,r.value)}else{await t.post("/api/cost-category/",r.value)}l("update:OnSuccess",null),o.success(`Category  ${a.categoryId?"updated":"created"} successfully`),c()}catch(e){console.log(e)}finally{n.value=!1}},y=d([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return u((()=>{a.categoryId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-category/${a.categoryId}/`);r.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-trade/");y.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=Y,o=ee,n=N,d=Q,u=s,b=U,x=G;return m(),h(x,{is:"form",open:a.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:_((()=>[f("div",Fl,[f("div",Kl,[f("div",Zl,[Jl,f("div",Gl,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>D(r).name=e)},null,512),[[z,D(r).name]])])])]),f("div",Ql,[f("div",Xl,[Yl,g(n,null,{default:_((()=>[g(o,{modelValue:D(r).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>D(r).trade=e),required:""},{default:_((()=>[(m(!0),v(C,null,k(D(y),(e=>(m(),h(t,{value:e.id},{default:_((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),f("div",ea,[f("div",la,[aa,g(u,null,{default:_((()=>[g(n,null,{default:_((()=>[g(d,{modelValue:D(r).description,"onUpdate:modelValue":l[2]||(l[2]=e=>D(r).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[g(b,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M(w(a.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:_((()=>[g(b,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),sa={class:"modal-form columns is-multiline"},ia={class:"column is-6"},oa={class:"field"},na=f("label",{class:"label"},"Title * ",-1),ca={class:"control"},da={class:"column is-6"},ra={class:"field"},ua=f("label",{class:"label"},"Category *",-1),pa={class:"control"},ma={class:"field column is-12"},va=f("label",{class:"label"},"Sub code of ",-1),fa={class:"control"},ga={class:"column is-12"},_a={class:"columns is-multiline"},ya={class:"field column is-6"},ha=f("label",{class:"label"},null,-1),ba={key:0,class:"column is-6"},Ca={class:"field"},ka=f("label",{class:"label"},"Default labour cost ($)",-1),wa={class:"control"},xa={class:"column is-4"},Va={class:"field"},Ua=f("label",{class:"label"},"Unit cost ($)",-1),Sa={class:"control"},Ta={class:"column is-4"},Ia={class:"field"},ja=f("label",{class:"label"},"Worker cost ($)",-1),Ma={class:"control"},Aa={class:"column is-4"},Da={class:"field"},za=f("label",{class:"label"},"Unit",-1),Pa=f("hr",null,null,-1),Ea={class:"column is-12"},Oa={class:"field"},La=f("label",{class:"label"},"Description",-1),Ba=i({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",category:a.codeCategoryId||"",parent_code:a.parentCodeId||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit:"--",unit_cost:0,is_active:!0}),p=async()=>{try{if(n.value=!0,a.costCodeId){await t.patch(`/api/cost-code/${a.costCodeId}/`,r.value);o.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",r.value);o.success("Cost code created successfully")}c(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{n.value=!1}},y=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=d([]),V=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]);return u((()=>{console.log(a.codeCategoryId),a.costCodeId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-code/${a.costCodeId}/`);r.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{i.value=!0;const e=await t.get("/api/units/");V.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-category/");y.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-code/");x.value=e.data.map((e=>({value:e.id,label:e.name})))}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=Y,o=ee,n=N,d=s,u=E("Multiselect"),S=F,T=Q,I=U,j=G;return m(),h(j,{is:"form",open:a.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:_((()=>[f("div",sa,[f("div",ia,[f("div",oa,[na,f("div",ca,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>D(r).name=e)},null,512),[[z,D(r).name]])])])]),f("div",da,[f("div",ra,[ua,f("div",pa,[g(d,null,{default:_((()=>[g(n,null,{default:_((()=>[g(o,{modelValue:D(r).category,"onUpdate:modelValue":l[1]||(l[1]=e=>D(r).category=e),required:""},{default:_((()=>[g(t,{value:""},{default:_((()=>[M(" Select a category ")])),_:1}),(m(!0),v(C,null,k(D(y),(e=>(m(),h(t,{value:e.id},{default:_((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),f("div",ma,[va,f("div",fa,[g(d,null,{default:_((({id:a})=>[g(n,null,{default:_((()=>[g(u,{disabled:!!e.CategoryMode,modelValue:D(r).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>D(r).parent_code=e),attrs:{id:a},searchable:!0,options:D(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),f("div",ga,[f("div",_a,[f("div",ya,[ha,g(d,{class:"is-flex"},{default:_((()=>[g(n,{raw:"",subcontrol:""},{default:_((()=>[g(S,{modelValue:D(r).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>D(r).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),D(r).is_labour_code?(m(),v("div",ba,[f("div",Ca,[ka,f("div",wa,[A(f("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>D(r).labour_cost=e)},null,512),[[z,D(r).labour_cost]])])])])):b("",!0)])]),f("div",xa,[f("div",Va,[Ua,f("div",Sa,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>D(r).unit_cost=e)},null,512),[[z,D(r).unit_cost]])])])]),f("div",Ta,[f("div",Ia,[ja,f("div",Ma,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":l[6]||(l[6]=e=>D(r).worker_cost=e)},null,512),[[z,D(r).worker_cost]])])])]),f("div",Aa,[f("div",Da,[za,g(n,null,{default:_((()=>[g(o,{modelValue:D(r).unit,"onUpdate:modelValue":l[7]||(l[7]=e=>D(r).unit=e)},{default:_((()=>[g(t,{value:""},{default:_((()=>[M(" Select Unit ")])),_:1}),(m(!0),v(C,null,k(D(V),(e=>(m(),h(t,{value:e.value},{default:_((()=>[M(w(e.title)+" ("+w(e.value??"")+") ",1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),Pa,f("div",Ea,[f("div",Oa,[La,g(d,null,{default:_((()=>[g(n,null,{default:_((()=>[g(T,{modelValue:D(r).description,"onUpdate:modelValue":l[8]||(l[8]=e=>D(r).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[g(I,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:_((()=>[g(I,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ha=e=>(S("data-v-453d3f7e"),e=e(),T(),e),Na={class:"list-flex-toolbar flex-list-v1"},Ra={class:"page-content-inner"},Wa=Ha((()=>f("img",{class:"light-image",src:ae,alt:""},null,-1))),$a=Ha((()=>f("img",{class:"dark-image",src:te,alt:""},null,-1))),qa={class:"table is-hoverable is-fullwidth"},Fa=Ha((()=>f("thead",null,[f("tr",null,[f("th",null,"Title"),f("th",null,"Description"),f("th",null,"Children"),f("th",{class:"is-end"},"Actions")])],-1))),Ka={class:"is-end"},Za={class:"is-flex is-justify-content-flex-end"},Ja=I(i({__name:"TradeComp",setup(e){const a=X(),t=d(!1);d("Items list");const i=d([]),o=q(),n=d(""),c=d(!1),p=d(null),y=async()=>{try{t.value=!0;const e=await o.get("/api/cost-trade/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{p.value=e,c.value=!0},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return i.value.filter((l=>l.name?.match(e)))}return i.value}));return u((()=>{y()})),(e,t)=>{const i=N,d=s,r=U,u=O,S=l,T=le,I=ql;return m(),v("div",null,[f("div",Na,[g(d,null,{default:_((()=>[g(i,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,n.value]])])),_:1})])),_:1}),g(u,null,{default:_((()=>[g(r,{onClick:t[1]||(t[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:_((()=>[M(" Trade ")])),_:1})])),_:1})]),f("div",Ra,[V.value.length?b("",!0):(m(),h(S,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:_((()=>[Wa,$a])),_:1})),f("table",qa,[Fa,f("tbody",null,[(m(!0),v(C,null,k(V.value,(e=>(m(),v("tr",{key:e.id},[f("td",null,w(e.name??"n/a"),1),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.codes?.length||0),1),f("td",Ka,[f("div",Za,[g(T,{onClick:l=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(T,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{await o.delete(`/api/cost-trade/${e}/`),a.success("Trade deleted successfully"),y()}catch(l){console.log(l),a.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])]),c.value?(m(),h(I,{key:0,openTradeModal:c.value,trade:p.value,"onUpdate:modalHandler":t[2]||(t[2]=e=>c.value=!1),"onUpdate:OnSuccess":y},null,8,["openTradeModal","trade"])):b("",!0)])}}}),[["__scopeId","data-v-453d3f7e"]]),Ga=e=>(S("data-v-502b606b"),e=e(),T(),e),Qa={class:"list-flex-toolbar flex-list-v1"},Xa={class:"page-content-inner"},Ya=Ga((()=>f("img",{class:"light-image",src:ae,alt:""},null,-1))),et=Ga((()=>f("img",{class:"dark-image",src:te,alt:""},null,-1))),lt={class:"table is-hoverable is-fullwidth"},at=Ga((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),tt={class:"pl-5"},st={class:"dark-text text-primary"},it={class:"is-end"},ot={class:"is-flex is-justify-content-flex-end"},nt=I(i({__name:"CostCodes",setup(e){const a=X(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=q(),n=d(""),c=[{}],p=d(!1);d(!1),d(!1);const y=d(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-code/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=N,r=s,u=U,S=O,T=l,I=le,j=Ba;return m(),v("div",null,[f("div",Qa,[g(r,null,{default:_((()=>[g(d,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(n)]])])),_:1})])),_:1}),g(S,null,{default:_((()=>[g(u,{color:"primary",onClick:c[1]||(c[1]=e=>p.value=!D(p)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[M(" Cost Code ")])),_:1})])),_:1})]),f("div",Xa,[D(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[Ya,et])),_:1})),f("table",lt,[at,f("tbody",null,[(m(!0),v(C,null,k(D(i),(e=>(m(),v("tr",{key:e.id,class:"sub-item"},[f("td",tt,[f("p",st,w(e.name),1)]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",it,[f("div",ot,[g(I,{onClick:l=>{return a=e.id,y.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-code/${e}/`),x(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])]),D(p)?(m(),h(j,{key:0,addUpdateCostCodeModal:D(p),"cost-code-id":D(y),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):b("",!0)])}}}),[["__scopeId","data-v-502b606b"]]),ct=e=>(S("data-v-317f06b1"),e=e(),T(),e),dt={class:""},rt={class:"list-flex-toolbar flex-list-v1"},ut={class:"page-content-inner"},pt=ct((()=>f("img",{class:"light-image",src:ae,alt:""},null,-1))),mt=ct((()=>f("img",{class:"dark-image",src:te,alt:""},null,-1))),vt={class:"table is-hoverable is-fullwidth"},ft=ct((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),gt={class:"info-text is-bold"},_t={class:"is-end"},yt={class:"is-flex is-justify-content-flex-end"},ht=I(i({__name:"CategoryComp",setup(e){const a=X(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=q(),n=d(""),c=[{}];d(!1);const p=d(!1);d(!1);const y=d(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=N,r=s,u=U,S=O,T=l,I=le,j=ta;return m(),v("div",null,[f("div",dt,[f("div",rt,[g(r,null,{default:_((()=>[g(d,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(n)]])])),_:1})])),_:1}),g(S,null,{default:_((()=>[g(u,{onClick:c[1]||(c[1]=e=>p.value=!D(p)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[M(" Category ")])),_:1})])),_:1})]),f("div",ut,[D(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[pt,mt])),_:1})),f("table",vt,[ft,f("tbody",null,[(m(!0),v(C,null,k(D(i),(e=>(m(),v("tr",{key:e.id},[f("td",null,[f("p",gt,w(e.name??"n/a"),1)]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",_t,[f("div",yt,[g(I,{onClick:l=>{return a=e?.id,y.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-category/${e}/`),x(),a.success("delete category")}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),D(p)?(m(),h(j,{key:0,addUpdateCategoryModal:D(p),"category-id":D(y),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0)])}}}),[["__scopeId","data-v-317f06b1"]]),bt=e=>(S("data-v-5ae07675"),e=e(),T(),e),Ct={class:"tabs-wrapper"},kt={class:"tabs-inner"},wt={class:"tabs"},xt=[bt((()=>f("span",null,"Identity List",-1)))],Vt=[bt((()=>f("span",null,"Cost Codes",-1)))],Ut=[bt((()=>f("span",null,"Category",-1)))],St=[bt((()=>f("span",null,"Trade",-1)))],Tt={key:0,class:""},It={class:"list-flex-toolbar flex-list-v1"},jt={class:"page-content-inner"},Mt=bt((()=>f("img",{class:"light-image",src:ae,alt:""},null,-1))),At=bt((()=>f("img",{class:"dark-image",src:te,alt:""},null,-1))),Dt={class:"table is-hoverable is-fullwidth"},zt=bt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Pt={class:"info-text is-bold"},Et=["onClick"],Ot={class:"is-end"},Lt={class:"is-flex is-justify-content-flex-end"},Bt={class:"sub-item"},Ht={class:"pl-5"},Nt={class:"dark-text text-primary"},Rt=["onClick"],Wt={class:"is-end"},$t={class:"is-flex is-justify-content-flex-end"},qt={class:"child-item"},Ft={class:"pl-6"},Kt=["onClick"],Zt=bt((()=>f("td",null,"-",-1))),Jt={class:"is-end"},Gt={class:"is-flex is-justify-content-flex-end"},Qt={class:"p-l-60"},Xt=bt((()=>f("td",null,"-",-1))),Yt={class:"is-end"},es={class:"is-flex is-justify-content-flex-end"},ls={key:1},as={key:2},ts={key:3},ss=I(i({__name:"IdentityList",setup(e){const a=X(),t=d(!1),i=d("Items list"),o=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),n=q(),c=d(""),p=[{}],V=d(!1),S=d(!1),T=d(!1),I=d(""),j=async e=>{try{t.value=!0;await n.delete(`/api/cost-code/${e}/`);E(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}},E=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},B=e=>{I.value=e,V.value=!V.value},H=d(""),R=d(!1),W=d(""),$=(e=null,l=null)=>{console.log(e),console.log(l),H.value="",W.value="",W.value=e,H.value=l,V.value=!0},F=r((()=>{if(c.value){const e=new RegExp(c.value,"i");return p.filter((l=>l.username?.match(e)||l.location?.match(e)))}return p}));return u((()=>{E()})),(e,d)=>{const r=N,u=s,p=U,q=O,K=l,Z=le,J=ht,G=nt,Q=Ja,X=Ba,Y=ta,ee=ql;return m(),v("div",null,[f("div",Ct,[f("div",kt,[f("div",wt,[f("ul",null,[f("li",{class:x(["Items list"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[0]||(d[0]=y(P((e=>i.value="Items list"),["prevent"]),["space"])),onClick:d[1]||(d[1]=e=>i.value="Items list")},xt,32)],2),f("li",{class:x(["costCodes"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[2]||(d[2]=y(P((e=>i.value="costCodes"),["prevent"]),["space"])),onClick:d[3]||(d[3]=e=>i.value="costCodes")},Vt,32)],2),f("li",{class:x(["Category"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[4]||(d[4]=y(P((e=>i.value="Category"),["prevent"]),["space"])),onClick:d[5]||(d[5]=e=>i.value="Category")},Ut,32)],2),f("li",{class:x(["Trade"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[6]||(d[6]=y(P((e=>i.value="Trade"),["prevent"]),["space"])),onClick:d[7]||(d[7]=e=>i.value="Trade")},St,32)],2)])])])]),"Items list"==D(i)?(m(),v("div",Tt,[f("div",It,[g(u,null,{default:_((()=>[g(r,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":d[8]||(d[8]=e=>L(c)?c.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(c)]])])),_:1})])),_:1}),g(q,null,{default:_((()=>[g(p,{color:"primary",onClick:d[9]||(d[9]=e=>$()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:_((()=>[M(" Cost Code ")])),_:1}),g(p,{onClick:d[10]||(d[10]=e=>S.value=!D(S)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:_((()=>[M(" Category ")])),_:1})])),_:1})]),f("div",jt,[D(F).length?b("",!0):(m(),h(K,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[Mt,At])),_:1})),f("table",Dt,[zt,f("tbody",null,[(m(!0),v(C,null,k(D(o),(e=>(m(),v(C,{key:e.id},[f("tr",null,[f("td",null,[f("p",Pt,[M(w(e.name??"n/a")+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{$(e.id),R.value=!1,R.value=!0}},null,8,Et)])]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",Ot,[f("div",Lt,[g(Z,{onClick:l=>{return a=e?.id,I.value=a,void(S.value=!S.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),a.success("delete category"),E()}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(m(!0),v(C,{key:0},k(e.codes,(e=>(m(),v(C,{key:e?.id},[f("tr",Bt,[f("td",Ht,[f("p",Nt,[M(w(e.name)+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>$(e.category,e.id)},null,8,Rt)])]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",Wt,[f("div",$t,[g(Z,{onClick:l=>B(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v(C,{key:e.id},[f("tr",qt,[f("td",Ft,[M(w(e.name),1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>$(e.category,e.id)},null,8,Kt)]),f("td",null,w(e.description||"No description"),1),Zt,f("td",Jt,[f("div",Gt,[g(Z,{onClick:l=>B(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v("tr",{key:e.id,class:"child-item"},[f("td",Qt,w(e.name),1),f("td",null,w(e.description||"No description"),1),Xt,f("td",Yt,[f("div",es,[g(Z,{onClick:l=>B(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])])))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128))])])])])):b("",!0),"Category"==D(i)?(m(),v("div",ls,[g(J)])):b("",!0),"costCodes"==D(i)?(m(),v("div",as,[g(G)])):b("",!0),"Trade"==D(i)?(m(),v("div",ts,[g(Q)])):b("",!0),D(V)?(m(),h(X,{key:4,addUpdateCostCodeModal:D(V),"cost-code-id":D(I),parentCodeId:D(H),codeCategoryId:D(W),CategoryMode:D(R),"onUpdate:modalHandler":d[11]||(d[11]=e=>{V.value=!1,R.value=!1}),"onUpdate:OnSuccess":d[12]||(d[12]=e=>E())},null,8,["addUpdateCostCodeModal","cost-code-id","parentCodeId","codeCategoryId","CategoryMode"])):b("",!0),D(S)?(m(),h(Y,{key:5,addUpdateCategoryModal:D(S),"category-id":D(I),"onUpdate:modalHandler":d[13]||(d[13]=e=>S.value=!1),"onUpdate:OnSuccess":d[14]||(d[14]=e=>E())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0),D(T)?(m(),h(ee,{key:6,addUpdateTradeModal:D(T),"onUpdate:modalHandler":d[15]||(d[15]=e=>T.value=!1),"onUpdate:OnSuccess":d[16]||(d[16]=e=>E())},null,8,["addUpdateTradeModal"])):b("",!0)])}}}),[["__scopeId","data-v-5ae07675"]]),is=e=>(S("data-v-3775b8bc"),e=e(),T(),e),os=is((()=>f("div",{class:"list-flex-toolbar flex-list-v1"},null,-1))),ns={class:"page-content-inner"},cs=is((()=>f("img",{class:"light-image",src:ae,alt:""},null,-1))),ds=is((()=>f("img",{class:"dark-image",src:te,alt:""},null,-1))),rs={class:"columns is-multiline"},us={class:"column is-6"},ps={class:"column is-6"},ms={class:"column is-6"},vs={class:"column is-6"},fs={class:"column is-12"},gs={class:"column is-3"},_s={class:"column is-3"},ys={class:"column is-3"},hs={class:"column is-3"},bs={class:"column is-6"},Cs={class:"column is-6"},ks={class:"columns is-multiline"},ws=is((()=>f("div",{class:"column is-12"},[f("h1",{class:"title is-4"},"Company Logos")],-1))),xs={class:"column is-4 is-flex"},Vs={class:"column is-4 is-flex"},Us={class:"column is-4 is-flex"},Ss=I(i({__name:"CompanyInformation",setup(e){X();const t=d(!1),i=q();d(""),d(!1);const o=d({id:"",name:"",trade_name:"",zipCode:null,city:"",state:null,country:null,address:null,phone_number:null,email:null,website:null,logo:null,created_at:"",updated_at:"",sidebar_logo:"",favicon:null,invoice_header_logo:null,login_page_logo:"",branding_line:""}),n=async()=>{try{t.value=!0;const e=await i.get("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},c=async e=>{try{t.value=!0;const l=await i.patch("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/",e);n(),o.value=l.data}catch(l){console.log(l)}finally{t.value=!1}},r=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.logo=a,c({logo:a}))},p=(e,l)=>{e?console.error(e):(console.log(l),o.value.logo=null)},y=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.favicon=a,c({favicon:a}),ie(o.value.favicon))},C=(e,l)=>{e?console.error(e):(console.log(l),o.value.favicon=null)},k=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.invoice_header_logo=a,c({invoice_header_logo:a}))},w=(e,l)=>{e?console.error(e):(console.log(l),o.value.invoice_header_logo=null)};return u((()=>{n()})),(e,t)=>{const i=l,n=Z,d=R,u=N,x=s,V=a,U=se;return m(),v("div",null,[os,f("div",ns,[D(o).name?b("",!0):(m(),h(i,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[cs,ds])),_:1})),f("div",rs,[f("div",us,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Company Name")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).name,"onUpdate:modelValue":t[0]||(t[0]=e=>D(o).name=e),type:"text",placeholder:"Company Name",onBlur:t[1]||(t[1]=e=>c({name:D(o).name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ps,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Trade Name")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).trade_name,"onUpdate:modelValue":t[2]||(t[2]=e=>D(o).trade_name=e),type:"text",placeholder:"Trade Name",onBlur:t[3]||(t[3]=e=>c({trade_name:D(o).trade_name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ms,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Email Address")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).email,"onUpdate:modelValue":t[4]||(t[4]=e=>D(o).email=e),type:"text",placeholder:"Company Email",onBlur:t[5]||(t[5]=e=>c({email:D(o).email}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",vs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Phone Number")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).phone_number,"onUpdate:modelValue":t[6]||(t[6]=e=>D(o).phone_number=e),type:"text",placeholder:"Phone Number",onBlur:t[7]||(t[7]=e=>c({phone_number:D(o).phone_number}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",fs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Company Website")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).website,"onUpdate:modelValue":t[8]||(t[8]=e=>D(o).website=e),type:"url",placeholder:"Website URL",onBlur:t[9]||(t[9]=e=>c({website:D(o).website}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",gs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Zip Code")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).zipCode,"onUpdate:modelValue":t[10]||(t[10]=e=>D(o).zipCode=e),type:"text",placeholder:"Zip Code",onBlur:t[11]||(t[11]=e=>c({zipCode:D(o).zipCode}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",_s,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("City ")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).city,"onUpdate:modelValue":t[12]||(t[12]=e=>D(o).city=e),type:"text",placeholder:"City",onBlur:t[13]||(t[13]=e=>c({city:D(o).city}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ys,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("State")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).state,"onUpdate:modelValue":t[14]||(t[14]=e=>D(o).state=e),type:"text",placeholder:"State",onBlur:t[15]||(t[15]=e=>c({state:D(o).state}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",hs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Country")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).country,"onUpdate:modelValue":t[16]||(t[16]=e=>D(o).country=e),type:"text",placeholder:"Country",onBlur:t[17]||(t[17]=e=>c({country:D(o).country}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",bs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Complete Address")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).address,"onUpdate:modelValue":t[18]||(t[18]=e=>D(o).address=e),type:"text",placeholder:"Address",onBlur:t[19]||(t[19]=e=>c({address:D(o).address}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Cs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Company One Liner")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).branding_line,"onUpdate:modelValue":t[20]||(t[20]=e=>D(o).branding_line=e),type:"text",placeholder:"john.doe",onBlur:t[21]||(t[21]=e=>c({branding_line:D(o).branding_line}))},null,8,["modelValue"])])),_:1})])),_:1})])]),f("div",ks,[ws,f("div",xs,[g(x,{label:"Sidebar logo"},{default:_((()=>[g(V,{size:"xl",picture:D(o).logo,color:"primary",initials:D(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[g(u,null,{default:_((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:r,onRemovefile:p})])),_:1})])),_:1})]),f("div",Vs,[g(x,{label:"Proposal Logo"},{default:_((()=>[g(V,{size:"xl",picture:D(o).invoice_header_logo,color:"primary",initials:D(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[g(u,null,{default:_((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:k,onRemovefile:w})])),_:1})])),_:1})]),f("div",Us,[g(x,{label:"Favicon"},{default:_((()=>[g(V,{size:"large",color:"primary",picture:D(o).favicon,initials:D(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[g(u,null,{default:_((()=>[g(U,{size:"tiny",class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":80,"image-resize-target-width":80,"image-resize-target-height":80,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:y,onRemovefile:C})])),_:1})])),_:1})])])])])}}}),[["__scopeId","data-v-3775b8bc"]]),Ts={class:"modal-form columns is-multiline"},Is={class:"column is-12"},js={class:"field"},Ms=f("label",{class:"label"},"Title * ",-1),As={class:"control"},Ds={class:"column is-12"},zs={class:"field"},Ps=f("label",{class:"label"},"Value *",-1),Es={class:"control"},Os=f("hr",null,null,-1),Ls={class:"column is-12"},Bs={class:"field"},Hs=f("label",{class:"label"},"Description",-1),Ns=i({__name:"UnitAddUpdateModal",props:{addUpdateCostUnitModal:{type:Boolean},unitId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}),p=async()=>{try{if(n.value=!0,a.unitId){await t.patch(`/api/units/${a.unitId}/`,r.value);o.info("Cost code updated successfully")}else{await t.post("/api/units/",r.value);o.success("Cost code created successfully")}l("update:OnSuccess",null),c()}catch(e){console.log(e)}finally{n.value=!1}};return d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),u((()=>{a.unitId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/units/${a.unitId}/`);r.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=Q,o=N,n=s,d=U,u=G;return m(),h(u,{is:"form",open:a.addUpdateCostUnitModal,title:"Unit",size:"medium",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:_((()=>[f("div",Ts,[f("div",Is,[f("div",js,[Ms,f("div",As,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Title e.g Square Feet","onUpdate:modelValue":l[0]||(l[0]=e=>D(r).title=e)},null,512),[[z,D(r).title]])])])]),f("div",Ds,[f("div",zs,[Ps,f("div",Es,[A(f("input",{type:"text",required:"",class:"input",placeholder:"e.g Sq Ft","onUpdate:modelValue":l[1]||(l[1]=e=>D(r).value=e)},null,512),[[z,D(r).value]])])])]),Os,f("div",Ls,[f("div",Bs,[Hs,g(n,null,{default:_((()=>[g(o,null,{default:_((()=>[g(t,{modelValue:D(r).description,"onUpdate:modelValue":l[2]||(l[2]=e=>D(r).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[g(d,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M(" Save ")])),_:1},8,["loading"])])),cancel:_((()=>[g(d,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Rs={class:"list-flex-toolbar flex-list-v1"},Ws={class:"tile-grid tile-grid-v1"},$s=f("img",{class:"light-image",src:ae,alt:""},null,-1),qs=f("img",{class:"dark-image",src:te,alt:""},null,-1),Fs={class:"tile-grid-item"},Ks={class:"tile-grid-item-inner"},Zs={class:"meta"},Js={class:"dark-inverted"},Gs=["onClick"],Qs=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],Xs=f("hr",{class:"dropdown-divider"},null,-1),Ys=["onClick"],ei=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],li=i({__name:"CompanyUnits",setup(e){const a=X(),t=d(!1),i=q(),o=d(""),n=d(!1),c=d(""),p=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),y=async()=>{try{t.value=!0;const e=await i.get("/api/units/");p.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{c.value=e,n.value=!n.value},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return p.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return p.value}));return u((()=>{y()})),(e,d)=>{const r=N,u=s,p=U,S=O,T=l,I=oe,j=Ns;return m(),v("div",null,[f("div",Rs,[g(u,null,{default:_((()=>[g(r,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>L(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(o)]])])),_:1})])),_:1}),g(S,null,{default:_((()=>[g(p,{color:"primary",onClick:d[1]||(d[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[M(" Unit ")])),_:1})])),_:1})]),f("div",Ws,[D(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[$s,qs])),_:1})),g(B,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:_((()=>[(m(!0),v(C,null,k(D(V),((e,l)=>(m(),v("div",{key:l,class:"column is-4"},[f("div",Fs,[f("div",Ks,[f("div",Zs,[f("span",Js,w(e.title),1),f("span",null,w(e.value),1)]),g(I,{icon:"feather:more-vertical",spaced:"",right:""},{content:_((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},Qs,8,Gs),Xs,f("a",{onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/units/${e}/`),y(),a.success("Unit deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},ei,8,Ys)])),_:2},1024)])])])))),128))])),_:1})]),D(n)?(m(),h(j,{key:0,addUpdateCostUnitModal:D(n),unitId:D(c),"onUpdate:modalHandler":d[2]||(d[2]=e=>{n.value=!1,c.value=""}),"onUpdate:OnSuccess":d[3]||(d[3]=e=>y())},null,8,["addUpdateCostUnitModal","unitId"])):b("",!0)])}}}),ai=e=>(S("data-v-850e119a"),e=e(),T(),e),ti={class:"container"},si={class:"box cu-property"},ii={class:"box-body"},oi={class:"position-relative"},ni={class:"position-absolute",style:{top:"0px",right:"0px"}},ci=ai((()=>f("i",{class:"fas fa-pen"},null,-1))),di={class:"columns is-multiline p-5 align-items-center"},ri=ai((()=>f("div",{class:"column is-2 text-align-center"},[f("img",{src:"/images/homePlaceholder.png",style:{width:"140px","border-radius":"10px"},alt:"",srcset:""})],-1))),ui={class:"column is-3"},pi={class:"title is-5 mb-2"},mi=ai((()=>f("p",{class:"light-text mb-0 font-500"},"TexhoIbex@gmial.com",-1))),vi={class:"light-text font-500"},fi=ai((()=>f("div",{class:"column is-1"},[f("div",{class:"cu-vr-seperator"})],-1))),gi={class:"column is-3"},_i={class:"light-text mb-0 font-400"},yi=ai((()=>f("b",null,"State:",-1))),hi={class:"light-text mb-0 font-400"},bi=ai((()=>f("b",null,"City:",-1))),Ci={class:"light-text mb-0 font-400"},ki=ai((()=>f("b",null,"PoctCode:",-1))),wi=ai((()=>f("div",{class:"column is-1"},[f("div",{class:"cu-vr-seperator"})],-1))),xi={class:"column is-2"},Vi={class:"light-text mb-0 font-400"},Ui=ai((()=>f("b",null,"Website:",-1))),Si=ai((()=>f("b",null,"Status:",-1))),Ti={class:"m-t-20"},Ii={class:"tabs-wrapper"},ji={class:"tabs-inner"},Mi={class:"tabs is-boxed"},Ai=[ai((()=>f("span",null,"General",-1)))],Di=[ai((()=>f("span",null,"Cost Codes",-1)))],zi=[ai((()=>f("span",null,"Units",-1)))],Pi=[ai((()=>f("span",null,"Users permissions",-1)))],Ei=[ai((()=>f("span",null,"Role Management",-1)))],Oi=[ai((()=>f("span",null,"Manage Role",-1)))],Li=[ai((()=>f("span",null,"Action logs",-1)))],Bi={key:0},Hi={key:1},Ni={key:2},Ri={key:3},Wi={key:4},$i={key:5},qi={key:6},Fi=i({__name:"CompanySettingsComponent",setup(e){const l=d("general"),a=d(!1);d("proposals");const t=j({name:"ABC Corp",website:"https://example.com",phone:"123-456-7890",address:{street:"123 Main St",city:"Evergreen",state:"CO",zipCode:"80437-0242"}});return(e,s)=>{const i=U,o=ne,n=li,c=Ss,d=ss,r=Bl,u=Be,p=Oe,h=Se;return m(),v("div",ti,[f("div",si,[f("div",ii,[f("div",oi,[f("div",ni,[g(i,{color:"primary",onClick:s[0]||(s[0]=e=>{a.value=!0}),size:"xsmall",rounded:""},{default:_((()=>[ci,M(" Edit")])),_:1})])]),f("div",di,[ri,f("div",ui,[f("h2",pi,w(D(t).name),1),mi,f("p",vi,w(D(t).phone),1)]),fi,f("div",gi,[f("p",_i,[yi,M(" "+w(D(t)?.address?.state?D(t)?.address?.state:"N/A"),1)]),f("p",hi,[bi,M(" "+w(D(t)?.address?.city?D(t)?.address?.city:"N/A"),1)]),f("p",Ci,[ki,M(" "+w(D(t)?.address?.zipCode?D(t)?.address?.zipCode:"N/A"),1)])]),wi,f("div",xi,[f("p",Vi,[Ui,M(" "+w(D(t)?.website?D(t)?.website:"N/A"),1)]),Si,g(o,{color:"primary",class:"ml-2",rounded:""},{default:_((()=>[M("Active")])),_:1})])])])]),f("div",Ti,[f("div",Ii,[f("div",ji,[f("div",Mi,[f("ul",null,[f("li",{class:x(["general"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=y(P((e=>l.value="general"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>l.value="general")},Ai,32)],2),f("li",{class:x(["costCodes"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=y(P((e=>l.value="costCodes"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>l.value="costCodes")},Di,32)],2),f("li",{class:x(["units"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=y(P((e=>l.value="units"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>l.value="units")},zi,32)],2),f("li",{class:x(["permissions"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=y(P((e=>l.value="permissions"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>l.value="permissions")},Pi,32)],2),f("li",{class:x(["roleManagement"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=y(P((e=>l.value="roleManagement"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>l.value="roleManagement")},Ei,32)],2),f("li",{class:x(["manageRole"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=y(P((e=>l.value="manageRole"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>l.value="manageRole")},Oi,32)],2),f("li",{class:x(["logs"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=y(P((e=>l.value="logs"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>l.value="logs")},Li,32)],2)])])])]),"units"===D(l)?(m(),v("div",Bi,[g(n)])):b("",!0),"general"===D(l)?(m(),v("div",Hi,[g(c)])):b("",!0),"costCodes"===D(l)?(m(),v("div",Ni,[g(d)])):b("",!0),"permissions"===D(l)?(m(),v("div",Ri,[g(r)])):b("",!0),"roleManagement"===D(l)?(m(),v("div",Wi,[g(u)])):b("",!0),"manageRole"===D(l)?(m(),v("div",$i,[g(p)])):b("",!0),"logs"===D(l)?(m(),v("div",qi,[g(h)])):b("",!0)])])}}});"function"==typeof J&&J(Fi);const Ki=I(Fi,[["__scopeId","data-v-850e119a"]]),Zi=i({__name:"index",setup(e){ce();return de().setPageTitle("Company Settings"),H((()=>({title:"Company Settings"}))),(e,l)=>{const a=Ki;return m(),v("div",null,[g(a)])}}});"function"==typeof J&&J(Zi);export{Zi as default};
