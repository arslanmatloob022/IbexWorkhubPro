import{u as e,a as t}from"./useAPI-31eb52e5.js";import{b as o,r as n}from"./index-bc0f243a.js";import{u as a}from"./useNotyf-1da924a4.js";const s=e(),r=o();function i(e,t="data-list",o=[]){var n=(new Date).toLocaleString();console.log(n);let a="data:text/csv;charset=utf-8,"+function(e,t,o=[]){var n=Object.keys(e[0]);n=n.filter((e=>!o.includes(e)));var a=`** ${t} ** \n \n \n`;return a+=n.map((e=>`**${e}**`)).join("\t")+"\n ",a+="\n",e.forEach((function(e){n.forEach((function(t){if(Array.isArray(e[t])){const o=e[t].map((e=>`${e.title} (${e.status})`)).join(",");a+=o+","}else a+=e[t]+","})),a+="\n"})),a}(e,t,o),s=encodeURI(a),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download",`${t+n}.csv`),r.click()}function c(e={}){const{actor:t=r.user.id,object_type:o="ibexUser",action:n="UPDATE",message:a="",performedOnName:i="user",object_id:c=""}=e,d={actor:t,object_type:o,action:n,message:a,performedOnName:i,object_id:c};try{s.post("/api/activity-logs/",d)}catch(l){console.log(l)}}a();const d=(e,t)=>{let o;return(...n)=>{clearTimeout(o),o=setTimeout((()=>{e(...n)}),t)}},l=e=>{let t=e;"07"==t.slice(0,2)?t="44"+t.slice(1):"+44"==t.slice(0,3)?t=t.slice(1):"7"==t.slice(0,1)&&(t="44"+t),window.open("https://wa.me/"+t.replace(/\s/g),"_blank")},u=async e=>{try{const o=await t.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${e}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);if(console.log("Full API Response:",o),!o||!o.data)throw new Error("Invalid API response");if("OK"===o.data.status&&o.data.results.length>0){const e=o.data.results[0],t=e.geometry?.location?.lat??null,n=e.geometry?.location?.lng??null,a=e.address_components?.find((e=>e.types.includes("locality")))?.long_name??"",s=e.address_components?.find((e=>e.types.includes("administrative_area_level_1")))?.long_name??"";return{status:!0,data:{city:a,state:s,address:e.formatted_address??"",lat:t,lng:n}}}return{status:!1,data:null}}catch(o){return console.error("Error fetching address:",o),{status:!1,data:null}}},m=e=>{const t=document.querySelector('link[rel="icon"]'),o=document.head||document.getElementsByTagName("head")[0];t&&o.removeChild(t);const n=document.createElement("link");n.rel="shortcut icon",n.href=e,o.appendChild(n)};function h(e,t){const o=new FormData;for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=e[n];Array.isArray(a)?a.forEach(((e,t)=>{console.log(t),o.append(n,e)})):null!==a&&(!t.includes(n)||t.includes(n)&&"object"==typeof a)&&o.append(n,a)}return o}const p=n([{id:1,hexCode:"#FFD700"},{id:3,hexCode:"#98FB98"},{id:4,hexCode:"#FF69B4"},{id:5,hexCode:"#F0E68C"},{id:6,hexCode:"#00CED1"},{id:7,hexCode:"#FFA07A"},{id:9,hexCode:"#FF6347"},{id:10,hexCode:"#00FA9A"},{id:11,hexCode:"#FFE4B5"},{id:12,hexCode:"#40E0D0"},{id:13,hexCode:"#FF8C00"},{id:15,hexCode:"#FF4500"},{id:17,hexCode:"#FF1493"},{id:18,hexCode:"#7FFFD4"},{id:19,hexCode:"#FFB6C1"},{id:20,hexCode:"#00BFFF"},{id:21,hexCode:"#008B8B"},{id:22,hexCode:"#FF00FF"},{id:23,hexCode:"#8B008B"},{id:24,hexCode:"#A52A2A"}]);function f(e){return new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})}function F(e){const t=new Date(e);if(isNaN(t.getTime()))return"";return t.toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}function g(e){const t=new Date(e);if(isNaN(t.getTime()))return"";return t.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})}export{c as C,h as a,F as b,m as c,d,i as e,f,g,u as h,p as m,l as s};
