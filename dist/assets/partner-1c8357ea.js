import{_ as e,a,b as t,c as s,d as r}from"./sidebarOpen-96829c17.js";import{a as i,b as o,_ as n,c as l,d as c}from"./UserProfileDropdown-2e10ddec.js";import{_ as p}from"./VPageContent-e1ff7d25.js";import{_ as d}from"./ToolbarNotification.vue_vue_type_script_setup_true_lang-921a08d4.js";import{_ as u}from"./VIconButton-7b279b03.js";import{_ as f,a as m}from"./VCollapseLinks-22c42c8a.js";import{_ as g}from"./SearchPanel.vue_vue_type_style_index_0_lang-0dc96cca.js";import{_ as y}from"./VAvatar.vue_vue_type_style_index_0_lang-b002f788.js";import{_ as h}from"./CircularMenu.vue_vue_type_style_index_0_lang-5ea4da18.js";import{e as _,t as v,N as k,r as b,F as x,G as w,Z as j,ar as C,o as z,w as V,br as L,M as P,av as D,y as A,z as B,C as I,A as S,B as q,l as M,H as O,P as $,I as N,D as U,j as K,a3 as F,O as H,J as R,Q as W,R as T,a0 as X,V as E,S as G,K as J,W as Q,X as Z,L as Y,a1 as ee,ah as ae}from"./index-023a2237.js";import{_ as te,a as se}from"./archiveUser-fdb3b6d4.js";import{u as re}from"./panels-c9d1a098.js";import{u as ie}from"./viewWrapper-7c308818.js";import{u as oe}from"./company-f924d2dc.js";import{u as ne}from"./layoutSwitcher-da5b7369.js";import{u as le}from"./useAPI-329c7502.js";import{u as ce}from"./userSession-1b1da0d4.js";import{b as pe}from"./route-block-83d24a4e.js";import"./VModal.vue_vue_type_style_index_0_lang-cc9e970e.js";import"./VInput.vue_vue_type_script_setup_true_lang-90ddbbe7.js";import"./useVFieldContext-28aff213.js";import"./VOption.vue_vue_type_style_index_0_lang-4a586ee5.js";import"./VSwitchBlock.vue_vue_type_style_index_0_lang-dbb463d0.js";import"./VLabel.vue_vue_type_script_setup_true_lang-5a4cec82.js";import"./VField.vue_vue_type_script_setup_true_lang-65e70890.js";import"./VControl-427c87b7.js";import"./useNotyf-c16238a4.js";import"./notyf-577918b8.js";import"./useThemeColors-f46d40e9.js";import"./whatsapp-93d30726.js";import"./useSupportElement-c565a315.js";import"./VProgress.vue_vue_type_style_index_0_lang-e76eee8a.js";import"./fastpizza-c3e9d994.js";import"./25-6f8405eb.js";import"./via-placeholder-24645670.js";import"./saudi-arabia-c8f7a528.js";import"./VDropdown.vue_vue_type_style_index_0_lang-e5c40ee6.js";import"./VIcon.vue_vue_type_script_setup_true_lang-ec6e71d8.js";import"./useDropdown-24cc83f1.js";import"./13-972b79d1.js";import"./video-981e0051.js";import"./sheet-50221dfe.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang-0932c5a3.js";import"./VBlock.vue_vue_type_style_index_0_lang-eebe9c00.js";import"./VIconBox.vue_vue_type_style_index_0_lang-5a6bbdc9.js";import"./AnimatedLogo-7744d59d.js";import"./userPopovers-2b960611.js";const de=e=>(Q("data-v-e5135afa"),e=e(),Z(),e),ue={class:"sidebar-layout"},fe=["src"],me={key:0},ge=[de((()=>I("img",{style:{height:"26px",width:"24px",cursor:"pointer",float:"right"},src:s},null,-1)))],ye=de((()=>I("span",{class:"icon"},[I("i",{class:"iconify","data-icon":"feather:grid"})],-1))),he=[de((()=>I("i",{class:"iconify","data-icon":"feather:users"},null,-1)))],_e=de((()=>I("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1))),ve=de((()=>I("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1))),ke=de((()=>I("img",{src:te,style:{"border-radius":"8px",padding:"1px",height:"25px",width:"25px","background-color":"#f8f8f8"}},null,-1))),be={style:{"font-size":"10px","background-color":"transparent !important"},class:"ml-2"},xe=["src"],we={style:{"font-size":"10px","background-color":"transparent !important"},class:"ml-2"},je=de((()=>I("img",{src:se,style:{"border-radius":"8px",padding:"1px",height:"25px",width:"25px","background-color":"#f8f8f8"}},null,-1))),Ce={style:{"font-size":"10px","background-color":"transparent !important"},class:"ml-2"},ze=de((()=>I("span",{class:"icon"},[I("i",{class:"iconify","data-icon":"feather:user"})],-1))),Ve={class:"mb-6",style:{display:"flex","flex-direction":"column"}},Le={class:"is-flex cus-align-center mb-3"},Pe={class:"subtitle",style:{color:"white"}},De=de((()=>I("div",{class:"pb-3 arez-version"},[I("p",{style:{"font-weight":"500"}},"Powered by EarnFlex"),I("p",{style:{"font-weight":"500","font-size":"10px"}},"Version 1.04")],-1))),Ae={style:{width:"100%",height:"100%","margin-top":"60px",display:"flex",gap:"12px","flex-direction":"column","justify-content":"center","align-items":"center"}},Be={style:{width:"100%",height:"auto",display:"flex","justify-content":"center","border-radius":"16px","align-items":"center"}},Ie=["src"],Se=[de((()=>I("span",{class:"menu-toggle has-chevron"},[I("img",{style:{height:"22px",width:"20px",cursor:"pointer"},src:r})],-1)))],qe=de((()=>I("span",{class:"icon",id:"cus-spanLink"},[I("i",{class:"iconify","data-icon":"feather:grid"})],-1))),Me={class:"icon",id:"cus-spanLink"},Oe=de((()=>I("img",{src:te,style:{"border-radius":"8px",height:"25px",width:"25px","background-color":"#f8f8f8",padding:"1px"}},null,-1))),$e=["src"],Ne=de((()=>I("img",{src:se,style:{"border-radius":"8px",padding:"1px",height:"25px",width:"25px","background-color":"#f8f8f8"}},null,-1))),Ue=de((()=>I("span",{class:"icon",id:"cus-spanLink"},[I("i",{class:"iconify","data-icon":"feather:user","aria-hidden":"true"})],-1))),Ke={class:"page-title has-text-centered"},Fe={class:"vuero-hamburger nav-trigger push-resize",tabindex:"0",role:"button"},He=[de((()=>I("span",null,[I("i",{style:{color:"var(--primary)","background-color":"transparent"},class:"lnir lnir-chevron-left","aria-hidden":"true"})],-1)))],Re={class:"title-wrap"},We={class:"title is-4"},Te={class:"toolbar"},Xe=[de((()=>I("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:grid"},null,-1)))],Ee={class:"toolbar-link"},Ge=["checked"],Je=de((()=>I("span",null,null,-1))),Qe=Y(_({__name:"PartnerSidebar",props:{theme:{default:"default"},defaultSideblock:{default:"dashboard"},closeOnChange:{type:Boolean},openOnMounted:{type:Boolean},nowrap:{type:Boolean}},setup(s){const r=s,_=ce(),Q=ne(),Z=v(),Y=k(),ee=le(),ae=b({partnerLogo:""}),te=b(!1),se=ie(),pe=re(),de=b(""),Qe=b(!1),Ze=b(!0);b(r.defaultSideblock);const Ye=oe(),ea=x(),{locale:aa}=w(),ta=b({all:0,archived:0,industries:[]}),sa=b({all:0,archived:0,industries:[]}),ra=e=>{const a=ta.value.industries.find((a=>a.id===e));return a?a.count:0},ia=async()=>{try{const e=await ee.get(`/v3/api/company/${Ye.loggedCompany.id}/get_company_industry_workers_count/`);ta.value=e.data,console.log("counts",e.data)}catch(e){console.log(e)}},oa=async()=>{try{const e=await ee.get(`/v3/api/supplier/${Ye.loggedCompany.id}/industry_partners_count/`);sa.value=e.data,console.log("part counts",e.data)}catch(e){console.log(e)}},na=async()=>{try{const e=await ee.get(`/v3/api/supplier/${_.user.partner}/detail/`);ae.value=e.data,console.log("logoo",ae.value)}catch(e){console.log(e)}};j((()=>{switch(aa.value){case"fr":return"/images/icons/flags/france.svg";case"es":return"/images/icons/flags/spain.svg";case"es-MX":return"/images/icons/flags/mexico.svg";case"de":return"/images/icons/flags/germany.svg";case"zh-CN":return"/images/icons/flags/china.svg";case"ar":return"/images/icons/flags/saudi-arabia.svg";default:return"/images/icons/flags/united-states-of-america.svg"}})),C((()=>{se.setPushedBlock(Ze.value??!1)})),C((()=>{Q.setDynamicLayoutId(ea.isDark?"sideblock-default":"sideblock-color")})),z((()=>{se.setPushed(!1)}));const la=j((()=>"/sidebar/partner"!==Y.path));return V((()=>Y.fullPath),((e,a)=>{Qe.value=!1,r.closeOnChange&&Ze.value})),L((async()=>{await ia(),await oa(),"partner"==_.user.role&&na()})),z((async()=>{await ia(),await oa(),"partner"==_.user.role&&na()})),(s,v)=>{const k=h,b=P("RouterLink"),x=f,w=y,j=e,C=i,z=o,V=g,L=m,Q=a,ee=u,re=d,ie=n,oe=p,ne=l,le=c,ce=t,aa=D("tooltip");return A(),B(W,null,[I("div",ue,[S(k),S(X,{name:"slide-x"},{default:q((()=>[M(Ze)||M(Qe)?(A(),O(j,{key:0,theme:r.theme},{header:q((()=>[I("div",{onClick:v[1]||(v[1]=e=>M(Z).push("/sidebar/company")),style:{width:"280px","margin-top":"20px","margin-left":"20px",height:"100%",overflow:"hidden"}},["partner"==M(_).user.role?(A(),B("img",{key:0,style:{width:"auto",height:"100%",display:"block",margin:"0","border-radius":"12px"},onClick:v[0]||(v[0]=e=>M(Z).push("/sidebar/partner/profile")),src:M(ae)?M(ae).partnerLogo:"/images/logos/smallarezdarkversion.svg"},null,8,fe)):$("",!0)]),I("div",{onKeydown:v[2]||(v[2]=N(J((e=>Ze.value=!M(Ze)),["prevent"]),["space"])),onClick:v[3]||(v[3]=e=>Ze.value=!M(Ze)),style:{width:"100%",display:"flex, align-items:right"}},[M(Ze)?(A(),B("span",me,ge)):$("",!0)],32)])),links:q((()=>[I("li",null,[S(b,{to:"/sidebar/partner/dashboard",class:"single-link"},{default:q((()=>[ye,U(" Dashboard ")])),_:1})]),S(x,{open:M(de),"onUpdate:open":v[4]||(v[4]=e=>K(de)?de.value=e:null),"collapse-id":"reports"},{header:q((()=>[I("div",{style:F({color:M(ea).isDark?"#585858":"#ffffff"}),class:"icon"},he,4),I("span",{style:F({color:M(ea).isDark?"#585858":""})}," Workers ",4),_e,ve])),default:q((()=>[S(b,{to:"/sidebar/partner/workers?type=All",class:H({"cus-active-link":"All"===M(Y).query.type}),style:{display:"flex",gap:"10px","font-family":"var(--font)","background-color":"transparent !important","align-items":"center",padding:"0 2rem 0 3.5rem","font-size":"0.9rem","font-weight":"400"}},{default:q((()=>[ke,I("span",{class:"icon-iconify",style:F([{display:"flex","font-weight":"400","font-family":"var(--font)","align-items":"center","background-color":"transparent !important","font-size":"0.9rem"},{color:M(ea).isDark?"#585858":"#f1f1f1"}])},[U("All "),I("span",be," ("+R(M(ta).all)+")",1)],4)])),_:1},8,["class"]),(A(!0),B(W,null,T(M(Ye).loggedCompany.industry,((e,a)=>(A(),O(b,{key:a,to:`/sidebar/partner/workers?type=${e.name}`,class:H({"cus-active-link":e.name===M(Y).query.type}),style:{display:"flex","font-family":"var(--font)","align-items":"center",padding:"0 2rem 0 3.5rem","background-color":"transparent !important","font-size":"0.9rem","font-weight":"400"}},{default:q((()=>[I("img",{src:e.industryLogo,style:{height:"25px",width:"25px","border-radius":"8px","background-color":"#f8f8f8","margin-inline-end":"10px"}},null,8,xe),I("span",{style:F([{"background-color":"transparent !important"},{color:M(ea).isDark?"#585858":"#fff"}])},[U(R(e.name)+" ",1),I("span",we," ("+R(ra(e.id))+") ",1)],4)])),_:2},1032,["to","class"])))),128)),S(b,{to:"/sidebar/partner/workers?archive=true",class:H({"cus-active-link":"true"===M(Y).query.archive}),style:{display:"flex",gap:"10px","font-family":"var(--font)","align-items":"center",padding:"0 2rem 0 3.5rem","background-color":"transparent !important","font-size":"0.9rem","font-weight":"400"}},{default:q((()=>[je,I("span",{style:F([{"font-size":"0.9rem","font-weight":"400","background-color":"transparent !important"},{color:M(ea).isDark?"#585858":"#fff"}])},[U("Archived "),I("span",Ce,"("+R(M(ta).archived)+")",1)],4)])),_:1},8,["class"])])),_:1},8,["open"]),I("li",null,[S(b,{to:"/sidebar/partner/profile",class:"single-link"},{default:q((()=>[ze,U(" Profile ")])),_:1})])])),"bottom-links":q((()=>[I("div",Ve,[I("div",Le,[S(w,{picture:M(Ye).loggedCompany.compnayLogo,size:"small"},null,8,["picture"]),I("h1",Pe,R(M(Ye).loggedCompany.companyName),1)]),De])])),_:1},8,["theme"])):(A(),O(j,{key:1,style:{width:"100px"},theme:r.theme},{header:q((()=>[I("div",Ae,[I("div",Be,["partner"==M(_).user.role?(A(),B("img",{key:0,style:{width:"auto",height:"100%",display:"block",margin:"0","border-radius":"12px"},onClick:v[5]||(v[5]=e=>M(Z).push("/sidebar/partner/profile")),src:M(ae)?M(ae).partnerLogo:"/images/logos/smallarezdarkversion.svg"},null,8,Ie)):$("",!0)]),I("div",{onKeydown:v[6]||(v[6]=N(J((e=>Ze.value=!M(Ze)),["prevent"]),["space"])),onClick:v[7]||(v[7]=e=>Ze.value=!M(Ze)),style:{"margin-top":"16px",display:"flex, justify-content:center","align-items":"center"}},Se,32)])])),links:q((()=>[I("li",null,[S(b,{id:"cus-routerLinks",to:"/sidebar/partner/dashboard",class:"single-link"},{default:q((()=>[qe])),_:1})]),I("li",null,[S(x,{open:M(de),"onUpdate:open":v[8]||(v[8]=e=>K(de)?de.value=e:null),"collapse-id":"reports"},{header:q((()=>[I("span",Me,[I("i",{class:"iconify",style:F([{margin:"0","margin-right":"4px"},{color:M(ea).isDark?"#585858":"whitesmoke"}]),"data-icon":"feather:users"},null,4)])])),default:q((()=>[S(b,{to:"/sidebar/partner/workers?type=All",class:H({"cus-active-link":"All"===M(Y).query.type}),style:{display:"flex","flex-direction":"column","font-family":"var(--font)","justify-content":"center","background-color":"transparent !important","align-items":"center","font-size":"0.9rem","font-weight":"400"}},{default:q((()=>[Oe])),_:1},8,["class"]),(A(!0),B(W,null,T(M(Ye).loggedCompany.industry,((e,a)=>(A(),O(b,{key:a,to:`/sidebar/partner/workers?type=${e.name}`,class:H({"cus-active-link":e.name===M(Y).query.type}),style:{display:"flex","flex-direction":"column","font-family":"var(--font)","background-color":"transparent !important","align-items":"center","font-size":"0.9rem","font-weight":"400"}},{default:q((()=>[I("img",{src:e.industryLogo,style:{"border-radius":"8px",height:"25px",width:"25px","background-color":"#f8f8f8",padding:"1px"}},null,8,$e)])),_:2},1032,["to","class"])))),128)),S(b,{to:"/sidebar/partner/workers?archive=true",class:H({"cus-active-link":"true"===M(Y).query.archive}),style:{padding:"0","background-color":"transparent !important",display:"flex","flex-direction":"column","font-family":"var(--font)","align-items":"center","font-size":"0.9rem","font-weight":"400"}},{default:q((()=>[Ne])),_:1},8,["class"])])),_:1},8,["open"])]),I("li",null,[S(b,{to:"/sidebar/partner/profile",class:"single-link"},{default:q((()=>[Ue])),_:1})])])),"bottom-links":q((()=>[S(w,{picture:M(Ye).loggedCompany.compnayLogo,size:"small"},null,8,["picture"])])),_:1},8,["theme"]))])),_:1}),S(C),S(z),S(V),S(L),S(le,{class:"mt-2",full:M(Ze)},{default:q((()=>[S(ne,null,{default:q((()=>[r.nowrap?E(s.$slots,"default",{key:0},void 0,!0):(A(),O(oe,{key:1,class:"is-relative"},{default:q((()=>[I("div",Ke,[I("div",Fe,[M(la)?(A(),B("span",{key:0,onClick:v[9]||(v[9]=()=>{M(Z).go(-1)}),class:"menu-toggle has-chevron"},He)):$("",!0)]),I("div",Re,[I("h1",We,R(M(se).pageTitle),1)]),I("div",Te,[S(Q),G(S(ee,{color:"info",light:"",raised:"",onClick:v[10]||(v[10]=e=>te.value=!0),circle:"",icon:"fas fa-link",label:"Rounded"},null,512),[[aa,"Invitation link",void 0,{bottom:!0,left:!0,rounded:!0,info:!0}]]),S(re),I("a",{class:"toolbar-link right-panel-trigger","aria-label":"View activity panel",tabindex:"0",role:"button",onKeydown:v[11]||(v[11]=N(J((e=>M(pe).setActive("activity")),["prevent"]),["space"])),onClick:v[12]||(v[12]=e=>M(pe).setActive("activity"))},Xe,32),I("div",Ee,[I("label",{tabindex:"0",class:"dark-mode",role:"button",onKeydown:v[14]||(v[14]=N(J((e=>e.target.click()),["prevent"]),["space"]))},[I("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!M(ea).isDark,onChange:v[13]||(v[13]=(...e)=>M(ea).onChange&&M(ea).onChange(...e))},null,40,Ge),Je],32)]),S(ie)])]),E(s.$slots,"default",{},void 0,!0)])),_:3}))])),_:3})])),_:3},8,["full"])]),M(te)?(A(),O(ce,{key:0,invitationModal:M(te),"onUpdate:modalHandler":v[15]||(v[15]=e=>te.value=e)},null,8,["invitationModal"])):$("",!0)],64)}}}),[["__scopeId","data-v-e5135afa"]]),Ze=_({__name:"partner",setup(e){const a=ne();return(e,t)=>{const s=P("RouterView"),r=Qe;return A(),O(r,ae(M(a).dynamicLayoutProps,{"close-on-change":"","default-sidebar":"layout"}),{default:q((()=>[S(s,null,{default:q((({Component:e})=>[S(X,{name:"fade-fast",mode:"out-in"},{default:q((()=>[(A(),O(ee(e)))])),_:2},1024)])),_:1})])),_:1},16)}}});"function"==typeof pe&&pe(Ze);export{Ze as default};
