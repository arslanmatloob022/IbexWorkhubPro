import{f as l,r as e,s as a,e as s,_ as t,o as i,B as o,C as u,D as n,F as c,G as d,J as r,E as m,L as p,m as f,X as _,ac as v,aF as b,O as h,N as j,K as y,a1 as V,aG as g,P as E}from"./index-24255b4c.js";import{_ as x}from"./VModal.vue_vue_type_style_index_0_lang-238d6b97.js";import{_ as S}from"./VField.vue_vue_type_script_setup_true_lang-61ae696e.js";import{_ as M}from"./VControl-2632b23a.js";import{u as k}from"./useNotyf-22e02897.js";import{u as C}from"./useAPI-a1a17f6a.js";const F={class:"modal-form columns is-multiline"},G={class:"column is-full"},H={class:"field"},I=m("label",{class:"label"},"To ",-1),P={class:"control"},w={class:"column is-full"},D={class:"field"},O=m("label",{class:"label"},"Subject ",-1),R={class:"control"},T={class:"field column is-half"},U=m("label",{class:"label"},"Schedule Mail ",-1),A=["value"],L={class:"field column is-half"},q=m("div",{class:"file"},[m("label",{class:"file-label"},[m("input",{class:"file-input",type:"file",name:"resume"}),m("span",{class:"file-cta"},[m("span",{class:"file-icon"},[m("i",{class:"fas fa-cloud-upload-alt"})]),m("span",{class:"file-label"}," Choose a fileâ€¦ ")])])],-1),B={class:"field column is-full mt-5"},J=m("label",{class:"label"},null,-1),N=m("i",{class:"feather:mail"},null,-1),z=l({__name:"ScheduleEmailModal",props:{mailSchedulerModal:{type:Boolean},subject:{}},emits:["update:modalHandler","update:OnSuccess"],setup(l,{emit:z}){const K=l,Q=C(),X=e(!1),W=k(),Y=e(!1),Z=e(""),$=a(),ll=()=>{z("update:modalHandler",!1)};Z.value="<b> Hi  <br />\nIbex Management <br />\n</b>";const el=e({objectId:"",subject:"",content:"",mail:"",scheduled_at:"",sent_at:"",status:"",mailGroup:[]}),al=async()=>{try{Y.value=!0;await Q.post("",{mail:el.value.mail,subject:el.value.subject,content:el.value.content,scheduled_at:el.value.scheduled_at});W.success("Email sent to worker successfully"),ll()}catch(l){console.log(l)}finally{Y.value=!1}},sl=s((()=>t((()=>import("./ckeditor-f5a239e3.js").then((l=>l.c))),["assets/ckeditor-f5a239e3.js","assets/index-24255b4c.js","assets/index-98bfb938.css","assets/vue.runtime.esm-bundler-d4634724.js"]).then((l=>l.default.component)))),tl={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return i((async()=>{$.value=await t((()=>import("./ckeditor-501cd550.js").then((l=>l.c))),["assets/ckeditor-501cd550.js","assets/index-24255b4c.js","assets/index-98bfb938.css"]).then((l=>l.default))})),(l,e)=>{const a=M,s=S,t=o("VDatePicker"),i=g,k=E,C=x;return u(),n("div",null,[c(V,{name:"fade-slow"},{default:d((()=>[c(C,{is:"form",open:K.mailSchedulerModal,title:"Schedule Email",size:"large",actions:"right",onSubmit:r(al,["prevent"]),onClose:ll},{content:d((()=>[m("div",F,[m("div",G,[m("div",H,[I,m("div",P,[p(m("input",{type:"email",required:"",class:"input",placeholder:"Enter Mail","onUpdate:modelValue":e[0]||(e[0]=l=>f(el).mail=l)},null,512),[[_,f(el).mail]])])])]),m("div",w,[m("div",D,[O,m("div",R,[p(m("input",{type:"text",required:"",class:"input",placeholder:"Enter mail subject","onUpdate:modelValue":e[1]||(e[1]=l=>f(el).subject=l)},null,512),[[_,f(el).subject]])])])]),m("div",T,[U,c(i,null,{default:d((()=>[c(t,{modelValue:f(el).scheduled_at,"onUpdate:modelValue":e[2]||(e[2]=l=>f(el).scheduled_at=l),mode:"dateTime"},{default:d((({inputValue:l,inputEvents:e})=>[c(s,null,{default:d((()=>[c(a,{icon:"lucide:calendar"},{default:d((()=>[m("input",v({class:"input v-input",type:"text",value:l},b(e,!0)),null,16,A)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})]),m("div",L,[c(s,{grouped:""},{default:d((()=>[c(a,null,{default:d((()=>[q])),_:1})])),_:1})]),m("div",B,[J,f($)?(u(),h(f(sl),{key:0,modelValue:f(el).content,"onUpdate:modelValue":e[3]||(e[3]=l=>f(el).content=l),editor:f($),config:tl},null,8,["modelValue","editor"])):j("",!0)])])])),action:d((()=>[c(k,{onClick:al,color:"primary",loading:f(X),raised:""},{default:d((()=>[N,y(" Schedule Mail")])),_:1},8,["loading"])])),cancel:d((()=>[c(k,{color:"light",onClick:ll,raised:""},{default:d((()=>[y("Close ")])),_:1})])),_:1},8,["open","onSubmit"])])),_:1})])}}});export{z as _};
