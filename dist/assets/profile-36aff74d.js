import{_ as e}from"./AddUpdateUser.vue_vue_type_script_setup_true_lang-64b1788d.js";import{_ as s}from"./VIconWrap.vue_vue_type_style_index_0_lang-5a8febdc.js";import{_ as l}from"./VPeity.vue_vue_type_script_setup_true_lang-1183f02a.js";import{_ as a}from"./VControl-3135dbef.js";import{_ as t}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-e809b526.js";import{_ as i}from"./SweetAlert.vue_vue_type_style_index_0_lang-ad5c02ad.js";import{_ as r}from"./VDropdown.vue_vue_type_style_index_0_lang-cd2c7452.js";import{_ as n}from"./VAvatar.vue_vue_type_style_index_0_lang-b791d9f6.js";import{_ as o}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-c2c5e793.js";import{e as u,r as d,Z as c,o as p,y as m,z as v,C as _,A as f,B as h,S as g,T as y,l as w,j as b,O as k,Q as j,R as x,aR as A,H as V,P as S,E as C,J as O,M as E}from"./index-a65f83b3.js";import{_ as I,a as P}from"./search-6-dark-6c9b195a.js";import{u as U}from"./useAPI-2f18f419.js";import{u as D}from"./useNotyf-53c6f1ce.js";import{u as N}from"./userSession-6a77dfd2.js";import"./VModal.vue_vue_type_style_index_0_lang-6d4b67a2.js";import"./VRadio.vue_vue_type_style_index_0_lang-6dbc7d9b.js";import"./VLabel.vue_vue_type_script_setup_true_lang-c41eaec5.js";import"./useVFieldContext-d16d03e0.js";import"./VIcon.vue_vue_type_script_setup_true_lang-dd7d7e5b.js";import"./VFilePond.vue_vue_type_script_lang-de4e5c8b.js";import"./VField.vue_vue_type_script_setup_true_lang-3fa96a3e.js";import"./VInput.vue_vue_type_script_setup_true_lang-e097553f.js";import"./useSupportElement-b85af168.js";import"./via-placeholder-24645670.js";import"./useDropdown-5051a259.js";import"./notyf-ccde3adc.js";import"./useThemeColors-d484401f.js";const R={class:"tile-grid-toolbar"},H={class:"buttons"},M=_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),T=_("span",null,"Admin",-1),L={class:"tile-grid tile-grid-v1"},z=_("img",{class:"light-image",src:I,alt:""},null,-1),B=_("img",{class:"dark-image",src:P,alt:""},null,-1),F={class:"tile-grid-item"},J={class:"tile-grid-item-inner"},W={class:"meta"},$={class:"dark-inverted"},K=["onClick"],Q=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),_("div",{class:"meta"},[_("span",null,"Edit"),_("span",null,"Edit user")],-1)],Y=_("a",{href:"#",role:"menuitem",class:"dropdown-item is-media"},[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-share"})]),_("div",{class:"meta"},[_("span",null,"Password"),_("span",null,"Change password")])],-1),Z=_("hr",{class:"dropdown-divider"},null,-1),q=["onClick"],G=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),_("div",{class:"meta"},[_("span",null,"Delete"),_("span",null,"Delete from list")],-1)],X=u({__name:"AdminsList",setup(s){const l=U(),t=D();N();const u=d(""),E=d(!1),I=d(""),P=d(""),X=d(!1),ee=d({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),se=d([{username:"",email:"",password:"",status:"",role:"admin",phoneNumber:"",avatar:null}]),le=c((()=>u.value?se.value.filter((e=>e.username.match(new RegExp(u.value,"i"))||e.email.match(new RegExp(u.value,"i")))):se.value));d(0);const ae=async()=>{try{E.value=!0;const e=await l.get("/api/users/by-role/admin/",{});se.value=e.data}catch(e){console.log(e)}finally{E.value=!1}},te=async()=>{try{E.value=!0;await l.delete(`/api/users/${P.value}/`,{});ae(),t.success("Admin deleted successfully")}catch(e){console.error(e),t.error("Error while deleting")}finally{ee.value.isSweetAlertOpen=!1,E.value=!1}},ie=(e="")=>{I.value=e,X.value=!X.value};return p((()=>{ae()})),(s,l)=>{const t=a,d=C,c=o,p=n,U=r,D=e,N=i;return m(),v("div",null,[_("div",R,[f(t,{icon:"feather:search"},{default:h((()=>[g(_("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>b(u)?u.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[y,w(u)]])])),_:1}),_("div",H,[f(d,{onClick:l[1]||(l[1]=e=>ie()),color:"primary",raised:""},{default:h((()=>[M,T])),_:1})])]),_("div",L,[f(c,{class:k([0!==w(le).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:h((()=>[z,B])),_:1},8,["class"]),f(A,{name:"list",tag:"div",class:"columns is-multiline"},{default:h((()=>[(m(!0),v(j,null,x(w(le),((e,s)=>(m(),v("div",{key:s,class:"column is-6"},[_("div",F,[_("div",J,[f(p,{picture:e.avatar,color:"primary",initials:e.username,size:"medium"},null,8,["picture","initials"]),_("div",W,[_("span",$,O(e.username),1),_("span",null,O(e.role),1)]),f(U,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[_("a",{onClick:s=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},Q,8,K),Y,Z,_("a",{onClick:s=>{return l=e,P.value=l.id,void(ee.value={title:`Delete ${l.username}?`,subtitle:"After deleting this admin you won't be able to recover it again.",btntext:"Delete it",isSweetAlertOpen:!0});var l},role:"menuitem",class:"dropdown-item is-media"},G,8,q)])),_:2},1024)])])])))),128))])),_:1})]),w(X)?(m(),V(D,{key:0,"is-modal-open":w(X),"user-role":"admin","user-id":w(I),"onUpdate:closeModalHandler":l[2]||(l[2]=e=>X.value=!1),"onUpdate:actionUpdateHandler":ae},null,8,["is-modal-open","user-id"])):S("",!0),w(ee).isSweetAlertOpen?(m(),V(N,{key:1,loading:w(E),isSweetAlertOpen:w(ee).isSweetAlertOpen,title:w(ee).title,subtitle:w(ee).subtitle,btntext:w(ee).btntext,onConfirm:te,onCancel:()=>w(ee).isSweetAlertOpen=!1},null,8,["loading","isSweetAlertOpen","title","subtitle","btntext","onCancel"])):S("",!0)])}}}),ee={class:"profile-wrapper"},se={class:"profile-header has-text-centered"},le={class:"title is-4 is-narrow is-thin"},ae={class:"light-text"},te={class:"profile-stats"},ie={class:"profile-stat"},re=_("div",{class:"separator"},null,-1),ne={class:"profile-stat"},oe=_("i",{"aria-hidden":"true",class:"lnil lnil-phone"},null,-1),ue=_("div",{class:"separator"},null,-1),de={class:"socials"},ce=[_("i",{"aria-hidden":"true",class:"fas fa-edit"},null,-1)],pe={class:"profile-body"},me={class:"columns"},ve={class:"column is-8"},_e={class:"column is-4"},fe={class:"profile-card"},he={class:"profile-card-section no-padding"},ge={class:"section-title"},ye=_("h4",null,"Notifications",-1),we=_("div",{class:"section-content"},[_("div",{class:"network-notifications"},[_("h3",{class:"dark-inverted"},"Notify Your Network?"),_("p",null," Enable or disable this setting to manage if your network should be notified when you make changes to your profile. ")])],-1),be={class:"profile-card"},ke={class:"profile-card-section no-padding"},je={class:"section-title"},xe=_("h4",null,"Tools",-1),Ae=_("i",{"aria-hidden":"true",class:"lnil lnil-pencil"},null,-1),Ve=_("a",{class:"action-link",tabindex:"0"},"View All",-1),Se={class:"section-content"},Ce={class:"tools-wrapper"},Oe={class:"tools-item"},Ee=_("div",{class:"meta"},[_("span",{class:"dark-inverted"},"Adobe Illustrator"),_("span",null,"Advanced level")],-1),Ie={class:"tools-item"},Pe=_("div",{class:"meta"},[_("span",{class:"dark-inverted"},"Jira Software"),_("span",null,"Intermediate level")],-1),Ue={class:"tools-item"},De=_("div",{class:"meta"},[_("span",{class:"dark-inverted"},"MS Office"),_("span",null,"Expert level")],-1),Ne=u({__name:"profile",setup(i){U(),D();const r=N();d("");const o=d(!1);return p((()=>{console.log("user data ",r.user)})),(i,u)=>{const d=n,c=X,p=t,g=a,y=E("RouterLink"),b=l,k=s,j=e;return m(),v("div",ee,[_("div",se,[f(d,{size:"xl",picture:w(r).user.avatar},null,8,["picture"]),_("h3",le,O(w(r)?.user?.username),1),_("p",ae,O(w(r)?.user?.email?w(r)?.user?.email:""),1),_("div",te,[_("div",ie,[_("span",null,O(w(r).user.role),1)]),re,_("div",ne,[oe,_("span",null,O(w(r).user.phoneNumber),1)]),ue,_("div",de,[_("a",{onClick:u[0]||(u[0]=e=>o.value=!w(o))},ce)])])]),_("div",pe,[_("div",me,[_("div",ve,[f(c,{class:"mb-3"})]),_("div",_e,[_("div",fe,[_("div",he,[_("div",ge,[ye,f(g,null,{default:h((()=>[f(p,{color:"success",checked:""})])),_:1})]),we])]),_("div",be,[_("div",ke,[_("div",je,[xe,f(y,{to:"/sidebar/layouts/profile-edit-skills"},{default:h((()=>[Ae])),_:1}),Ve]),_("div",Se,[_("div",Ce,[_("div",Oe,[f(k,{picture:"/images/icons/stacks/illustrator.svg"},{after:h((()=>[f(b,{type:"pie",values:[80,100],fill:["var(--primary)","transparent"],height:50,"inner-radius":22,width:50},null,8,["fill"])])),_:1}),Ee]),_("div",Ie,[f(k,{picture:"/demo/photos/brands/jira.svg"},{after:h((()=>[f(b,{type:"pie",values:[60,100],fill:["var(--primary)","transparent"],height:50,"inner-radius":22,width:50},null,8,["fill"])])),_:1}),Pe]),_("div",Ue,[f(k,{picture:"/demo/photos/brands/office.svg"},{after:h((()=>[f(b,{type:"pie",values:[95,100],fill:["var(--primary)","transparent"],height:50,"inner-radius":22,width:50},null,8,["fill"])])),_:1}),De])])])])])])])]),w(o)?(m(),V(j,{key:0,"is-modal-open":w(o),"user-role":"admin","user-id":w(r).user.id,"onUpdate:closeModalHandler":u[1]||(u[1]=e=>o.value=!1)},null,8,["is-modal-open","user-id"])):S("",!0)])}}});export{Ne as default};
