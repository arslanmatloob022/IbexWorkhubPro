import{_ as e}from"./VIcon.vue_vue_type_script_setup_true_lang-9e00632d.js";import{f as a,ad as l,ae as s,$ as i,r,aI as t,aJ as o,C as d,D as n,Z as u,N as v,E as c,V as f,W as b,m as p,I as g,U as m,H as y,F as _,aa as h,ab as k,S as x}from"./index-4f2cf886.js";import{a as V}from"./useVFieldContext-6bb87fbb.js";const P={key:0,class:"rating-label"},w=["id","for","onKeydown"],z=["id","aria-labelledby","tabindex","role"],$=["role","aria-label","aria-checked","onPointerenterPassive","onClickPassive"],C=x(a({__name:"VRangeRating",props:l({id:{default:void 0},max:{default:5},label:{default:void 0},size:{default:"base"},readonly:{type:Boolean,default:void 0},disabled:{type:Boolean}},{modelValue:{default:void 0}}),emits:["update:modelValue"],setup(a){const l=a,x=s(a,"modelValue"),{field:C,id:R}=V({help:"VRangeRating",id:l.id}),I=i((()=>void 0!==C?.value||void 0!==x.value)),j=i((()=>!l.readonly&&I.value)),D=i({get:()=>C?.value?C.value.value??0:x.value??0,set(e){C?.value&&C.value.setValue(e),x.value=e}}),S=i((()=>{switch(l.size){case"small":return"is-size-6";case"base":return"is-size-5";case"medium":return"is-size-4";case"large":return"is-size-3";case"xlarge":return"is-size-2"}})),A=r();function B(){l.readonly||l.disabled||A.value&&A.value.focus()}const F=r(),{focused:H}=t(F);o("ArrowLeft",(e=>{H.value&&(l.disabled||(e.preventDefault(),D.value>0&&(D.value=D.value-1)))})),o("ArrowRight",(e=>{H.value&&(l.disabled||(e.preventDefault(),D.value<l.max&&(D.value=D.value+1)))}));const K=r();function E(e){return I.value?void 0!==K.value?K.value-e>0:D.value-e>0:0}return(a,s)=>{const i=e;return d(),n("div",{ref_key:"wrapper",ref:F,class:"rating-wrap"},[l.label||"label"in a.$slots?(d(),n("div",P,[u(a.$slots,"label",{},(()=>[c("label",{id:`${p(R)}-label`,for:p(R),onClick:B,onKeydown:y(B,["enter"])},m(l.label),41,w)]),!0)])):v("",!0),c("div",{id:p(R),ref_key:"radiogroup",ref:A,class:g(["rating",{"is-active":p(j),"is-highlighted":p(K),[p(S)]:!0}]),"aria-labelledby":l.label||"label"in a.$slots&&p(j)?`${p(R)}-label`:void 0,tabindex:p(j)?0:void 0,role:p(j)?"radiogroup":void 0},[(d(!0),n(f,null,b(l.max,((e,r)=>(d(),n("span",{key:r,role:p(j)?"radio":void 0,"aria-label":String(r+1),"aria-checked":p(j)?p(D)-r>0:void 0,"aria-hidden":"true",class:g(["rating-star",{"is-rating-star-selected":E(r)}]),onPointerenterPassive:()=>function(e){l.readonly||(K.value=e+1)}(r),onPointerleavePassive:s[0]||(s[0]=()=>{K.value=void 0}),onClickPassive:()=>function(e){l.readonly||l.disabled||(D.value=e+1)}(r)},[u(a.$slots,"default",h(k({value:r+1,isSelected:E(r),isHighlighted:r+1===p(K)})),(()=>[_(i,{icon:"ph:star-fill"})]),!0)],42,$)))),128))],10,z)],512)}}}),[["__scopeId","data-v-75f04418"]]);export{C as _};
