import{_ as e}from"./LeadAddUpdateModal.vue_vue_type_style_index_0_lang-6180fb35.js";import{_ as l}from"./ProjectsTasks-f49c5895.js";import{u as t,_ as a,a as s}from"./groupedCircleCharts-4e605e01.js";import{b as i,u as n,a as o,c as d,_ as c}from"./groupedRadialCharts-b1c30913.js";import{_ as r}from"./SparkStatWidget.vue_vue_type_style_index_0_lang-98dc4b78.js";import{A as u}from"./vue3-apexcharts.common-6eae98a8.js";import{u as p}from"./salesSparksChart-334b9879.js";import{u as m}from"./revenueAreaChart-d38d7487.js";import{f as v,C as h,D as g,E as f,F as _,G as y,m as b,r as k,o as w,V as j,W as x,U as T,I as C,Q as S,R as M,S as A,x as D,$ as I,H as P,J as E,N as R,B as V,L as U,k as O,X as F,P as N,al as B,aB as J,O as K,K as z,aS as $,b as H,y as G,av as W}from"./index-4e38c655.js";import{_ as Z}from"./VAvatar.vue_vue_type_style_index_0_lang-3d7b77f3.js";import{u as q}from"./useAPI-471f8e84.js";import{h as X}from"./moment-1b9a430c.js";import{_ as Q}from"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-4565a743.js";import{p as Y}from"./index-c1fc2d09.js";import{a as ee}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-633fd54b.js";import{_ as le}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-7c691319.js";import{_ as te}from"./VField.vue_vue_type_script_setup_true_lang-23536ba1.js";import{_ as ae}from"./VControl-1ffc0c3c.js";import{_ as se}from"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-7f441688.js";import{_ as ie}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-df397fe5.js";import{_ as ne,a as oe}from"./search-4-dark-2b5b440c.js";import{o as de}from"./via-placeholder-24645670.js";import{b as ce,a as re,C as ue,f as pe}from"./useSupportElement-40d4df6b.js";import{_ as me}from"./JobLeadActivities.vue_vue_type_style_index_0_lang-8fe01d14.js";import{_ as ve}from"./VModal.vue_vue_type_style_index_0_lang-fcee34f7.js";import{u as he}from"./useNotyf-0584fd98.js";import{_ as ge}from"./VDropdown.vue_vue_type_style_index_0_lang-759b3259.js";import{_ as fe}from"./PlaceloadV4.vue_vue_type_style_index_0_lang-81a8098c.js";import{f as _e}from"./index-5fa9b154.js";import{_ as ye}from"./UIWidget.vue_vue_type_style_index_0_lang-9c668917.js";import{_ as be}from"./JobTodos.vue_vue_type_style_index_0_lang-666a50b8.js";import{_ as ke}from"./UserCardDropdown-61b34604.js";import{_ as we}from"./VFlexTable.vue_vue_type_style_index_0_lang-89c0ba86.js";import{_ as je}from"./VTag.vue_vue_type_style_index_0_lang-7f8d749d.js";import{_ as xe}from"./VIconBox.vue_vue_type_style_index_0_lang-d3203631.js";import{_ as Te}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-3a0261f4.js";const Ce={class:"columns is-multiline"},Se={class:"column is-3"},Me={class:"column is-3"},Ae={class:"column is-3"},De={class:"column is-3"},Ie={class:"column is-6"},Pe={class:"column is-6"},Ee={class:"column is-6"},Re={class:"column is-6"},Ve={class:"column is-6"},Le={class:"column is-6"},Ue=v({__name:"JobReport",setup(e){const{spark1:l,spark2:v,spark3:k,spark4:w}=p(),{revenueOptions:j}=m(),{lineStatsChartOptions:x}=i(),{flexRadialChartCircleOptions:T}=n(),{flexRadialChartStripesOptions:C}=o(),{widgetGaugeGroup1Options:S,widgetGaugeGroup2Options:M,widgetGaugeGroup3Options:A}=d(),{widgetRadialGroup1Options:D,widgetRadialGroup2Options:I,widgetRadialGroup3Options:P}=t();return(e,t)=>{const i=r,n=c,o=a,d=s;return h(),g("div",Ce,[f("div",Se,[_(i,{straight:""},{default:y((()=>[_(b(u),{id:"widget-spark1",height:b(l).chart.height,type:b(l).chart.type,series:b(l).series,options:b(l)},null,8,["height","type","series","options"])])),_:1})]),f("div",Me,[_(i,{straight:""},{default:y((()=>[_(b(u),{id:"widget-spark2",height:b(v).chart.height,type:b(v).chart.type,series:b(v).series,options:b(v)},null,8,["height","type","series","options"])])),_:1})]),f("div",Ae,[_(i,{straight:""},{default:y((()=>[_(b(u),{id:"widget-spark3",height:b(k).chart.height,type:b(k).chart.type,series:b(k).series,options:b(k)},null,8,["height","type","series","options"])])),_:1})]),f("div",De,[_(i,{straight:""},{default:y((()=>[_(b(u),{id:"widget-spark4",height:b(w).chart.height,type:b(w).chart.type,series:b(w).series,options:b(w)},null,8,["height","type","series","options"])])),_:1})]),f("div",Ie,[_(n,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:y((()=>[_(b(u),{id:"line-stats-widget-chart",height:b(x).chart.height,type:b(x).chart.type,series:b(x).series,options:b(x)},null,8,["height","type","series","options"])])),_:1})]),f("div",Pe,[_(n,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:y((()=>[_(b(u),{id:"line-stats-area-chart",height:b(j).chart.height,type:b(j).chart.type,series:b(j).series,options:b(j)},null,8,["height","type","series","options"])])),_:1})]),f("div",Ee,[_(o,{title:"Sales Revenue",straight:""},{default:y((()=>[_(b(u),{id:"flex-stat-circle",height:b(T).chart.height,type:b(T).chart.type,series:b(T).series,options:b(T)},null,8,["height","type","series","options"])])),_:1})]),f("div",Re,[_(o,{title:"Sales Revenue",straight:""},{default:y((()=>[_(b(u),{id:"flex-stat-radial",height:b(C).chart.height,type:b(C).chart.type,series:b(C).series,options:b(C)},null,8,["height","type","series","options"])])),_:1})]),f("div",Ve,[_(d,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"]},{chart1:y((()=>[_(b(u),{id:"group-radial-1",height:b(D).chart.height,type:b(D).chart.type,series:b(D).series,options:b(D)},null,8,["height","type","series","options"])])),chart2:y((()=>[_(b(u),{id:"group-radial-2",height:b(I).chart.height,type:b(I).chart.type,series:b(I).series,options:b(I)},null,8,["height","type","series","options"])])),chart3:y((()=>[_(b(u),{id:"group-radial-3",height:b(P).chart.height,type:b(P).chart.type,series:b(P).series,options:b(P)},null,8,["height","type","series","options"])])),_:1})]),f("div",Le,[_(d,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"],gauge:""},{chart1:y((()=>[_(b(u),{id:"group-gauge-1",height:b(S).chart.height,type:b(S).chart.type,series:b(S).series,options:b(S)},null,8,["height","type","series","options"])])),chart2:y((()=>[_(b(u),{id:"group-gauge-2",height:b(M).chart.height,type:b(M).chart.type,series:b(M).series,options:b(M)},null,8,["height","type","series","options"])])),chart3:y((()=>[_(b(u),{id:"group-gauge-3",height:b(A).chart.height,type:b(A).chart.type,series:b(A).series,options:b(A)},null,8,["height","type","series","options"])])),_:1})])])}}}),Oe=e=>(S("data-v-1f68036b"),e=e(),M(),e),Fe={class:"timeline-wrapper"},Ne=Oe((()=>f("div",{class:"timeline-header"},null,-1))),Be={class:"timeline-wrapper-inner"},Je={class:"timeline-container"},Ke={class:"timeline-item is-unread"},ze={class:"date"},$e={class:"content-wrap"},He={class:"content-box"},Ge=Oe((()=>f("div",{class:"status"},null,-1))),We={class:"box-text"},Ze={class:"meta-text"},qe=["innerHTML"],Xe=v({__name:"JobActivities",props:{object_id:{},object_type:{}},setup(e){const l=e,t=q(),a=k([{id:"06b62536-220c-4d54-b437-50f035677d17",action:"UPDATE",timestamp:"2025-02-21T18:09:11.830145Z",actor_info:{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"},message:"updated <b>HENNING</b> lead information.",object_id:"1be101da-7a93-43af-b3e3-d1ca908aa2c9",object_type:"lead",actor:"0feda007-d8a0-4b96-acb7-d7763614854e"}]),s={UPDATE:"is-info",RETRIEVE:"is-warning",DELETE:"is-danger",CREATE:"is-primary"};return w((()=>{(async()=>{try{const e=await t.get(`/api/activity-logs/?object_id=${l.object_id}`);a.value=e.data}catch(e){console.log(e)}})()})),(e,l)=>{const t=Z;return h(),g("div",Fe,[Ne,f("div",Be,[f("div",Je,[(h(!0),g(j,null,x(b(a),(e=>(h(),g("div",Ke,[f("div",ze,[f("span",null,T(b(X)(e.timestamp).format("ddd, mm yyyy")),1)]),f("div",{class:C(["dot",s[e.action]])},null,2),f("div",$e,[f("div",He,[Ge,_(t,{picture:e.actor_info?.avatar},null,8,["picture"]),f("div",We,[f("div",Ze,[f("p",null,[f("span",null,T(e.actor_info?.username??"N/A")+" "+T(e.actor_info?.last_name??"N/A"),1),f("span",{class:"log-message",innerHTML:e.message},null,8,qe)]),f("span",null,T(b(X)(e.timestamp).format("hh:mm:ss")),1)])])])])])))),256))])])])}}}),Qe=A(Xe,[["__scopeId","data-v-1f68036b"]]),Ye={class:"table is-striped is-fullwidth"},el=f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Job"),f("th",{scope:"col"},"ID"),f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Status"),f("th",{scope:"col"},"Total Price"),f("th",{scope:"col"},"Total Tax"),f("th",{scope:"col"},"Amount Paid"),f("th",{scope:"col"},"Balance"),f("th",{scope:"col"},"Deadline"),f("th",{scope:"col"},"Date Paid"),f("th",{scope:"col"},"Files"),f("th",{scope:"col",class:"is-end"},"Actions")])],-1),ll=f("td",null,"Tina",-1),tl=f("td",null,"Bergmann",-1),al=f("td",null,"Sales",-1),sl=f("td",null,"Tina",-1),il=f("td",null,"Bergmann",-1),nl=f("td",null,"Sales",-1),ol=f("td",null,"Tina",-1),dl=f("td",null,"Bergmann",-1),cl=f("td",null,"Sales",-1),rl=f("td",null,"Bergmann",-1),ul=f("td",null,"Sales",-1),pl={class:"is-end"},ml={class:"is-flex is-justify-content-flex-end"},vl=f("td",null,"Tina",-1),hl=f("td",null,"Bergmann",-1),gl=f("td",null,"Sales",-1),fl=f("td",null,"Tina",-1),_l=f("td",null,"Bergmann",-1),yl=f("td",null,"Sales",-1),bl=f("td",null,"Tina",-1),kl=f("td",null,"Bergmann",-1),wl=f("td",null,"Sales",-1),jl=f("td",null,"Bergmann",-1),xl=f("td",null,"Sales",-1),Tl={class:"is-end"},Cl={class:"is-flex is-justify-content-flex-end"},Sl=f("td",null,"Tina",-1),Ml=f("td",null,"Bergmann",-1),Al=f("td",null,"Sales",-1),Dl=f("td",null,"Tina",-1),Il=f("td",null,"Bergmann",-1),Pl=f("td",null,"Sales",-1),El=f("td",null,"Tina",-1),Rl=f("td",null,"Bergmann",-1),Vl=f("td",null,"Sales",-1),Ll=f("td",null,"Bergmann",-1),Ul=f("td",null,"Sales",-1),Ol={class:"is-end"},Fl={class:"is-flex is-justify-content-flex-end"},Nl=f("td",null,"Tina",-1),Bl=f("td",null,"Bergmann",-1),Jl=f("td",null,"Sales",-1),Kl=f("td",null,"Tina",-1),zl=f("td",null,"Bergmann",-1),$l=f("td",null,"Sales",-1),Hl=f("td",null,"Tina",-1),Gl=f("td",null,"Bergmann",-1),Wl=f("td",null,"Sales",-1),Zl=f("td",null,"Bergmann",-1),ql=f("td",null,"Sales",-1),Xl={class:"is-end"},Ql={class:"is-flex is-justify-content-flex-end"},Yl=v({__name:"JobInvoice",props:{activeTab:{default:"active"}},setup(e){const l=e,t=Y;D();const a=k("");return k(l.activeTab),I((()=>{if(a.value){const e=new RegExp(a.value,"i");return t.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return t})),(e,l)=>{const t=Q;return h(),g("table",Ye,[el,f("tbody",null,[f("tr",null,[ll,tl,al,sl,il,nl,ol,dl,cl,rl,ul,f("td",pl,[f("div",ml,[_(t)])])]),f("tr",null,[vl,hl,gl,fl,_l,yl,bl,kl,wl,jl,xl,f("td",Tl,[f("div",Cl,[_(t)])])]),f("tr",null,[Sl,Ml,Al,Dl,Il,Pl,El,Rl,Vl,Ll,Ul,f("td",Ol,[f("div",Fl,[_(t)])])]),f("tr",null,[Nl,Bl,Jl,Kl,zl,$l,Hl,Gl,Wl,Zl,ql,f("td",Xl,[f("div",Ql,[_(t)])])])])])}}}),et={class:"table is-striped is-fullwidth"},lt=f("thead",null,[f("tr",null,[f("th",{scope:"col"},"First Name"),f("th",{scope:"col"},"Last Name"),f("th",{scope:"col"},"Position"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1),tt=f("td",null,"Tina",-1),at=f("td",null,"Bergmann",-1),st=f("td",null,"Head of Sales",-1),it={class:"is-end"},nt={class:"is-flex is-justify-content-flex-end"},ot=f("td",null,"John",-1),dt=f("td",null,"Wistmus",-1),ct=f("td",null,"Senior Executive",-1),rt={class:"is-end"},ut={class:"is-flex is-justify-content-flex-end"},pt=f("td",null,"Sam",-1),mt=f("td",null,"Watson",-1),vt=f("td",null,"Software Engineer",-1),ht={class:"is-end"},gt={class:"is-flex is-justify-content-flex-end"},ft=f("td",null,"Jolaine",-1),_t=f("td",null,"Joestar",-1),yt=f("td",null,"HR Manager",-1),bt={class:"is-end"},kt={class:"is-flex is-justify-content-flex-end"},wt=f("td",null,"Anders",-1),jt=f("td",null,"Jensen",-1),xt=f("td",null,"Accountant",-1),Tt={class:"is-end"},Ct={class:"is-flex is-justify-content-flex-end"},St=v({__name:"JobEstimates",props:{activeTab:{default:"active"}},setup(e){const l=e,t=Y;D();const a=k("");return k(l.activeTab),I((()=>{if(a.value){const e=new RegExp(a.value,"i");return t.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return t})),(e,l)=>{const t=Q;return h(),g("table",et,[lt,f("tbody",null,[f("tr",null,[tt,at,st,f("td",it,[f("div",nt,[_(t)])])]),f("tr",null,[ot,dt,ct,f("td",rt,[f("div",ut,[_(t)])])]),f("tr",null,[pt,mt,vt,f("td",ht,[f("div",gt,[_(t)])])]),f("tr",null,[ft,_t,yt,f("td",bt,[f("div",kt,[_(t)])])]),f("tr",null,[wt,jt,xt,f("td",Tt,[f("div",Ct,[_(t)])])])])])}}}),Mt={class:"columns is-multiline"},At={class:"column is-12"},Dt={class:"toolbar"},It={class:"tabs-inner"},Pt={class:"tabs"},Et=[f("span",null,"Estimate",-1)],Rt=[f("span",null,"Budget",-1)],Vt=[f("span",null,"Owner Invoice",-1)],Lt=f("li",{class:"tab-naver"},null,-1),Ut={key:0,class:"column is-12"},Ot={key:1,class:"column is-12"},Ft={key:2,class:"column is-12"},Nt=v({__name:"JobFinance",props:{activeTab:{default:"active"}},setup(e){const l=Y;D();const t=k("estimate"),a=k("");return I((()=>{if(a.value){const e=new RegExp(a.value,"i");return l.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return l})),(e,l)=>{const a=St,s=Yl;return h(),g("div",Mt,[f("div",At,[f("div",Dt,[f("div",It,[f("div",Pt,[f("ul",null,[f("li",{class:C(["estimate"===b(t)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=P(E((e=>t.value="estimate"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>t.value="estimate")},Et,32)],2),f("li",{class:C(["budget"===b(t)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=P(E((e=>t.value="budget"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>t.value="budget")},Rt,32)],2),f("li",{class:C(["invoice"===b(t)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=P(E((e=>t.value="invoice"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>t.value="invoice")},Vt,32)],2),Lt])])])])]),"estimate"===b(t)?(h(),g("div",Ut,[_(a)])):R("",!0),"budget"===b(t)?(h(),g("div",Ot)):R("",!0),"invoice"===b(t)?(h(),g("div",Ft,[_(s)])):R("",!0)])}}}),Bt={class:"user-grid-toolbar"},Jt=f("span",{class:"icon"},[f("i",{class:"fas fa-plus"})],-1),Kt=f("span",null,"Progress",-1),zt={class:"user-grid user-grid-v1"},$t={class:"columns is-multiline"},Ht={class:"grid-item"},Gt={class:"is-flex"},Wt=v({__name:"JobProgressLoader",setup(e){const l=k(""),t=k(0),a=["All","UI/UX Design","Web Development","Software Eng.","Business"];return(e,s)=>{const i=ae,n=V("Multiselect"),o=te,d=N,c=B,r=J,u=ie,p=se;return h(),g("div",null,[f("div",Bt,[_(i,{icon:"feather:search"},{default:y((()=>[U(f("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>O(l)?l.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[F,b(l)]])])),_:1}),_(c,null,{default:y((()=>[_(o,{class:"h-hidden-mobile"},{default:y((()=>[_(i,null,{default:y((()=>[_(n,{modelValue:b(t),"onUpdate:modelValue":s[1]||(s[1]=e=>O(t)?t.value=e:null),options:a,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(d,null,{default:y((()=>[Jt,Kt])),_:1})])),_:1})]),f("div",zt,[f("div",$t,[(h(),g(j,null,x(20,(e=>f("div",{key:e,class:"column is-3"},[f("div",Ht,[_(r,{height:"160px",centered:"",class:"mb-2"}),_(u,{class:"mb-5",width:"80%",lines:3,"last-line-width":"60%"}),f("div",Gt,[_(p,{size:"small",class:"mx-1"}),_(u,{class:"mb-4",width:"80%",lines:2,"last-line-width":"60%"})])])]))),64))])])])}}}),Zt={key:1},qt={class:"card-grid-toolbar"},Xt={class:"buttons"},Qt=f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),Yt=f("span",null,"Progress",-1),ea={class:"card-grid card-grid-v4"},la=f("img",{class:"light-image",src:ne,alt:""},null,-1),ta=f("img",{class:"dark-image",src:oe,alt:""},null,-1),aa=["href","title"],sa=["src","alt"],ia={class:"card-grid-item-content"},na={class:"dark-inverted"},oa={key:0},da=f("summary",null,"Read More",-1),ca={key:0,class:"card-grid-item-footer"},ra={class:"meta"},ua={class:"dark-inverted"},pa=v({__name:"JobProgress",props:{object:{},type:{},taskData:{}},setup(e){const l=e,t=q(),a=k(""),s=k(!1),i=k(!1),n=k(0),o=["All Posts","Recent Posts","Older Posts","Popular Posts"],d=k([{id:"",uploaded_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},file_info:{url:"",name:"",type:"",size:0},progress:0,title:"",description:"",created_at:"",file:"",job:"",task:"",uploaded_by:""}]),c=async()=>{try{s.value=!0;const e=await t.get(`/api/job-progress/by-job/${l.object}/`);d.value=e.data}catch(e){console.log(e)}finally{s.value=!1}};I((()=>d.value.map((e=>({src:e.file_info.url,thumbnail:e.file_info.url,w:1200,h:900,alt:e.file_info.name})))));const r=I((()=>{if(a.value){const e=new RegExp(a.value,"i");return console.log(e),d.value.filter((l=>l.title?.match(e)||l.created_at?.match(e)||l.uploaded_by_info?.username?.match(e)||l.uploaded_by_info?.email?.match(e)||l.uploaded_by_info?.last_name?.match(e)))}return d.value}));return w((()=>{"job"===l.type&&c()})),(e,t)=>{const d=Wt,u=ae,p=V("Multiselect"),m=te,v=N,k=le,w=Z,S=ee;return b(s)?(h(),K(d,{key:0})):(h(),g("div",Zt,[f("div",qt,[_(u,{icon:"feather:search"},{default:y((()=>[U(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>O(a)?a.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[F,b(a)]])])),_:1}),f("div",Xt,[_(m,{class:"h-hidden-mobile"},{default:y((()=>[_(u,null,{default:y((()=>[_(p,{modelValue:b(n),"onUpdate:modelValue":t[1]||(t[1]=e=>O(n)?n.value=e:null),options:o,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(v,{onClick:t[2]||(t[2]=e=>i.value=!b(i)),color:"primary",raised:""},{default:y((()=>[Qt,Yt])),_:1})])]),f("div",ea,[_(k,{class:C([0!==b(r).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[la,ta])),_:1},8,["class"]),_($,{name:"list",tag:"div",class:"columns is-multiline"},{default:y((()=>[(h(!0),g(j,null,x(b(r),(e=>(h(),g("div",{key:e.id,class:"column is-3"},[f("a",{href:e.file,title:e.title,itemprop:"contentUrl","data-pswp-width":"1200","data-pswp-height":"900",target:"_blank","data-cropped":"true",ref_for:!0,ref:"noreferrer",class:"card-grid-item"},[f("img",{src:e.file,alt:e.title,onErrorOnce:t[3]||(t[3]=e=>b(de)(400,300))},null,40,sa),f("div",ia,[f("h3",na,T(e.title?e.title:"No Title"),1),f("p",null,[z(T(e.description?e.description.slice(0,34):"No Description")+" ",1),e.description.length>44?(h(),g("details",oa,[da,z(" "+T(e.description?e.description:""),1)])):R("",!0)])]),e.uploaded_by_info?(h(),g("div",ca,[_(w,{picture:e.uploaded_by_info.avatar,size:"small"},null,8,["picture"]),f("div",ra,[f("span",ua,T(e.uploaded_by_info.username??"N/A")+" "+T(e.uploaded_by_info.last_name??""),1),f("span",null,T(b(ce)(e.created_at)),1)])])):R("",!0)],8,aa)])))),128))])),_:1})]),b(i)?(h(),K(S,{key:0,job:l.object,openProgressModal:b(i),"onUpdate:OnSuccess":c,"onClose:ModalHandler":t[4]||(t[4]=e=>i.value=!1)},null,8,["job","openProgressModal"])):R("",!0)]))}}}),ma={class:"modal-form columns is-multiline"},va={class:"column is-full"},ha={class:"field"},ga=f("label",{class:"label"},"Title ",-1),fa={class:"control"},_a={class:"field column is-half"},ya={class:"file"},ba={class:"file-label"},ka={class:"file-cta"},wa=f("span",{class:"file-icon"},[f("i",{class:"fas fa-cloud-upload-alt"})],-1),ja={class:"file-label"},xa=v({__name:"UploadDocumentModal",props:{openFileModal:{type:Boolean},type:{},object:{}},emits:["close:ModalHandler","update:OnSuccess"],setup(e,{emit:l}){const t=e;k(null);const a=q(),s=he(),i=k(!1),n=H(),o=()=>{l("close:ModalHandler",!1)},d=k({type:t.type,object:t.object,title:"",uploaded_by:n.user.id,file:null}),c=async()=>{try{i.value=!0;const e=re(d.value,["file"]);await a.post("/api/attachment/",e);ue({object_type:"files",object_id:t.object,action:"CREATE",message:`Uploaded new file named <b>${d.value.title}</b>.`,performedOnName:"job"}),s.success("File uploaded successfully!"),l("update:OnSuccess",null),o()}catch(e){console.log(e)}finally{i.value=!1}},r=k(""),u=e=>{const l=e.target,t=l.files?.[0];l.value="",t&&(d.value.file=t,r.value=t.name)};return w((()=>{})),(e,l)=>{const a=ae,s=te,n=N,p=ve;return h(),K(p,{is:"form",open:t.openFileModal,title:"Add Progress",size:"medium",actions:"right",onSubmit:E(c,["prevent"]),onClose:o},{content:y((()=>[f("div",ma,[f("div",va,[f("div",ha,[ga,f("div",fa,[U(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>b(d).title=e)},null,512),[[F,b(d).title]])])])]),f("div",_a,[_(s,{grouped:""},{default:y((()=>[_(a,null,{default:y((()=>[f("div",ya,[f("label",ba,[f("input",{onChange:u,class:"file-input",type:"file",name:"resume"},null,32),f("span",ka,[wa,f("span",ja,T(b(r)?b(r):"Choose a file…"),1)])])])])),_:1})])),_:1})])])])),action:y((()=>[_(n,{type:"submit",color:"primary",loading:b(i),raised:""},{default:y((()=>[z(" Save")])),_:1},8,["loading"])])),cancel:y((()=>[_(n,{color:"light",onClick:o,raised:""},{default:y((()=>[z("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ta={key:0,class:"modal-form"},Ca=["src"],Sa=["src"],Ma=["src"],Aa=["src"],Da={key:1,class:"modal-form"},Ia=[f("h1",{class:"title is-5"},"No media file attached",-1)],Pa=v({__name:"DocumentViewer",props:{openDocViewModal:{type:Boolean},document:{},title:{}},emits:["update:closeModalHandler","update:OnSuccess"],setup(e,{emit:l}){const t=e,a=()=>{l("update:closeModalHandler",!1)},s=e=>`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`;return w((async()=>{console.log("picture",t.document)})),(e,l)=>{const i=N,n=ve;return h(),K(n,{is:"form",open:t.openDocViewModal,title:t.title?t.title:"Attached Document",size:"xl",actions:"right",onClose:a},{content:y((()=>[t.document?(h(),g("div",Ta,[t.document?.includes(".pdf")?(h(),g("iframe",{key:0,src:`${t.document}#toolbar=0&view=FitH`,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Ca)):t.document?.toLowerCase().includes(".doc")||t.document?.toLowerCase().includes(".docx")?(h(),g("iframe",{key:1,src:s(t.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Sa)):t.document?.toLowerCase().includes(".xls")||t.document?.toLowerCase().includes(".xlsx")?(h(),g("iframe",{key:2,src:s(t.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Ma)):(h(),g("img",{key:3,src:t.document,alt:""},null,8,Aa))])):(h(),g("div",Da,Ia))])),cancel:y((()=>[_(i,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:y((()=>[z("Close")])),_:1})])),_:1},8,["open","title"])}}}),Ea={class:"tile-grid-item"},Ra={class:"tile-grid-item-inner"},Va=["src"],La={class:"meta"},Ua={class:"dark-inverted"},Oa=f("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),Fa=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-cloud-download"})],-1),f("div",{class:"meta"},[f("span",null,"Download"),f("span",null,"Download this file")],-1)],Na=f("hr",{class:"dropdown-divider"},null,-1),Ba=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Delete"),f("span",null,"Delete this file")],-1)],Ja=v({__name:"DocumentTile",props:{document:{}},emits:["deleteSelectedFile"],setup(e,{emit:l}){const t=e,a=k(""),s=k(!1),i=k(""),n={pdf:"/images/icons/files/pdf.svg",xls:"/images/icons/files/sheet.svg",doc:"/images/icons/files/doc-2.svg",ppt:"/images/icons/files/ppt.svg",ai:"/images/icons/files/ai.svg",docx:"/images/icons/files/doc-2.svg",docs:"/images/icons/files/doc-2.svg",xlsx:"/images/icons/files/sheet.svg",ai2:"/images/icons/files/ai.svg",xlx:"/images/icons/files/sheet.svg",ods:"/images/icons/files/sheet.svg",png:"/icons/png-icon.png",jpg:"/icons/jpg-50.png",jpeg:"/icons/jpg-50.png"};return(e,o)=>{const d=ge;return h(),g("div",null,[f("div",Ea,[f("div",Ra,[f("img",{onClick:o[0]||(o[0]=e=>{return l=t.document?.file,a.value=l,i.value=l.title,void(s.value=!s.value);var l}),src:n[t.document?.file_info?.type]},null,8,Va),f("div",La,[f("span",Ua,T(t.document.title??"N/A"),1),f("span",null,[f("span",null,T(t.document?.file_info?.size??0)+" MB",1),Oa,f("span",null,"At:"+T(b(pe)(t.document.created_at)),1)])]),_(d,{icon:"feather:more-vertical",spaced:"",right:""},{content:y((()=>[f("a",{role:"menuitem",onClick:o[1]||(o[1]=e=>(async(e,l)=>{try{const t=await fetch(e);if(!t.ok)throw new Error("Network response was not ok");const a=await t.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(t){console.error("Download failed:",t)}})(t.document.file,t.document.title)),class:"dropdown-item is-media"},Fa),Na,f("a",{role:"menuitem",onClick:o[2]||(o[2]=e=>{return a=t.document.id,void l("deleteSelectedFile",a);var a}),class:"dropdown-item is-media"},Ba)])),_:1})])]),b(s)?(h(),K(Pa,{key:0,openDocViewModal:b(s),document:b(a),title:b(i),"onUpdate:closeModalHandler":o[3]||(o[3]=e=>s.value=!1)},null,8,["openDocViewModal","document","title"])):R("",!0)])}}}),Ka={key:1},za={class:"tile-grid-toolbar"},$a={class:"buttons"},Ha=f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),Ga=f("span",null,"Add File",-1),Wa={class:"tile-grid tile-grid-v2"},Za=f("img",{class:"light-image",src:ne,alt:""},null,-1),qa=f("img",{class:"dark-image",src:oe,alt:""},null,-1),Xa=v({__name:"ObjectDocumentsTiles",props:{objectId:{},docType:{}},setup(e){const l=e,t=he(),a=q(),s=k(""),i=k(0),n=k(""),o=k(!1),d=k(!1),c=k([{id:"27223081-e97a-4420-91f2-6a08da82d846",uploaded_by_info:{id:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b",username:"APIs",last_name:"Dev",email:"api@dev.com",role:"admin",avatar:null},file_info:{url:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",name:"combined_proposal_95Ac2Fu.pdf",type:"pdf",size:.14},file:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",type:"proposal_formats",object:"751b95b2-9961-45a0-948c-96f85cea6a52",created_at:"2025-02-14T19:42:31.991589Z",title:"proposal",uploaded_by:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b"}]),r=["All Files","Recently Updated","My Files","Team Files","Deprecated"],u=async(e="proposal_formats")=>{try{o.value=!0;const e=await a.get(`/api/attachment/by-object/${l.objectId}/?type=${l.docType}`);c.value=e.data}catch(t){console.log(t)}finally{o.value=!1}},p=async e=>{try{const s=await a.delete(`/api/attachment/${e}/`);ue({object_type:"files",object_id:l.objectId,action:"DELETE",message:`Deleted a file named <b>${s.data.title}</b>.`,performedOnName:"job"}),t.purple("File Deleted Successfully"),u()}catch(s){console.log(s)}},m=I((()=>s.value?c.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.file_info?.name?.match(new RegExp(s.value,"i"))||e.created_at.match(new RegExp(s.value,"i")))):c.value));return w((()=>{u()})),(e,t)=>{const a=fe,c=ae,v=V("Multiselect"),k=te,w=N,T=le,C=Ja,S=xa;return h(),g("div",null,[b(o)?(h(),K(a,{key:0,rows:4})):(h(),g("div",Ka,[f("div",za,[_(c,{icon:"feather:search"},{default:y((()=>[U(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>O(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[F,b(s)]])])),_:1}),f("div",$a,[_(k,{class:"h-hidden-mobile"},{default:y((()=>[_(c,null,{default:y((()=>[_(v,{modelValue:b(i),"onUpdate:modelValue":t[1]||(t[1]=e=>O(i)?i.value=e:null),options:r,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(w,{onClick:t[2]||(t[2]=e=>(n.value=l.docType,void(d.value=!d.value))),color:"primary",raised:""},{default:y((()=>[Ha,Ga])),_:1})])]),f("div",Wa,[0!=b(m).length||b(o)?R("",!0):(h(),K(T,{key:0,title:"We couldn't find any matching file of this directory.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Za,qa])),_:1})),f("div",null,[_($,{name:"list",tag:"div",class:"columns is-multiline"},{default:y((()=>[(h(!0),g(j,null,x(b(m),(e=>(h(),g("div",{key:e.id,class:"column is-4"},[_(C,{document:e,onDeleteSelectedFile:p},null,8,["document"])])))),128))])),_:1})])]),b(d)?(h(),K(S,{key:0,openFileModal:b(d),object:l.objectId,type:b(n),"onClose:ModalHandler":t[3]||(t[3]=e=>d.value=!1),"onUpdate:OnSuccess":u},null,8,["openFileModal","object","type"])):R("",!0)]))])}}}),Qa={class:"tabs-inner"},Ya={class:"tabs"},es=[f("span",null,"Grouped Proposals",-1)],ls=[f("span",null,"Contracts",-1)],ts=[f("span",null,"Customer Estimates",-1)],as=[f("span",null,"Job Scope",-1)],ss=[f("span",null,"Asbestos & Lead Report",-1)],is=[f("span",null,"Permits",-1)],ns=[f("span",null,"Bids & Material",-1)],os=[f("span",null,"Miscellaneous",-1)],ds=f("li",{class:"tab-naver"},null,-1),cs={class:"tile-grid tile-grid-v2"},rs=f("img",{class:"light-image",src:ne,alt:""},null,-1),us=f("img",{class:"dark-image",src:oe,alt:""},null,-1),ps={key:0},ms={key:1},vs={key:2},hs={key:3},gs={key:4},fs={key:5},_s={key:6},ys={key:7},bs=v({__name:"JobDocuments",props:{leadId:{}},setup(e){const l=e;he();const t=q(),a=k("");k(0);const s=k(""),i=k("proposal_formats"),n=k(!1),o=k([]),d=I((()=>a.value?_e.filter((e=>e.name.match(new RegExp(a.value,"i"))||e.size.match(new RegExp(a.value,"i")))):_e)),c=async(e="proposal_formats")=>{try{i.value=e;const a=await t.get(`/api/attachment/by-object/${l.leadId}/?type=${e}`);o.value=a.data}catch(a){console.log(a)}};return w((()=>{c()})),(e,t)=>{const a=le,o=Xa,r=xa;return h(),g("div",null,[f("div",Qa,[f("div",Ya,[f("ul",null,[f("li",{class:C(["proposal_formats"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[0]||(t[0]=P(E((e=>c("proposal_formats")),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>c("proposal_formats"))},es,32)],2),f("li",{class:C(["contracts"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[2]||(t[2]=P(E((e=>c("contracts")),["prevent"]),["space"])),onClick:t[3]||(t[3]=e=>c("contracts"))},ls,32)],2),f("li",{class:C(["estimates"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[4]||(t[4]=P(E((e=>c("estimates")),["prevent"]),["space"])),onClick:t[5]||(t[5]=e=>c("estimates"))},ts,32)],2),f("li",{class:C(["job_scope"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[6]||(t[6]=P(E((e=>i.value="job_scope"),["prevent"]),["space"])),onClick:t[7]||(t[7]=e=>i.value="job_scope")},as,32)],2),f("li",{class:C(["asbestos"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[8]||(t[8]=P(E((e=>i.value="asbestos"),["prevent"]),["space"])),onClick:t[9]||(t[9]=e=>i.value="asbestos")},ss,32)],2),f("li",{class:C(["permits"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[10]||(t[10]=P(E((e=>i.value="permits"),["prevent"]),["space"])),onClick:t[11]||(t[11]=e=>i.value="permits")},is,32)],2),f("li",{class:C(["material"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[12]||(t[12]=P(E((e=>i.value="material"),["prevent"]),["space"])),onClick:t[13]||(t[13]=e=>i.value="material")},ns,32)],2),f("li",{class:C(["miscellaneous"===b(i)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[14]||(t[14]=P(E((e=>i.value="miscellaneous"),["prevent"]),["space"])),onClick:t[15]||(t[15]=e=>i.value="miscellaneous")},os,32)],2),ds])])]),f("div",cs,[_(a,{class:C([0!==b(d).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[rs,us])),_:1},8,["class"]),"contracts"==b(i)?(h(),g("div",ps,[_(o,{"doc-type":"contracts","object-id":l.leadId},null,8,["object-id"])])):R("",!0),"estimates"==b(i)?(h(),g("div",ms,[_(o,{"doc-type":"estimates","object-id":l.leadId},null,8,["object-id"])])):R("",!0),"proposal_formats"==b(i)?(h(),g("div",vs,[_(o,{"doc-type":"proposal_formats","object-id":l.leadId},null,8,["object-id"])])):R("",!0),"job_scope"==b(i)?(h(),g("div",hs,[_(o,{"doc-type":"job_scope","object-id":l.leadId},null,8,["object-id"])])):R("",!0),"asbestos"==b(i)?(h(),g("div",gs,[_(o,{"doc-type":"asbestos","object-id":l.leadId},null,8,["object-id"])])):R("",!0),"permits"==b(i)?(h(),g("div",fs,[_(o,{"doc-type":"permits","object-id":l.leadId},null,8,["object-id"])])):R("",!0),"material"==b(i)?(h(),g("div",_s,[_(o,{"doc-type":"material","object-id":l.leadId},null,8,["object-id"])])):R("",!0),"miscellaneous"==b(i)?(h(),g("div",ys,[_(o,{"doc-type":"miscellaneous","object-id":l.leadId},null,8,["object-id"])])):R("",!0)]),b(n)?(h(),K(r,{key:0,openFileModal:b(n),object:l.leadId,type:b(s),"onClose:ModalHandler":t[16]||(t[16]=e=>n.value=!1),"onUpdate:OnSuccess":c},null,8,["openFileModal","object","type"])):R("",!0)])}}}),ks={class:"business-dashboard hr-dashboard"},ws={class:"columns is-multiline"},js={class:"column is-12"},xs={class:"columns is-multiline"},Ts={class:"column is-12"},Cs={class:"block-header"},Ss={class:"left"},Ms={class:"current-user"},As={class:"center"},Ds=f("h4",{class:"block-heading"},"Address",-1),Is={class:"block-text"},Ps=f("br",null,null,-1),Es=f("br",null,null,-1),Rs={class:"right"},Vs=f("h4",{class:"block-heading"},"Managers",-1),Ls={class:"candidates"},Us=f("button",null,[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"})],-1),Os={class:"column is-12"},Fs={class:"toolbar"},Ns={class:"tabs-inner"},Bs={class:"tabs is-boxed"},Js=[f("span",null,"Job Management",-1)],Ks=[f("span",null,"Documents/Files",-1)],zs=[f("span",null,"Proposals",-1)],$s=[f("span",null,"Tasks",-1)],Hs=[f("span",null,"Activities",-1)],Gs=[f("span",null,"Job progress",-1)],Ws=[f("span",null,"Finance",-1)],Zs=[f("span",null,"Report",-1)],qs=f("li",{class:"tab-naver"},null,-1),Xs={key:0,class:"column is-12"},Qs={class:"columns is-multiline"},Ys={class:"column is-8"},ei={class:"columns is-multiline"},li={class:"column is-12"},ti={class:"feed-settings"},ai=f("h3",{class:"dark-inverted"},"Job feeds",-1),si={class:"buttons"},ii={class:"column is-4"},ni={class:"side-text"},oi=f("h3",{class:"dark-inverted"},"Job Description",-1),di=["innerHTML"],ci=f("a",{class:"action-link",tabindex:"0"},"Read More",-1),ri={class:"column is-7 is-offset-1"},ui={class:"incoming"},pi=f("i",{"aria-hidden":"true",class:"lnil lnil-envelope-alt"},null,-1),mi=f("div",null,[f("span",{class:"item-name dark-inverted"},"Messages"),f("span",{class:"item-meta"},[f("span",null,"Inbox messages")])],-1),vi=f("i",{"aria-hidden":"true",class:"lnil lnil-checkmark-circle"},null,-1),hi=f("div",null,[f("span",{class:"item-name dark-inverted"},"Tasks"),f("span",{class:"item-meta"},[f("span",null,"Pending tasks")])],-1),gi={key:3,tabindex:"0",class:"action-link is-pushed-mobile"},fi={key:4,class:"light-text"},_i={class:"column is-12"},yi={class:"recent-rookies"},bi=f("div",{class:"recent-rookies-header"},[f("h3",{class:"dark-inverted"},"Internal Users"),f("a",{class:"action-link",tabindex:"0"},"View All")],-1),ki={class:"columns is-multiline user-grid user-grid-v4"},wi={class:"column is-4"},ji={class:"grid-item"},xi={class:"dark-inverted"},Ti={class:"capitalized"},Ci={class:"button-wrap has-text-centered"},Si={class:"column is-4"},Mi={key:0,class:"card mb-4",id:"workerProfileMap",style:{height:"300px",width:"100%","border-radius":"10px","z-index":"9"}},Ai=f("div",{class:"widget-toolbar"},[f("div",{class:"left"},[f("a",{class:"action-icon"},[f("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"}),f("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"})])]),f("div",{class:"center"},[f("h3",null,"October 2020")]),f("div",{class:"right"},[f("a",{class:"action-icon"},[f("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"}),f("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"})])])],-1),Di=f("table",{class:"calendar"},[f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Mon"),f("th",{scope:"col"},"Tue"),f("th",{scope:"col"},"Wed"),f("th",{scope:"col"},"Thu"),f("th",{scope:"col"},"Fri"),f("th",{scope:"col"},"Sat"),f("th",{scope:"col"},"Sun")])]),f("tbody",null,[f("tr",null,[f("td",{class:"prev-month"},"29"),f("td",{class:"prev-month"},"30"),f("td",{class:"prev-month"},"31"),f("td",null,"1"),f("td",null,"2"),f("td",null,"3"),f("td",null,"4")]),f("tr",null,[f("td",null,"5"),f("td",null,"6"),f("td",null,"7"),f("td",null,"8"),f("td",null,"9"),f("td",null,"10"),f("td",null,"11")]),f("tr",null,[f("td",null,"12"),f("td",null,"13"),f("td",null,"14"),f("td",null,"15"),f("td",null,"16"),f("td",null,"17"),f("td",{class:"current-day"},"18")]),f("tr",null,[f("td",null,"19"),f("td",null,"20"),f("td",null,"21"),f("td",null,"22"),f("td",null,"23"),f("td",null,"24"),f("td",null,"25")]),f("tr",null,[f("td",null,"26"),f("td",null,"27"),f("td",null,"28"),f("td",null,"29"),f("td",null,"30"),f("td",null,"31"),f("td",{class:"next-month"},"1")])])],-1),Ii={key:1,class:"column is-12"},Pi={key:2,class:"column is-12"},Ei={key:3,class:"column is-12"},Ri={key:4,class:"column is-12"},Vi={key:5,class:"column is-12"},Li={key:6,class:"column is-12"},Ui={key:7,class:"column is-12"},Oi={key:8,class:"column is-12"},Fi=v({__name:"JobDetails",setup(t){const a=G();D();const s=q();he();const i=k(!1),n=k(""),o=k(!1),d=k({id:"",sales_people_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:null,email:"",role:"",avatar:""},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],clientInfo:{id:"",username:"",last_name:null,email:"",role:"",avatar:null},created_by_info:{id:"",username:"",last_name:null,email:"",role:"",avatar:""},managers_list:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:"",sale_date:"",tags:[],estimated_from:"",estimated_to:"",sources:"",project_type:"",notes:"",attach_mail:"",latitude:null,longitude:null,created_at:"",updated_at:"",created_by:"",client:"",contractor:null,sales_people:[],managers:[]}),c=k("management"),r=[{type:"messages",count:5,status:"new"},{type:"tasks",count:3,status:"pending"}],u={type:{label:"Type",grow:"lg",media:!0},count:{label:"Count",align:"center"},status:"Status",actions:{label:"Actions",align:"end"}};let p;const m=async()=>{try{i.value=!0;const e=await s.get(`/api/project/${a.params.id}/detail/`);d.value=e.data,e.data.latitude&&((e,l)=>{if(p&&p.remove(),p=L.map("workerProfileMap").setView([51.4497984,-.3464489],24),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(p),e&&l){const t=[e,l];L.marker(t).addTo(p),p.setView(t,34)}else console.log("Invalid latitude or longitude for supplier")})(e.data.latitude??39.63,e.data.longitude??-105.3199999)}catch(e){console.error(e)}finally{i.value=!1}};return w((()=>{m()})),(t,s)=>{const i=Z,p=N,v=xe,k=je,w=we,S=ke,M=be,A=ye,D=bs,I=me,V=pa,L=Nt,O=Qe,F=Ue,B=l,J=e,$=W("tooltip");return h(),g("div",ks,[f("div",ws,[f("div",js,[f("div",xs,[f("div",Ts,[f("div",Cs,[f("div",Ss,[f("div",Ms,[_(i,{size:"large",picture:"lead"==b(d).current_state?"/icons/lead-shield-96.png":"/icons/job-sheild.png",squared:""},null,8,["picture"]),f("h3",null,T(b(d).title?b(d).title:"No Title"),1)])]),f("div",As,[Ds,f("p",Is,[z(T(b(d).address?b(d).address:"No Address Added")+" ",1),Ps,z(" "+T(b(d).city?b(d).city:"No City Added")+", "+T(b(d).state?b(d).state:"No State Added")+" ",1),Es,z(" "+T(b(d).zip_code?b(d).zip_code:"No Zip Code Added"),1)])]),f("div",Rs,[Vs,f("div",Ls,[(h(!0),g(j,null,x(b(d).managers_list,(e=>U((h(),K(i,{picture:e.avatar,initials:e.username.slice(0,2),squared:"",color:"warning"},null,8,["picture","initials"])),[[$,`${e.username??"N/A"} ${e.last_name??""}`,void 0,{info:!0,rounded:!0}]]))),256)),Us]),_(p,{class:"mt-1",onClick:s[0]||(s[0]=e=>{return l=b(a).params.id,n.value=l,void(o.value=!0);var l}),bold:"",fullwidth:"","dark-outlined":""},{default:y((()=>[z(" Update "+T("lead"==b(d).current_state?"lead":"job"),1)])),_:1})])])]),f("div",Os,[f("div",Fs,[f("div",Ns,[f("div",Bs,[f("ul",null,[f("li",{class:C(["management"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=P(E((e=>c.value="management"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>c.value="management")},Js,32)],2),f("li",{class:C(["documents"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=P(E((e=>c.value="documents"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>c.value="documents")},Ks,32)],2),f("li",{class:C(["proposals"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=P(E((e=>c.value="proposals"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>c.value="proposals")},zs,32)],2),f("li",{class:C(["tasks"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=P(E((e=>c.value="tasks"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>c.value="tasks")},$s,32)],2),f("li",{class:C(["activities"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=P(E((e=>c.value="activities"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>c.value="activities")},Hs,32)],2),f("li",{class:C(["progress"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=P(E((e=>c.value="progress"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>c.value="progress")},Gs,32)],2),f("li",{class:C(["finance"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=P(E((e=>c.value="finance"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>c.value="finance")},Ws,32)],2),f("li",{class:C(["report"===b(c)&&"is-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=P(E((e=>c.value="report"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>c.value="report")},Zs,32)],2),qs])])])])]),"management"===b(c)?(h(),g("div",Xs,[f("div",Qs,[f("div",Ys,[f("div",ei,[f("div",li,[f("div",ti,[ai,f("div",si,[(h(!0),g(j,null,x(b(d).tags,((e,l)=>(h(),g("button",{key:l,class:"button is-selected is-light is-dark-outlined"},T(e),1)))),128))])])]),f("div",ii,[f("div",ni,[oi,f("div",{innerHTML:b(d).notes},null,8,di),ci])]),f("div",ri,[f("div",ui,[_(w,{rounded:"",data:r,columns:u},{"body-cell":y((({row:e,column:l,value:t})=>["type"===l.key&&"messages"===e.type?(h(),g(j,{key:0},[_(v,{color:"green"},{default:y((()=>[pi])),_:1}),mi],64)):"type"===l.key&&"tasks"===e.type?(h(),g(j,{key:1},[_(v,{color:"orange"},{default:y((()=>[vi])),_:1}),hi],64)):"status"===l.key?(h(),g(j,{key:2},["new"===e.status?(h(),K(k,{key:0,rounded:"",color:"success",label:"New"})):(h(),K(k,{key:1,rounded:"",label:"Pending"}))],64)):"actions"===l.key?(h(),g("a",gi,"Open")):(h(),g("span",fi,T(t),1))])),_:1})])]),f("div",_i,[f("div",yi,[bi,f("div",ki,[(h(!0),g(j,null,x(b(d).sales_people_info,(e=>(h(),g("div",wi,[f("div",ji,[_(S),_(i,{picture:e.avatar,initials:e.username.slice(0,2),size:"large"},null,8,["picture","initials"]),f("h3",xi,T(e.username??"N/A")+" "+T(e.last_name??""),1),f("p",Ti,T(e.role),1),f("div",Ci,[_(p,{color:"primary",raised:""},{default:y((()=>[z(" View Profile ")])),_:1})])])])))),256))])])])])]),f("div",Si,["management"===b(c)?(h(),g("div",Mi)):R("",!0),_(M,{project:b(a).params.id},null,8,["project"]),_(A,{class:"picker-widget"},{header:y((()=>[Ai])),body:y((()=>[Di])),_:1})])])])):R("",!0),"documents"===b(c)?(h(),g("div",Ii,[_(D,{leadId:b(a).params.id},null,8,["leadId"])])):R("",!0),"proposals"===b(c)?(h(),g("div",Pi,[_(Te,{"lead-id":b(a).params.id,onUpdateCompany:m},null,8,["lead-id"])])):R("",!0),"activities"===b(c)?(h(),g("div",Ei,[_(I,{jobId:b(a).params.id},null,8,["jobId"])])):R("",!0),"progress"===b(c)?(h(),g("div",Ri,[_(V,{object:b(a).params.id,type:"job"},null,8,["object"])])):R("",!0),"finance"===b(c)?(h(),g("div",Vi,[_(L)])):R("",!0),"activityLogs"===b(c)?(h(),g("div",Li,[_(O,{object_id:b(a).params.id||b(d).id,object_type:"lead"},null,8,["object_id"])])):R("",!0),"report"===b(c)?(h(),g("div",Ui,[_(F)])):R("",!0),"tasks"===b(c)?(h(),g("div",Oi,[_(B,{projectID:b(a).params.id},null,8,["projectID"])])):R("",!0)])])]),b(o)?(h(),K(J,{key:0,addUpdateLeadModal:b(o),leadId:b(n),"onUpdate:modalHandler":s[17]||(s[17]=e=>o.value=!1),"onUpdate:OnSuccess":m},null,8,["addUpdateLeadModal","leadId"])):R("",!0)])}}});export{Fi as _};
