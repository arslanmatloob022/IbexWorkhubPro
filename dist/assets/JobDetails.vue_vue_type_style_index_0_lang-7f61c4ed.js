import{a as e,_ as l}from"./LeadAddUpdateModal.vue_vue_type_style_index_0_lang-a62c74c1.js";import{_ as a}from"./ProjectsTasks-d9d7eeb7.js";import{u as t,_ as s,a as i}from"./groupedCircleCharts-d57c88f2.js";import{b as n,u as o,a as d,c,_ as r}from"./groupedRadialCharts-1cce26c4.js";import{_ as u}from"./SparkStatWidget.vue_vue_type_style_index_0_lang-96031af0.js";import{A as p}from"./vue3-apexcharts.common-895def56.js";import{u as m}from"./salesSparksChart-d05ebed7.js";import{u as v}from"./revenueAreaChart-f91088d0.js";import{f as h,C as f,D as y,E as _,F as g,G as b,m as k,r as w,o as j,V as x,W as C,U as S,I as T,Q as A,R as I,S as V,x as M,$ as U,H as D,J as P,N as E,B as R,L as O,k as N,X as $,P as B,al as z,aB as F,O as H,K as J,aS as K,b as G,a5 as W,av as q,a4 as Z,y as X}from"./index-1fd8c9d7.js";import{_ as Q}from"./VAvatar.vue_vue_type_style_index_0_lang-17f6b6fa.js";import{u as Y}from"./useAPI-8dedc4df.js";import{h as ee}from"./moment-1b9a430c.js";import{_ as le}from"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-42027b99.js";import{p as ae}from"./index-c1fc2d09.js";import{a as te}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-e890e9d9.js";import{_ as se}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-154388ad.js";import{_ as ie}from"./VField.vue_vue_type_script_setup_true_lang-6cdedf6c.js";import{_ as ne}from"./VControl-ddd5eacc.js";import{_ as oe}from"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-d4ae1ab6.js";import{_ as de}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-058aa9d3.js";import{_ as ce,a as re}from"./search-4-dark-2b5b440c.js";import{o as ue}from"./via-placeholder-24645670.js";import{b as pe,a as me,h as ve,f as he,C as fe}from"./useSupportElement-7bf84197.js";import{_ as ye}from"./VModal.vue_vue_type_style_index_0_lang-c08161a7.js";import{_ as _e}from"./VTextarea.vue_vue_type_script_setup_true_lang-a1d6dbd2.js";import{_ as ge}from"./VInput.vue_vue_type_script_setup_true_lang-193ac21b.js";import{_ as be,a as ke}from"./VOption.vue_vue_type_style_index_0_lang-b93a022d.js";import{u as we}from"./useNotyf-4a3c9857.js";import{f as je}from"./estimatesScripts-d9e141a2.js";import{_ as xe}from"./VIcon.vue_vue_type_script_setup_true_lang-16a7909f.js";import{_ as Ce}from"./PlaceloadV3.vue_vue_type_style_index_0_lang-9aaa1eea.js";import{_ as Se,a as Te}from"./search-3-dark-1eb6ae2e.js";import{_ as Ae}from"./VDropdown.vue_vue_type_style_index_0_lang-c9270974.js";import{_ as Ie}from"./PlaceloadV4.vue_vue_type_style_index_0_lang-59f3bd06.js";import{f as Ve}from"./index-5fa9b154.js";import{_ as Me}from"./UIWidget.vue_vue_type_style_index_0_lang-816dba88.js";import{_ as Ue}from"./JobTodos.vue_vue_type_style_index_0_lang-7c54303a.js";import{_ as De}from"./UserCardDropdown-15eb4152.js";import{_ as Pe}from"./VFlexTable.vue_vue_type_style_index_0_lang-c6bd7377.js";import{_ as Ee}from"./VTag.vue_vue_type_style_index_0_lang-164cc5ad.js";import{_ as Re}from"./VIconBox.vue_vue_type_style_index_0_lang-c598651f.js";import{_ as Le}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-f20c4ba1.js";const Oe={class:"columns is-multiline"},Ne={class:"column is-3"},$e={class:"column is-3"},Be={class:"column is-3"},ze={class:"column is-3"},Fe={class:"column is-6"},He={class:"column is-6"},Je={class:"column is-6"},Ke={class:"column is-6"},Ge={class:"column is-6"},We={class:"column is-6"},qe=h({__name:"JobReport",setup(e){const{spark1:l,spark2:a,spark3:h,spark4:w}=m(),{revenueOptions:j}=v(),{lineStatsChartOptions:x}=n(),{flexRadialChartCircleOptions:C}=o(),{flexRadialChartStripesOptions:S}=d(),{widgetGaugeGroup1Options:T,widgetGaugeGroup2Options:A,widgetGaugeGroup3Options:I}=c(),{widgetRadialGroup1Options:V,widgetRadialGroup2Options:M,widgetRadialGroup3Options:U}=t();return(e,t)=>{const n=u,o=r,d=s,c=i;return f(),y("div",Oe,[_("div",Ne,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark1",height:k(l).chart.height,type:k(l).chart.type,series:k(l).series,options:k(l)},null,8,["height","type","series","options"])])),_:1})]),_("div",$e,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark2",height:k(a).chart.height,type:k(a).chart.type,series:k(a).series,options:k(a)},null,8,["height","type","series","options"])])),_:1})]),_("div",Be,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark3",height:k(h).chart.height,type:k(h).chart.type,series:k(h).series,options:k(h)},null,8,["height","type","series","options"])])),_:1})]),_("div",ze,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark4",height:k(w).chart.height,type:k(w).chart.type,series:k(w).series,options:k(w)},null,8,["height","type","series","options"])])),_:1})]),_("div",Fe,[g(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[g(k(p),{id:"line-stats-widget-chart",height:k(x).chart.height,type:k(x).chart.type,series:k(x).series,options:k(x)},null,8,["height","type","series","options"])])),_:1})]),_("div",He,[g(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[g(k(p),{id:"line-stats-area-chart",height:k(j).chart.height,type:k(j).chart.type,series:k(j).series,options:k(j)},null,8,["height","type","series","options"])])),_:1})]),_("div",Je,[g(d,{title:"Sales Revenue",straight:""},{default:b((()=>[g(k(p),{id:"flex-stat-circle",height:k(C).chart.height,type:k(C).chart.type,series:k(C).series,options:k(C)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ke,[g(d,{title:"Sales Revenue",straight:""},{default:b((()=>[g(k(p),{id:"flex-stat-radial",height:k(S).chart.height,type:k(S).chart.type,series:k(S).series,options:k(S)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ge,[g(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"]},{chart1:b((()=>[g(k(p),{id:"group-radial-1",height:k(V).chart.height,type:k(V).chart.type,series:k(V).series,options:k(V)},null,8,["height","type","series","options"])])),chart2:b((()=>[g(k(p),{id:"group-radial-2",height:k(M).chart.height,type:k(M).chart.type,series:k(M).series,options:k(M)},null,8,["height","type","series","options"])])),chart3:b((()=>[g(k(p),{id:"group-radial-3",height:k(U).chart.height,type:k(U).chart.type,series:k(U).series,options:k(U)},null,8,["height","type","series","options"])])),_:1})]),_("div",We,[g(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"],gauge:""},{chart1:b((()=>[g(k(p),{id:"group-gauge-1",height:k(T).chart.height,type:k(T).chart.type,series:k(T).series,options:k(T)},null,8,["height","type","series","options"])])),chart2:b((()=>[g(k(p),{id:"group-gauge-2",height:k(A).chart.height,type:k(A).chart.type,series:k(A).series,options:k(A)},null,8,["height","type","series","options"])])),chart3:b((()=>[g(k(p),{id:"group-gauge-3",height:k(I).chart.height,type:k(I).chart.type,series:k(I).series,options:k(I)},null,8,["height","type","series","options"])])),_:1})])])}}}),Ze=e=>(A("data-v-1f68036b"),e=e(),I(),e),Xe={class:"timeline-wrapper"},Qe=Ze((()=>_("div",{class:"timeline-header"},null,-1))),Ye={class:"timeline-wrapper-inner"},el={class:"timeline-container"},ll={class:"timeline-item is-unread"},al={class:"date"},tl={class:"content-wrap"},sl={class:"content-box"},il=Ze((()=>_("div",{class:"status"},null,-1))),nl={class:"box-text"},ol={class:"meta-text"},dl=["innerHTML"],cl=h({__name:"JobActivities",props:{object_id:{},object_type:{}},setup(e){const l=e,a=Y(),t=w([{id:"06b62536-220c-4d54-b437-50f035677d17",action:"UPDATE",timestamp:"2025-02-21T18:09:11.830145Z",actor_info:{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"},message:"updated <b>HENNING</b> lead information.",object_id:"1be101da-7a93-43af-b3e3-d1ca908aa2c9",object_type:"lead",actor:"0feda007-d8a0-4b96-acb7-d7763614854e"}]),s={UPDATE:"is-info",RETRIEVE:"is-warning",DELETE:"is-danger",CREATE:"is-primary"};return j((()=>{(async()=>{try{const e=await a.get(`/api/activity-logs/?object_id=${l.object_id}`);t.value=e.data}catch(e){console.log(e)}})()})),(e,l)=>{const a=Q;return f(),y("div",Xe,[Qe,_("div",Ye,[_("div",el,[(f(!0),y(x,null,C(k(t),(e=>(f(),y("div",ll,[_("div",al,[_("span",null,S(k(ee)(e.timestamp).format("ddd, mm yyyy")),1)]),_("div",{class:T(["dot",s[e.action]])},null,2),_("div",tl,[_("div",sl,[il,g(a,{picture:e.actor_info?.avatar},null,8,["picture"]),_("div",nl,[_("div",ol,[_("p",null,[_("span",null,S(e.actor_info?.username??"N/A")+" "+S(e.actor_info?.last_name??"N/A"),1),_("span",{class:"log-message",innerHTML:e.message},null,8,dl)]),_("span",null,S(k(ee)(e.timestamp).format("hh:mm:ss")),1)])])])])])))),256))])])])}}}),rl=V(cl,[["__scopeId","data-v-1f68036b"]]),ul={class:"table is-striped is-fullwidth"},pl=_("thead",null,[_("tr",null,[_("th",{scope:"col"},"Job"),_("th",{scope:"col"},"ID"),_("th",{scope:"col"},"Title"),_("th",{scope:"col"},"Status"),_("th",{scope:"col"},"Total Price"),_("th",{scope:"col"},"Total Tax"),_("th",{scope:"col"},"Amount Paid"),_("th",{scope:"col"},"Balance"),_("th",{scope:"col"},"Deadline"),_("th",{scope:"col"},"Date Paid"),_("th",{scope:"col"},"Files"),_("th",{scope:"col",class:"is-end"},"Actions")])],-1),ml=_("td",null,"Tina",-1),vl=_("td",null,"Bergmann",-1),hl=_("td",null,"Sales",-1),fl=_("td",null,"Tina",-1),yl=_("td",null,"Bergmann",-1),_l=_("td",null,"Sales",-1),gl=_("td",null,"Tina",-1),bl=_("td",null,"Bergmann",-1),kl=_("td",null,"Sales",-1),wl=_("td",null,"Bergmann",-1),jl=_("td",null,"Sales",-1),xl={class:"is-end"},Cl={class:"is-flex is-justify-content-flex-end"},Sl=_("td",null,"Tina",-1),Tl=_("td",null,"Bergmann",-1),Al=_("td",null,"Sales",-1),Il=_("td",null,"Tina",-1),Vl=_("td",null,"Bergmann",-1),Ml=_("td",null,"Sales",-1),Ul=_("td",null,"Tina",-1),Dl=_("td",null,"Bergmann",-1),Pl=_("td",null,"Sales",-1),El=_("td",null,"Bergmann",-1),Rl=_("td",null,"Sales",-1),Ll={class:"is-end"},Ol={class:"is-flex is-justify-content-flex-end"},Nl=_("td",null,"Tina",-1),$l=_("td",null,"Bergmann",-1),Bl=_("td",null,"Sales",-1),zl=_("td",null,"Tina",-1),Fl=_("td",null,"Bergmann",-1),Hl=_("td",null,"Sales",-1),Jl=_("td",null,"Tina",-1),Kl=_("td",null,"Bergmann",-1),Gl=_("td",null,"Sales",-1),Wl=_("td",null,"Bergmann",-1),ql=_("td",null,"Sales",-1),Zl={class:"is-end"},Xl={class:"is-flex is-justify-content-flex-end"},Ql=_("td",null,"Tina",-1),Yl=_("td",null,"Bergmann",-1),ea=_("td",null,"Sales",-1),la=_("td",null,"Tina",-1),aa=_("td",null,"Bergmann",-1),ta=_("td",null,"Sales",-1),sa=_("td",null,"Tina",-1),ia=_("td",null,"Bergmann",-1),na=_("td",null,"Sales",-1),oa=_("td",null,"Bergmann",-1),da=_("td",null,"Sales",-1),ca={class:"is-end"},ra={class:"is-flex is-justify-content-flex-end"},ua=h({__name:"JobInvoice",props:{activeTab:{default:"active"}},setup(e){const l=e,a=ae;M();const t=w("");return w(l.activeTab),U((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=le;return f(),y("table",ul,[pl,_("tbody",null,[_("tr",null,[ml,vl,hl,fl,yl,_l,gl,bl,kl,wl,jl,_("td",xl,[_("div",Cl,[g(a)])])]),_("tr",null,[Sl,Tl,Al,Il,Vl,Ml,Ul,Dl,Pl,El,Rl,_("td",Ll,[_("div",Ol,[g(a)])])]),_("tr",null,[Nl,$l,Bl,zl,Fl,Hl,Jl,Kl,Gl,Wl,ql,_("td",Zl,[_("div",Xl,[g(a)])])]),_("tr",null,[Ql,Yl,ea,la,aa,ta,sa,ia,na,oa,da,_("td",ca,[_("div",ra,[g(a)])])])])])}}}),pa={class:"table is-striped is-fullwidth"},ma=_("thead",null,[_("tr",null,[_("th",{scope:"col"},"First Name"),_("th",{scope:"col"},"Last Name"),_("th",{scope:"col"},"Position"),_("th",{scope:"col",class:"is-end"},[_("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1),va=_("td",null,"Tina",-1),ha=_("td",null,"Bergmann",-1),fa=_("td",null,"Head of Sales",-1),ya={class:"is-end"},_a={class:"is-flex is-justify-content-flex-end"},ga=_("td",null,"John",-1),ba=_("td",null,"Wistmus",-1),ka=_("td",null,"Senior Executive",-1),wa={class:"is-end"},ja={class:"is-flex is-justify-content-flex-end"},xa=_("td",null,"Sam",-1),Ca=_("td",null,"Watson",-1),Sa=_("td",null,"Software Engineer",-1),Ta={class:"is-end"},Aa={class:"is-flex is-justify-content-flex-end"},Ia=_("td",null,"Jolaine",-1),Va=_("td",null,"Joestar",-1),Ma=_("td",null,"HR Manager",-1),Ua={class:"is-end"},Da={class:"is-flex is-justify-content-flex-end"},Pa=_("td",null,"Anders",-1),Ea=_("td",null,"Jensen",-1),Ra=_("td",null,"Accountant",-1),La={class:"is-end"},Oa={class:"is-flex is-justify-content-flex-end"},Na=h({__name:"JobEstimates",props:{activeTab:{default:"active"}},setup(e){const l=e,a=ae;M();const t=w("");return w(l.activeTab),U((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=le;return f(),y("table",pa,[ma,_("tbody",null,[_("tr",null,[va,ha,fa,_("td",ya,[_("div",_a,[g(a)])])]),_("tr",null,[ga,ba,ka,_("td",wa,[_("div",ja,[g(a)])])]),_("tr",null,[xa,Ca,Sa,_("td",Ta,[_("div",Aa,[g(a)])])]),_("tr",null,[Ia,Va,Ma,_("td",Ua,[_("div",Da,[g(a)])])]),_("tr",null,[Pa,Ea,Ra,_("td",La,[_("div",Oa,[g(a)])])])])])}}}),$a={class:"columns is-multiline"},Ba={class:"column is-12"},za={class:"toolbar"},Fa={class:"tabs-inner"},Ha={class:"tabs"},Ja=_("span",null,"Estimate",-1),Ka=[Ja],Ga=_("span",null,"Budget",-1),Wa=[Ga],qa=_("span",null,"Owner Invoice",-1),Za=[qa],Xa=_("li",{class:"tab-naver"},null,-1),Qa={key:0,class:"column is-12"},Ya={key:1,class:"column is-12"},et={key:2,class:"column is-12"},lt=h({__name:"JobFinance",props:{activeTab:{default:"active"}},setup(e){const l=ae;M();const a=w("estimate"),t=w("");return U((()=>{if(t.value){const e=new RegExp(t.value,"i");return l.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return l})),(e,l)=>{const t=Na,s=ua;return f(),y("div",$a,[_("div",Ba,[_("div",za,[_("div",Fa,[_("div",Ha,[_("ul",null,[_("li",{class:T(["estimate"===k(a)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=D(P((e=>a.value="estimate"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>a.value="estimate")},Ka,32)],2),_("li",{class:T(["budget"===k(a)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=D(P((e=>a.value="budget"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>a.value="budget")},Wa,32)],2),_("li",{class:T(["invoice"===k(a)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=D(P((e=>a.value="invoice"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>a.value="invoice")},Za,32)],2),Xa])])])])]),"estimate"===k(a)?(f(),y("div",Qa,[g(t)])):E("",!0),"budget"===k(a)?(f(),y("div",Ya)):E("",!0),"invoice"===k(a)?(f(),y("div",et,[g(s)])):E("",!0)])}}}),at={class:"user-grid-toolbar"},tt=_("span",{class:"icon"},[_("i",{class:"fas fa-plus"})],-1),st=_("span",null,"Progress",-1),it={class:"user-grid user-grid-v1"},nt={class:"columns is-multiline"},ot={class:"grid-item"},dt={class:"is-flex"},ct=h({__name:"JobProgressLoader",setup(e){const l=w(""),a=w(0),t=["All","UI/UX Design","Web Development","Software Eng.","Business"];return(e,s)=>{const i=ne,n=R("Multiselect"),o=ie,d=B,c=z,r=F,u=de,p=oe;return f(),y("div",null,[_("div",at,[g(i,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>N(l)?l.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[$,k(l)]])])),_:1}),g(c,null,{default:b((()=>[g(o,{class:"h-hidden-mobile"},{default:b((()=>[g(i,null,{default:b((()=>[g(n,{modelValue:k(a),"onUpdate:modelValue":s[1]||(s[1]=e=>N(a)?a.value=e:null),options:t,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),g(d,null,{default:b((()=>[tt,st])),_:1})])),_:1})]),_("div",it,[_("div",nt,[(f(),y(x,null,C(20,(e=>_("div",{key:e,class:"column is-3"},[_("div",ot,[g(r,{height:"160px",centered:"",class:"mb-2"}),g(u,{class:"mb-5",width:"80%",lines:3,"last-line-width":"60%"}),_("div",dt,[g(p,{size:"small",class:"mx-1"}),g(u,{class:"mb-4",width:"80%",lines:2,"last-line-width":"60%"})])])]))),64))])])])}}}),rt={key:1},ut={class:"card-grid-toolbar"},pt={class:"buttons"},mt=_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),vt=_("span",null,"Progress",-1),ht={class:"card-grid card-grid-v4"},ft=_("img",{class:"light-image",src:ce,alt:""},null,-1),yt=_("img",{class:"dark-image",src:re,alt:""},null,-1),_t=["href","title"],gt=["src","alt"],bt={class:"card-grid-item-content"},kt={class:"dark-inverted"},wt={key:0},jt=_("summary",null,"Read More",-1),xt={key:0,class:"card-grid-item-footer"},Ct={class:"meta"},St={class:"dark-inverted"},Tt=h({__name:"JobProgress",props:{object:{},type:{},taskData:{}},setup(e){const l=e,a=Y(),t=w(""),s=w(!1),i=w(!1),n=w(0),o=["All Posts","Recent Posts","Older Posts","Popular Posts"],d=w([{id:"",uploaded_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},file_info:{url:"",name:"",type:"",size:0},progress:0,title:"",description:"",created_at:"",file:"",job:"",task:"",uploaded_by:""}]),c=async()=>{try{s.value=!0;const e=await a.get(`/api/job-progress/by-job/${l.object}/`);d.value=e.data}catch(e){console.log(e)}finally{s.value=!1}};U((()=>d.value.map((e=>({src:e.file_info.url,thumbnail:e.file_info.url,w:1200,h:900,alt:e.file_info.name})))));const r=U((()=>{if(t.value){const e=new RegExp(t.value,"i");return console.log(e),d.value.filter((l=>l.title?.match(e)||l.created_at?.match(e)||l.uploaded_by_info?.username?.match(e)||l.uploaded_by_info?.email?.match(e)||l.uploaded_by_info?.last_name?.match(e)))}return d.value}));return j((()=>{"job"===l.type&&c()})),(e,a)=>{const d=ct,u=ne,p=R("Multiselect"),m=ie,v=B,h=se,w=Q,j=te;return k(s)?(f(),H(d,{key:0})):(f(),y("div",rt,[_("div",ut,[g(u,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>N(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[$,k(t)]])])),_:1}),_("div",pt,[g(m,{class:"h-hidden-mobile"},{default:b((()=>[g(u,null,{default:b((()=>[g(p,{modelValue:k(n),"onUpdate:modelValue":a[1]||(a[1]=e=>N(n)?n.value=e:null),options:o,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),g(v,{onClick:a[2]||(a[2]=e=>i.value=!k(i)),color:"primary",raised:""},{default:b((()=>[mt,vt])),_:1})])]),_("div",ht,[g(h,{class:T([0!==k(r).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[ft,yt])),_:1},8,["class"]),g(K,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(x,null,C(k(r),(e=>(f(),y("div",{key:e.id,class:"column is-3"},[_("a",{href:e.file,title:e.title,itemprop:"contentUrl","data-pswp-width":"1200","data-pswp-height":"900",target:"_blank","data-cropped":"true",ref_for:!0,ref:"noreferrer",class:"card-grid-item"},[_("img",{src:e.file,alt:e.title,onErrorOnce:a[3]||(a[3]=e=>k(ue)(400,300))},null,40,gt),_("div",bt,[_("h3",kt,S(e.title?e.title:"No Title"),1),_("p",null,[J(S(e.description?e.description.slice(0,34):"No Description")+" ",1),e.description.length>44?(f(),y("details",wt,[jt,J(" "+S(e.description?e.description:""),1)])):E("",!0)])]),e.uploaded_by_info?(f(),y("div",xt,[g(w,{picture:e.uploaded_by_info.avatar,size:"small"},null,8,["picture"]),_("div",Ct,[_("span",St,S(e.uploaded_by_info.username??"N/A")+" "+S(e.uploaded_by_info.last_name??""),1),_("span",null,S(k(pe)(e.created_at)),1)])])):E("",!0)],8,_t)])))),128))])),_:1})]),k(i)?(f(),H(j,{key:0,job:l.object,openProgressModal:k(i),"onUpdate:OnSuccess":c,"onClose:ModalHandler":a[4]||(a[4]=e=>i.value=!1)},null,8,["job","openProgressModal"])):E("",!0)]))}}}),At={class:"modal-form columns is-multiline"},It={class:"column is-12"},Vt=_("div",{class:"column is-12"},[_("h3",{class:"title is-6 mb-2"},"Activity Information")],-1),Mt={class:"field column is-6 mb-0"},Ut=_("label",null,"Title *",-1),Dt={class:"control"},Pt={class:"field column is-6 mb-0"},Et=_("label",null,"Activity Type *",-1),Rt={class:"field column is-6 mb-0"},Lt=_("label",null,"Date ",-1),Ot={class:"field column is-3 mb-0"},Nt=_("label",null,"Start Time ",-1),$t={class:"field column is-3 mb-0"},Bt=_("label",null,"End Time ",-1),zt={class:"field column is-3 mb-0"},Ft=_("label",null,"Color ",-1),Ht=_("datalist",{id:"colors-list"},[_("option",{value:"#84cc16"}),_("option",{value:"#22c55e"}),_("option",{value:"#0ea5e9"}),_("option",{value:"#6366f1"}),_("option",{value:"#8b5cf6"}),_("option",{value:"#d946ef"}),_("option",{value:"#f43f5e"}),_("option",{value:"#facc15"}),_("option",{value:"#fb923c"}),_("option",{value:"#9ca3af"})],-1),Jt={class:"field column is-3 mb-0"},Kt=_("label",null,"Reminder time: ",-1),Gt={class:"field column is-3 mb-0"},Wt=_("label",null,"Attachment ",-1),qt={class:"file"},Zt={class:"file-label"},Xt={class:"file-cta"},Qt=_("span",{class:"file-icon"},[_("i",{class:"fas fa-cloud-upload-alt"})],-1),Yt={class:"file-label"},es={class:"field column is-12 mb-0"},ls=_("label",null,"Assigned * ",-1),as={class:"multiselect-tag is-user"},ts=["src"],ss=["onMousedown"],is=_("div",{class:"column is-12"},[_("h3",{class:"title is-6 mb-2"},"Location")],-1),ns={class:"field column is-4 mb-0"},os=_("label",null,"Zip Code ",-1),ds={class:"control"},cs={class:"field column is-4 mb-0"},rs=_("label",null,"City ",-1),us={class:"control"},ps={class:"field column is-4 mb-0"},ms=_("label",null,"State ",-1),vs={class:"control"},hs={class:"field column is-12 mb-0"},fs=_("label",null,"Street Address",-1),ys={class:"control"},_s={class:"field column is-12 mb-0"},gs=_("label",null,"Description ",-1),bs=h({__name:"LeadActivityModal",props:{addUpdateContactModal:{type:Boolean},activityId:{},objectId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;w(null);const t=G(),s=we(),i=Y(),n=w(!1),o=()=>{l("update:modalHandler",!1)},d=w([{value:"",name:"",image:""}]),c=w({title:"",objectId:a.objectId??"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",assignedUser:"",attendees:[],initiated_by:t.user.id,address:"",city:"",state:"",zip_code:"",description:"",latitude:0,longitude:0,file:""}),r=async()=>{try{n.value=!0;const e=me(c.value,["file"]);if(a.activityId){await i.patch(`/api/activity/${a.activityId}/`,e);s.success("Activity updated successfully")}else{await i.post("/api/activity/",e);s.success("Activity added successfully")}l("update:OnSuccess",null),o()}catch(e){s.error(` ${e}, Activity`)}finally{n.value=!1}},u=async()=>{if(!c.value.zip_code)return;const e=await ve(c.value.zip_code);console.log("API Response:",e),e?.status&&e.data?(c.value.latitude=e.data.lat,c.value.longitude=e.data.lng,c.value.address=e.data.address,c.value.city=e.data.city,c.value.state=e.data.state,s.success("Address fetched successfully")):console.log("Address not found.")},p=w(""),m=w(0),v=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(c.value.file=a,p.value=a.name,m.value=a.size)};return j((()=>{(async()=>{try{n.value=!0;const e=await i.get("/api/users/");d.value=e.data.map((e=>({value:e.id,name:`${e.username??"N/A"} ${e.last_name??""}`,icon:e.avatar})))}catch(e){s.error("something get wrong")}finally{n.value=!1}})(),a.activityId&&(async()=>{try{n.value=!0;const e=await i.get(`/api/activity/${a.activityId}/`);c.value=e.data}catch(e){s.error(` ${e}, Get Activity`)}finally{n.value=!1}})()})),(e,l)=>{const t=be,s=ke,i=ne,m=ie,h=ge,w=R("Multiselect"),j=W,T=_e,A=B,I=ye;return f(),H(I,{is:"form",open:a.addUpdateContactModal,title:"Activity Details",size:"large",actions:"right",onSubmit:P(r,["prevent"]),onClose:o},{content:b((()=>[_("div",At,[_("div",It,[g(j,{class:"columns is-multiline"},{default:b((()=>[Vt,_("div",Mt,[Ut,_("div",Dt,[O(_("input",{type:"text",name:"title","onUpdate:modelValue":l[0]||(l[0]=e=>k(c).title=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Title"},null,512),[[$,k(c).title]])])]),_("div",Pt,[Et,g(m,null,{default:b((()=>[g(i,null,{default:b((()=>[g(s,{modelValue:k(c).type,"onUpdate:modelValue":l[1]||(l[1]=e=>k(c).type=e),required:""},{default:b((()=>[(f(!0),y(x,null,C(k(je),(e=>(f(),H(t,{value:e.value},{default:b((()=>[J(S(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),_("div",Rt,[Lt,O(_("input",{type:"date",name:"date","onUpdate:modelValue":l[2]||(l[2]=e=>k(c).date=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[$,k(c).date]])]),_("div",Ot,[Nt,O(_("input",{type:"time",name:"date","onUpdate:modelValue":l[3]||(l[3]=e=>k(c).start_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[$,k(c).start_time]])]),_("div",$t,[Bt,O(_("input",{type:"time",name:"date","onUpdate:modelValue":l[4]||(l[4]=e=>k(c).end_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[$,k(c).end_time]])]),_("div",zt,[Ft,g(m,null,{default:b((()=>[g(i,null,{default:b((()=>[g(h,{modelValue:k(c).color,"onUpdate:modelValue":l[5]||(l[5]=e=>k(c).color=e),list:"colors-list",type:"color",placeholder:"Pick a color"},null,8,["modelValue"]),Ht])),_:1})])),_:1})]),_("div",Jt,[Kt,O(_("input",{type:"time",name:"date","onUpdate:modelValue":l[6]||(l[6]=e=>k(c).reminder_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[$,k(c).reminder_time]])]),_("div",Gt,[Wt,g(m,{grouped:""},{default:b((()=>[g(i,null,{default:b((()=>[_("div",qt,[_("label",Zt,[_("input",{onChange:v,class:"file-input",type:"file",name:"resume"},null,32),_("span",Xt,[Qt,_("span",Yt,S(k(p)?k(p):"Choose a file…"),1)])])])])),_:1})])),_:1})]),_("div",es,[ls,g(m,null,{default:b((({id:e})=>[g(i,null,{default:b((()=>[g(w,{required:"",modelValue:k(c).attendees,"onUpdate:modelValue":l[8]||(l[8]=e=>k(c).attendees=e),attrs:{id:e},mode:"tags",placeholder:"Select a user","track-by":"name",label:"name",search:!0,searchable:!0,options:k(d),"max-height":145},{tag:b((({option:e,remove:a,disabled:t})=>[_("div",as,[_("img",{src:e.image,alt:""},null,8,ts),J(" "+S(e.name)+" ",1),t?E("",!0):(f(),y("i",{key:0,role:"button",tabindex:"0",onClick:l[7]||(l[7]=P((()=>{}),["prevent"])),onMousedown:P((l=>a(e)),["prevent","stop"])},null,40,ss))])])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])])),_:1}),g(j,{class:"columns is-multiline mt-3"},{default:b((()=>[is,_("div",ns,[os,_("div",ds,[O(_("input",{type:"text",name:"state",onBlur:u,"onUpdate:modelValue":l[9]||(l[9]=e=>k(c).zip_code=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip Code"},null,544),[[$,k(c).zip_code]])])]),_("div",cs,[rs,_("div",us,[O(_("input",{type:"text",name:"city","onUpdate:modelValue":l[10]||(l[10]=e=>k(c).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[$,k(c).city]])])]),_("div",ps,[ms,_("div",vs,[O(_("input",{type:"text",name:"state","onUpdate:modelValue":l[11]||(l[11]=e=>k(c).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[$,k(c).state]])])]),_("div",hs,[fs,_("div",ys,[O(_("input",{type:"tel",name:"phone","onUpdate:modelValue":l[12]||(l[12]=e=>k(c).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[$,k(c).address]])])]),_("div",_s,[gs,g(m,null,{default:b((()=>[g(i,null,{default:b((()=>[g(T,{modelValue:k(c).description,"onUpdate:modelValue":l[13]||(l[13]=e=>k(c).description=e),rows:"3",placeholder:"Enter description..."},null,8,["modelValue"])])),_:1})])),_:1})])])),_:1})])])])),action:b((()=>[g(A,{loading:k(n),type:"submit",color:"primary",raised:""},{default:b((()=>[J(S(a.activityId?"Update":"Create")+" Activity",1)])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),ks={key:1},ws={class:"card-grid-toolbar"},js={class:"buttons"},xs={class:"card-grid card-grid-v3"},Cs=_("img",{class:"light-image",src:Se,alt:""},null,-1),Ss=_("img",{class:"dark-image",src:Te,alt:""},null,-1),Ts={class:"h-toggle"},As=["checked"],Is={class:"toggler"},Vs=_("span",{class:"active"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})],-1),Ms={class:"inactive"},Us={class:"dark-inverted"},Ds={class:"description"},Ps={class:"people"},Es={class:"buttons"},Rs=["onClick"],Ls=[_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:edit-2"})],-1),_("span",null,"Edit",-1)],Os=h({__name:"JobLeadActivities",props:{jobId:{}},setup(l){const a=l,t=w(""),s=w(""),i=w(!1),n=w(!1),o=w([{id:"",attendees_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:""}],initiated_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},title:"",description:"",objectId:"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",created_at:"",address:"",city:"",state:"",zip_code:"",file:null,latitude:0,longitude:0,initiated_by:"",attendees:[""]}]),d=Y(),c=we();G();const r=w(!1),u=w(""),p=w(!1),m=U((()=>{if(!o.value)return[];const e=new RegExp(t.value,"i"),l=u.value?.trim();return o.value.filter((a=>{const s=!t.value||e.test(a.title)||e.test(a.start_time)||e.test(a.end_time)||e.test(a.date)||e.test(a.status)||e.test(a.type),i=!l||a.type===l;return s&&i}))})),v=()=>{a.jobId?(async()=>{try{r.value=!0;const e=await d.get(`/api/activity/by-object/${a.jobId}/`);o.value=e.data}catch(e){c.error("something get wrong")}finally{r.value=!1}})():(async()=>{try{r.value=!0;const e=await d.get("/api/activity/");o.value=e.data}catch(e){c.error("something get wrong")}finally{r.value=!1}})()};return j((()=>{v()})),(l,o)=>{const h=Ce,w=ne,j=be,A=ke,I=ie,V=B,M=se,U=xe,D=Q,P=bs,R=e,L=q("tooltip");return k(r)?(f(),H(h,{key:0})):(f(),y("div",ks,[_("div",ws,[g(w,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>N(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[$,k(t)]])])),_:1}),_("div",js,[J(S(k(u))+" ",1),g(I,null,{default:b((()=>[g(w,null,{default:b((()=>[g(A,{modelValue:k(u),"onUpdate:modelValue":o[1]||(o[1]=e=>N(u)?u.value=e:null),required:""},{default:b((()=>[g(j,{value:""},{default:b((()=>[J("All")])),_:1}),(f(!0),y(x,null,C(k(je),(e=>(f(),H(j,{value:e.value},{default:b((()=>[J(S(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),g(V,{onClick:o[2]||(o[2]=e=>i.value=!k(i)),color:"warning",icon:"lnir lnir-alarm"},{default:b((()=>[J(" Create Activity ")])),_:1}),g(V,{onClick:o[3]||(o[3]=e=>n.value=!k(n)),color:"success",class:"ml-2",icon:"fas fa-envelope"},{default:b((()=>[J(" Schedule Email ")])),_:1})])]),_("div",xs,[g(M,{class:T([0!==k(m).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[Cs,Ss])),_:1},8,["class"]),g(K,{name:"list",tag:"div",class:"columns is-multiline is-flex-tablet-p is-half-tablet-p"},{default:b((()=>[(f(!0),y(x,null,C(k(m),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[_("div",{class:"card-grid-item",style:Z({backgroundImage:`linear-gradient(\n                    -175deg,\n                    white 70%,\n                  ${e.color}30\n                  `})},[_("label",Ts,[_("input",{type:"checkbox",checked:"completed"==e.status},null,8,As),_("span",Is,[Vs,_("span",Ms,[g(U,{icon:"lucide:activity"})])])]),g(D,{size:"large",picture:`/IbexIcons/ActivitiesIcons/${e.type}.png`,squared:""},null,8,["picture"]),_("h3",Us,S(e.title),1),_("p",null,S(k(he)(e.date))+" remaining",1),_("div",Ds,[_("p",null,S(e.description??"Not Added"),1)]),_("div",Ps,[(f(!0),y(x,null,C(e.attendees_info,(e=>O((f(),H(D,{key:e.id,size:"small",initials:e.username.slice(0,2),picture:e.avatar},null,8,["initials","picture"])),[[L,`${e.username} ${e.last_name?e.last_name:""}`,void 0,{rounded:!0}]]))),128))]),_("div",Es,[g(V,{onClick:l=>(async(e="")=>{try{p.value=!0,204===(await d.delete(`/api/activity/${e}/`)).status?(c.success("Activity deleted successfully"),v()):c.error("Something went wrong")}catch(l){console.log("Err in deleting activity",l)}finally{p.value=!1}})(e.id),loading:k(p),icon:"feather:trash",outlined:""},{default:b((()=>[J(" Delete ")])),_:2},1032,["onClick","loading"]),_("button",{onClick:l=>{return a=e.id,s.value=a,void(i.value=!0);var a},class:"button v-button is-dark-outlined"},Ls,8,Rs)])],4)])))),128))])),_:1})]),k(i)?(f(),H(P,{key:0,addUpdateContactModal:k(i),objectId:a.jobId,activityId:k(s),"onUpdate:modalHandler":o[4]||(o[4]=e=>i.value=!1),"onUpdate:OnSuccess":v},null,8,["addUpdateContactModal","objectId","activityId"])):E("",!0),k(n)?(f(),H(R,{key:1,mailSchedulerModal:k(n),"onUpdate:modalHandler":o[5]||(o[5]=e=>n.value=!1)},null,8,["mailSchedulerModal"])):E("",!0)]))}}}),Ns={class:"modal-form columns is-multiline"},$s={class:"column is-full"},Bs={class:"field"},zs=_("label",{class:"label"},"Title ",-1),Fs={class:"control"},Hs={class:"field column is-half"},Js={class:"file"},Ks={class:"file-label"},Gs={class:"file-cta"},Ws=_("span",{class:"file-icon"},[_("i",{class:"fas fa-cloud-upload-alt"})],-1),qs={class:"file-label"},Zs=h({__name:"UploadDocumentModal",props:{openFileModal:{type:Boolean},type:{},object:{}},emits:["close:ModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;w(null);const t=Y(),s=we(),i=w(!1),n=G(),o=()=>{l("close:ModalHandler",!1)},d=w({type:a.type,object:a.object,title:"",uploaded_by:n.user.id,file:null}),c=async()=>{try{i.value=!0;const e=me(d.value,["file"]);await t.post("/api/attachment/",e);fe({object_type:"files",object_id:a.object,action:"CREATE",message:`Uploaded new file named <b>${d.value.title}</b>.`,performedOnName:"job"}),s.success("File uploaded successfully!"),l("update:OnSuccess",null),o()}catch(e){console.log(e)}finally{i.value=!1}},r=w(""),u=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(d.value.file=a,r.value=a.name)};return j((()=>{})),(e,l)=>{const t=ne,s=ie,n=B,p=ye;return f(),H(p,{is:"form",open:a.openFileModal,title:"Add Progress",size:"medium",actions:"right",onSubmit:P(c,["prevent"]),onClose:o},{content:b((()=>[_("div",Ns,[_("div",$s,[_("div",Bs,[zs,_("div",Fs,[O(_("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>k(d).title=e)},null,512),[[$,k(d).title]])])])]),_("div",Hs,[g(s,{grouped:""},{default:b((()=>[g(t,null,{default:b((()=>[_("div",Js,[_("label",Ks,[_("input",{onChange:u,class:"file-input",type:"file",name:"resume"},null,32),_("span",Gs,[Ws,_("span",qs,S(k(r)?k(r):"Choose a file…"),1)])])])])),_:1})])),_:1})])])])),action:b((()=>[g(n,{type:"submit",color:"primary",loading:k(i),raised:""},{default:b((()=>[J(" Save")])),_:1},8,["loading"])])),cancel:b((()=>[g(n,{color:"light",onClick:o,raised:""},{default:b((()=>[J("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Xs={key:0,class:"modal-form"},Qs=["src"],Ys=["src"],ei=["src"],li=["src"],ai={key:1,class:"modal-form"},ti=[_("h1",{class:"title is-5"},"No media file attached",-1)],si=h({__name:"DocumentViewer",props:{openDocViewModal:{type:Boolean},document:{},title:{}},emits:["update:closeModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=()=>{l("update:closeModalHandler",!1)},s=e=>`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`;return j((async()=>{console.log("picture",a.document)})),(e,l)=>{const i=B,n=ye;return f(),H(n,{is:"form",open:a.openDocViewModal,title:a.title?a.title:"Attached Document",size:"xl",actions:"right",onClose:t},{content:b((()=>[a.document?(f(),y("div",Xs,[a.document?.includes(".pdf")?(f(),y("iframe",{key:0,src:`${a.document}#toolbar=0&view=FitH`,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Qs)):a.document?.toLowerCase().includes(".doc")||a.document?.toLowerCase().includes(".docx")?(f(),y("iframe",{key:1,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Ys)):a.document?.toLowerCase().includes(".xls")||a.document?.toLowerCase().includes(".xlsx")?(f(),y("iframe",{key:2,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,ei)):(f(),y("img",{key:3,src:a.document,alt:""},null,8,li))])):(f(),y("div",ai,ti))])),cancel:b((()=>[g(i,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:b((()=>[J("Close")])),_:1})])),_:1},8,["open","title"])}}}),ii={class:"tile-grid-item"},ni={class:"tile-grid-item-inner"},oi=["src"],di={class:"meta"},ci={class:"dark-inverted"},ri=_("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),ui=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-cloud-download"})],-1),_("div",{class:"meta"},[_("span",null,"Download"),_("span",null,"Download this file")],-1)],pi=_("hr",{class:"dropdown-divider"},null,-1),mi=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),_("div",{class:"meta"},[_("span",null,"Delete"),_("span",null,"Delete this file")],-1)],vi=h({__name:"DocumentTile",props:{document:{}},emits:["deleteSelectedFile"],setup(e,{emit:l}){const a=e,t=w(""),s=w(!1),i=w(""),n={pdf:"/images/icons/files/pdf.svg",xls:"/images/icons/files/sheet.svg",doc:"/images/icons/files/doc-2.svg",ppt:"/images/icons/files/ppt.svg",ai:"/images/icons/files/ai.svg",docx:"/images/icons/files/doc-2.svg",docs:"/images/icons/files/doc-2.svg",xlsx:"/images/icons/files/sheet.svg",ai2:"/images/icons/files/ai.svg",xlx:"/images/icons/files/sheet.svg",ods:"/images/icons/files/sheet.svg",png:"/icons/png-icon.png",jpg:"/icons/jpg-50.png",jpeg:"/icons/jpg-50.png"};return(e,o)=>{const d=Ae;return f(),y("div",null,[_("div",ii,[_("div",ni,[_("img",{onClick:o[0]||(o[0]=e=>{return l=a.document?.file,t.value=l,i.value=l.title,void(s.value=!s.value);var l}),src:n[a.document?.file_info?.type]},null,8,oi),_("div",di,[_("span",ci,S(a.document.title??"N/A"),1),_("span",null,[_("span",null,S(a.document?.file_info?.size??0)+" MB",1),ri,_("span",null,"At:"+S(k(he)(a.document.created_at)),1)])]),g(d,{icon:"feather:more-vertical",spaced:"",right:""},{content:b((()=>[_("a",{role:"menuitem",onClick:o[1]||(o[1]=e=>(async(e,l)=>{try{const a=await fetch(e);if(!a.ok)throw new Error("Network response was not ok");const t=await a.blob(),s=window.URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(a){console.error("Download failed:",a)}})(a.document.file,a.document.title)),class:"dropdown-item is-media"},ui),pi,_("a",{role:"menuitem",onClick:o[2]||(o[2]=e=>{return t=a.document.id,void l("deleteSelectedFile",t);var t}),class:"dropdown-item is-media"},mi)])),_:1})])]),k(s)?(f(),H(si,{key:0,openDocViewModal:k(s),document:k(t),title:k(i),"onUpdate:closeModalHandler":o[3]||(o[3]=e=>s.value=!1)},null,8,["openDocViewModal","document","title"])):E("",!0)])}}}),hi={key:1},fi={class:"tile-grid-toolbar"},yi={class:"buttons"},_i=_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),gi=_("span",null,"Add File",-1),bi={class:"tile-grid tile-grid-v2"},ki=_("img",{class:"light-image",src:ce,alt:""},null,-1),wi=_("img",{class:"dark-image",src:re,alt:""},null,-1),ji=h({__name:"ObjectDocumentsTiles",props:{objectId:{},docType:{}},setup(e){const l=e,a=we(),t=Y(),s=w(""),i=w(0),n=w(""),o=w(!1),d=w(!1),c=w([{id:"27223081-e97a-4420-91f2-6a08da82d846",uploaded_by_info:{id:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b",username:"APIs",last_name:"Dev",email:"api@dev.com",role:"admin",avatar:null},file_info:{url:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",name:"combined_proposal_95Ac2Fu.pdf",type:"pdf",size:.14},file:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",type:"proposal_formats",object:"751b95b2-9961-45a0-948c-96f85cea6a52",created_at:"2025-02-14T19:42:31.991589Z",title:"proposal",uploaded_by:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b"}]),r=["All Files","Recently Updated","My Files","Team Files","Deprecated"],u=async(e="proposal_formats")=>{try{o.value=!0;const e=await t.get(`/api/attachment/by-object/${l.objectId}/?type=${l.docType}`);c.value=e.data}catch(a){console.log(a)}finally{o.value=!1}},p=async e=>{try{const s=await t.delete(`/api/attachment/${e}/`);fe({object_type:"files",object_id:l.objectId,action:"DELETE",message:`Deleted a file named <b>${s.data.title}</b>.`,performedOnName:"job"}),a.purple("File Deleted Successfully"),u()}catch(s){console.log(s)}},m=U((()=>s.value?c.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.file_info?.name?.match(new RegExp(s.value,"i"))||e.created_at.match(new RegExp(s.value,"i")))):c.value));return j((()=>{u()})),(e,a)=>{const t=Ie,c=ne,v=R("Multiselect"),h=ie,w=B,j=se,S=vi,T=Zs;return f(),y("div",null,[k(o)?(f(),H(t,{key:0,rows:4})):(f(),y("div",hi,[_("div",fi,[g(c,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>N(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[$,k(s)]])])),_:1}),_("div",yi,[g(h,{class:"h-hidden-mobile"},{default:b((()=>[g(c,null,{default:b((()=>[g(v,{modelValue:k(i),"onUpdate:modelValue":a[1]||(a[1]=e=>N(i)?i.value=e:null),options:r,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),g(w,{onClick:a[2]||(a[2]=e=>(n.value=l.docType,void(d.value=!d.value))),color:"primary",raised:""},{default:b((()=>[_i,gi])),_:1})])]),_("div",bi,[0!=k(m).length||k(o)?E("",!0):(f(),H(j,{key:0,title:"We couldn't find any matching file of this directory.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[ki,wi])),_:1})),_("div",null,[g(K,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(x,null,C(k(m),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[g(S,{document:e,onDeleteSelectedFile:p},null,8,["document"])])))),128))])),_:1})])]),k(d)?(f(),H(T,{key:0,openFileModal:k(d),object:l.objectId,type:k(n),"onClose:ModalHandler":a[3]||(a[3]=e=>d.value=!1),"onUpdate:OnSuccess":u},null,8,["openFileModal","object","type"])):E("",!0)]))])}}}),xi={class:"tabs-inner"},Ci={class:"tabs"},Si=[_("span",null,"Grouped Proposals",-1)],Ti=[_("span",null,"Contracts",-1)],Ai=[_("span",null,"Customer Estimates",-1)],Ii=[_("span",null,"Job Scope",-1)],Vi=[_("span",null,"Asbestos & Lead Report",-1)],Mi=[_("span",null,"Permits",-1)],Ui=[_("span",null,"Bids & Material",-1)],Di=[_("span",null,"Miscellaneous",-1)],Pi=_("li",{class:"tab-naver"},null,-1),Ei={class:"tile-grid tile-grid-v2"},Ri=_("img",{class:"light-image",src:ce,alt:""},null,-1),Li=_("img",{class:"dark-image",src:re,alt:""},null,-1),Oi={key:0},Ni={key:1},$i={key:2},Bi={key:3},zi={key:4},Fi={key:5},Hi={key:6},Ji={key:7},Ki=h({__name:"JobDocuments",props:{leadId:{}},setup(e){const l=e;we();const a=Y(),t=w("");w(0);const s=w(""),i=w("proposal_formats"),n=w(!1),o=w([]),d=U((()=>t.value?Ve.filter((e=>e.name.match(new RegExp(t.value,"i"))||e.size.match(new RegExp(t.value,"i")))):Ve)),c=async(e="proposal_formats")=>{try{i.value=e;const t=await a.get(`/api/attachment/by-object/${l.leadId}/?type=${e}`);o.value=t.data}catch(t){console.log(t)}};return j((()=>{c()})),(e,a)=>{const t=se,o=ji,r=Zs;return f(),y("div",null,[_("div",xi,[_("div",Ci,[_("ul",null,[_("li",{class:T(["proposal_formats"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=D(P((e=>c("proposal_formats")),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>c("proposal_formats"))},Si,32)],2),_("li",{class:T(["contracts"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[2]||(a[2]=D(P((e=>c("contracts")),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>c("contracts"))},Ti,32)],2),_("li",{class:T(["estimates"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[4]||(a[4]=D(P((e=>c("estimates")),["prevent"]),["space"])),onClick:a[5]||(a[5]=e=>c("estimates"))},Ai,32)],2),_("li",{class:T(["job_scope"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[6]||(a[6]=D(P((e=>i.value="job_scope"),["prevent"]),["space"])),onClick:a[7]||(a[7]=e=>i.value="job_scope")},Ii,32)],2),_("li",{class:T(["asbestos"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[8]||(a[8]=D(P((e=>i.value="asbestos"),["prevent"]),["space"])),onClick:a[9]||(a[9]=e=>i.value="asbestos")},Vi,32)],2),_("li",{class:T(["permits"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[10]||(a[10]=D(P((e=>i.value="permits"),["prevent"]),["space"])),onClick:a[11]||(a[11]=e=>i.value="permits")},Mi,32)],2),_("li",{class:T(["material"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[12]||(a[12]=D(P((e=>i.value="material"),["prevent"]),["space"])),onClick:a[13]||(a[13]=e=>i.value="material")},Ui,32)],2),_("li",{class:T(["miscellaneous"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[14]||(a[14]=D(P((e=>i.value="miscellaneous"),["prevent"]),["space"])),onClick:a[15]||(a[15]=e=>i.value="miscellaneous")},Di,32)],2),Pi])])]),_("div",Ei,[g(t,{class:T([0!==k(d).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[Ri,Li])),_:1},8,["class"]),"contracts"==k(i)?(f(),y("div",Oi,[g(o,{"doc-type":"contracts","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"estimates"==k(i)?(f(),y("div",Ni,[g(o,{"doc-type":"estimates","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"proposal_formats"==k(i)?(f(),y("div",$i,[g(o,{"doc-type":"proposal_formats","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"job_scope"==k(i)?(f(),y("div",Bi,[g(o,{"doc-type":"job_scope","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"asbestos"==k(i)?(f(),y("div",zi,[g(o,{"doc-type":"asbestos","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"permits"==k(i)?(f(),y("div",Fi,[g(o,{"doc-type":"permits","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"material"==k(i)?(f(),y("div",Hi,[g(o,{"doc-type":"material","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"miscellaneous"==k(i)?(f(),y("div",Ji,[g(o,{"doc-type":"miscellaneous","object-id":l.leadId},null,8,["object-id"])])):E("",!0)]),k(n)?(f(),H(r,{key:0,openFileModal:k(n),object:l.leadId,type:k(s),"onClose:ModalHandler":a[16]||(a[16]=e=>n.value=!1),"onUpdate:OnSuccess":c},null,8,["openFileModal","object","type"])):E("",!0)])}}}),Gi={class:"business-dashboard hr-dashboard"},Wi={class:"columns is-multiline"},qi={class:"column is-12"},Zi={class:"columns is-multiline"},Xi={class:"column is-12"},Qi={class:"block-header"},Yi={class:"left"},en={class:"current-user"},ln={class:"center"},an=_("h4",{class:"block-heading"},"Address",-1),tn={class:"block-text"},sn=_("br",null,null,-1),nn=_("br",null,null,-1),on={class:"right"},dn=_("h4",{class:"block-heading"},"Managers",-1),cn={class:"candidates"},rn=_("button",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"})],-1),un={class:"column is-12"},pn={class:"toolbar"},mn={class:"tabs-inner"},vn={class:"tabs is-boxed"},hn=[_("span",null,"Job Management",-1)],fn=[_("span",null,"Documents/Files",-1)],yn=[_("span",null,"Proposals",-1)],_n=[_("span",null,"Tasks",-1)],gn=[_("span",null,"Activities",-1)],bn=[_("span",null,"Job progress",-1)],kn=[_("span",null,"Finance",-1)],wn=[_("span",null,"Report",-1)],jn=_("li",{class:"tab-naver"},null,-1),xn={key:0,class:"column is-12"},Cn={class:"columns is-multiline"},Sn={class:"column is-8"},Tn={class:"columns is-multiline"},An={class:"column is-12"},In={class:"feed-settings"},Vn=_("h3",{class:"dark-inverted"},"Job feeds",-1),Mn={class:"buttons"},Un={class:"column is-4"},Dn={class:"side-text"},Pn=_("h3",{class:"dark-inverted"},"Job Description",-1),En=["innerHTML"],Rn=_("a",{class:"action-link",tabindex:"0"},"Read More",-1),Ln={class:"column is-7 is-offset-1"},On={class:"incoming"},Nn=_("i",{"aria-hidden":"true",class:"lnil lnil-envelope-alt"},null,-1),$n=_("div",null,[_("span",{class:"item-name dark-inverted"},"Messages"),_("span",{class:"item-meta"},[_("span",null,"Inbox messages")])],-1),Bn=_("i",{"aria-hidden":"true",class:"lnil lnil-checkmark-circle"},null,-1),zn=_("div",null,[_("span",{class:"item-name dark-inverted"},"Tasks"),_("span",{class:"item-meta"},[_("span",null,"Pending tasks")])],-1),Fn={key:3,tabindex:"0",class:"action-link is-pushed-mobile"},Hn={key:4,class:"light-text"},Jn={class:"column is-12"},Kn={class:"recent-rookies"},Gn=_("div",{class:"recent-rookies-header"},[_("h3",{class:"dark-inverted"},"Internal Users"),_("a",{class:"action-link",tabindex:"0"},"View All")],-1),Wn={class:"columns is-multiline user-grid user-grid-v4"},qn={class:"column is-4"},Zn={class:"grid-item"},Xn={class:"dark-inverted"},Qn={class:"capitalized"},Yn={class:"button-wrap has-text-centered"},eo={class:"column is-4"},lo={key:0,class:"card mb-4",id:"workerProfileMap",style:{height:"300px",width:"100%","border-radius":"10px","z-index":"9"}},ao=_("div",{class:"widget-toolbar"},[_("div",{class:"left"},[_("a",{class:"action-icon"},[_("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"}),_("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"})])]),_("div",{class:"center"},[_("h3",null,"October 2020")]),_("div",{class:"right"},[_("a",{class:"action-icon"},[_("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"}),_("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"})])])],-1),to=_("table",{class:"calendar"},[_("thead",null,[_("tr",null,[_("th",{scope:"col"},"Mon"),_("th",{scope:"col"},"Tue"),_("th",{scope:"col"},"Wed"),_("th",{scope:"col"},"Thu"),_("th",{scope:"col"},"Fri"),_("th",{scope:"col"},"Sat"),_("th",{scope:"col"},"Sun")])]),_("tbody",null,[_("tr",null,[_("td",{class:"prev-month"},"29"),_("td",{class:"prev-month"},"30"),_("td",{class:"prev-month"},"31"),_("td",null,"1"),_("td",null,"2"),_("td",null,"3"),_("td",null,"4")]),_("tr",null,[_("td",null,"5"),_("td",null,"6"),_("td",null,"7"),_("td",null,"8"),_("td",null,"9"),_("td",null,"10"),_("td",null,"11")]),_("tr",null,[_("td",null,"12"),_("td",null,"13"),_("td",null,"14"),_("td",null,"15"),_("td",null,"16"),_("td",null,"17"),_("td",{class:"current-day"},"18")]),_("tr",null,[_("td",null,"19"),_("td",null,"20"),_("td",null,"21"),_("td",null,"22"),_("td",null,"23"),_("td",null,"24"),_("td",null,"25")]),_("tr",null,[_("td",null,"26"),_("td",null,"27"),_("td",null,"28"),_("td",null,"29"),_("td",null,"30"),_("td",null,"31"),_("td",{class:"next-month"},"1")])])],-1),so={key:1,class:"column is-12"},io={key:2,class:"column is-12"},no={key:3,class:"column is-12"},oo={key:4,class:"column is-12"},co={key:5,class:"column is-12"},ro={key:6,class:"column is-12"},uo={key:7,class:"column is-12"},po={key:8,class:"column is-12"},mo=h({__name:"JobDetails",setup(e){const t=X();M();const s=Y();we();const i=w(!1),n=w(""),o=w(!1),d=w({id:"",sales_people_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:null,email:"",role:"",avatar:""},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],clientInfo:{id:"",username:"",last_name:null,email:"",role:"",avatar:null},created_by_info:{id:"",username:"",last_name:null,email:"",role:"",avatar:""},managers_list:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:"",sale_date:"",tags:[],estimated_from:"",estimated_to:"",sources:"",project_type:"",notes:"",attach_mail:"",latitude:null,longitude:null,created_at:"",updated_at:"",created_by:"",client:"",contractor:null,sales_people:[],managers:[]}),c=w("management"),r=[{type:"messages",count:5,status:"new"},{type:"tasks",count:3,status:"pending"}],u={type:{label:"Type",grow:"lg",media:!0},count:{label:"Count",align:"center"},status:"Status",actions:{label:"Actions",align:"end"}};let p;const m=async()=>{try{i.value=!0;const e=await s.get(`/api/project/${t.params.id}/detail/`);d.value=e.data,e.data.latitude&&((e,l)=>{if(p&&p.remove(),p=L.map("workerProfileMap").setView([51.4497984,-.3464489],24),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(p),e&&l){const a=[e,l];L.marker(a).addTo(p),p.setView(a,34)}else console.log("Invalid latitude or longitude for supplier")})(e.data.latitude??39.63,e.data.longitude??-105.3199999)}catch(e){console.error(e)}finally{i.value=!1}};return j((()=>{m()})),(e,s)=>{const i=Q,p=B,v=Re,h=Ee,w=Pe,j=De,A=Ue,I=Me,V=Ki,M=Os,U=Tt,R=lt,L=rl,N=qe,$=a,z=l,F=q("tooltip");return f(),y("div",Gi,[_("div",Wi,[_("div",qi,[_("div",Zi,[_("div",Xi,[_("div",Qi,[_("div",Yi,[_("div",en,[g(i,{size:"large",picture:"lead"==k(d).current_state?"/icons/lead-shield-96.png":"/icons/job-sheild.png",squared:""},null,8,["picture"]),_("h3",null,S(k(d).title?k(d).title:"No Title"),1)])]),_("div",ln,[an,_("p",tn,[J(S(k(d).address?k(d).address:"No Address Added")+" ",1),sn,J(" "+S(k(d).city?k(d).city:"No City Added")+", "+S(k(d).state?k(d).state:"No State Added")+" ",1),nn,J(" "+S(k(d).zip_code?k(d).zip_code:"No Zip Code Added"),1)])]),_("div",on,[dn,_("div",cn,[(f(!0),y(x,null,C(k(d).managers_list,(e=>O((f(),H(i,{picture:e.avatar,initials:e.username.slice(0,2),squared:"",color:"warning"},null,8,["picture","initials"])),[[F,`${e.username??"N/A"} ${e.last_name??""}`,void 0,{info:!0,rounded:!0}]]))),256)),rn]),g(p,{class:"mt-1",onClick:s[0]||(s[0]=e=>{return l=k(t).params.id,n.value=l,void(o.value=!0);var l}),bold:"",fullwidth:"","dark-outlined":""},{default:b((()=>[J(" Update "+S("lead"==k(d).current_state?"lead":"job"),1)])),_:1})])])]),_("div",un,[_("div",pn,[_("div",mn,[_("div",vn,[_("ul",null,[_("li",{class:T(["management"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=D(P((e=>c.value="management"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>c.value="management")},hn,32)],2),_("li",{class:T(["documents"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=D(P((e=>c.value="documents"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>c.value="documents")},fn,32)],2),_("li",{class:T(["proposals"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=D(P((e=>c.value="proposals"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>c.value="proposals")},yn,32)],2),_("li",{class:T(["tasks"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=D(P((e=>c.value="tasks"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>c.value="tasks")},_n,32)],2),_("li",{class:T(["activities"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=D(P((e=>c.value="activities"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>c.value="activities")},gn,32)],2),_("li",{class:T(["progress"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=D(P((e=>c.value="progress"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>c.value="progress")},bn,32)],2),_("li",{class:T(["finance"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=D(P((e=>c.value="finance"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>c.value="finance")},kn,32)],2),_("li",{class:T(["report"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=D(P((e=>c.value="report"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>c.value="report")},wn,32)],2),jn])])])])]),"management"===k(c)?(f(),y("div",xn,[_("div",Cn,[_("div",Sn,[_("div",Tn,[_("div",An,[_("div",In,[Vn,_("div",Mn,[(f(!0),y(x,null,C(k(d).tags,((e,l)=>(f(),y("button",{key:l,class:"button is-selected is-light is-dark-outlined"},S(e),1)))),128))])])]),_("div",Un,[_("div",Dn,[Pn,_("div",{innerHTML:k(d).notes},null,8,En),Rn])]),_("div",Ln,[_("div",On,[g(w,{rounded:"",data:r,columns:u},{"body-cell":b((({row:e,column:l,value:a})=>["type"===l.key&&"messages"===e.type?(f(),y(x,{key:0},[g(v,{color:"green"},{default:b((()=>[Nn])),_:1}),$n],64)):"type"===l.key&&"tasks"===e.type?(f(),y(x,{key:1},[g(v,{color:"orange"},{default:b((()=>[Bn])),_:1}),zn],64)):"status"===l.key?(f(),y(x,{key:2},["new"===e.status?(f(),H(h,{key:0,rounded:"",color:"success",label:"New"})):(f(),H(h,{key:1,rounded:"",label:"Pending"}))],64)):"actions"===l.key?(f(),y("a",Fn,"Open")):(f(),y("span",Hn,S(a),1))])),_:1})])]),_("div",Jn,[_("div",Kn,[Gn,_("div",Wn,[(f(!0),y(x,null,C(k(d).sales_people_info,(e=>(f(),y("div",qn,[_("div",Zn,[g(j),g(i,{picture:e.avatar,initials:e.username.slice(0,2),size:"large"},null,8,["picture","initials"]),_("h3",Xn,S(e.username??"N/A")+" "+S(e.last_name??""),1),_("p",Qn,S(e.role),1),_("div",Yn,[g(p,{color:"primary",raised:""},{default:b((()=>[J(" View Profile ")])),_:1})])])])))),256))])])])])]),_("div",eo,["management"===k(c)?(f(),y("div",lo)):E("",!0),g(A,{project:k(t).params.id},null,8,["project"]),g(I,{class:"picker-widget"},{header:b((()=>[ao])),body:b((()=>[to])),_:1})])])])):E("",!0),"documents"===k(c)?(f(),y("div",so,[g(V,{leadId:k(t).params.id},null,8,["leadId"])])):E("",!0),"proposals"===k(c)?(f(),y("div",io,[g(Le,{"lead-id":k(t).params.id,onUpdateCompany:m},null,8,["lead-id"])])):E("",!0),"activities"===k(c)?(f(),y("div",no,[g(M,{jobId:k(t).params.id},null,8,["jobId"])])):E("",!0),"progress"===k(c)?(f(),y("div",oo,[g(U,{object:k(t).params.id,type:"job"},null,8,["object"])])):E("",!0),"finance"===k(c)?(f(),y("div",co,[g(R)])):E("",!0),"activityLogs"===k(c)?(f(),y("div",ro,[g(L,{object_id:k(t).params.id||k(d).id,object_type:"lead"},null,8,["object_id"])])):E("",!0),"report"===k(c)?(f(),y("div",uo,[g(N)])):E("",!0),"tasks"===k(c)?(f(),y("div",po,[g($,{projectID:k(t).params.id},null,8,["projectID"])])):E("",!0)])])]),k(o)?(f(),H(z,{key:0,addUpdateLeadModal:k(o),leadId:k(n),"onUpdate:modalHandler":s[17]||(s[17]=e=>o.value=!1),"onUpdate:OnSuccess":m},null,8,["addUpdateLeadModal","leadId"])):E("",!0)])}}});export{mo as _};
