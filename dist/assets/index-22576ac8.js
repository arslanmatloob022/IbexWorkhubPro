import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-11bd4894.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-d4361bd9.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-f114a495.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-a4bc73f9.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-1e9cd31f.js";import{f as i,b as o,x as n,y as c,r as d,$ as r,o as u,j as p,C as m,D as v,E as f,F as g,G as _,H as y,O as h,N as b,V as C,W as k,U as w,I as x,a4 as V,P as U,Q as S,R as T,S as I,h as j,K as M,L as A,m as D,X as z,J as P,B as E,al as O,k as L,aS as B,A as H}from"./index-18a2e39b.js";import{_ as N}from"./VControl-51b5385b.js";import{_ as R}from"./VInput.vue_vue_type_script_setup_true_lang-230379d2.js";import{_ as W,a as $}from"./projects-dark-4a371d8a.js";import{u as q}from"./useAPI-add45325.js";import{_ as F}from"./VCheckbox.vue_vue_type_style_index_0_lang-01a95a05.js";import{_ as K}from"./VCollapse.vue_vue_type_style_index_0_lang-c88383b2.js";import{_ as Z}from"./VLabel.vue_vue_type_script_setup_true_lang-1f42b738.js";import{b as J}from"./route-block-83d24a4e.js";import{_ as G}from"./VModal.vue_vue_type_style_index_0_lang-01d49fab.js";import{_ as Q}from"./VTextarea.vue_vue_type_script_setup_true_lang-36c3e692.js";import{u as X}from"./useNotyf-329f97b0.js";import{_ as Y,a as ee}from"./VOption.vue_vue_type_style_index_0_lang-7f9a68ab.js";import{g as le}from"./estimatesScripts-8adb003a.js";import{_ as ae}from"./VIconWrap.vue_vue_type_style_index_0_lang-4adafae0.js";import{_ as te,a as se}from"./search-4-dark-2b5b440c.js";import{_ as ie}from"./VFilePond.vue_vue_type_script_lang-ec8ce9c8.js";import{c as oe}from"./useSupportElement-2668f1d7.js";import{_ as ne}from"./VDropdown.vue_vue_type_style_index_0_lang-550f73b2.js";import{_ as ce}from"./VTag.vue_vue_type_style_index_0_lang-3f91c36c.js";import{u as de}from"./layoutSwitcher-d6a7d595.js";import{u as re}from"./viewWrapper-1fa1e06f.js";import"./VFlex.vue_vue_type_style_index_0_lang-f6582c93.js";import"./VPlaceloadWrap-3d3fe90a.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-71d9cee8.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-3106ec4e.js";import"./useVFieldContext-e81467fd.js";import"./VIcon.vue_vue_type_script_setup_true_lang-908e4043.js";import"./notyf-5a4a862a.js";import"./useThemeColors-289229e8.js";import"./via-placeholder-24645670.js";import"./useDropdown-9571ef9c.js";const ue=e=>(S("data-v-bee4111d"),e=e(),T(),e),pe={class:"columns is-multiline"},me={class:"column is-12"},ve={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},fe=ue((()=>f("i",{class:"fa fa-search"},null,-1))),ge={class:"timeline-wrapper"},_e=ue((()=>f("div",{class:"timeline-header"},null,-1))),ye={class:"timeline-wrapper-inner no-padding-all"},he={class:"timeline-container"},be={class:"date"},Ce={class:"content-wrap"},ke={class:"content-box"},we={class:"box-text"},xe={class:"meta-text"},Ve=["innerHTML"],Ue=ue((()=>f("img",{class:"light-image is-larger",src:W,alt:""},null,-1))),Se=ue((()=>f("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),Te=I(i({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(i){const S=i;o();const T=n(),I=c(),j=q(),M=d(!1),A=d([]),D=d(!1),z=d("2"),P=async()=>{M.value=!0;try{const e=await j.get("/api/activity-logs/");A.value=e.data,D.value=A.value.length>0}catch(e){console.error("Error fetching worker activities:",e)}finally{M.value=!1}},E={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const O=d(1),L=d(10),B=d(""),H=r((()=>{const e=B.value.toLowerCase(),l=function(e){const l=new Date,a=new Date,t=new Date;switch(e){case"1":a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":a.setDate(l.getDate()-1),a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":a.setDate(l.getDate()-7);break;case"14":a.setDate(l.getDate()-14);break;case"30":a.setDate(l.getDate()-30);break;case"90":a.setDate(l.getDate()-90);break;default:return null}return{start:a,end:t}}(z.value),a=A.value.filter((a=>{const t=a.actor_info.username.toLowerCase().includes(e)||a.actor_info.last_name&&a.actor_info.last_name.toLowerCase().includes(e)||a.message.toLowerCase().includes(e);if(l){const e=new Date(a.timestamp);return t&&e>=l.start&&e<=l.end}return t}));return D.value=a.length>0,a})),W=r((()=>{const e=(O.value-1)*L.value,l=e+L.value;return H.value.slice(e,l)})),$=r((()=>H.value.length>L.value)),F=e=>{O.value=e,T.push({path:I.path,query:{...I.query,page:e}})};return u((()=>{O.value=parseInt(I.query.page)||1,P()})),p((()=>{S.id=0})),(i,o)=>{const n=R,c=N,d=U,r=s,u=t,p=a,S=l,T=e;return m(),v("div",pe,[f("div",me,[f("div",ve,[g(r,{addons:"",style:{width:"21rem"}},{default:_((()=>[g(c,{expanded:""},{default:_((()=>[g(n,{onKeypress:y(P,["enter"]),type:"text",class:"input",modelValue:B.value,"onUpdate:modelValue":o[0]||(o[0]=e=>B.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),g(c,null,{default:_((()=>[g(d,{color:"primary",onClick:P},{default:_((()=>[fe])),_:1})])),_:1})])),_:1}),f("div",ge,[_e,f("div",ye,[f("div",he,[M.value?(m(),h(u,{key:0})):b("",!0),(m(!0),v(C,null,k(W.value,(e=>{return m(),v("div",{class:"timeline-item is-unread",key:e?.id},[f("div",be,[f("span",null,w((l=e?.timestamp.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),f("div",{class:x(["dot",E[e.action]])},null,2),f("div",Ce,[f("div",ke,[g(p,{picture:e?.actor_info.avatar},null,8,["picture"]),f("div",we,[f("div",xe,[f("p",null,[f("span",{style:V({color:""+(e.actor===e?.object_id?"var(--red)":"")})},w(e?.actor_info.username)+" "+w(e?.actor_info.last_name)+". ",5),f("span",{class:"action-message",innerHTML:e?.message},null,8,Ve)]),f("span",null,w(e?.timestamp.slice(11,16)),1)])])])])]);var l})),128)),D.value||M.value?b("",!0):(m(),h(S,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:_((()=>[Ue,Se])),_:1}))])]),$.value?(m(),h(T,{key:0,"current-page":O.value,"onUpdate:currentPage":[o[1]||(o[1]=e=>O.value=e),F],"item-per-page":L.value,"total-items":H.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):b("",!0)])])])])}}}),[["__scopeId","data-v-bee4111d"]]),Ie=e=>(S("data-v-08c5b175"),e=e(),T(),e),je={class:"role-management"},Me={class:"role-category"},Ae={class:"role-table"},De=Ie((()=>f("th",null,"View",-1))),ze=Ie((()=>f("th",null,"Add",-1))),Pe=Ie((()=>f("th",null,"Edit",-1))),Ee=Ie((()=>f("th",null,"Delete",-1))),Oe={class:"pt-5"},Le=I(i({__name:"ManageRole",setup(e){const l=j([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(e,a)=>{const t=F,i=N,o=s;return m(),v("div",je,[(m(!0),v(C,null,k(l,(e=>(m(),v("div",{key:e.category,class:"role-section"},[f("h3",Me,w(e.category),1),f("table",Ae,[f("thead",null,[f("tr",null,[f("th",null,w(e.title),1),De,ze,Pe,Ee])]),f("tbody",null,[(m(!0),v(C,null,k(e.items,(e=>(m(),v("tr",{key:e.name},[f("td",Oe,w(e.name),1),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.view,"onUpdate:modelValue":l=>e.view=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.add,"onUpdate:modelValue":l=>e.add=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.edit,"onUpdate:modelValue":l=>e.edit=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(o,null,{default:_((()=>[g(i,{raw:"",subcontrol:""},{default:_((()=>[g(t,{modelValue:e.delete,"onUpdate:modelValue":l=>e.delete=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),Be={class:"column is-12"},He=i({__name:"RoleManagement",setup(e){const l=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,a)=>{const t=K;return m(),v("div",Be,[g(t,{items:l,"with-chevron":""})])}}}),Ne={class:"pill"},Re=i({__name:"BulletPill",setup:e=>(e,l)=>(m(),v("span",Ne))});"function"==typeof J&&J(Re);const We=I(Re,[["__scopeId","data-v-325a7b2c"]]),$e=i({name:"FolderSettings",setup(){const e=j({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),qe=e=>(S("data-v-ff241c58"),e=e(),T(),e),Fe={class:""},Ke={class:"section"},Ze={class:"title is-5"},Je={class:"mt-5"},Ge=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Qe=qe((()=>f("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),Xe=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Ye={class:"columns is-multiline"},el={class:"column is-3"},ll=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),al=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),tl={class:"column is-3"},sl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),il=qe((()=>f("h2",{class:"title is-6"},"Clients",-1))),ol={class:"section"},nl={class:"title is-5"},cl={class:"mt-5"},dl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),rl=qe((()=>f("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),ul={class:"columns is-multiline"},pl={class:"column is-6"},ml=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),vl={class:"columns is-multiline"},fl={class:"column is-6"},gl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),_l=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),yl={class:"column is-6"},hl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),bl=qe((()=>f("h2",{class:"title is-6"},"Clients",-1))),Cl={class:"column is-6"},kl=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),wl={class:"columns is-multiline"},xl={class:"column is-6"},Vl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Ul=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),Sl={class:"column is-6"},Tl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Il=qe((()=>f("h2",{class:"title is-6"},"Clients",-1))),jl={class:"section"},Ml={class:"title is-5"},Al=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),Dl={class:"columns is-multiline"},zl={class:"column is-3"},Pl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),El=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),Ol={class:"column is-3"},Ll=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Bl=qe((()=>f("h2",{class:"title is-6"},"Clients",-1)));const Hl=I($e,[["render",function(e,l,a,t,s,i){const o=We,n=R,c=Z,d=N;return m(),v("div",Fe,[f("div",Ke,[f("h3",Ze,[g(o),M(" Document folders ")]),f("div",Je,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),Ge])),_:1}),Qe])),_:1})])]),f("div",null,[Xe,f("div",Ye,[f("div",el,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),ll])),_:1}),al])),_:1})])]),f("div",tl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),sl])),_:1}),il])),_:1})])])])])]),f("div",ol,[f("h3",nl,[g(o),M(" Photo folders ")]),f("div",cl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),dl])),_:1}),rl])),_:1})])]),f("div",ul,[f("div",pl,[ml,f("div",vl,[f("div",fl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),gl])),_:1}),_l])),_:1})])]),f("div",yl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),hl])),_:1}),bl])),_:1})])])])]),f("div",Cl,[kl,f("div",wl,[f("div",xl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),Vl])),_:1}),Ul])),_:1})])]),f("div",Sl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Tl])),_:1}),Il])),_:1})])])])])])]),f("div",jl,[f("h3",Ml,[g(o),M(" Video folders ")]),f("div",null,[Al,f("div",Dl,[f("div",zl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),Pl])),_:1}),El])),_:1})])]),f("div",Ol,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:_((()=>[g(c,{raw:"",class:"remember-toggle"},{default:_((()=>[g(n,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Ll])),_:1}),Bl])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),Nl={class:"modal-form columns is-multiline"},Rl={class:"column is-12"},Wl=f("label",{class:"label"},"Title *",-1),$l={class:"column is-12"},ql=f("label",{class:"label"},"Description",-1),Fl=i({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d({id:a.trade?.id||"",name:a.trade?.name||"",description:a.trade?.description||""}),c=()=>{l("update:modalHandler",!1)},r=async()=>{try{i.value=!0,n.value.id?(await t.patch(`/api/cost-trade/${n.value.id}/`,n.value),o.success("Trade updated successfully")):(await t.post("/api/cost-trade/",n.value),o.success("Trade created successfully")),l("update:OnSuccess"),c()}catch(e){console.log(e)}finally{i.value=!1}};return(e,l)=>{const a=Q,t=N,o=s,d=U,u=G;return m(),h(u,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:P(r,["prevent"]),onClose:c},{content:_((()=>[f("div",Nl,[f("div",Rl,[Wl,A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>D(n).name=e)},null,512),[[z,D(n).name]])]),f("div",$l,[ql,g(o,null,{default:_((()=>[g(t,null,{default:_((()=>[g(a,{modelValue:D(n).description,"onUpdate:modelValue":l[1]||(l[1]=e=>D(n).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:_((()=>[g(d,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M("Save")])),_:1},8,["loading"])])),cancel:_((()=>[g(d,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Kl={class:"modal-form columns is-multiline"},Zl={class:"column is-6"},Jl={class:"field"},Gl=f("label",{class:"label"},"Title *",-1),Ql={class:"control"},Xl={class:"column is-6"},Yl={class:"field"},ea=f("label",{class:"label"},"Trade *",-1),la={class:"column is-12"},aa={class:"field"},ta=f("label",{class:"label"},"Description",-1),sa=i({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});d("");const p=async()=>{try{if(n.value=!0,a.categoryId){await t.patch(`/api/cost-category/${a.categoryId}/`,r.value)}else{await t.post("/api/cost-category/",r.value)}l("update:OnSuccess",null),o.success(`Category  ${a.categoryId?"updated":"created"} successfully`),c()}catch(e){console.log(e)}finally{n.value=!1}},y=d([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return u((()=>{a.categoryId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-category/${a.categoryId}/`);r.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-trade/");y.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=Y,o=ee,n=N,d=Q,u=s,b=U,x=G;return m(),h(x,{is:"form",open:a.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:_((()=>[f("div",Kl,[f("div",Zl,[f("div",Jl,[Gl,f("div",Ql,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>D(r).name=e)},null,512),[[z,D(r).name]])])])]),f("div",Xl,[f("div",Yl,[ea,g(n,null,{default:_((()=>[g(o,{modelValue:D(r).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>D(r).trade=e),required:""},{default:_((()=>[(m(!0),v(C,null,k(D(y),(e=>(m(),h(t,{value:e.id},{default:_((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),f("div",la,[f("div",aa,[ta,g(u,null,{default:_((()=>[g(n,null,{default:_((()=>[g(d,{modelValue:D(r).description,"onUpdate:modelValue":l[2]||(l[2]=e=>D(r).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[g(b,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M(w(a.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:_((()=>[g(b,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),ia={class:"modal-form columns is-multiline"},oa={class:"column is-6"},na={class:"field"},ca=f("label",{class:"label"},"Title * ",-1),da={class:"control"},ra={class:"column is-6"},ua={class:"field"},pa=f("label",{class:"label"},"Category *",-1),ma={class:"control"},va={class:"field column is-12"},fa=f("label",{class:"label"},"Sub code of ",-1),ga={class:"control"},_a={class:"column is-12"},ya={class:"columns is-multiline"},ha={class:"field column is-6"},ba=f("label",{class:"label"},null,-1),Ca={key:0,class:"column is-6"},ka={class:"field"},wa=f("label",{class:"label"},"Default labour cost ($)",-1),xa={class:"control"},Va={class:"column is-4"},Ua={class:"field"},Sa=f("label",{class:"label"},"Unit cost ($)",-1),Ta={class:"control"},Ia={class:"column is-4"},ja={class:"field"},Ma=f("label",{class:"label"},"Worker cost ($)",-1),Aa={class:"control"},Da={class:"column is-4"},za={class:"field"},Pa=f("label",{class:"label"},"Unit",-1),Ea=f("hr",null,null,-1),Oa={class:"column is-12"},La={class:"field"},Ba=f("label",{class:"label"},"Description",-1),Ha=i({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",category:a.codeCategoryId||"",parent_code:a.parentCodeId||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit:"--",unit_cost:0,is_active:!0}),p=async()=>{try{if(n.value=!0,a.costCodeId){await t.patch(`/api/cost-code/${a.costCodeId}/`,r.value);o.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",r.value);o.success("Cost code created successfully")}c(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{n.value=!1}},y=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=d([]);return u((()=>{console.log(a.codeCategoryId),a.costCodeId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-code/${a.costCodeId}/`);r.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-category/");y.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-code/");x.value=e.data.map((e=>({value:e.id,label:e.name})))}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=Y,o=ee,n=N,d=s,u=E("Multiselect"),V=F,S=Q,T=U,I=G;return m(),h(I,{is:"form",open:a.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:_((()=>[f("div",ia,[f("div",oa,[f("div",na,[ca,f("div",da,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>D(r).name=e)},null,512),[[z,D(r).name]])])])]),f("div",ra,[f("div",ua,[pa,f("div",ma,[g(d,null,{default:_((()=>[g(n,null,{default:_((()=>[g(o,{modelValue:D(r).category,"onUpdate:modelValue":l[1]||(l[1]=e=>D(r).category=e),required:""},{default:_((()=>[g(t,{value:""},{default:_((()=>[M(" Select a category ")])),_:1}),(m(!0),v(C,null,k(D(y),(e=>(m(),h(t,{value:e.id},{default:_((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),f("div",va,[fa,f("div",ga,[g(d,null,{default:_((({id:a})=>[g(n,null,{default:_((()=>[g(u,{disabled:!!e.CategoryMode,modelValue:D(r).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>D(r).parent_code=e),attrs:{id:a},searchable:!0,options:D(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),f("div",_a,[f("div",ya,[f("div",ha,[ba,g(d,{class:"is-flex"},{default:_((()=>[g(n,{raw:"",subcontrol:""},{default:_((()=>[g(V,{modelValue:D(r).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>D(r).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),D(r).is_labour_code?(m(),v("div",Ca,[f("div",ka,[wa,f("div",xa,[A(f("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>D(r).labour_cost=e)},null,512),[[z,D(r).labour_cost]])])])])):b("",!0)])]),f("div",Va,[f("div",Ua,[Sa,f("div",Ta,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>D(r).unit_cost=e)},null,512),[[z,D(r).unit_cost]])])])]),f("div",Ia,[f("div",ja,[Ma,f("div",Aa,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":l[6]||(l[6]=e=>D(r).worker_cost=e)},null,512),[[z,D(r).worker_cost]])])])]),f("div",Da,[f("div",za,[Pa,g(n,null,{default:_((()=>[g(o,{modelValue:D(r).unit,"onUpdate:modelValue":l[7]||(l[7]=e=>D(r).unit=e)},{default:_((()=>[g(t,{value:""},{default:_((()=>[M(" Select Unit ")])),_:1}),(m(!0),v(C,null,k(D(le),(e=>(m(),h(t,{value:e.value},{default:_((()=>[M(w(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),Ea,f("div",Oa,[f("div",La,[Ba,g(d,null,{default:_((()=>[g(n,null,{default:_((()=>[g(S,{modelValue:D(r).description,"onUpdate:modelValue":l[8]||(l[8]=e=>D(r).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[g(T,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:_((()=>[g(T,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Na=e=>(S("data-v-453d3f7e"),e=e(),T(),e),Ra={class:"list-flex-toolbar flex-list-v1"},Wa={class:"page-content-inner"},$a=Na((()=>f("img",{class:"light-image",src:te,alt:""},null,-1))),qa=Na((()=>f("img",{class:"dark-image",src:se,alt:""},null,-1))),Fa={class:"table is-hoverable is-fullwidth"},Ka=Na((()=>f("thead",null,[f("tr",null,[f("th",null,"Title"),f("th",null,"Description"),f("th",null,"Children"),f("th",{class:"is-end"},"Actions")])],-1))),Za={class:"is-end"},Ja={class:"is-flex is-justify-content-flex-end"},Ga=I(i({__name:"TradeComp",setup(e){const a=X(),t=d(!1);d("Items list");const i=d([]),o=q(),n=d(""),c=d(!1),p=d(null),y=async()=>{try{t.value=!0;const e=await o.get("/api/cost-trade/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{p.value=e,c.value=!0},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return i.value.filter((l=>l.name?.match(e)))}return i.value}));return u((()=>{y()})),(e,t)=>{const i=N,d=s,r=U,u=O,S=l,T=ae,I=Fl;return m(),v("div",null,[f("div",Ra,[g(d,null,{default:_((()=>[g(i,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,n.value]])])),_:1})])),_:1}),g(u,null,{default:_((()=>[g(r,{onClick:t[1]||(t[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:_((()=>[M(" Trade ")])),_:1})])),_:1})]),f("div",Wa,[V.value.length?b("",!0):(m(),h(S,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:_((()=>[$a,qa])),_:1})),f("table",Fa,[Ka,f("tbody",null,[(m(!0),v(C,null,k(V.value,(e=>(m(),v("tr",{key:e.id},[f("td",null,w(e.name??"n/a"),1),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.codes?.length||0),1),f("td",Za,[f("div",Ja,[g(T,{onClick:l=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(T,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{await o.delete(`/api/cost-trade/${e}/`),a.success("Trade deleted successfully"),y()}catch(l){console.log(l),a.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])]),c.value?(m(),h(I,{key:0,openTradeModal:c.value,trade:p.value,"onUpdate:modalHandler":t[2]||(t[2]=e=>c.value=!1),"onUpdate:OnSuccess":y},null,8,["openTradeModal","trade"])):b("",!0)])}}}),[["__scopeId","data-v-453d3f7e"]]),Qa=e=>(S("data-v-502b606b"),e=e(),T(),e),Xa={class:"list-flex-toolbar flex-list-v1"},Ya={class:"page-content-inner"},et=Qa((()=>f("img",{class:"light-image",src:te,alt:""},null,-1))),lt=Qa((()=>f("img",{class:"dark-image",src:se,alt:""},null,-1))),at={class:"table is-hoverable is-fullwidth"},tt=Qa((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),st={class:"pl-5"},it={class:"dark-text text-primary"},ot={class:"is-end"},nt={class:"is-flex is-justify-content-flex-end"},ct=I(i({__name:"CostCodes",setup(e){const a=X(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=q(),n=d(""),c=[{}],p=d(!1);d(!1),d(!1);const y=d(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-code/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=N,r=s,u=U,S=O,T=l,I=ae,j=Ha;return m(),v("div",null,[f("div",Xa,[g(r,null,{default:_((()=>[g(d,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(n)]])])),_:1})])),_:1}),g(S,null,{default:_((()=>[g(u,{color:"primary",onClick:c[1]||(c[1]=e=>p.value=!D(p)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[M(" Cost Code ")])),_:1})])),_:1})]),f("div",Ya,[D(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[et,lt])),_:1})),f("table",at,[tt,f("tbody",null,[(m(!0),v(C,null,k(D(i),(e=>(m(),v("tr",{key:e.id,class:"sub-item"},[f("td",st,[f("p",it,w(e.name),1)]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",ot,[f("div",nt,[g(I,{onClick:l=>{return a=e.id,y.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-code/${e}/`),x(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])]),D(p)?(m(),h(j,{key:0,addUpdateCostCodeModal:D(p),"cost-code-id":D(y),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):b("",!0)])}}}),[["__scopeId","data-v-502b606b"]]),dt=e=>(S("data-v-317f06b1"),e=e(),T(),e),rt={class:""},ut={class:"list-flex-toolbar flex-list-v1"},pt={class:"page-content-inner"},mt=dt((()=>f("img",{class:"light-image",src:te,alt:""},null,-1))),vt=dt((()=>f("img",{class:"dark-image",src:se,alt:""},null,-1))),ft={class:"table is-hoverable is-fullwidth"},gt=dt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),_t={class:"info-text is-bold"},yt={class:"is-end"},ht={class:"is-flex is-justify-content-flex-end"},bt=I(i({__name:"CategoryComp",setup(e){const a=X(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),o=q(),n=d(""),c=[{}];d(!1);const p=d(!1);d(!1);const y=d(""),x=async()=>{try{t.value=!0;const e=await o.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=N,r=s,u=U,S=O,T=l,I=ae,j=sa;return m(),v("div",null,[f("div",rt,[f("div",ut,[g(r,null,{default:_((()=>[g(d,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(n)]])])),_:1})])),_:1}),g(S,null,{default:_((()=>[g(u,{onClick:c[1]||(c[1]=e=>p.value=!D(p)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[M(" Category ")])),_:1})])),_:1})]),f("div",pt,[D(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[mt,vt])),_:1})),f("table",ft,[gt,f("tbody",null,[(m(!0),v(C,null,k(D(i),(e=>(m(),v("tr",{key:e.id},[f("td",null,[f("p",_t,w(e.name??"n/a"),1)]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",yt,[f("div",ht,[g(I,{onClick:l=>{return a=e?.id,y.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-category/${e}/`),x(),a.success("delete category")}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),D(p)?(m(),h(j,{key:0,addUpdateCategoryModal:D(p),"category-id":D(y),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0)])}}}),[["__scopeId","data-v-317f06b1"]]),Ct=e=>(S("data-v-5ae07675"),e=e(),T(),e),kt={class:"tabs-wrapper"},wt={class:"tabs-inner"},xt={class:"tabs"},Vt=[Ct((()=>f("span",null,"Identity List",-1)))],Ut=[Ct((()=>f("span",null,"Cost Codes",-1)))],St=[Ct((()=>f("span",null,"Category",-1)))],Tt=[Ct((()=>f("span",null,"Trade",-1)))],It={key:0,class:""},jt={class:"list-flex-toolbar flex-list-v1"},Mt={class:"page-content-inner"},At=Ct((()=>f("img",{class:"light-image",src:te,alt:""},null,-1))),Dt=Ct((()=>f("img",{class:"dark-image",src:se,alt:""},null,-1))),zt={class:"table is-hoverable is-fullwidth"},Pt=Ct((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Et={class:"info-text is-bold"},Ot=["onClick"],Lt={class:"is-end"},Bt={class:"is-flex is-justify-content-flex-end"},Ht={class:"sub-item"},Nt={class:"pl-5"},Rt={class:"dark-text text-primary"},Wt=["onClick"],$t={class:"is-end"},qt={class:"is-flex is-justify-content-flex-end"},Ft={class:"child-item"},Kt={class:"pl-6"},Zt=["onClick"],Jt=Ct((()=>f("td",null,"-",-1))),Gt={class:"is-end"},Qt={class:"is-flex is-justify-content-flex-end"},Xt={class:"p-l-60"},Yt=Ct((()=>f("td",null,"-",-1))),es={class:"is-end"},ls={class:"is-flex is-justify-content-flex-end"},as={key:1},ts={key:2},ss={key:3},is=I(i({__name:"IdentityList",setup(e){const a=X(),t=d(!1),i=d("Items list"),o=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),n=q(),c=d(""),p=[{}],V=d(!1),S=d(!1),T=d(!1),I=d(""),j=async e=>{try{t.value=!0;await n.delete(`/api/cost-code/${e}/`);E(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}},E=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},B=e=>{I.value=e,V.value=!V.value},H=d(""),R=d(!1),W=d(""),$=(e=null,l=null)=>{console.log(e),console.log(l),H.value="",W.value="",W.value=e,H.value=l,V.value=!0},F=r((()=>{if(c.value){const e=new RegExp(c.value,"i");return p.filter((l=>l.username?.match(e)||l.location?.match(e)))}return p}));return u((()=>{E()})),(e,d)=>{const r=N,u=s,p=U,q=O,K=l,Z=ae,J=bt,G=ct,Q=Ga,X=Ha,Y=sa,ee=Fl;return m(),v("div",null,[f("div",kt,[f("div",wt,[f("div",xt,[f("ul",null,[f("li",{class:x(["Items list"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[0]||(d[0]=y(P((e=>i.value="Items list"),["prevent"]),["space"])),onClick:d[1]||(d[1]=e=>i.value="Items list")},Vt,32)],2),f("li",{class:x(["costCodes"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[2]||(d[2]=y(P((e=>i.value="costCodes"),["prevent"]),["space"])),onClick:d[3]||(d[3]=e=>i.value="costCodes")},Ut,32)],2),f("li",{class:x(["Category"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[4]||(d[4]=y(P((e=>i.value="Category"),["prevent"]),["space"])),onClick:d[5]||(d[5]=e=>i.value="Category")},St,32)],2),f("li",{class:x(["Trade"===D(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:d[6]||(d[6]=y(P((e=>i.value="Trade"),["prevent"]),["space"])),onClick:d[7]||(d[7]=e=>i.value="Trade")},Tt,32)],2)])])])]),"Items list"==D(i)?(m(),v("div",It,[f("div",jt,[g(u,null,{default:_((()=>[g(r,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":d[8]||(d[8]=e=>L(c)?c.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(c)]])])),_:1})])),_:1}),g(q,null,{default:_((()=>[g(p,{color:"primary",onClick:d[9]||(d[9]=e=>$()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:_((()=>[M(" Cost Code ")])),_:1}),g(p,{onClick:d[10]||(d[10]=e=>S.value=!D(S)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:_((()=>[M(" Category ")])),_:1})])),_:1})]),f("div",Mt,[D(F).length?b("",!0):(m(),h(K,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[At,Dt])),_:1})),f("table",zt,[Pt,f("tbody",null,[(m(!0),v(C,null,k(D(o),(e=>(m(),v(C,{key:e.id},[f("tr",null,[f("td",null,[f("p",Et,[M(w(e.name??"n/a")+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{$(e.id),R.value=!1,R.value=!0}},null,8,Ot)])]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",Lt,[f("div",Bt,[g(Z,{onClick:l=>{return a=e?.id,I.value=a,void(S.value=!S.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),a.success("delete category"),E()}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(m(!0),v(C,{key:0},k(e.codes,(e=>(m(),v(C,{key:e?.id},[f("tr",Ht,[f("td",Nt,[f("p",Rt,[M(w(e.name)+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>$(e.category,e.id)},null,8,Wt)])]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",$t,[f("div",qt,[g(Z,{onClick:l=>B(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v(C,{key:e.id},[f("tr",Ft,[f("td",Kt,[M(w(e.name),1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>$(e.category,e.id)},null,8,Zt)]),f("td",null,w(e.description||"No description"),1),Jt,f("td",Gt,[f("div",Qt,[g(Z,{onClick:l=>B(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v("tr",{key:e.id,class:"child-item"},[f("td",Xt,w(e.name),1),f("td",null,w(e.description||"No description"),1),Yt,f("td",es,[f("div",ls,[g(Z,{onClick:l=>B(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(Z,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])])))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128))])])])])):b("",!0),"Category"==D(i)?(m(),v("div",as,[g(J)])):b("",!0),"costCodes"==D(i)?(m(),v("div",ts,[g(G)])):b("",!0),"Trade"==D(i)?(m(),v("div",ss,[g(Q)])):b("",!0),D(V)?(m(),h(X,{key:4,addUpdateCostCodeModal:D(V),"cost-code-id":D(I),parentCodeId:D(H),codeCategoryId:D(W),CategoryMode:D(R),"onUpdate:modalHandler":d[11]||(d[11]=e=>{V.value=!1,R.value=!1}),"onUpdate:OnSuccess":d[12]||(d[12]=e=>E())},null,8,["addUpdateCostCodeModal","cost-code-id","parentCodeId","codeCategoryId","CategoryMode"])):b("",!0),D(S)?(m(),h(Y,{key:5,addUpdateCategoryModal:D(S),"category-id":D(I),"onUpdate:modalHandler":d[13]||(d[13]=e=>S.value=!1),"onUpdate:OnSuccess":d[14]||(d[14]=e=>E())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0),D(T)?(m(),h(ee,{key:6,addUpdateTradeModal:D(T),"onUpdate:modalHandler":d[15]||(d[15]=e=>T.value=!1),"onUpdate:OnSuccess":d[16]||(d[16]=e=>E())},null,8,["addUpdateTradeModal"])):b("",!0)])}}}),[["__scopeId","data-v-5ae07675"]]),os=e=>(S("data-v-3775b8bc"),e=e(),T(),e),ns=os((()=>f("div",{class:"list-flex-toolbar flex-list-v1"},null,-1))),cs={class:"page-content-inner"},ds=os((()=>f("img",{class:"light-image",src:te,alt:""},null,-1))),rs=os((()=>f("img",{class:"dark-image",src:se,alt:""},null,-1))),us={class:"columns is-multiline"},ps={class:"column is-6"},ms={class:"column is-6"},vs={class:"column is-6"},fs={class:"column is-6"},gs={class:"column is-12"},_s={class:"column is-3"},ys={class:"column is-3"},hs={class:"column is-3"},bs={class:"column is-3"},Cs={class:"column is-6"},ks={class:"column is-6"},ws={class:"columns is-multiline"},xs=os((()=>f("div",{class:"column is-12"},[f("h1",{class:"title is-4"},"Company Logos")],-1))),Vs={class:"column is-4 is-flex"},Us={class:"column is-4 is-flex"},Ss={class:"column is-4 is-flex"},Ts=I(i({__name:"CompanyInformation",setup(e){X();const t=d(!1),i=q();d(""),d(!1);const o=d({id:"",name:"",trade_name:"",zipCode:null,city:"",state:null,country:null,address:null,phone_number:null,email:null,website:null,logo:null,created_at:"",updated_at:"",sidebar_logo:"",favicon:null,invoice_header_logo:null,login_page_logo:"",branding_line:""}),n=async()=>{try{t.value=!0;const e=await i.get("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},c=async e=>{try{t.value=!0;const l=await i.patch("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/",e);n(),o.value=l.data}catch(l){console.log(l)}finally{t.value=!1}},r=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.logo=a,c({logo:a}))},p=(e,l)=>{e?console.error(e):(console.log(l),o.value.logo=null)},y=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.favicon=a,c({favicon:a}),oe(o.value.favicon))},C=(e,l)=>{e?console.error(e):(console.log(l),o.value.favicon=null)},k=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(o.value.invoice_header_logo=a,c({invoice_header_logo:a}))},w=(e,l)=>{e?console.error(e):(console.log(l),o.value.invoice_header_logo=null)};return u((()=>{n()})),(e,t)=>{const i=l,n=Z,d=R,u=N,x=s,V=a,U=ie;return m(),v("div",null,[ns,f("div",cs,[D(o).name?b("",!0):(m(),h(i,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[ds,rs])),_:1})),f("div",us,[f("div",ps,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Company Name")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).name,"onUpdate:modelValue":t[0]||(t[0]=e=>D(o).name=e),type:"text",placeholder:"Company Name",onBlur:t[1]||(t[1]=e=>c({name:D(o).name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ms,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Trade Name")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).trade_name,"onUpdate:modelValue":t[2]||(t[2]=e=>D(o).trade_name=e),type:"text",placeholder:"Trade Name",onBlur:t[3]||(t[3]=e=>c({trade_name:D(o).trade_name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",vs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Email Address")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).email,"onUpdate:modelValue":t[4]||(t[4]=e=>D(o).email=e),type:"text",placeholder:"Company Email",onBlur:t[5]||(t[5]=e=>c({email:D(o).email}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",fs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Phone Number")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).phone_number,"onUpdate:modelValue":t[6]||(t[6]=e=>D(o).phone_number=e),type:"text",placeholder:"Phone Number",onBlur:t[7]||(t[7]=e=>c({phone_number:D(o).phone_number}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",gs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Company Website")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).website,"onUpdate:modelValue":t[8]||(t[8]=e=>D(o).website=e),type:"url",placeholder:"Website URL",onBlur:t[9]||(t[9]=e=>c({website:D(o).website}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",_s,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Zip Code")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).zipCode,"onUpdate:modelValue":t[10]||(t[10]=e=>D(o).zipCode=e),type:"text",placeholder:"Zip Code",onBlur:t[11]||(t[11]=e=>c({zipCode:D(o).zipCode}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ys,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("City ")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).city,"onUpdate:modelValue":t[12]||(t[12]=e=>D(o).city=e),type:"text",placeholder:"City",onBlur:t[13]||(t[13]=e=>c({city:D(o).city}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",hs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("State")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).state,"onUpdate:modelValue":t[14]||(t[14]=e=>D(o).state=e),type:"text",placeholder:"State",onBlur:t[15]||(t[15]=e=>c({state:D(o).state}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",bs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Country")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).country,"onUpdate:modelValue":t[16]||(t[16]=e=>D(o).country=e),type:"text",placeholder:"Country",onBlur:t[17]||(t[17]=e=>c({country:D(o).country}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Cs,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Complete Address")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).address,"onUpdate:modelValue":t[18]||(t[18]=e=>D(o).address=e),type:"text",placeholder:"Address",onBlur:t[19]||(t[19]=e=>c({address:D(o).address}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",ks,[g(x,null,{default:_((()=>[g(n,null,{default:_((()=>[M("Company One Liner")])),_:1}),g(u,null,{default:_((()=>[g(d,{modelValue:D(o).branding_line,"onUpdate:modelValue":t[20]||(t[20]=e=>D(o).branding_line=e),type:"text",placeholder:"john.doe",onBlur:t[21]||(t[21]=e=>c({branding_line:D(o).branding_line}))},null,8,["modelValue"])])),_:1})])),_:1})])]),f("div",ws,[xs,f("div",Vs,[g(x,{label:"Sidebar logo"},{default:_((()=>[g(V,{size:"xl",picture:D(o).logo,color:"primary",initials:D(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[g(u,null,{default:_((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:r,onRemovefile:p})])),_:1})])),_:1})]),f("div",Us,[g(x,{label:"Proposal Logo"},{default:_((()=>[g(V,{size:"xl",picture:D(o).invoice_header_logo,color:"primary",initials:D(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[g(u,null,{default:_((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:k,onRemovefile:w})])),_:1})])),_:1})]),f("div",Ss,[g(x,{label:"Favicon"},{default:_((()=>[g(V,{size:"large",color:"primary",picture:D(o).favicon,initials:D(o).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[g(u,null,{default:_((()=>[g(U,{size:"tiny",class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":80,"image-resize-target-width":80,"image-resize-target-height":80,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:y,onRemovefile:C})])),_:1})])),_:1})])])])])}}}),[["__scopeId","data-v-3775b8bc"]]),Is={class:"modal-form columns is-multiline"},js={class:"column is-12"},Ms={class:"field"},As=f("label",{class:"label"},"Title * ",-1),Ds={class:"control"},zs={class:"column is-12"},Ps={class:"field"},Es=f("label",{class:"label"},"Value *",-1),Os={class:"control"},Ls=f("hr",null,null,-1),Bs={class:"column is-12"},Hs={class:"field"},Ns=f("label",{class:"label"},"Description",-1),Rs=i({__name:"UnitAddUpdateModal",props:{addUpdateCostUnitModal:{type:Boolean},unitId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=q(),i=d(!1),o=X(),n=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}),p=async()=>{try{if(n.value=!0,a.unitId){await t.patch(`/api/units/${a.unitId}/`,r.value);o.info("Cost code updated successfully")}else{await t.post("/api/units/",r.value);o.success("Cost code created successfully")}l("update:OnSuccess",null),c()}catch(e){console.log(e)}finally{n.value=!1}};return d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),u((()=>{a.unitId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/units/${a.unitId}/`);r.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=Q,o=N,n=s,d=U,u=G;return m(),h(u,{is:"form",open:a.addUpdateCostUnitModal,title:"Unit",size:"medium",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:_((()=>[f("div",Is,[f("div",js,[f("div",Ms,[As,f("div",Ds,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Title e.g Square Feet","onUpdate:modelValue":l[0]||(l[0]=e=>D(r).title=e)},null,512),[[z,D(r).title]])])])]),f("div",zs,[f("div",Ps,[Es,f("div",Os,[A(f("input",{type:"text",required:"",class:"input",placeholder:"e.g Sq Ft","onUpdate:modelValue":l[1]||(l[1]=e=>D(r).value=e)},null,512),[[z,D(r).value]])])])]),Ls,f("div",Bs,[f("div",Hs,[Ns,g(n,null,{default:_((()=>[g(o,null,{default:_((()=>[g(t,{modelValue:D(r).description,"onUpdate:modelValue":l[2]||(l[2]=e=>D(r).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[g(d,{type:"submit",color:"primary",loading:D(i),raised:""},{default:_((()=>[M(" Save ")])),_:1},8,["loading"])])),cancel:_((()=>[g(d,{color:"light",onClick:c,raised:""},{default:_((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ws={class:"list-flex-toolbar flex-list-v1"},$s={class:"tile-grid tile-grid-v1"},qs=f("img",{class:"light-image",src:te,alt:""},null,-1),Fs=f("img",{class:"dark-image",src:se,alt:""},null,-1),Ks={class:"tile-grid-item"},Zs={class:"tile-grid-item-inner"},Js={class:"meta"},Gs={class:"dark-inverted"},Qs=["onClick"],Xs=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],Ys=f("hr",{class:"dropdown-divider"},null,-1),ei=["onClick"],li=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],ai=i({__name:"CompanyUnits",setup(e){const a=X(),t=d(!1),i=q(),o=d(""),n=d(!1),c=d(""),p=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),y=async()=>{try{t.value=!0;const e=await i.get("/api/units/");p.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{c.value=e,n.value=!n.value},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return p.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return p.value}));return u((()=>{y()})),(e,d)=>{const r=N,u=s,p=U,S=O,T=l,I=ne,j=Rs;return m(),v("div",null,[f("div",Ws,[g(u,null,{default:_((()=>[g(r,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>L(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[z,D(o)]])])),_:1})])),_:1}),g(S,null,{default:_((()=>[g(p,{color:"primary",onClick:d[1]||(d[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[M(" Unit ")])),_:1})])),_:1})]),f("div",$s,[D(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[qs,Fs])),_:1})),g(B,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:_((()=>[(m(!0),v(C,null,k(D(V),((e,l)=>(m(),v("div",{key:l,class:"column is-4"},[f("div",Ks,[f("div",Zs,[f("div",Js,[f("span",Gs,w(e.title),1),f("span",null,w(e.value),1)]),g(I,{icon:"feather:more-vertical",spaced:"",right:""},{content:_((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},Xs,8,Qs),Ys,f("a",{onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/units/${e}/`),y(),a.success("Unit deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},li,8,ei)])),_:2},1024)])])])))),128))])),_:1})]),D(n)?(m(),h(j,{key:0,addUpdateCostUnitModal:D(n),unitId:D(c),"onUpdate:modalHandler":d[2]||(d[2]=e=>{n.value=!1,c.value=""}),"onUpdate:OnSuccess":d[3]||(d[3]=e=>y())},null,8,["addUpdateCostUnitModal","unitId"])):b("",!0)])}}}),ti=e=>(S("data-v-850e119a"),e=e(),T(),e),si={class:"container"},ii={class:"box cu-property"},oi={class:"box-body"},ni={class:"position-relative"},ci={class:"position-absolute",style:{top:"0px",right:"0px"}},di=ti((()=>f("i",{class:"fas fa-pen"},null,-1))),ri={class:"columns is-multiline p-5 align-items-center"},ui=ti((()=>f("div",{class:"column is-2 text-align-center"},[f("img",{src:"/images/homePlaceholder.png",style:{width:"140px","border-radius":"10px"},alt:"",srcset:""})],-1))),pi={class:"column is-3"},mi={class:"title is-5 mb-2"},vi=ti((()=>f("p",{class:"light-text mb-0 font-500"},"TexhoIbex@gmial.com",-1))),fi={class:"light-text font-500"},gi=ti((()=>f("div",{class:"column is-1"},[f("div",{class:"cu-vr-seperator"})],-1))),_i={class:"column is-3"},yi={class:"light-text mb-0 font-400"},hi=ti((()=>f("b",null,"State:",-1))),bi={class:"light-text mb-0 font-400"},Ci=ti((()=>f("b",null,"City:",-1))),ki={class:"light-text mb-0 font-400"},wi=ti((()=>f("b",null,"PoctCode:",-1))),xi=ti((()=>f("div",{class:"column is-1"},[f("div",{class:"cu-vr-seperator"})],-1))),Vi={class:"column is-2"},Ui={class:"light-text mb-0 font-400"},Si=ti((()=>f("b",null,"Website:",-1))),Ti=ti((()=>f("b",null,"Status:",-1))),Ii={class:"m-t-20"},ji={class:"tabs-wrapper"},Mi={class:"tabs-inner"},Ai={class:"tabs is-boxed"},Di=[ti((()=>f("span",null,"General",-1)))],zi=[ti((()=>f("span",null,"Cost Codes",-1)))],Pi=[ti((()=>f("span",null,"Units",-1)))],Ei=[ti((()=>f("span",null,"Users permissions",-1)))],Oi=[ti((()=>f("span",null,"Role Management",-1)))],Li=[ti((()=>f("span",null,"Manage Role",-1)))],Bi=[ti((()=>f("span",null,"Action logs",-1)))],Hi={key:0},Ni={key:1},Ri={key:2},Wi={key:3},$i={key:4},qi={key:5},Fi={key:6},Ki=i({__name:"CompanySettingsComponent",setup(e){const l=d("general"),a=d(!1);d("proposals");const t=j({name:"ABC Corp",website:"https://example.com",phone:"123-456-7890",address:{street:"123 Main St",city:"Evergreen",state:"CO",zipCode:"80437-0242"}});return(e,s)=>{const i=U,o=ce,n=ai,c=Ts,d=is,r=Hl,u=He,p=Le,h=Te;return m(),v("div",si,[f("div",ii,[f("div",oi,[f("div",ni,[f("div",ci,[g(i,{color:"primary",onClick:s[0]||(s[0]=e=>{a.value=!0}),size:"xsmall",rounded:""},{default:_((()=>[di,M(" Edit")])),_:1})])]),f("div",ri,[ui,f("div",pi,[f("h2",mi,w(D(t).name),1),vi,f("p",fi,w(D(t).phone),1)]),gi,f("div",_i,[f("p",yi,[hi,M(" "+w(D(t)?.address?.state?D(t)?.address?.state:"N/A"),1)]),f("p",bi,[Ci,M(" "+w(D(t)?.address?.city?D(t)?.address?.city:"N/A"),1)]),f("p",ki,[wi,M(" "+w(D(t)?.address?.zipCode?D(t)?.address?.zipCode:"N/A"),1)])]),xi,f("div",Vi,[f("p",Ui,[Si,M(" "+w(D(t)?.website?D(t)?.website:"N/A"),1)]),Ti,g(o,{color:"primary",class:"ml-2",rounded:""},{default:_((()=>[M("Active")])),_:1})])])])]),f("div",Ii,[f("div",ji,[f("div",Mi,[f("div",Ai,[f("ul",null,[f("li",{class:x(["general"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=y(P((e=>l.value="general"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>l.value="general")},Di,32)],2),f("li",{class:x(["costCodes"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=y(P((e=>l.value="costCodes"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>l.value="costCodes")},zi,32)],2),f("li",{class:x(["units"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=y(P((e=>l.value="units"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>l.value="units")},Pi,32)],2),f("li",{class:x(["permissions"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=y(P((e=>l.value="permissions"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>l.value="permissions")},Ei,32)],2),f("li",{class:x(["roleManagement"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=y(P((e=>l.value="roleManagement"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>l.value="roleManagement")},Oi,32)],2),f("li",{class:x(["manageRole"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=y(P((e=>l.value="manageRole"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>l.value="manageRole")},Li,32)],2),f("li",{class:x(["logs"===D(l)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=y(P((e=>l.value="logs"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>l.value="logs")},Bi,32)],2)])])])]),"units"===D(l)?(m(),v("div",Hi,[g(n)])):b("",!0),"general"===D(l)?(m(),v("div",Ni,[g(c)])):b("",!0),"costCodes"===D(l)?(m(),v("div",Ri,[g(d)])):b("",!0),"permissions"===D(l)?(m(),v("div",Wi,[g(r)])):b("",!0),"roleManagement"===D(l)?(m(),v("div",$i,[g(u)])):b("",!0),"manageRole"===D(l)?(m(),v("div",qi,[g(p)])):b("",!0),"logs"===D(l)?(m(),v("div",Fi,[g(h)])):b("",!0)])])}}});"function"==typeof J&&J(Ki);const Zi=I(Ki,[["__scopeId","data-v-850e119a"]]),Ji=i({__name:"index",setup(e){de();return re().setPageTitle("Company Settings"),H((()=>({title:"Company Settings"}))),(e,l)=>{const a=Zi;return m(),v("div",null,[g(a)])}}});"function"==typeof J&&J(Ji);export{Ji as default};
