import{_ as a}from"./VFlex.vue_vue_type_style_index_0_lang-f6582c93.js";import{f as e,T as t,y as n,$ as i,B as r,C as l,O as o,G as s,E as c,Z as u,F as p,K as g,I as d,m as f,H as v,D as h,N as y,W as m,V as k,U as x,J as P}from"./index-18a2e39b.js";const _={class:"pagination-list"},b={key:0},K=[c("span",{class:"pagination-ellipsis"},"…",-1)],C={key:1},M=[c("span",{class:"pagination-ellipsis"},"…",-1)],w={key:2},D=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"},null,-1),$=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"},null,-1),L=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),Q=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),R=e({__name:"VFlexPagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(e,{emit:R}){const j=e,{t:F}=t(),I=n(),V=i((()=>Math.ceil(j.totalItems/j.itemPerPage)||1)),q=i((()=>V.value>j.maxLinksDisplayed+2?j.maxLinksDisplayed+2:V.value)),B=i((()=>{const a=[];let e=j.currentPage-Math.floor(q.value/2),t=e+(q.value-Math.ceil(q.value%2));e<1&&(e=1,t=e+(q.value-1)),t>V.value&&(t=V.value,e=t-(q.value-1));for(let n=e;n<=t;n+=1)n!==e&&n!==t&&a.push(n);return a})),E=i((()=>V.value>1)),G=(a=1)=>{if(j.noRouter)return{};const e=Math.max(1,Math.min(a,V.value)),t={...I.query};return j.routerQueryKey&&(t[j.routerQueryKey]=e<=1?void 0:e),{name:I.name,params:I.params,query:t}},H=(a,e=1)=>{const t=Math.max(1,Math.min(e,V.value));if(R("update:currentPage",t),j.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(e,t)=>{const n=r("RouterLink"),i=a;return l(),o(i,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:s((()=>[c("ul",_,[u(e.$slots,"before-pagination"),c("li",null,[p(n,{to:G(1),tabindex:"0",class:d(["pagination-link",[1===e.currentPage&&"is-current"]]),"aria-label":f(F)("components.v-flex-pagination.goto-page-title",{page:1}),onKeydown:t[0]||(t[0]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[1]||(t[1]=a=>H(a,1))},{default:s((()=>[g(" 1 ")])),_:1},8,["to","aria-label","class"])]),f(E)&&(0===f(B).length||f(B)[0]>2)?(l(),h("li",b,K)):y("",!0),(l(!0),h(k,null,m(f(B),(a=>(l(),h("li",{key:a},[p(n,{to:G(a),tabindex:"0",class:d(["pagination-link",[e.currentPage===a&&"is-current"]]),"aria-label":f(F)("components.v-flex-pagination.goto-page-title",{page:a}),"aria-current":e.currentPage===a?"page":void 0,onKeydown:t[2]||(t[2]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:e=>H(e,a)},{default:s((()=>[g(x(a),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),f(E)&&f(B)[f(B).length-1]<f(V)-1?(l(),h("li",C,M)):y("",!0),f(E)?(l(),h("li",w,[p(n,{to:G(f(V)),tabindex:"0",class:d(["pagination-link",[e.currentPage===f(V)&&"is-current"]]),"aria-label":f(F)("components.v-flex-pagination.goto-page-title",{page:f(V)}),onKeydown:t[3]||(t[3]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[4]||(t[4]=a=>H(a,f(V)))},{default:s((()=>[g(x(f(V)),1)])),_:1},8,["to","aria-label","class"])])):y("",!0),u(e.$slots,"after-pagination")]),u(e.$slots,"before-navigation"),p(n,{to:G(e.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:t[5]||(t[5]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[6]||(t[6]=a=>H(a,e.currentPage-1))},{default:s((()=>[D,$])),_:1},8,["to"]),p(n,{to:G(e.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:t[7]||(t[7]=v(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[8]||(t[8]=a=>H(a,e.currentPage+1))},{default:s((()=>[L,Q])),_:1},8,["to"]),u(e.$slots,"after-navigation")])),_:3})}}});export{R as _};
