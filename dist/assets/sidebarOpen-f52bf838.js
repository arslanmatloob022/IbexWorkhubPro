import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-3ca21be8.js";import{_ as e}from"./VControl-9dd15a88.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-3fdfebac.js";import{f as t,y as r,r as l,x as i,C as o,O as n,G as c,F as u,m as p,D as d,V as m,W as h,N as v,L as g,X as f,E as y,k,K as x,U as _,H as b,J as w,$ as C,Z as j,I}from"./index-83c2f084.js";import{_ as N}from"./whatsapp-93d30726.js";import{u as $}from"./useAPI-ebd2af88.js";import{u as S}from"./company-a91e65ad.js";import{s as V,d as K}from"./useSupportElement-a6730bec.js";const E={key:0,class:"is-active search-results has-slimscroll"},L={class:"ml-2",style:{display:"flex","flex-direction":"column","text-align":"left"}},O=["onClick"],U=["src","onClick"],A=["onClick"],F=y("img",{src:N,style:{width:"12px",height:"12px","margin-top":"3px","margin-right":"2px"}},null,-1),W={key:1,class:"is-active search-results has-slimscroll"},B=[y("h1",{class:"p-4 light-text"},"No result found",-1)],D=["onKeydown"],G=[y("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],H=t({__name:"SearchWorkerInput",setup(t){const C=$();r();const j=l(!1),I=S(),N=l(""),H=i(),J=l([]),P=K((()=>{N.value?R():J.value=[]}),500),R=async()=>{try{j.value=!0;const s=await C.get(`/v3/api/worker/workers-for-options/${I.loggedCompany.id}/?search=${N.value}`,{});J.value=s.data}catch(s){console.error("Error while searching",s)}finally{j.value=!1}},T=s=>{H.push(`/sidebar/company/workers/${s}`),X()},X=()=>{N.value="",J.value=[]};return(t,r)=>{const l=a,i=e,C=s;return o(),n(C,{class:"mt-4"},{default:c((()=>[u(i,{icon:p(j)?"feather:loader":"feather:search"},{extra:c((()=>[p(J).length>0?(o(),d("div",E,[(o(!0),d(m,null,h(p(J),(s=>(o(),d("div",{key:s.id,class:"search-result cu-pointer"},[u(l,{class:"cus-pointer",picture:s.profileImageURL,onClick:e=>T(s.id)},null,8,["picture","onClick"]),y("div",L,[y("span",{class:"item-name dark-inverted",style:{"margin-bottom":"2px !important","font-weight":"500"},onClick:e=>T(s.id)},[x(_(s.firstName)+" "+_(s.lastName)+" ",1),y("img",{style:{width:"20px",height:"20px"},src:s.industry.industryLogo,onClick:e=>T(s.id)},null,8,U)],8,O),y("div",{onClick:e=>p(V)(s.phoneNumber),style:{color:"var(--light-text)",display:"flex",gap:"4px","algin-items":"center"}},[F,x(" "+_(s.phoneNumber),1)],8,A)])])))),128))])):v("",!0),p(J).length||!p(N)||p(j)?v("",!0):(o(),d("div",W,B))])),default:c((()=>[g(y("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>k(N)?N.value=s:null),type:"text",class:"input is-rounded search-input cus-searchInput",placeholder:"Search...",onInput:r[1]||(r[1]=(...s)=>p(P)&&p(P)(...s))},null,544),[[f,p(N)]]),p(N)?(o(),d("div",{key:0,class:"form-icon is-right",tabindex:"0",role:"button",onKeydown:b(w(X,["prevent"]),["space"]),onClick:X},G,40,D)):v("",!0)])),_:1},8,["icon"])])),_:1})}}}),J={class:"sidebar-block-header"},P={class:"sidebar-block-inner"},R={class:"sidebar-block-footer"},T=t({__name:"Sideblock",props:{theme:{default:"default"},isOpen:{type:Boolean}},setup(s){const e=s,a=C((()=>{switch(e.theme){case"color":return"is-colored";case"curved":return"is-curved";case"color-curved":return"is-colored is-curved";default:return""}}));return(s,e)=>(o(),d("div",{class:I(["sidebar-block is-active",[p(a)]])},[y("div",J,[j(s.$slots,"header")]),y("div",P,[y("ul",null,[j(s.$slots,"links")])]),y("div",R,[j(s.$slots,"bottom-links")])],2))}}),X="/logos/ibexwhite.png",Z="/images/icons/sidebarclose.png",q="/images/icons/sidebarOpen.png";export{X as _,T as a,H as b,Z as c,q as d};
