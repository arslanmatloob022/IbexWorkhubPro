import{_ as e}from"./VField.vue_vue_type_script_setup_true_lang-63cc4033.js";import{_ as s}from"./VControl-71751153.js";import{_ as a,a as t}from"./VOption.vue_vue_type_style_index_0_lang-ee8b4bf6.js";import{u as o}from"./useAPI-4dbd45d9.js";import{u as i}from"./useThemeColors-be929954.js";import{A as l}from"./vue3-apexcharts.common-d8d32b4b.js";import{u as n}from"./company-42f77a6b.js";import{e as r,r as c,t as d,s as u,br as p,o as m,y as v,z as y,C as g,D as h,J as _,Q as f,R as b,A as w,B as k,H as x,l as j,P as C,W as A,X as S,L as P,v as I}from"./index-ed878baa.js";import{u as D}from"./viewWrapper-5df11b72.js";import"./VLabel.vue_vue_type_script_setup_true_lang-cb6c0e84.js";import"./useVFieldContext-9a447149.js";import"./userSession-3fb9a025.js";import"./useNotyf-51dcaca9.js";import"./notyf-fd8b7ffd.js";import"./vue.runtime.esm-bundler-04947189.js";import"./useSupportElement-c53eaf20.js";const V=e=>(A("data-v-30a96e74"),e=e(),S(),e),z={class:"business-dashboard company-dashboard"},L={class:"columns is-multiline"},$={class:"column is-5"},J={class:"cu-text-primary",style:{transform:"translateY(-20px)","margin-left":"12px"}},R={class:"cus-black-heading",style:{color:"#090909"}},F={class:"is-flex space-between cu-align-center"},N=V((()=>g("h1",{class:"subtitle weighted"},"Compliance Industries",-1))),T={class:"is-flex justify-content-end",style:{"justify-content":"end"}},E={class:"industry-worker",style:{display:"inline-block","margin-bottom":"0"}},M={class:"industry-block"},O=["onClick"],W={class:""},Y={class:"is-block"},B=["src"],H={class:"titile is-6 pl-2",style:{"font-weight":"500"}},Q={class:"cus-stat-heading"},U=V((()=>g("p",null,null,-1))),X={key:0,class:"vr-line"},q={class:"columns is-multiline"},G={class:"column is-12"},K={class:"dashboard-card is-base-chart",style:{"background-color":"transparent","box-shadow":"none"}},Z={class:"content-box pl-0",style:{"padding-bottom":"10px"}},ee={class:"revenue-stats is-dark-bordered-12 is-flex is-justify-content-space-between is-align-items-center",style:{"border-bottom":"none"}},se=V((()=>g("div",{class:"revenue-stat",style:{"border-bottom":"none"}},[g("h1",{style:{color:"#000000a4"},class:"title is-5 is-flex"},[g("p",{class:"vr-line-main"}),g("div",{class:"ml-3"},"Profile Registration")])],-1))),ae={style:{width:"200px"}},te=P(r({__name:"SupplierDashboardTwo",setup(r){const A=o(),S=n(),P=i();c(""),c("");const I=d(),D=c([0,305,200,350,250,100,250,400,300,100,50]),V=u({series:[{name:"Profiles",data:[]}],chart:{height:270,type:"area",zoom:{enabled:!1},toolbar:{show:!1}},colors:[P.success],dataLabels:{enabled:!1},stroke:{width:[4,5,5],curve:"smooth"},grid:{row:{colors:["transparent","transparent"],opacity:0},yaxis:{lines:{show:!1}}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},tooltip:{y:{formatter:function(e){return e}}}});c("2023"),u({height:295,type:"pie",series:[5672,832,1297,4515],options:{colors:["#00d0ff","#fd2d2c","#C449C2","#00d457"],labels:["Profiles","SIA Expired","Completed Profiles","Valid SIA"],responsive:[{breakpoint:480,options:{chart:{width:315,toolbar:{show:!1}},legend:{position:"top"}}}],legend:{position:"bottom",horizontalAlign:"center"}}});const te=c({total_workers:0,workers_by_month:[],sanction_last_update:null,bs7858:0,partners:0,warningProfiles:0,approvedReferences:0,refCount:0,customers:0,pendingReferences:0}),oe=c(!0),ie=async(e="2024")=>{try{oe.value=!1;const s=await A.post(`v3/api/company/dashboard/${S.loggedCompany.id}/`,{year:e});te.value=s.data,V.value.series[0].data=D.value,oe.value=!0}catch(s){console.error("ok",s)}},le=c({all:0,archived:0,industries:[]}),ne=async()=>{try{const e=await A.get(`/v3/api/company/${S.loggedCompany.id}/get_company_industry_workers_count/`);le.value=e.data,console.log("counts",e.data)}catch(e){console.log(e)}},re=c([{id:"",colleagueImage:"",name:"",contactNumber:"",email:"",status:"",Sia:!0,profileAnomaly:""}]),ce=c({not_uploaded:0,expired:0,date_missing:0,expire_within_14_days:0}),de=async()=>{try{const e=await A.get(`/v3/api/worker/anomalies/${S.loggedCompany.id}/anomalies-stats/`);ce.value=e.data}catch(e){console.log(e)}};return p((async()=>{await ie(),ne(),de()})),m((async()=>{await ie(),(async()=>{const e=await A.get(`/v3/api/worker/company-workers/${S.loggedCompany.id}/`,{});re.value=e.data.results})(),ne(),de()})),(o,i)=>{const n=a,r=t,c=s,d=e;return v(),y("div",z,[g("div",L,[g("div",$,[g("h1",J,[h(" Sanction updated at: "),g("span",R,_((u=te.value.sanction_last_update,new Date(u).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}))),1)])])]),g("div",F,[N,g("div",T,[g("div",E,[g("div",M,[(v(!0),y(f,null,b(le.value.industries,((e,s)=>(v(),y("div",{class:"industry-block cu-pointer",onClick:()=>{j(I).push(`/sidebar/company/workers?type=${e.name}`)}},[g("div",W,[g("div",Y,[g("img",{src:e.industryLogo,alt:"",srcset:"",style:{width:"22px"}},null,8,B),g("h6",H,[h(_(e.name)+" ",1),g("span",Q,"("+_(e.count)+")",1)])]),U]),s!==le.value.industries.length-1?(v(),y("div",X)):C("",!0)],8,O)))),256))])])])]),g("div",q,[g("div",G,[g("div",K,[g("div",Z,[g("div",ee,[se,g("div",ae,[w(d,null,{default:k((()=>[w(c,{class:"has-icons-left",icon:"fas fa-globe"},{default:k((()=>[w(r,{onInput:i[0]||(i[0]=e=>{ie(e.target.value)})},{default:k((()=>[w(n,{value:""},{default:k((()=>[h("Select Year")])),_:1}),w(n,{value:"2020"},{default:k((()=>[h("2020")])),_:1}),w(n,{value:"2021"},{default:k((()=>[h("2021")])),_:1}),w(n,{value:"2022"},{default:k((()=>[h("2022")])),_:1}),w(n,{value:"2023"},{default:k((()=>[h("2023")])),_:1}),w(n,{value:"2024"},{default:k((()=>[h("2024")])),_:1}),w(n,{value:"2025"},{default:k((()=>[h("2025")])),_:1})])),_:1})])),_:1})])),_:1})])])]),oe.value?(v(),x(j(l),{key:0,id:"line-stats-widget-chart",height:V.value.chart.height,type:V.value.chart.type,series:V.value.series,options:V.value},null,8,["height","type","series","options"])):C("",!0)])])])]);var u}}}),[["__scopeId","data-v-30a96e74"]]),oe={class:"page-content-inner"},ie=r({__name:"dashboard",setup:e=>(D().setPageTitle("Dashboard"),I({title:"Partner - Arez"}),(e,s)=>{const a=te;return v(),y("div",oe,[w(a)])})});export{ie as default};
