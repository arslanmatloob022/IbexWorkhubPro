import{_ as a}from"./AddUpdateUser-e58277ec.js";import{_ as s}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-12c61dc9.js";import{_ as e}from"./ContractorProjects.vue_vue_type_style_index_0_lang-023a7dc9.js";import{_ as l}from"./VAvatar.vue_vue_type_style_index_0_lang-8e373625.js";import{_ as t}from"./VIconBox.vue_vue_type_style_index_0_lang-b81a7493.js";import{u as n}from"./useAPI-bacd1021.js";import{u as i}from"./personalScoreGauge-580e43fa.js";import{f as r,b as o,y as d,r as u,o as p,C as c,D as m,E as v,F as _,G as y,m as h,U as f,O as g,N as b}from"./index-2dec9709.js";const j={class:"lifestyle-dashboard lifestyle-dashboard-v3"},x={class:"illustration-header is-relative"},U=v("i",{class:"lnil lnil-pencil"},null,-1),w={class:"p-4"},C={class:"header-meta"},M={class:"summary-stats"},P={class:"summary-stat"},A=v("span",null,"Role",-1),I={class:"summary-stat"},L=v("span",null,"Status",-1),N={class:"summary-stat"},k=v("span",null,"Phone",-1),O={class:"summary-stat"},H=v("span",null,"Email",-1),E={class:"summary-stat h-hidden-tablet-p"},z=v("span",null,"Email Notification",-1),G={class:"summary-stat h-hidden-tablet-p"},S=v("span",null,"Password",-1),V={class:"columns is-multiline is-flex-tablet-p profile-wrapper"},q={class:"column is-12"},B=r({__name:"ContractorProfile",setup(r){const B=o(),D=n(),F=d(),R=u(!1),$=u(""),J=u(!1),K=u(!1);i();const Q=u({id:"",password:"",last_login:null,date_joined:"",email:"",role:"",avatar:"",is_active:!0,phoneNumber:"",username:"",is_sentMail:!1});return p((async()=>{await(async()=>{try{K.value=!0;const a=await D.get(`/api/users/${F.params.id?F.params.id:B.user.id}`);Q.value=a.data}catch(a){console.log(a)}finally{K.value=!1}})()})),(n,i)=>{const r=t,o=l,d=e,u=s,p=a;return c(),m("div",j,[v("div",x,[_(r,{onClick:i[0]||(i[0]=a=>((a="")=>{$.value=a,J.value=!J.value})(h(Q).id)),size:"small",color:"primary",style:{position:"absolute",right:"8px",top:"8px",cursor:"pointer"}},{default:y((()=>[U])),_:1}),v("div",w,[_(o,{size:"xl",squared:"",picture:h(Q).avatar,alt:""},null,8,["picture"])]),v("div",C,[v("h3",null,f(h(K)?"Loading...":h(Q)?.username),1),v("div",M,[v("div",P,[A,v("span",null,f(h(K)?"Loading...":h(Q)?.role),1)]),v("div",I,[L,v("span",null,f(h(K)?"Loading...":h(Q)?.is_active?"Active":" In-Active"),1)]),v("div",N,[k,v("span",null,f(h(K)?"Loading...":h(Q)?.phoneNumber?h(Q)?.phoneNumber:"N/A"),1)]),v("div",O,[H,v("span",null,f(h(K)?"Loading...":h(Q)?.email),1)]),v("div",E,[z,v("span",null,f(h(K)?"Loading...":h(Q).is_sentMail?"On":"Off"),1)]),v("div",G,[S,v("span",{onClick:i[1]||(i[1]=a=>R.value=!h(R)),class:"link-text"},"Change Password")])])])]),v("div",V,[v("div",q,[_(d,{"contractor-id":h(F).params.id?h(F).params.id:h(B).user.id},null,8,["contractor-id"])])]),h(R)?(c(),g(u,{key:0,isModalOpen:h(R),userId:h(F).params.id,"onUpdate:closeModalHandler":i[2]||(i[2]=a=>R.value=!1)},null,8,["isModalOpen","userId"])):b("",!0),h(J)?(c(),g(p,{key:1,"is-modal-open":h(J),"user-role":"contractor","user-id":h($),"onUpdate:closeModalHandler":i[3]||(i[3]=a=>J.value=!1),"onUpdate:actionUpdateHandler":n.getContractorshandler},null,8,["is-modal-open","user-id","onUpdate:actionUpdateHandler"])):b("",!0)])}}});export{B as _};
