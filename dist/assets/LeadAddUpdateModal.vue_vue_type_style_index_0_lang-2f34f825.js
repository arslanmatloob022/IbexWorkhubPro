import{_ as e}from"./VModal.vue_vue_type_style_index_0_lang-8cff438f.js";import{_ as l}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-44d1cb68.js";import{f as a,s,b as t,r as i,o,C as n,O as d,G as c,E as u,F as r,L as m,m as p,X as v,K as f,J as b,a5 as y,P as _,e as g,_ as h,B as C,D as V,ac as S,aF as U,N as x,a1 as k,aG as w,w as N,I as j,H as A,U as I,V as E,W as P,k as L}from"./index-6ae518d6.js";import{_ as M}from"./VControl-933283de.js";import{_ as D}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-f6dcc879.js";import{u as H,a as O}from"./useAPI-1c7f9e1a.js";import{u as F}from"./useNotyf-55eb335c.js";import{a as T,C as R,k as $}from"./useSupportElement-29743dc4.js";import{_ as z}from"./VField.vue_vue_type_script_setup_true_lang-44e51f52.js";import{_ as G}from"./ScheduleEmailModal.vue_vue_type_script_setup_true_lang-9c3ab68c.js";import{_ as W,a as q}from"./VOption.vue_vue_type_style_index_0_lang-be751072.js";import{_ as B}from"./VAvatar.vue_vue_type_style_index_0_lang-fc472b85.js";import{C as K}from"./ckeditor-ab41ed27.js";import{C as Z}from"./ckeditor-95d7b2d7.js";const J={class:"modal-form columns is-multiline"},X={class:"column is-12 m-0"},Y=u("div",{class:"column is-12"},[u("h3",{class:"title is-6 mb-2"},"Contact Information")],-1),Q={class:"field column is-6 mb-0"},ee=u("label",null,"First Name *",-1),le={class:"control"},ae={class:"field column is-6 mb-0"},se=u("label",null,"Last Name ",-1),te={class:"control"},ie={class:"field column is-6 mb-0"},oe=u("label",null,"Display Name * ",-1),ne={class:"control"},de={class:"field column is-6 mb-0"},ce=u("label",null,"Primary Email ",-1),ue={class:"control"},re={class:"field column is-12 mb-0"},me=u("label",null,"Street Address ",-1),pe={class:"control"},ve={class:"field column is-6 mb-0"},fe=u("label",null,"City: ",-1),be={class:"control"},ye={class:"field column is-3 mb-0"},_e=u("label",null,"State: ",-1),ge={class:"control"},he={class:"field column is-3 mb-0"},Ce=u("label",null,"Zip Code: ",-1),Ve={class:"control"},Se={class:"field column is-6 mb-0"},Ue=u("label",null,"Phone ",-1),xe={class:"control"},ke={class:"field column is-6 mb-0"},we=u("label",null,"Cell Phone ",-1),Ne={class:"control"},je=u("div",{class:"column is-12"},[u("h3",{class:"title is-6 mb-2"},"Security & Login")],-1),Ae={class:"field column is-3 mb-0"},Ie={class:"field column is-3 mb-0"},Ee=a({__name:"AddUpdateContactModal",props:{addUpdateContactModal:{type:Boolean},userId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(l,{emit:a}){const g=l;s(),t();const h=F(),C=H(),V=i(!1),S=i({}),U=i({firstName:"",lastName:"",displayName:"",address:"",city:"",state:"",zipCode:"",phone:"",cellPhone:"",email:"",latitude:"",longitude:"",loginAllowed:!1,inviteLogin:!1}),x=async()=>{try{V.value=!0;const e=T(S.value,["profileImageURL"]);await C.post("/v3/api/worker/",e);k(),h.dismissAll(),h.success("New worker added, New Worker")}catch(e){h.error(` ${e}, New Worker`)}finally{V.value=!1}},k=()=>{a("update:modalHandler",!1)},w=async()=>{try{const e=await O.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${S.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);"OK"===e.data.status?(U.value.address=e.data.results[0].formatted_address,U.value.latitude=e.data.results[0].geometry.location.lat,U.value.longitude=e.data.results[0].geometry.location.lng,h.success("Address Added")):"ZERO_RESULTS"===e.data.status&&h.error("Invalid Post-Code")}catch(e){h.error("Invalid Post-Code"),console.error(e)}};return o((()=>{})),(l,a)=>{const s=y,t=D,i=M,o=_,h=e;return n(),d(h,{is:"form",open:g.addUpdateContactModal,title:"Contact Person",size:"big",actions:"right",onSubmit:b(x,["prevent"]),onClose:k},{content:c((()=>[u("div",J,[u("div",X,[r(s,{class:"columns is-multiline"},{default:c((()=>[Y,u("div",Q,[ee,u("div",le,[m(u("input",{type:"text",name:"firstName","onUpdate:modelValue":a[0]||(a[0]=e=>p(U).firstName=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"First Name"},null,512),[[v,p(U).firstName]])])]),u("div",ae,[se,u("div",te,[m(u("input",{type:"text",name:"lastName","onUpdate:modelValue":a[1]||(a[1]=e=>p(U).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Last Name"},null,512),[[v,p(U).lastName]])])]),u("div",ie,[oe,u("div",ne,[m(u("input",{required:"",type:"text",name:"disName","onUpdate:modelValue":a[2]||(a[2]=e=>p(U).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Display Name"},null,512),[[v,p(U).lastName]])])]),u("div",de,[ce,u("div",ue,[m(u("input",{type:"email",name:"email","onUpdate:modelValue":a[3]||(a[3]=e=>p(U).email=e),class:"input is-primary-focus is-primary-focus",placeholder:"Contact email"},null,512),[[v,p(U).email]])])]),u("div",re,[me,u("div",pe,[m(u("input",{required:"",type:"text",name:"address","onUpdate:modelValue":a[4]||(a[4]=e=>p(U).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[v,p(U).lastName]])])]),u("div",ve,[fe,u("div",be,[m(u("input",{type:"text",name:"city","onUpdate:modelValue":a[5]||(a[5]=e=>p(U).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[v,p(U).city]])])]),u("div",ye,[_e,u("div",ge,[m(u("input",{type:"text",name:"state","onUpdate:modelValue":a[6]||(a[6]=e=>p(U).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[v,p(U).state]])])]),u("div",he,[Ce,u("div",Ve,[m(u("input",{type:"tel",name:"zipCode",onBlur:w,"onUpdate:modelValue":a[7]||(a[7]=e=>p(U).zipCode=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip code"},null,544),[[v,p(U).zipCode]])])]),u("div",Se,[Ue,u("div",xe,[m(u("input",{type:"tel",name:"phone","onUpdate:modelValue":a[8]||(a[8]=e=>p(U).phone=e),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,512),[[v,p(U).phone]])])]),u("div",ke,[we,u("div",Ne,[m(u("input",{type:"tel",name:"phone","onUpdate:modelValue":a[9]||(a[9]=e=>p(U).cellPhone=e),class:"input is-primary-focus is-primary-focus",placeholder:"Cell Phone"},null,512),[[v,p(U).cellPhone]])])])])),_:1}),r(s,{class:"columns is-multiline mt-3"},{default:c((()=>[je,u("div",Ae,[r(i,{subcontrol:""},{default:c((()=>[r(t,{thin:"",color:"primary",modelValue:p(U).loginAllowed,"onUpdate:modelValue":a[10]||(a[10]=e=>p(U).loginAllowed=e),label:"Allow login"},null,8,["modelValue"])])),_:1})]),u("div",Ie,[r(i,{subcontrol:""},{default:c((()=>[r(t,{thin:"",color:"primary",modelValue:p(U).inviteLogin,"onUpdate:modelValue":a[11]||(a[11]=e=>p(U).inviteLogin=e),label:"Send invite"},null,8,["modelValue"])])),_:1})])])),_:1})])])])),action:c((()=>[r(o,{loading:p(V),type:"submit",color:"primary",icon:"fas fa-plus",raised:""},{default:c((()=>[f("Add Contact")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),Pe={class:"modal-form columns is-multiline"},Le={class:"field column is-full"},Me=u("label",{class:"label"},"Schedule Mail ",-1),De=["value"],He={class:"column is-full"},Oe={class:"field"},Fe=u("label",{class:"label"},"To ",-1),Te={class:"control"},Re={class:"column is-full"},$e={class:"field"},ze=u("label",{class:"label"},"Subject ",-1),Ge={class:"control"},We={class:"field column is-full mt-5"},qe=u("label",{class:"label"},null,-1),Be=u("i",{class:"feather:mail"},null,-1),Ke=a({__name:"GenericEmailSender",props:{mailSenderModal:{type:Boolean},subject:{}},emits:["update:modalHandler","update:OnSuccess"],setup(l,{emit:a}){const t=l,y=H(),N=i(!1),j=F(),A=i(!1),I=i(""),E=s(),P=()=>{a("update:modalHandler",!1)};I.value="<b> Hi  <br />\nIbex Management <br />\n</b>";const L=i({scheduled_at:"",mailGroup:[],mail:"",subject:"",message:""}),D=async()=>{try{A.value=!0;await y.post("",{mail:L.value.mail,subject:L.value.subject,message:L.value.message,scheduled_at:L.value.scheduled_at});j.success("Email sent to worker successfully"),P()}catch(e){console.log(e)}finally{A.value=!1}},O=g((()=>h((()=>import("./ckeditor-ab41ed27.js").then((e=>e.c))),["assets/ckeditor-ab41ed27.js","assets/index-6ae518d6.js","assets/index-da25c80f.css","assets/vue.runtime.esm-bundler-c626aa9c.js"]).then((e=>e.default.component)))),T={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return o((async()=>{E.value=await h((()=>import("./ckeditor-95d7b2d7.js").then((e=>e.c))),["assets/ckeditor-95d7b2d7.js","assets/index-6ae518d6.js","assets/index-da25c80f.css"]).then((e=>e.default))})),(l,a)=>{const s=M,i=z,o=C("VDatePicker"),y=w,g=_,h=e;return n(),V("div",null,[r(k,{name:"fade-slow"},{default:c((()=>[r(h,{is:"form",open:t.mailSenderModal,title:"Send Email",size:"large",actions:"right",onSubmit:b(D,["prevent"]),onClose:P},{content:c((()=>[u("div",Pe,[u("div",Le,[Me,r(y,null,{default:c((()=>[r(o,{modelValue:p(L).scheduled_at,"onUpdate:modelValue":a[0]||(a[0]=e=>p(L).scheduled_at=e),mode:"dateTime"},{default:c((({inputValue:e,inputEvents:l})=>[r(i,null,{default:c((()=>[r(s,{icon:"lucide:calendar"},{default:c((()=>[u("input",S({class:"input v-input",type:"text",value:e},U(l,!0)),null,16,De)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})]),u("div",He,[u("div",Oe,[Fe,u("div",Te,[m(u("input",{type:"email",required:"",class:"input",placeholder:"Enter Mail","onUpdate:modelValue":a[1]||(a[1]=e=>p(L).mail=e)},null,512),[[v,p(L).mail]])])])]),u("div",Re,[u("div",$e,[ze,u("div",Ge,[m(u("input",{type:"text",required:"",class:"input",placeholder:"Enter mail subject","onUpdate:modelValue":a[2]||(a[2]=e=>p(L).subject=e)},null,512),[[v,p(L).subject]])])])]),u("div",We,[qe,p(E)?(n(),d(p(O),{key:0,modelValue:p(L).message,"onUpdate:modelValue":a[3]||(a[3]=e=>p(L).message=e),editor:p(E),config:T},null,8,["modelValue","editor"])):x("",!0)])])])),action:c((()=>[r(g,{onClick:D,color:"primary",loading:p(N),raised:""},{default:c((()=>[Be,f(" Schedule Mail")])),_:1},8,["loading"])])),cancel:c((()=>[r(g,{color:"light",onClick:P,raised:""},{default:c((()=>[f("Close ")])),_:1})])),_:1},8,["open","onSubmit"])])),_:1})])}}}),Ze={class:"modal-form columns is-multiline",style:{height:"80dvh"}},Je={class:"tabs-wrapper column is-12 m-0"},Xe={class:"tabs-inner"},Ye={class:"tabs is-boxed"},Qe=[u("span",null,"General",-1)],el=[u("span",null,"Activities",-1)],ll=[u("span",null,"Proposals",-1)],al={key:0,class:"column is-12"},sl=u("h3",{class:"title is-6 mb-2"},"General Information",-1),tl={class:"columns is-multiline"},il={class:"field column is-8 mb-0"},ol=u("label",null,"Opportunity Title: *",-1),nl={class:"control"},dl={class:"field column is-2 mb-0"},cl=u("label",null,"Image",-1),ul={class:"file"},rl={class:"file-label"},ml={class:"file-cta"},pl=u("span",{class:"file-icon"},[u("i",{class:"fas fa-cloud-upload-alt"})],-1),vl={class:"file-label"},fl={class:"field column is-2 mb-0"},bl={class:"field column is-6 mb-0 is-relative"},yl=u("label",null,"Address: ",-1),_l={class:"control"},gl={key:0,class:"dropdown-list"},hl=["onClick"],Cl={class:"field column is-3 mb-0"},Vl=u("label",null,"City: ",-1),Sl={class:"control"},Ul={class:"field column is-3 mb-0"},xl=u("label",null,"State: ",-1),kl={class:"control"},wl={class:"field column is-6 mb-0"},Nl=u("label",null,"Zip Code: without slash ",-1),jl={class:"control"},Al={class:"field column is-6 mb-0"},Il=u("label",null,"Confidence ",-1),El={class:"control"},Pl={class:"field column is-6 mb-0"},Ll=u("label",null,"Projected Sale Date: ",-1),Ml={class:"control"},Dl={class:"field column is-6 mb-0"},Hl=u("label",null,"Project Type ",-1),Ol={class:"field column is-6 mb-0"},Fl=u("label",null,"Start Date: ",-1),Tl={class:"control"},Rl={class:"field column is-6 mb-0"},$l=u("label",null,"End Date: ",-1),zl={class:"control"},Gl={class:"field column is-12 mb-0"},Wl={class:"multiselect-single-label"},ql=["src"],Bl={class:"select-label-text"},Kl=["src"],Zl={class:"select-label-text"},Jl={class:"field column is-3 mb-0"},Xl={class:"multiselect-single-label"},Yl=["src"],Ql={class:"select-label-text"},ea=["src"],la={class:"select-label-text"},aa={class:"field column is-3 mb-0"},sa={class:"multiselect-single-label"},ta=["src"],ia={class:"select-label-text"},oa=["src"],na={class:"select-label-text"},da={class:"field column is-6 mb-0"},ca={class:"multiselect-single-label"},ua=["src"],ra={class:"select-label-text"},ma=["src"],pa={class:"select-label-text"},va={class:"field column is-3 mb-0"},fa=u("label",null,"Estimated Revenue: ",-1),ba={class:"control"},ya={class:"field column is-3 mb-0"},_a=u("label",null,"To",-1),ga={class:"control"},ha={class:"field column is-6 mb-0"},Ca=u("label",null,"Tags ",-1),Va={class:"field column is-6 mb-0"},Sa=u("label",null,"Sources ",-1),Ua={class:"field column is-6 mb-0"},xa=u("label",null,"Status ",-1),ka=u("h3",{class:"title is-6 mb-2"},"Notes",-1),wa={class:"field column is-12 mb-0"},Na=u("h3",{class:"title is-6 mb-2"},"Attach Documents",-1),ja={class:"field column is-12 mb-0"},Aa=u("label",null,"Attachments ",-1),Ia=u("div",{class:"file"},[u("label",{class:"file-label"},[u("input",{class:"file-input",type:"file",name:"resume"}),u("span",{class:"file-cta"},[u("span",{class:"file-icon"},[u("i",{class:"fas fa-cloud-upload-alt"})]),u("span",{class:"file-label"}," Choose a file… ")])])],-1),Ea={key:1,class:"column is-12"},Pa=u("div",{class:"column is-12",style:{"text-align":"center"}},[u("h1",{class:"title is-4"},"Connect your clients to their projects"),u("h1",{class:"title is-5"}," Create a client contact and assign them to jobs and lead opportunities effortlessly. ")],-1),La={class:"column is-6"},Ma={class:"column is-6"},Da=u("div",{class:"column is-3"},null,-1),Ha=u("div",{class:"column is-6 text-align-center"},[u("i",{class:"fas fa-phone-alt fa-5x primary-text text-primary mb-3","aria-hidden":"true"}),u("h1",{class:"title is-4"},"Engage your leads with activities"),u("h1",{class:"title is-6"}," Track calls, emails, and meeting notes for leads in one place. ")],-1),Oa=u("div",{class:"column is-3"},null,-1),Fa=u("div",{class:"column is-3"},null,-1),Ta={class:"column is-6 text-align-center"},Ra=u("div",{class:"column is-3"},null,-1),$a={key:2,class:"column is-12"},za={class:"column is-12"},Ga=a({__name:"LeadAddUpdateModal",props:{addUpdateLeadModal:{type:Boolean},leadId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(a,{emit:s}){const g=a,h=t(),S=F(),U=H(),k=i(0),w=i(!1),D=i(!1),O=i(!1),J=i([]),X=i([]),Y=()=>{s("update:modalHandler",!1)},Q=i(""),ee=i("general"),le=i([]),ae=[{id:1,value:"Lead",label:"Lead"},{id:2,value:"Home",label:"Home"},{id:3,value:"Floor Work",label:"Floor Work"},{id:4,value:"Tile Work",label:"Tile Work"},{id:5,value:"Carpenter",label:"Carpenter"},{id:6,value:"Complete Renovation",label:"Complete Renovation"},{id:7,value:"Painting",label:"Painting"},{id:8,value:"Plumbing",label:"Plumbing"},{id:9,value:"New Construction",label:"New Construction"},{id:10,value:"Carpenter",label:"Carpenter"},{id:11,value:"Carpenter",label:"Carpenter"},{id:12,value:"Carpenter",label:"Carpenter"}],se=[{value:"all",label:"All"},{value:"Contact Form",label:"Contact Form"},{value:"Social Media",label:"Social Media"},{value:"Referral",label:"Referral"},{value:"Company Website",label:"Company Website"}],te=i([{value:"",name:"",icon:""}]),ie=i([{value:"",name:"",icon:""}]),oe=i([{value:"",name:"",icon:""}]),ne=K.component,de={fontFamily:{options:['"Montserrat Variable", sans-serif','"Roboto Flex Variable", sans-serif']}},ce=i({id:"",title:"",address:"",leadStatus:"open",current_state:"",city:"",state:"",status:"",zip_code:"",contractor:"",confidence:0,sale_date:"",sales_people:[],tags:[],estimated_from:"",estimated_to:"",sources:"",project_type:"",notes:"",attachments:[],attach_mail:"",created_by:h.user.id,managers:[],client:"",latitude:0,longitude:0,startDate:"",endDate:"",description:"",image:"",color:"",is_active:!0,wifiAvaliabe:!1,parkingAvaliable:!1,property_features:!1}),ue=i("Enter Notes"),re=i([{value:"open",label:"Open"},{value:"onHold",label:"On Hold"},{value:"lost",label:"Lost"},{value:"sold",label:"Sold"}]),me=i([{value:"Residential",label:"Residential"},{value:"Commercial",label:"Commercial"},{value:"Government",label:"Government"},{value:"Business Site",label:"Business Site"},{value:"Company/Factories",label:"Company/Factories"}]),pe=async(e=0)=>{try{k.value=e,ce.value.notes=ue.value,ce.value.tags=JSON.stringify(le.value);const l=T(ce.value,["image"]);if(ce.value.client||l.append("client",""),ce.value.contractor||l.append("contractor",""),g.leadId||ce.value.id){const e=await U.patch(`/api/project/${g.leadId?g.leadId:ce.value.id}/`,l);ce.value=e.data,R({object_type:"lead",action:"UPDATE",performedOnName:"lead",object_id:g.leadId||ce.value.id,message:`updated <a>${ce.value.title}</a> ${ce.value.state} information.`})}else{const e=await U.post("/api/project/",l);ce.value=e.data,R({object_type:"lead",action:"CREATE",performedOnName:"lead",object_id:g.leadId||ce.value.id,message:`created new <a>${ce.value.title}</a> ${ce.value.state} information.`})}S.success(`Lead ${g.leadId||ce.value.id?"updated":"created"} successfully`),s("update:OnSuccess",null),3==e&&Y()}catch(l){S.error(`${l}, Lead`)}finally{k.value=0}},ve=i([{place_id:"323063513605",osm_id:"7442087",osm_type:"relation",licence:"https://locationiq.com/attribution",lat:"31.4334994",lon:"-86.9569176",boundingbox:["31.3960883","31.4666943","-87.0455186","-86.9233412"],class:"place",type:"town",display_name:"Evergreen, Evergreen, Conecuh County, Alabama, 36401, USA",display_place:"Evergreen",display_address:"Conecuh County, Alabama, 36401, USA",address:{name:"Evergreen",city:"Evergreen",county:"Conecuh County",state:"Alabama",postcode:"36401",country:"United States of America",country_code:"us"}}]),fe=i(!1),be=i(""),ye=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(ce.value.image=a,be.value=a.name)};return N((()=>ce.value.leadStatus),(()=>{"sold"==ce.value.leadStatus&&(ce.value.current_state="job")})),o((async()=>{g.leadId&&(async()=>{try{k.value=1;const e=await U.get(`/api/project/${g.leadId}/single-project/`);ce.value=e.data,le.value=e.data.tags,ue.value=e.data.notes?e.data.notes:""}catch(e){S.error(` ${e}, Lead`)}finally{k.value=0}})(),(async()=>{try{k.value=1;const e=await U.get("/api/users/by-role/manager/",{});oe.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar}))),Q.value=ce.value.manager}catch(e){console.log(e)}finally{k.value=0}})(),(async()=>{try{k.value=1;const e=await U.get("/api/users/by-role/admin/");e&&e.data?(X.value=e.data.map((e=>({value:e.id,name:`${e.username||""} ${e.lastName||""}`.trim(),icon:e.avatar||""}))),ce.value?.sales_people?.length&&(J.value=ce.value?.sales_people)):S.error("Failed to fetch admin data.")}catch(e){console.error("Error fetching admin data:",e),S.error("An error occurred while fetching admins.")}finally{k.value=0}})(),(async()=>{try{k.value=1;const e=await U.get("/api/users/by-role/contractor/",{});te.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar})))}catch(e){console.log(e)}finally{k.value=0}})(),(async()=>{try{k.value=1;const e=await U.get("/api/users/by-role/client/",{});ie.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar})))}catch(e){console.log(e)}finally{k.value=0}})()})),(a,s)=>{const t=M,i=z,o=B,h=C("Slider"),U=W,N=q,H=C("Multiselect"),F=y,T=_,R=G,K=Ke,J=Ee,Q=l,_e=e;return n(),d(_e,{is:"form",open:g.addUpdateLeadModal,title:"Lead Information",size:"xl",actions:"right",onSubmit:s[34]||(s[34]=b((e=>pe(1)),["prevent"])),onClose:Y},{content:c((()=>[u("div",Ze,[u("div",Je,[u("div",Xe,[u("div",Ye,[u("ul",null,[u("li",{class:j(["general"===p(ee)?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[0]||(s[0]=A(b((e=>ee.value="general"),["prevent"]),["space"])),onClick:s[1]||(s[1]=e=>ee.value="general")},Qe,32)],2),u("li",{class:j(["activities"===p(ee)?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[2]||(s[2]=A(b((e=>ee.value="activities"),["prevent"]),["space"])),onClick:s[3]||(s[3]=e=>ee.value="activities")},el,32)],2),u("li",{class:j(["proposals"===p(ee)?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[4]||(s[4]=A(b((e=>ee.value="proposals"),["prevent"]),["space"])),onClick:s[5]||(s[5]=e=>ee.value="proposals")},ll,32)],2)])])])]),"general"===p(ee)?(n(),V("div",al,[r(F,{class:"columns is-multiline"},{default:c((()=>[sl,u("div",tl,[u("div",il,[ol,u("div",nl,[m(u("input",{type:"text",name:"title","onUpdate:modelValue":s[6]||(s[6]=e=>p(ce).title=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Opportunity Title"},null,512),[[v,p(ce).title]])])]),u("div",dl,[cl,r(i,{grouped:""},{default:c((()=>[r(t,null,{default:c((()=>[u("div",ul,[u("label",rl,[u("input",{class:"file-input",type:"file",name:"resume",onChange:ye,accept:"image/*"},null,32),u("span",ml,[pl,u("span",vl,I(p(be)?p(be):"Upload an image"),1)])])])])),_:1})])),_:1})]),u("div",fl,[r(o,{class:"mt-2",size:"medium",picture:p(ce).image},null,8,["picture"])]),u("div",bl,[yl,u("div",_l,[m(u("input",{type:"text",name:"address",onKeydown:s[7]||(s[7]=A(b((e=>(async()=>{const e=await $(ce.value.address);ve.value=e,0!=e.length&&(fe.value=!0)})()),["prevent"]),["enter"])),"onUpdate:modelValue":s[8]||(s[8]=e=>p(ce).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,544),[[v,p(ce).address]])]),p(ve).length&&p(fe)?(n(),V("div",gl,[u("ul",null,[(n(!0),V(E,null,P(p(ve),(e=>(n(),V("li",null,[u("span",{onClick:l=>(e=>{ce.value.address=e.display_name,ce.value.latitude=e.lat,ce.value.longitude=e.lon,ce.value.city=e.address?.city||"N/A",ce.value.state=e.address?.state||"N/A",ce.value.zip_code=e.address?.postcode||"N/A",ve.value=[],fe.value=!1,S.success("Address Added")})(e)},I(e.display_name),9,hl)])))),256))])])):x("",!0)]),u("div",Cl,[Vl,u("div",Sl,[m(u("input",{type:"text",name:"city","onUpdate:modelValue":s[9]||(s[9]=e=>p(ce).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[v,p(ce).city]])])]),u("div",Ul,[xl,u("div",kl,[m(u("input",{type:"text",name:"state","onUpdate:modelValue":s[10]||(s[10]=e=>p(ce).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[v,p(ce).state]])])]),u("div",wl,[Nl,u("div",jl,[m(u("input",{type:"text",name:"zipCode","onUpdate:modelValue":s[11]||(s[11]=e=>p(ce).zip_code=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip code"},null,512),[[v,p(ce).zip_code]])])]),u("div",Al,[Il,u("div",El,[r(i,{class:"has-rounded-tooltip is-slider-info"},{default:c((({id:e})=>[r(t,null,{default:c((()=>[r(h,{id:e,modelValue:p(ce).confidence,"onUpdate:modelValue":s[12]||(s[12]=e=>p(ce).confidence=e)},null,8,["id","modelValue"])])),_:2},1024)])),_:1})])]),u("div",Pl,[Ll,u("div",Ml,[m(u("input",{type:"date",name:"saleDate","onUpdate:modelValue":s[13]||(s[13]=e=>p(ce).sale_date=e),class:"input is-primary-focus is-primary-focus",placeholder:"Post code"},null,512),[[v,p(ce).sale_date]])])]),u("div",Dl,[Hl,r(i,null,{default:c((()=>[r(t,null,{default:c((()=>[r(N,{modelValue:p(ce).project_type,"onUpdate:modelValue":s[14]||(s[14]=e=>p(ce).project_type=e)},{default:c((()=>[(n(!0),V(E,null,P(p(me),((e,l)=>(n(),d(U,{key:l,value:e.value},{default:c((()=>[f(I(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),u("div",Ol,[Fl,u("div",Tl,[m(u("input",{type:"date",name:"saleDate","onUpdate:modelValue":s[15]||(s[15]=e=>p(ce).startDate=e),class:"input is-primary-focus is-primary-focus",placeholder:"Post code"},null,512),[[v,p(ce).startDate]])])]),u("div",Rl,[$l,u("div",zl,[m(u("input",{type:"date",name:"saleDate","onUpdate:modelValue":s[16]||(s[16]=e=>p(ce).endDate=e),class:"input is-primary-focus is-primary-focus",placeholder:"Post code"},null,512),[[v,p(ce).endDate]])])])]),u("div",Gl,[r(i,{class:"is-image-select",label:"Sales people"},{default:c((({id:e})=>[r(t,null,{default:c((()=>[r(H,{modelValue:p(ce).sales_people,"onUpdate:modelValue":s[17]||(s[17]=e=>p(ce).sales_people=e),attrs:{id:e},placeholder:"Sales people",label:"name",track:"value",mode:"tags",options:p(X)},{singlelabel:c((({value:e})=>[u("div",Wl,[u("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,ql),u("span",Bl,I(e.name),1)])])),option:c((({option:e})=>[u("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,Kl),u("span",Zl,I(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})]),u("div",Jl,[r(i,{class:"is-image-select",label:"Contractors"},{default:c((({id:e})=>[r(t,null,{default:c((()=>[r(H,{modelValue:p(ce).contractor,"onUpdate:modelValue":s[18]||(s[18]=e=>p(ce).contractor=e),attrs:{id:e},placeholder:"Select a contractor",label:"name",options:p(te)},{singlelabel:c((({value:e})=>[u("div",Xl,[u("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,Yl),u("span",Ql,I(e.name),1)])])),option:c((({option:e})=>[u("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,ea),u("span",la,I(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})]),u("div",aa,[r(i,{class:"is-image-select",label:"Client"},{default:c((({id:e})=>[r(t,null,{default:c((()=>[r(H,{modelValue:p(ce).client,"onUpdate:modelValue":s[19]||(s[19]=e=>p(ce).client=e),attrs:{id:e},placeholder:"Select a client",label:"name",options:p(ie)},{singlelabel:c((({value:e})=>[u("div",sa,[u("img",{class:"select-label-icon",src:e.icon},null,8,ta),u("span",ia,I(e.name),1)])])),option:c((({option:e})=>[u("img",{class:"select-option-icon",src:e.icon},null,8,oa),u("span",na,I(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})]),u("div",da,[r(i,{class:"is-image-select",label:"Manager"},{default:c((({id:e})=>[r(t,null,{default:c((()=>[r(H,{modelValue:p(ce).managers,"onUpdate:modelValue":s[20]||(s[20]=e=>p(ce).managers=e),attrs:{id:e},placeholder:"Select managers",label:"name",track:"value",mode:"tags",options:p(oe)},{singlelabel:c((({value:e})=>[u("div",ca,[u("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,ua),u("span",ra,I(e.name),1)])])),option:c((({option:e})=>[u("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,ma),u("span",pa,I(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})]),u("div",va,[fa,u("div",ba,[m(u("input",{type:"text",name:"externalID","onUpdate:modelValue":s[21]||(s[21]=e=>p(ce).estimated_from=e),class:"input is-primary-focus is-primary-focus",placeholder:"From"},null,512),[[v,p(ce).estimated_from]])])]),u("div",ya,[_a,u("div",ga,[m(u("input",{type:"text",name:"externalID","onUpdate:modelValue":s[22]||(s[22]=e=>p(ce).estimated_to=e),class:"input is-primary-focus is-primary-focus",placeholder:"To"},null,512),[[v,p(ce).estimated_to]])])]),u("div",ha,[Ca,r(i,null,{default:c((({id:e})=>[r(t,null,{default:c((()=>[r(H,{modelValue:p(le),"onUpdate:modelValue":s[23]||(s[23]=e=>L(le)?le.value=e:null),attrs:{id:e},mode:"tags",searchable:!0,"create-tag":!0,options:ae,placeholder:"Add tags"},null,8,["modelValue","attrs"])])),_:2},1024)])),_:1})]),u("div",Va,[Sa,r(i,null,{default:c((({id:e})=>[r(t,null,{default:c((()=>[r(H,{modelValue:p(ce).sources,"onUpdate:modelValue":s[24]||(s[24]=e=>p(ce).sources=e),attrs:{id:e},"create-tag":!0,options:se,placeholder:"Sources"},null,8,["modelValue","attrs"])])),_:2},1024)])),_:1})]),u("div",Ua,[xa,r(i,null,{default:c((()=>[r(t,null,{default:c((()=>[r(N,{modelValue:p(ce).leadStatus,"onUpdate:modelValue":s[25]||(s[25]=e=>p(ce).leadStatus=e)},{default:c((()=>[(n(!0),V(E,null,P(p(re),((e,l)=>(n(),d(U,{key:l,value:e.value},{default:c((()=>[f(I(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1}),r(F,{class:"columns is-multiline mt-3"},{default:c((()=>[ka,u("div",wa,[r(p(ne),{modelValue:p(ue),"onUpdate:modelValue":s[26]||(s[26]=e=>L(ue)?ue.value=e:null),editor:p(Z),config:de},null,8,["modelValue","editor"])])])),_:1}),r(F,{class:"columns is-multiline mt-3"},{default:c((()=>[Na,u("div",ja,[Aa,r(i,{grouped:""},{default:c((()=>[r(t,null,{default:c((()=>[Ia])),_:1})])),_:1})])])),_:1})])):x("",!0),"activities"===p(ee)?(n(),V("div",Ea,[r(F,{class:"columns is-multiline"},{default:c((()=>[Pa,u("div",La,[r(T,{onClick:s[27]||(s[27]=e=>w.value=!p(w)),color:"info",class:"p-5",icon:"fas fa-plus",fullwidth:"",bold:""},{default:c((()=>[f(" Add New ")])),_:1})]),u("div",Ma,[r(T,{class:"p-5",color:"primary",icon:"fas fa-sign-in-alt",fullwidth:"",bold:""},{default:c((()=>[f(" Import existing one ")])),_:1})])])),_:1}),r(F,{class:"columns is-multiline mt-1"},{default:c((()=>[Da,Ha,Oa,Fa,u("div",Ta,[r(T,{onClick:s[28]||(s[28]=e=>D.value=!p(D)),color:"warning",icon:"lnir lnir-alarm"},{default:c((()=>[f(" Create Activity ")])),_:1}),r(T,{onClick:s[29]||(s[29]=e=>O.value=!p(O)),color:"success",class:"ml-2",icon:"fas fa-envelope"},{default:c((()=>[f(" Schedule Email ")])),_:1})]),Ra])),_:1}),p(D)?(n(),d(R,{key:0,mailSchedulerModal:p(D),"onUpdate:modalHandler":s[30]||(s[30]=e=>D.value=!1)},null,8,["mailSchedulerModal"])):x("",!0),p(O)?(n(),d(K,{key:1,mailSenderModal:p(O),"onUpdate:modalHandler":s[31]||(s[31]=e=>O.value=!1)},null,8,["mailSenderModal"])):x("",!0),p(w)?(n(),d(J,{key:2,"add-update-contact-modal":p(w),"onUpdate:modalHandler":s[32]||(s[32]=e=>w.value=!1)},null,8,["add-update-contact-modal"])):x("",!0)])):x("",!0),"proposals"===p(ee)?(n(),V("div",$a,[r(F,{class:"columns is-multiline"},{default:c((()=>[u("div",za,[r(Q,{leadId:p(ce).id?p(ce).id:g.leadId},null,8,["leadId"])])])),_:1})])):x("",!0)])])),action:c((()=>[r(T,{loading:1==p(k),type:"submit",color:g.leadId?"info":"primary",raised:""},{default:c((()=>[f(I(g.leadId?"Update":"Create"),1)])),_:1},8,["loading","color"]),r(T,{loading:3==p(k),onClick:s[33]||(s[33]=e=>pe(3)),color:"warning",raised:""},{default:c((()=>[f(I(g.leadId?"Update & Close":"Create & Close"),1)])),_:1},8,["loading"])])),_:1},8,["open"])}}});export{Ga as _};
