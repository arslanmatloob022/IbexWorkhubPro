import{_ as e,a,b as t,c as s,d as r,e as i,f as o}from"./sidebarOpen-b6b4c89a.js";import{a as n,b as l,_ as c,c as p,d}from"./UserProfileDropdown-c6cbb2fd.js";import{_ as u}from"./VPageContent-5e435d35.js";import{_ as f}from"./ToolbarNotification.vue_vue_type_script_setup_true_lang-c609ef73.js";import{_ as m}from"./VIconButton-5ae8520b.js";import{_ as g,a as y}from"./VCollapseLinks-6687e3b7.js";import{_ as h}from"./SearchPanel.vue_vue_type_style_index_0_lang-94c9c759.js";import{_}from"./VAvatar.vue_vue_type_style_index_0_lang-5b930e76.js";import{_ as v}from"./CircularMenu.vue_vue_type_style_index_0_lang-cc1e9880.js";import{e as k,t as b,N as x,r as w,F as j,G as C,Z as z,ar as V,o as L,w as P,br as D,M as A,av as I,y as S,z as B,C as M,A as $,B as O,l as U,H as q,P as N,I as F,D as K,j as R,a3 as T,O as W,J as H,Q as X,R as E,a0 as G,V as J,S as Q,K as Z,W as Y,X as ee,L as ae,a1 as te,ah as se}from"./index-07330caa.js";import{u as re}from"./panels-6d3cae8d.js";import{u as ie}from"./viewWrapper-46e3a198.js";import{u as oe}from"./company-5226ecf6.js";import{u as ne}from"./layoutSwitcher-e86c843b.js";import{u as le}from"./useAPI-8d821f52.js";import{u as ce}from"./userSession-1b4a14a8.js";import{b as pe}from"./route-block-83d24a4e.js";import"./VModal.vue_vue_type_style_index_0_lang-f21ecdbc.js";import"./VInput.vue_vue_type_script_setup_true_lang-e52eb4a0.js";import"./useVFieldContext-8e57795b.js";import"./VOption.vue_vue_type_style_index_0_lang-269d801e.js";import"./VSwitchBlock.vue_vue_type_style_index_0_lang-514a80c8.js";import"./VLabel.vue_vue_type_script_setup_true_lang-b1c1b59b.js";import"./VField.vue_vue_type_script_setup_true_lang-a4fe9822.js";import"./VControl-8e9bb568.js";import"./useNotyf-0268ce1e.js";import"./notyf-c5799020.js";import"./useThemeColors-cc886c05.js";import"./whatsapp-93d30726.js";import"./useSupportElement-44016fc7.js";import"./VProgress.vue_vue_type_style_index_0_lang-faba3091.js";import"./fastpizza-c3e9d994.js";import"./25-6f8405eb.js";import"./via-placeholder-24645670.js";import"./saudi-arabia-c8f7a528.js";import"./VDropdown.vue_vue_type_style_index_0_lang-f007bd32.js";import"./VIcon.vue_vue_type_script_setup_true_lang-2d817fc2.js";import"./useDropdown-4b5d64ec.js";import"./13-972b79d1.js";import"./video-e237f067.js";import"./sheet-50221dfe.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang-5589bf9a.js";import"./VBlock.vue_vue_type_style_index_0_lang-2dd6e6c2.js";import"./VIconBox.vue_vue_type_style_index_0_lang-954aa8db.js";import"./AnimatedLogo-3df60c34.js";import"./userPopovers-2b960611.js";const de=e=>(Y("data-v-e5135afa"),e=e(),ee(),e),ue={class:"sidebar-layout"},fe=["src"],me={key:0},ge=[de((()=>M("img",{style:{height:"26px",width:"24px",cursor:"pointer",float:"right"},src:s},null,-1)))],ye=de((()=>M("span",{class:"icon"},[M("i",{class:"iconify","data-icon":"feather:grid"})],-1))),he=[de((()=>M("i",{class:"iconify","data-icon":"feather:users"},null,-1)))],_e=de((()=>M("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1))),ve=de((()=>M("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1))),ke=de((()=>M("img",{src:r,style:{"border-radius":"8px",padding:"1px",height:"25px",width:"25px","background-color":"#f8f8f8"}},null,-1))),be={style:{"font-size":"10px","background-color":"transparent !important"},class:"ml-2"},xe=["src"],we={style:{"font-size":"10px","background-color":"transparent !important"},class:"ml-2"},je=de((()=>M("img",{src:i,style:{"border-radius":"8px",padding:"1px",height:"25px",width:"25px","background-color":"#f8f8f8"}},null,-1))),Ce={style:{"font-size":"10px","background-color":"transparent !important"},class:"ml-2"},ze=de((()=>M("span",{class:"icon"},[M("i",{class:"iconify","data-icon":"feather:user"})],-1))),Ve={class:"mb-6",style:{display:"flex","flex-direction":"column"}},Le={class:"is-flex cus-align-center mb-3"},Pe={class:"subtitle",style:{color:"white"}},De=de((()=>M("div",{class:"pb-3 arez-version"},[M("p",{style:{"font-weight":"500"}},"Powered by EarnFlex"),M("p",{style:{"font-weight":"500","font-size":"10px"}},"Version 1.04")],-1))),Ae={style:{width:"100%",height:"100%","margin-top":"60px",display:"flex",gap:"12px","flex-direction":"column","justify-content":"center","align-items":"center"}},Ie={style:{width:"100%",height:"auto",display:"flex","justify-content":"center","border-radius":"16px","align-items":"center"}},Se=["src"],Be=[de((()=>M("span",{class:"menu-toggle has-chevron"},[M("img",{style:{height:"22px",width:"20px",cursor:"pointer"},src:o})],-1)))],Me=de((()=>M("span",{class:"icon",id:"cus-spanLink"},[M("i",{class:"iconify","data-icon":"feather:grid"})],-1))),$e={class:"icon",id:"cus-spanLink"},Oe=de((()=>M("img",{src:r,style:{"border-radius":"8px",height:"25px",width:"25px","background-color":"#f8f8f8",padding:"1px"}},null,-1))),Ue=["src"],qe=de((()=>M("img",{src:i,style:{"border-radius":"8px",padding:"1px",height:"25px",width:"25px","background-color":"#f8f8f8"}},null,-1))),Ne=de((()=>M("span",{class:"icon",id:"cus-spanLink"},[M("i",{class:"iconify","data-icon":"feather:user","aria-hidden":"true"})],-1))),Fe={class:"page-title has-text-centered"},Ke={class:"vuero-hamburger nav-trigger push-resize",tabindex:"0",role:"button"},Re=[de((()=>M("span",null,[M("i",{style:{color:"var(--primary)","background-color":"transparent"},class:"lnir lnir-chevron-left","aria-hidden":"true"})],-1)))],Te={class:"title-wrap"},We={class:"title is-4"},He={class:"toolbar"},Xe=[de((()=>M("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:grid"},null,-1)))],Ee={class:"toolbar-link"},Ge=["checked"],Je=de((()=>M("span",null,null,-1))),Qe=ae(k({__name:"PartnerSidebar",props:{theme:{default:"default"},defaultSideblock:{default:"dashboard"},closeOnChange:{type:Boolean},openOnMounted:{type:Boolean},nowrap:{type:Boolean}},setup(s){const r=s,i=ce(),o=ne(),k=b(),Y=x(),ee=le(),ae=w({partnerLogo:""}),te=w(!1),se=ie(),pe=re(),de=w(""),Qe=w(!1),Ze=w(!0);w(r.defaultSideblock);const Ye=oe(),ea=j(),{locale:aa}=C(),ta=w({all:0,archived:0,industries:[]}),sa=w({all:0,archived:0,industries:[]}),ra=e=>{const a=ta.value.industries.find((a=>a.id===e));return a?a.count:0},ia=async()=>{try{const e=await ee.get(`/v3/api/company/${Ye.loggedCompany.id}/get_company_industry_workers_count/`);ta.value=e.data,console.log("counts",e.data)}catch(e){console.log(e)}},oa=async()=>{try{const e=await ee.get(`/v3/api/supplier/${Ye.loggedCompany.id}/industry_partners_count/`);sa.value=e.data,console.log("part counts",e.data)}catch(e){console.log(e)}},na=async()=>{try{const e=await ee.get(`/v3/api/supplier/${i.user.partner}/detail/`);ae.value=e.data,console.log("logoo",ae.value)}catch(e){console.log(e)}};z((()=>{switch(aa.value){case"fr":return"/images/icons/flags/france.svg";case"es":return"/images/icons/flags/spain.svg";case"es-MX":return"/images/icons/flags/mexico.svg";case"de":return"/images/icons/flags/germany.svg";case"zh-CN":return"/images/icons/flags/china.svg";case"ar":return"/images/icons/flags/saudi-arabia.svg";default:return"/images/icons/flags/united-states-of-america.svg"}})),V((()=>{se.setPushedBlock(Ze.value??!1)})),V((()=>{o.setDynamicLayoutId(ea.isDark?"sideblock-default":"sideblock-color")})),L((()=>{se.setPushed(!1)}));const la=z((()=>"/sidebar/partner"!==Y.path));return P((()=>Y.fullPath),((e,a)=>{Qe.value=!1,r.closeOnChange&&Ze.value})),D((async()=>{await ia(),await oa(),"partner"==i.user.role&&na()})),L((async()=>{await ia(),await oa(),"partner"==i.user.role&&na()})),(s,o)=>{const b=v,x=A("RouterLink"),w=g,j=_,C=e,z=n,V=l,L=h,P=y,D=a,ee=m,re=f,ie=c,oe=u,ne=p,le=d,ce=t,aa=I("tooltip");return S(),B(X,null,[M("div",ue,[$(b),$(G,{name:"slide-x"},{default:O((()=>[U(Ze)||U(Qe)?(S(),q(C,{key:0,theme:r.theme},{header:O((()=>[M("div",{onClick:o[1]||(o[1]=e=>U(k).push("/sidebar/company")),style:{width:"280px","margin-top":"20px","margin-left":"20px",height:"100%",overflow:"hidden"}},["partner"==U(i).user.role?(S(),B("img",{key:0,style:{width:"auto",height:"100%",display:"block",margin:"0","border-radius":"12px"},onClick:o[0]||(o[0]=e=>U(k).push("/sidebar/partner/profile")),src:U(ae)?U(ae).partnerLogo:"/images/logos/smallarezdarkversion.svg"},null,8,fe)):N("",!0)]),M("div",{onKeydown:o[2]||(o[2]=F(Z((e=>Ze.value=!U(Ze)),["prevent"]),["space"])),onClick:o[3]||(o[3]=e=>Ze.value=!U(Ze)),style:{width:"100%",display:"flex, align-items:right"}},[U(Ze)?(S(),B("span",me,ge)):N("",!0)],32)])),links:O((()=>[M("li",null,[$(x,{to:"/sidebar/partner/dashboard",class:"single-link"},{default:O((()=>[ye,K(" Dashboard ")])),_:1})]),$(w,{open:U(de),"onUpdate:open":o[4]||(o[4]=e=>R(de)?de.value=e:null),"collapse-id":"reports"},{header:O((()=>[M("div",{style:T({color:U(ea).isDark?"#585858":"#ffffff"}),class:"icon"},he,4),M("span",{style:T({color:U(ea).isDark?"#585858":""})}," Workers ",4),_e,ve])),default:O((()=>[$(x,{to:"/sidebar/partner/workers?type=All",class:W({"cus-active-link":"All"===U(Y).query.type}),style:{display:"flex",gap:"10px","font-family":"var(--font)","background-color":"transparent !important","align-items":"center",padding:"0 2rem 0 3.5rem","font-size":"0.9rem","font-weight":"400"}},{default:O((()=>[ke,M("span",{class:"icon-iconify",style:T([{display:"flex","font-weight":"400","font-family":"var(--font)","align-items":"center","background-color":"transparent !important","font-size":"0.9rem"},{color:U(ea).isDark?"#585858":"#f1f1f1"}])},[K("All "),M("span",be," ("+H(U(ta).all)+")",1)],4)])),_:1},8,["class"]),(S(!0),B(X,null,E(U(Ye).loggedCompany.industry,((e,a)=>(S(),q(x,{key:a,to:`/sidebar/partner/workers?type=${e.name}`,class:W({"cus-active-link":e.name===U(Y).query.type}),style:{display:"flex","font-family":"var(--font)","align-items":"center",padding:"0 2rem 0 3.5rem","background-color":"transparent !important","font-size":"0.9rem","font-weight":"400"}},{default:O((()=>[M("img",{src:e.industryLogo,style:{height:"25px",width:"25px","border-radius":"8px","background-color":"#f8f8f8","margin-inline-end":"10px"}},null,8,xe),M("span",{style:T([{"background-color":"transparent !important"},{color:U(ea).isDark?"#585858":"#fff"}])},[K(H(e.name)+" ",1),M("span",we," ("+H(ra(e.id))+") ",1)],4)])),_:2},1032,["to","class"])))),128)),$(x,{to:"/sidebar/partner/workers?archive=true",class:W({"cus-active-link":"true"===U(Y).query.archive}),style:{display:"flex",gap:"10px","font-family":"var(--font)","align-items":"center",padding:"0 2rem 0 3.5rem","background-color":"transparent !important","font-size":"0.9rem","font-weight":"400"}},{default:O((()=>[je,M("span",{style:T([{"font-size":"0.9rem","font-weight":"400","background-color":"transparent !important"},{color:U(ea).isDark?"#585858":"#fff"}])},[K("Archived "),M("span",Ce,"("+H(U(ta).archived)+")",1)],4)])),_:1},8,["class"])])),_:1},8,["open"]),M("li",null,[$(x,{to:"/sidebar/partner/profile",class:"single-link"},{default:O((()=>[ze,K(" Profile ")])),_:1})])])),"bottom-links":O((()=>[M("div",Ve,[M("div",Le,[$(j,{picture:U(Ye).loggedCompany.compnayLogo,size:"small"},null,8,["picture"]),M("h1",Pe,H(U(Ye).loggedCompany.companyName),1)]),De])])),_:1},8,["theme"])):(S(),q(C,{key:1,style:{width:"100px"},theme:r.theme},{header:O((()=>[M("div",Ae,[M("div",Ie,["partner"==U(i).user.role?(S(),B("img",{key:0,style:{width:"auto",height:"100%",display:"block",margin:"0","border-radius":"12px"},onClick:o[5]||(o[5]=e=>U(k).push("/sidebar/partner/profile")),src:U(ae)?U(ae).partnerLogo:"/images/logos/smallarezdarkversion.svg"},null,8,Se)):N("",!0)]),M("div",{onKeydown:o[6]||(o[6]=F(Z((e=>Ze.value=!U(Ze)),["prevent"]),["space"])),onClick:o[7]||(o[7]=e=>Ze.value=!U(Ze)),style:{"margin-top":"16px",display:"flex, justify-content:center","align-items":"center"}},Be,32)])])),links:O((()=>[M("li",null,[$(x,{id:"cus-routerLinks",to:"/sidebar/partner/dashboard",class:"single-link"},{default:O((()=>[Me])),_:1})]),M("li",null,[$(w,{open:U(de),"onUpdate:open":o[8]||(o[8]=e=>R(de)?de.value=e:null),"collapse-id":"reports"},{header:O((()=>[M("span",$e,[M("i",{class:"iconify",style:T([{margin:"0","margin-right":"4px"},{color:U(ea).isDark?"#585858":"whitesmoke"}]),"data-icon":"feather:users"},null,4)])])),default:O((()=>[$(x,{to:"/sidebar/partner/workers?type=All",class:W({"cus-active-link":"All"===U(Y).query.type}),style:{display:"flex","flex-direction":"column","font-family":"var(--font)","justify-content":"center","background-color":"transparent !important","align-items":"center","font-size":"0.9rem","font-weight":"400"}},{default:O((()=>[Oe])),_:1},8,["class"]),(S(!0),B(X,null,E(U(Ye).loggedCompany.industry,((e,a)=>(S(),q(x,{key:a,to:`/sidebar/partner/workers?type=${e.name}`,class:W({"cus-active-link":e.name===U(Y).query.type}),style:{display:"flex","flex-direction":"column","font-family":"var(--font)","background-color":"transparent !important","align-items":"center","font-size":"0.9rem","font-weight":"400"}},{default:O((()=>[M("img",{src:e.industryLogo,style:{"border-radius":"8px",height:"25px",width:"25px","background-color":"#f8f8f8",padding:"1px"}},null,8,Ue)])),_:2},1032,["to","class"])))),128)),$(x,{to:"/sidebar/partner/workers?archive=true",class:W({"cus-active-link":"true"===U(Y).query.archive}),style:{padding:"0","background-color":"transparent !important",display:"flex","flex-direction":"column","font-family":"var(--font)","align-items":"center","font-size":"0.9rem","font-weight":"400"}},{default:O((()=>[qe])),_:1},8,["class"])])),_:1},8,["open"])]),M("li",null,[$(x,{to:"/sidebar/partner/profile",class:"single-link"},{default:O((()=>[Ne])),_:1})])])),"bottom-links":O((()=>[$(j,{picture:U(Ye).loggedCompany.compnayLogo,size:"small"},null,8,["picture"])])),_:1},8,["theme"]))])),_:1}),$(z),$(V),$(L),$(P),$(le,{class:"mt-2",full:U(Ze)},{default:O((()=>[$(ne,null,{default:O((()=>[r.nowrap?J(s.$slots,"default",{key:0},void 0,!0):(S(),q(oe,{key:1,class:"is-relative"},{default:O((()=>[M("div",Fe,[M("div",Ke,[U(la)?(S(),B("span",{key:0,onClick:o[9]||(o[9]=()=>{U(k).go(-1)}),class:"menu-toggle has-chevron"},Re)):N("",!0)]),M("div",Te,[M("h1",We,H(U(se).pageTitle),1)]),M("div",He,[$(D),Q($(ee,{color:"info",light:"",raised:"",onClick:o[10]||(o[10]=e=>te.value=!0),circle:"",icon:"fas fa-link",label:"Rounded"},null,512),[[aa,"Invitation link",void 0,{bottom:!0,left:!0,rounded:!0,info:!0}]]),$(re),M("a",{class:"toolbar-link right-panel-trigger","aria-label":"View activity panel",tabindex:"0",role:"button",onKeydown:o[11]||(o[11]=F(Z((e=>U(pe).setActive("activity")),["prevent"]),["space"])),onClick:o[12]||(o[12]=e=>U(pe).setActive("activity"))},Xe,32),M("div",Ee,[M("label",{tabindex:"0",class:"dark-mode",role:"button",onKeydown:o[14]||(o[14]=F(Z((e=>e.target.click()),["prevent"]),["space"]))},[M("input",{"data-cy":"dark-mode-toggle",type:"checkbox",checked:!U(ea).isDark,onChange:o[13]||(o[13]=(...e)=>U(ea).onChange&&U(ea).onChange(...e))},null,40,Ge),Je],32)]),$(ie)])]),J(s.$slots,"default",{},void 0,!0)])),_:3}))])),_:3})])),_:3},8,["full"])]),U(te)?(S(),q(ce,{key:0,invitationModal:U(te),"onUpdate:modalHandler":o[15]||(o[15]=e=>te.value=e)},null,8,["invitationModal"])):N("",!0)],64)}}}),[["__scopeId","data-v-e5135afa"]]),Ze=k({__name:"partner",setup(e){const a=ne();return(e,t)=>{const s=A("RouterView"),r=Qe;return S(),q(r,se(U(a).dynamicLayoutProps,{"close-on-change":"","default-sidebar":"layout"}),{default:O((()=>[$(s,null,{default:O((({Component:e})=>[$(G,{name:"fade-fast",mode:"out-in"},{default:O((()=>[(S(),q(te(e)))])),_:2},1024)])),_:1})])),_:1},16)}}});"function"==typeof pe&&pe(Ze);export{Ze as default};
