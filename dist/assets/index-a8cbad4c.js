import{_ as e}from"./AddUpdateUser.vue_vue_type_script_setup_true_lang-7d93cd2b.js";import{_ as s}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-3ecffda5.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-9a36d6a0.js";import{_ as t}from"./VIcon.vue_vue_type_script_setup_true_lang-2759a2a7.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-46f6a9d7.js";import{e as i,t as n,r as o,Z as r,o as u,M as c,y as d,z as _,l as p,H as v,C as m,A as y,B as f,S as g,T as h,j as b,O as k,Q as j,R as x,aR as V,P as C,E as P,J as w,v as M}from"./index-57283339.js";import{_ as U}from"./VField.vue_vue_type_script_setup_true_lang-a5be644c.js";import{_ as A}from"./VControl-f243fcbb.js";import{_ as I}from"./PlaceloadV3.vue_vue_type_style_index_0_lang-61b9a623.js";import{_ as E,a as S}from"./search-4-dark-2b5b440c.js";import{u as R}from"./useAPI-3d1b2833.js";import{u as T}from"./viewWrapper-4b9321e5.js";import{b as z}from"./route-block-83d24a4e.js";import"./VModal.vue_vue_type_style_index_0_lang-885acfb1.js";import"./VRadio.vue_vue_type_style_index_0_lang-e17725d3.js";import"./VLabel.vue_vue_type_script_setup_true_lang-e37ada5c.js";import"./useVFieldContext-f1f52f20.js";import"./VSwitchBlock.vue_vue_type_style_index_0_lang-01748119.js";import"./VFilePond.vue_vue_type_script_lang-72587b4a.js";import"./VInput.vue_vue_type_script_setup_true_lang-bb0429cf.js";import"./useNotyf-989627b5.js";import"./notyf-47ab21bb.js";import"./useThemeColors-73dd3c67.js";import"./useSupportElement-321a3cde.js";import"./userSession-a3dc25ef.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-3884eeac.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-7ef5a43c.js";const B={key:1},H={class:"user-grid-toolbar"},O={class:"buttons"},F=m("span",{class:"icon"},[m("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),L=m("span",null,"Client",-1),N={class:"user-grid user-grid-v2"},W=m("img",{class:"light-image",src:E,alt:""},null,-1),D=m("img",{class:"dark-image",src:S,alt:""},null,-1),Q={class:"grid-item-wrap"},$={class:"grid-item-head"},G={class:"flex-head"},J={class:"meta"},X={key:0,class:"dark-inverted"},Z={key:1,class:"dark-inverted"},q={key:0,class:"status-icon is-success"},K=[m("i",{"aria-hidden":"true",class:"fas fa-check"},null,-1)],Y={key:1,class:"status-icon is-warning"},ee=[m("i",{"aria-hidden":"true",class:"fas fa-exclamation"},null,-1)],se={class:"buttons"},ae={class:"button v-button is-dark-outlined"},te={class:"icon"},le={key:0,"aria-hidden":"true",class:"iconify","data-icon":"feather:check-circle"},ie=m("span",null,"Email",-1),ne=["onClick"],oe={class:"icon"},re=m("span",null,"Password",-1),ue={class:"grid-item"},ce={class:"dark-inverted"},de={style:{"text-transform":"capitalize"}},_e=m("div",{class:"people"},null,-1),pe={class:"buttons"},ve=["onClick"],me=[m("span",{class:"icon"},[m("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:user"})],-1),m("span",null,"Profile",-1)],ye=["onClick"],fe=[m("span",{class:"icon"},[m("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:pen-tool"})],-1),m("span",null,"Edit",-1)],ge=i({__name:"ClientsList",setup(i){const M=n(),E=R(),S=o(!1),T=o(!1),z=o(!1),ge=o(""),he=o(""),be=o([]),ke=async()=>{try{S.value=!0;const e=await E.get("/api/users/by-role/client/");be.value=e.data}catch(e){console.error(e)}finally{S.value=!1}},je=r((()=>he.value?be.value.filter((e=>e.username.match(new RegExp(he.value,"i"))||e.email.match(new RegExp(he.value,"i")))):be.value)),xe=(e="")=>{ge.value=e,T.value=!T.value},Ve=o(0),Ce=["All","UI/UX Design","Web Development","Software Eng.","Business"];return u((()=>{ke()})),(i,n)=>{const o=I,r=A,u=c("Multiselect"),E=U,R=P,be=l,Pe=t,we=a,Me=s,Ue=e;return d(),_(j,null,[p(S)?(d(),v(o,{key:0})):(d(),_("div",B,[m("div",H,[y(r,{icon:"feather:search"},{default:f((()=>[g(m("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>b(he)?he.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[h,p(he)]])])),_:1}),m("div",O,[y(E,{class:"h-hidden-mobile"},{default:f((()=>[y(r,null,{default:f((()=>[y(u,{modelValue:p(Ve),"onUpdate:modelValue":n[1]||(n[1]=e=>b(Ve)?Ve.value=e:null),options:Ce,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),y(R,{onClick:n[2]||(n[2]=e=>xe()),color:"primary",raised:""},{default:f((()=>[F,L])),_:1})])]),m("div",N,[y(be,{class:k([0!==p(je).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:f((()=>[W,D])),_:1},8,["class"]),y(V,{name:"list",tag:"div",class:"columns is-multiline"},{default:f((()=>[(d(!0),_(j,null,x(p(je),(e=>(d(),_("div",{key:e.id,class:"column is-3"},[m("div",Q,[m("div",$,[m("div",G,[m("div",J,[e.is_active?(d(),_("span",X," Active ")):(d(),_("span",Z," In-Active ")),m("span",null,w(e.is_sentMail?"Mail notify on":"Mail notify off"),1)]),e.is_active?(d(),_("div",q,K)):C("",!0),e.is_active?C("",!0):(d(),_("div",Y,ee))]),m("div",se,[m("button",ae,[m("span",te,[e.is_sentMail?(d(),_("i",le)):(d(),v(Pe,{key:1,icon:"lucide:alert-octagon"}))]),ie]),m("button",{onClick:s=>((e="")=>{ge.value=e,z.value=!z.value})(e.id),class:"button v-button is-dark-outlined"},[m("span",oe,[y(Pe,{icon:"lucide:lock"})]),re],8,ne)])]),m("div",ue,[y(we,{picture:e.avatar,badge:e.badge,size:"big"},null,8,["picture","badge"]),m("h3",ce,w(e.username),1),m("p",de,w(e.role),1),_e,m("div",pe,[m("button",{onClick:s=>((e="")=>{M.push(`/sidebar/dashboard/clients/${e}`)})(e.id),class:"button v-button is-dark-outlined"},me,8,ve),m("button",{onClick:s=>xe(e.id),class:"button v-button is-dark-outlined"},fe,8,ye)])])])])))),128))])),_:1})])])),p(z)?(d(),v(Me,{key:2,isModalOpen:p(z),userId:p(ge),"onUpdate:closeModalHandler":n[3]||(n[3]=e=>z.value=!1)},null,8,["isModalOpen","userId"])):C("",!0),p(T)?(d(),v(Ue,{key:3,"is-modal-open":p(T),"user-role":"client","user-id":p(ge),"onUpdate:closeModalHandler":n[4]||(n[4]=e=>T.value=!1),"onUpdate:actionUpdateHandler":ke},null,8,["is-modal-open","user-id"])):C("",!0)],64)}}}),he={class:"page-content-inner"},be=i({__name:"index",setup:e=>(T().setPageTitle("Clients Ibex"),M({title:"Clients - Ibex"}),(e,s)=>{const a=ge;return d(),_("div",he,[y(a)])})});"function"==typeof z&&z(be);export{be as default};
