import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-34087dcf.js";import{e as l,s as a,r as t,o as s,B as i,N as n,F as o,D as u,E as d,K as c,l as r,W as m,J as p,I as v,a4 as f,O as _,b as y,_ as b,A as g,C as h,ab as V,aE as x,M as C,a0 as k,aF as j,w,j as S,T as U,H as A,G as T,U as M,V as I,v as N,Z as L,aR as P,ak as O,z as H}from"./index-db185d34.js";import{_ as D}from"./VModal.vue_vue_type_style_index_0_lang-9aa73e83.js";import{_ as E}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-fff74d94.js";import{_ as R}from"./VControl-95c16a72.js";import{_ as F}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-314e2afa.js";import{u as z,a as W}from"./useAPI-eab0cf3d.js";import{u as $}from"./useNotyf-e3489deb.js";import{a as J,e as Z,g as q}from"./useSupportElement-10fe9bfb.js";import{u as B}from"./userSession-45ed061c.js";import{_ as G}from"./VField.vue_vue_type_script_setup_true_lang-1cde99e1.js";import{_ as K,a as Y}from"./VOption.vue_vue_type_style_index_0_lang-8ab7eeb4.js";import{_ as Q}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-f7a333ed.js";import{_ as X,c as ee}from"./VFlexTable.vue_vue_type_style_index_0_lang-d895449f.js";import{_ as le}from"./VDropdown.vue_vue_type_style_index_0_lang-0b14654e.js";import{_ as ae}from"./VTag.vue_vue_type_style_index_0_lang-86088bcf.js";import{_ as te}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-230dcf02.js";import{_ as se}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-0ae87b03.js";import{_ as ie,a as ne}from"./search-4-dark-2b5b440c.js";import{u as oe}from"./viewWrapper-2c359079.js";import{b as ue}from"./route-block-83d24a4e.js";import"./WorksheetItems.vue_vue_type_script_setup_true_lang-b352b2f7.js";import"./VInput.vue_vue_type_script_setup_true_lang-0c34efaa.js";import"./useVFieldContext-81a4b75d.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-6d90c7dc.js";import"./VAvatar.vue_vue_type_style_index_0_lang-bb963bf6.js";import"./VCheckbox.vue_vue_type_style_index_0_lang-c05a68a4.js";import"./VLabel.vue_vue_type_script_setup_true_lang-12e5b47f.js";import"./VRadio.vue_vue_type_style_index_0_lang-dd21f75d.js";import"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-626874f3.js";import"./VCollapse.vue_vue_type_style_index_0_lang-e646373a.js";import"./VIcon.vue_vue_type_script_setup_true_lang-5216b69b.js";import"./notyf-c46a7c68.js";import"./useThemeColors-c5381958.js";import"./VFlex.vue_vue_type_style_index_0_lang-fdc0c1e2.js";import"./useDropdown-826e1c09.js";import"./VPlaceloadWrap-2f591d51.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-077526bd.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-7f0a3c08.js";const de={class:"modal-form columns is-multiline"},ce={class:"column is-12 m-0"},re=u("div",{class:"column is-12"},[u("h3",{class:"title is-6 mb-2"},"Contact Information")],-1),me={class:"field column is-6 mb-0"},pe=u("label",null,"First Name *",-1),ve={class:"control"},fe={class:"field column is-6 mb-0"},_e=u("label",null,"Last Name ",-1),ye={class:"control"},be={class:"field column is-6 mb-0"},ge=u("label",null,"Display Name * ",-1),he={class:"control"},Ve={class:"field column is-6 mb-0"},xe=u("label",null,"Primary Email ",-1),Ce={class:"control"},ke={class:"field column is-12 mb-0"},je=u("label",null,"Street Address ",-1),we={class:"control"},Se={class:"field column is-6 mb-0"},Ue=u("label",null,"City: ",-1),Ae={class:"control"},Te={class:"field column is-3 mb-0"},Me=u("label",null,"State: ",-1),Ie={class:"control"},Ne={class:"field column is-3 mb-0"},Le=u("label",null,"Zip Code: ",-1),Pe={class:"control"},Oe={class:"field column is-6 mb-0"},He=u("label",null,"Phone ",-1),De={class:"control"},Ee={class:"field column is-6 mb-0"},Re=u("label",null,"Cell Phone ",-1),Fe={class:"control"},ze=u("div",{class:"column is-12"},[u("h3",{class:"title is-6 mb-2"},"Security & Login")],-1),We={class:"field column is-3 mb-0"},$e={class:"field column is-3 mb-0"},Je=l({__name:"AddUpdateContactModal",props:{addUpdateContactModal:{type:Boolean},userId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const y=e;a(),B();const b=$(),g=z(),h=t(!1),V=t({}),x=t({firstName:"",lastName:"",displayName:"",address:"",city:"",state:"",zipCode:"",phone:"",cellPhone:"",email:"",latitude:"",longitude:"",loginAllowed:!1,inviteLogin:!1}),C=async()=>{try{h.value=!0;const e=J(V.value,["profileImageURL"]);await g.post("/v3/api/worker/",e);k(),b.dismissAll(),b.success("New worker added, New Worker")}catch(e){b.error(` ${e}, New Worker`)}finally{h.value=!1}},k=()=>{l("update:modalHandler",!1)},j=async()=>{try{const e=await W.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${V.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);"OK"===e.data.status?(x.value.address=e.data.results[0].formatted_address,x.value.latitude=e.data.results[0].geometry.location.lat,x.value.longitude=e.data.results[0].geometry.location.lng,b.success("Address Added")):"ZERO_RESULTS"===e.data.status&&b.error("Invalid Post-Code")}catch(e){b.error("Invalid Post-Code"),console.error(e)}};return s((()=>{})),(e,l)=>{const a=f,t=F,s=R,b=_,g=D;return i(),n(g,{is:"form",open:y.addUpdateContactModal,title:"Contact Person",size:"big",actions:"right",onSubmit:v(C,["prevent"]),onClose:k},{content:o((()=>[u("div",de,[u("div",ce,[d(a,{class:"columns is-multiline"},{default:o((()=>[re,u("div",me,[pe,u("div",ve,[c(u("input",{type:"text",name:"firstName","onUpdate:modelValue":l[0]||(l[0]=e=>r(x).firstName=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"First Name"},null,512),[[m,r(x).firstName]])])]),u("div",fe,[_e,u("div",ye,[c(u("input",{type:"text",name:"lastName","onUpdate:modelValue":l[1]||(l[1]=e=>r(x).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Last Name"},null,512),[[m,r(x).lastName]])])]),u("div",be,[ge,u("div",he,[c(u("input",{required:"",type:"text",name:"disName","onUpdate:modelValue":l[2]||(l[2]=e=>r(x).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Display Name"},null,512),[[m,r(x).lastName]])])]),u("div",Ve,[xe,u("div",Ce,[c(u("input",{type:"email",name:"email","onUpdate:modelValue":l[3]||(l[3]=e=>r(x).email=e),class:"input is-primary-focus is-primary-focus",placeholder:"Contact email"},null,512),[[m,r(x).email]])])]),u("div",ke,[je,u("div",we,[c(u("input",{required:"",type:"text",name:"address","onUpdate:modelValue":l[4]||(l[4]=e=>r(x).lastName=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[m,r(x).lastName]])])]),u("div",Se,[Ue,u("div",Ae,[c(u("input",{type:"text",name:"city","onUpdate:modelValue":l[5]||(l[5]=e=>r(x).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[m,r(x).city]])])]),u("div",Te,[Me,u("div",Ie,[c(u("input",{type:"text",name:"state","onUpdate:modelValue":l[6]||(l[6]=e=>r(x).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[m,r(x).state]])])]),u("div",Ne,[Le,u("div",Pe,[c(u("input",{type:"tel",name:"zipCode",onBlur:j,"onUpdate:modelValue":l[7]||(l[7]=e=>r(x).zipCode=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip code"},null,544),[[m,r(x).zipCode]])])]),u("div",Oe,[He,u("div",De,[c(u("input",{type:"tel",name:"phone","onUpdate:modelValue":l[8]||(l[8]=e=>r(x).phone=e),class:"input is-primary-focus is-primary-focus",placeholder:"Phone Number"},null,512),[[m,r(x).phone]])])]),u("div",Ee,[Re,u("div",Fe,[c(u("input",{type:"tel",name:"phone","onUpdate:modelValue":l[9]||(l[9]=e=>r(x).cellPhone=e),class:"input is-primary-focus is-primary-focus",placeholder:"Cell Phone"},null,512),[[m,r(x).cellPhone]])])])])),_:1}),d(a,{class:"columns is-multiline mt-3"},{default:o((()=>[ze,u("div",We,[d(s,{subcontrol:""},{default:o((()=>[d(t,{thin:"",color:"primary",modelValue:r(x).loginAllowed,"onUpdate:modelValue":l[10]||(l[10]=e=>r(x).loginAllowed=e),label:"Allow login"},null,8,["modelValue"])])),_:1})]),u("div",$e,[d(s,{subcontrol:""},{default:o((()=>[d(t,{thin:"",color:"primary",modelValue:r(x).inviteLogin,"onUpdate:modelValue":l[11]||(l[11]=e=>r(x).inviteLogin=e),label:"Send invite"},null,8,["modelValue"])])),_:1})])])),_:1})])])])),action:o((()=>[d(b,{loading:r(h),type:"submit",color:"primary",icon:"fas fa-plus",raised:""},{default:o((()=>[p("Add Contact")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),Ze={class:"modal-form columns is-multiline"},qe={class:"field column is-full"},Be=u("label",{class:"label"},"Schedule Mail ",-1),Ge=["value"],Ke={class:"column is-full"},Ye={class:"field"},Qe=u("label",{class:"label"},"To ",-1),Xe={class:"control"},el={class:"column is-full"},ll={class:"field"},al=u("label",{class:"label"},"Subject ",-1),tl={class:"control"},sl={class:"field column is-full mt-5"},il=u("label",{class:"label"},null,-1),nl=u("i",{class:"feather:mail"},null,-1),ol=l({__name:"GenericEmailSender",props:{mailSenderModal:{type:Boolean},subject:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const f=e,w=z(),S=t(!1),U=$(),A=t(!1),T=t(""),M=a(),I=()=>{l("update:modalHandler",!1)};T.value="<b> Hi  <br />\nIbex Management <br />\n</b>";const N=t({scheduleAt:"",sendToGroup:[],sendTo:"",subject:"",message:"<b>Hi  <br />\n  Here you can enter your message that you want to deliver your recipient.\n\n  <br />\n  <br />\n  Best Regards:\n  <br />\n\nIbex Team <br />\n</b>"}),L=async()=>{try{A.value=!0;await w.post("",{sendTo:N.value.sendTo,subject:N.value.subject,message:N.value.message,scheduleAt:N.value.scheduleAt});U.success("Email sent to worker successfully"),I()}catch(e){console.log(e)}finally{A.value=!1}},P=y((()=>b((()=>import("./ckeditor-85b8cefa.js").then((e=>e.c))),["assets/ckeditor-85b8cefa.js","assets/index-db185d34.js","assets/index-1c8d8af6.css","assets/vue.runtime.esm-bundler-34333244.js"]).then((e=>e.default.component)))),O={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return s((async()=>{M.value=await b((()=>import("./ckeditor-bb6fde3e.js").then((e=>e.c))),["assets/ckeditor-bb6fde3e.js","assets/index-db185d34.js","assets/index-1c8d8af6.css"]).then((e=>e.default))})),(e,l)=>{const a=R,t=G,s=g("VDatePicker"),y=j,b=_,w=D;return i(),h("div",null,[d(k,{name:"fade-slow"},{default:o((()=>[d(w,{is:"form",open:f.mailSenderModal,title:"Schedule Email",size:"large",actions:"right",onSubmit:v(L,["prevent"]),onClose:I},{content:o((()=>[u("div",Ze,[u("div",qe,[Be,d(y,null,{default:o((()=>[d(s,{modelValue:r(N).scheduleAt,"onUpdate:modelValue":l[0]||(l[0]=e=>r(N).scheduleAt=e),mode:"dateTime"},{default:o((({inputValue:e,inputEvents:l})=>[d(t,null,{default:o((()=>[d(a,{icon:"lucide:calendar"},{default:o((()=>[u("input",V({class:"input v-input",type:"text",value:e},x(l,!0)),null,16,Ge)])),_:2},1024)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})]),u("div",Ke,[u("div",Ye,[Qe,u("div",Xe,[c(u("input",{type:"email",required:"",class:"input",placeholder:"Enter Mail","onUpdate:modelValue":l[1]||(l[1]=e=>r(N).sendTo=e)},null,512),[[m,r(N).sendTo]])])])]),u("div",el,[u("div",ll,[al,u("div",tl,[c(u("input",{type:"text",required:"",class:"input",placeholder:"Enter mail subject","onUpdate:modelValue":l[2]||(l[2]=e=>r(N).subject=e)},null,512),[[m,r(N).subject]])])])]),u("div",sl,[il,r(M)?(i(),n(r(P),{key:0,modelValue:r(N).message,"onUpdate:modelValue":l[3]||(l[3]=e=>r(N).message=e),editor:r(M),config:O},null,8,["modelValue","editor"])):C("",!0)])])])),action:o((()=>[d(b,{onClick:L,color:"primary",loading:r(S),raised:""},{default:o((()=>[nl,p(" Schedule Mail")])),_:1},8,["loading"])])),cancel:o((()=>[d(b,{color:"light",onClick:I,raised:""},{default:o((()=>[p("Close ")])),_:1})])),_:1},8,["open","onSubmit"])])),_:1})])}}}),ul={class:"multiselect-single-label"},dl=["src"],cl={class:"select-label-text"},rl=["src"],ml={class:"select-label-text"},pl=l({__name:"ManagersDropDown",props:{selectedManager:{}},emits:["update:modalHandler","update:OnSelectManager"],setup(e,{emit:l}){const a=e,n=z();B();const c=t(!1),m=t(""),p=t([{value:"",name:"",icon:""}]);w(m,((e,a)=>{l("update:OnSelectManager",m.value)}));return s((()=>{(async()=>{try{c.value=!0;const e=await n.get("/api/users/by-role/manager/",{});p.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar}))),m.value=a.selectedManager}catch(e){console.log(e)}finally{c.value=!1}})()})),(e,l)=>{const a=g("Multiselect"),t=R,s=G;return i(),h("div",null,[d(s,{class:"is-image-select",label:"Manager"},{default:o((({id:e})=>[d(t,null,{default:o((()=>[d(a,{modelValue:r(m),"onUpdate:modelValue":l[0]||(l[0]=e=>S(m)?m.value=e:null),attrs:{id:e},placeholder:"Select a manager",label:"name",options:r(p)},{singlelabel:o((({value:e})=>[u("div",ul,[u("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,dl),u("span",cl,U(e.name),1)])])),option:o((({option:e})=>[u("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,rl),u("span",ml,U(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])}}}),vl={class:"modal-form columns is-multiline"},fl={class:"column is-12"},_l=u("div",{class:"column is-12"},[u("h3",{class:"title is-6 mb-2"},"Activity Information")],-1),yl={class:"field column is-6 mb-0"},bl=u("label",null,"Activity Type *",-1),gl={class:"control"},hl={class:"field column is-6 mb-0"},Vl=u("label",null,"Color ",-1),xl={class:"control"},Cl={class:"field column is-6 mb-0"},kl=u("label",null,"Activity Date * ",-1),jl={class:"control"},wl={class:"field column is-6 mb-0"},Sl=u("label",null,"Reminder: ",-1),Ul={class:"field column is-6 mb-0"},Al=u("label",null,"Start Time ",-1),Tl={class:"control"},Ml={class:"field column is-6 mb-0"},Il=u("label",null,"End Time ",-1),Nl={class:"control"},Ll={class:"field column is-12 mb-0"},Pl=u("label",null,"Assigned User * ",-1),Ol={class:"multiselect-tag is-user"},Hl=["src"],Dl=["onMousedown"],El={class:"field column is-12 mb-0"},Rl=u("label",null,"Attendees: ",-1),Fl={class:"control"},zl=u("div",{class:"column is-12"},[u("h3",{class:"title is-6 mb-2"},"Location")],-1),Wl={class:"field column is-12 mb-0"},$l=u("label",null,"Street Address",-1),Jl={class:"control"},Zl={class:"field column is-4 mb-0"},ql=u("label",null,"City ",-1),Bl={class:"control"},Gl={class:"field column is-4 mb-0"},Kl=u("label",null,"State ",-1),Yl={class:"control"},Ql={class:"field column is-4 mb-0"},Xl=u("label",null,"Zip Code ",-1),ea={class:"control"},la={class:"field column is-12 mb-0"},aa=u("label",null,"Description ",-1),ta={class:"control"},sa=l({__name:"LeadActivityModal",props:{addUpdateContactModal:{type:Boolean},userId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const y=e;a(),B();const b=$(),V=z(),x=t(!1),k=t({});t("general");const j=t([]),w=[{value:"alice",name:"Alice Carasca",image:"https://media.cssninja.io/content/avatars/7.jpg"},{value:"erik",name:"Erik Kovalsky",image:"/images/avatars/svg/vuero-1.svg"},{value:"melany",name:"melany Wallace",image:"https://media.cssninja.io/content/avatars/25.jpg"},{value:"tara",name:"Tara Svenson",image:"https://media.cssninja.io/content/avatars/13.jpg"},{value:"mary",name:"Mary Lebowski",image:"https://media.cssninja.io/content/avatars/5.jpg"},{value:"irina",name:"Irina Vierbovsky",image:"https://media.cssninja.io/content/avatars/23.jpg"},{value:"jonathan",name:"Jonathan Krugger",image:"https://media.cssninja.io/content/avatars/32.jpg"}],A=t({type:"",color:"",status:"",activityDate:"",startTime:"",endTime:"",reminder:"",assignedUser:"",attendees:[],initiatedBy:"",address:"",city:"",state:"",zipCode:"",description:""}),T=async()=>{try{x.value=!0;const e=J(k.value,["profileImageURL"]);await V.post("/v3/api/worker/",e);M(),b.dismissAll(),b.success("New worker added, New Worker")}catch(e){b.error(` ${e}, New Worker`)}finally{x.value=!1}},M=()=>{l("update:modalHandler",!1)};return s((()=>{})),(e,l)=>{const a=K,t=Y,s=R,b=G,V=g("Multiselect"),k=f,I=_,N=D;return i(),n(N,{is:"form",open:y.addUpdateContactModal,title:"Lead Activity",size:"large",actions:"right",onSubmit:v(T,["prevent"]),onClose:M},{content:o((()=>[u("div",vl,[u("div",fl,[d(k,{class:"columns is-multiline"},{default:o((()=>[_l,u("div",yl,[bl,u("div",gl,[c(u("input",{type:"text",name:"firstName","onUpdate:modelValue":l[0]||(l[0]=e=>r(A).type=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[m,r(A).type]])])]),u("div",hl,[Vl,u("div",xl,[c(u("input",{type:"text",name:"color","onUpdate:modelValue":l[1]||(l[1]=e=>r(A).color=e),class:"input is-primary-focus is-primary-focus",placeholder:"Color"},null,512),[[m,r(A).color]])])]),u("div",Cl,[kl,u("div",jl,[c(u("input",{required:"",type:"date",name:"date","onUpdate:modelValue":l[2]||(l[2]=e=>r(A).activityDate=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Date"},null,512),[[m,r(A).activityDate]])])]),u("div",wl,[Sl,d(b,null,{default:o((()=>[d(s,null,{default:o((()=>[d(t,{modelValue:r(A).reminder,"onUpdate:modelValue":l[3]||(l[3]=e=>r(A).reminder=e)},{default:o((()=>[d(a,{value:""},{default:o((()=>[p(" Select a time ")])),_:1}),d(a,{value:"1"},{default:o((()=>[p(" 1 Hrs ")])),_:1}),d(a,{value:"2"},{default:o((()=>[p(" 2 Hrs ")])),_:1}),d(a,{value:"4"},{default:o((()=>[p(" 4 Hrs ")])),_:1}),d(a,{value:"6"},{default:o((()=>[p(" 6 Hrs ")])),_:1}),d(a,{value:"8"},{default:o((()=>[p(" 8 Hrs ")])),_:1}),d(a,{value:"12"},{default:o((()=>[p("12 Hrs ")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})]),u("div",Ul,[Al,u("div",Tl,[c(u("input",{type:"time",name:"starttime","onUpdate:modelValue":l[4]||(l[4]=e=>r(A).startTime=e),class:"input is-primary-focus is-primary-focus",placeholder:"Start Time"},null,512),[[m,r(A).startTime]])])]),u("div",Ml,[Il,u("div",Nl,[c(u("input",{required:"",type:"time",name:"endtime","onUpdate:modelValue":l[5]||(l[5]=e=>r(A).endTime=e),class:"input is-primary-focus is-primary-focus",placeholder:"End Time"},null,512),[[m,r(A).endTime]])])]),u("div",Ll,[Pl,d(b,{class:"is-image-tags"},{default:o((({id:e})=>[d(s,null,{default:o((()=>[d(V,{modelValue:r(j),"onUpdate:modelValue":l[7]||(l[7]=e=>S(j)?j.value=e:null),attrs:{id:e},mode:"tags",placeholder:"Select a user","track-by":"name",label:"name",search:!0,options:w,"max-height":145},{tag:o((({option:e,remove:a,disabled:t})=>[u("div",Ol,[u("img",{src:e.image,alt:""},null,8,Hl),p(" "+U(e.name)+" ",1),t?C("",!0):(i(),h("i",{key:0,role:"button",tabindex:"0",onClick:l[6]||(l[6]=v((()=>{}),["prevent"])),onMousedown:v((l=>a(e)),["prevent","stop"])},null,40,Dl))])])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})]),u("div",El,[Rl,u("div",Fl,[c(u("input",{type:"text",name:"phone","onUpdate:modelValue":l[8]||(l[8]=e=>r(A).attendees=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity attendees"},null,512),[[m,r(A).attendees]])])])])),_:1}),d(k,{class:"columns is-multiline mt-3"},{default:o((()=>[zl,u("div",Wl,[$l,u("div",Jl,[c(u("input",{type:"tel",name:"phone","onUpdate:modelValue":l[9]||(l[9]=e=>r(A).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[m,r(A).address]])])]),u("div",Zl,[ql,u("div",Bl,[c(u("input",{type:"text",name:"city","onUpdate:modelValue":l[10]||(l[10]=e=>r(A).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[m,r(A).city]])])]),u("div",Gl,[Kl,u("div",Yl,[c(u("input",{type:"text",name:"state","onUpdate:modelValue":l[11]||(l[11]=e=>r(A).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[m,r(A).state]])])]),u("div",Ql,[Xl,u("div",ea,[c(u("input",{type:"text",name:"state","onUpdate:modelValue":l[12]||(l[12]=e=>r(A).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip Code"},null,512),[[m,r(A).state]])])]),u("div",la,[aa,u("div",ta,[c(u("input",{type:"text",name:"state","onUpdate:modelValue":l[13]||(l[13]=e=>r(A).description=e),class:"input is-primary-focus is-primary-focus",placeholder:"Description"},null,512),[[m,r(A).description]])])])])),_:1})])])])),action:o((()=>[d(I,{loading:r(x),type:"submit",color:"primary",raised:""},{default:o((()=>[p("Create Activity")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),ia={class:"multiselect-single-label"},na=["src"],oa={class:"select-label-text"},ua=["src"],da={class:"select-label-text"},ca=l({__name:"ContractorsDropDown",props:{selectedContractor:{}},emits:["update:modalHandler","update:OnSelectContractor"],setup(e,{emit:l}){const a=e,n=z();B();const c=t(!1),m=t(""),p=t([{value:"",name:"",icon:""}]);w(m,((e,a)=>{l("update:OnSelectContractor",m.value)}));return s((()=>{(async()=>{try{c.value=!0;const e=await n.get("/api/users/by-role/contractor/",{});p.value=e.data.map((e=>({value:e.id,name:`${e.username?e.username:""+e.lastName?e.lastName:""}`,icon:e.avatar}))),m.value=a.selectedContractor}catch(e){console.log(e)}finally{c.value=!1}})()})),(e,l)=>{const a=g("Multiselect"),t=R,s=G;return i(),h("div",null,[d(s,{class:"is-image-select",label:"Contractors"},{default:o((({id:e})=>[d(t,null,{default:o((()=>[d(a,{modelValue:r(m),"onUpdate:modelValue":l[0]||(l[0]=e=>S(m)?m.value=e:null),attrs:{id:e},placeholder:"Select a contractor",label:"name",options:r(p)},{singlelabel:o((({value:e})=>[u("div",ia,[u("img",{class:"select-label-icon",src:e.icon,alt:""},null,8,na),u("span",oa,U(e.name),1)])])),option:o((({option:e})=>[u("img",{class:"select-option-icon",src:e.icon,alt:""},null,8,ua),u("span",da,U(e.name),1)])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])}}}),ra={class:"modal-form columns is-multiline"},ma={class:"tabs-wrapper column is-12 m-0"},pa={class:"tabs-inner mt-4"},va={class:"tabs is-boxed"},fa=[u("span",null,"General",-1)],_a=[u("span",null,"Activities",-1)],ya=[u("span",null,"Proposals",-1)],ba={key:0,class:"column is-12"},ga=u("h3",{class:"title is-6 mb-2"},"General Information",-1),ha={class:"columns is-multiline"},Va={class:"field column is-12 mb-0"},xa=u("label",null,"Opportunity Title: *",-1),Ca={class:"control"},ka={class:"field column is-6 mb-0"},ja=u("label",null,"Address: ",-1),wa={class:"control"},Sa={class:"field column is-6 mb-0"},Ua=u("label",null,"City: ",-1),Aa={class:"control"},Ta={class:"field column is-3 mb-0"},Ma=u("label",null,"State: ",-1),Ia={class:"control"},Na={class:"field column is-3 mb-0"},La=u("label",null,"Zip Code: ",-1),Pa={class:"control"},Oa={class:"field column is-6 mb-0"},Ha=u("label",null,"Confidence ",-1),Da={class:"control"},Ea={class:"field column is-6 mb-0"},Ra=u("label",null,"Projected Sale Date: ",-1),Fa={class:"control"},za={class:"field column is-6 mb-0"},Wa=u("label",null,"Project Type ",-1),$a={class:"field column is-12 mb-0"},Ja=u("label",null,"Sales people:",-1),Za={class:"multiselect-tag is-user"},qa=["src"],Ba=["onMousedown"],Ga={class:"field column is-6 mb-0"},Ka={class:"field column is-6 mb-0"},Ya={class:"field column is-3 mb-0"},Qa=u("label",null,"Estimated Revenue: ",-1),Xa={class:"control"},et={class:"field column is-3 mb-0"},lt=u("label",null,"To",-1),at={class:"control"},tt={class:"field column is-6 mb-0"},st=u("label",null,"Tags ",-1),it={class:"field column is-6 mb-0"},nt=u("label",null,"Sources ",-1),ot={class:"field column is-6 mb-0"},ut=u("label",null,"Status ",-1),dt=u("h3",{class:"title is-6 mb-2"},"Notes",-1),ct={class:"field column is-12 mb-0"},rt=u("h3",{class:"title is-6 mb-2"},"Attach Documents",-1),mt={class:"field column is-12 mb-0"},pt=u("label",null,"Attachments ",-1),vt=u("div",{class:"file"},[u("label",{class:"file-label"},[u("input",{class:"file-input",type:"file",name:"resume"}),u("span",{class:"file-cta"},[u("span",{class:"file-icon"},[u("i",{class:"fas fa-cloud-upload-alt"})]),u("span",{class:"file-label"}," Choose a fileâ€¦ ")])])],-1),ft={key:1,class:"column is-12"},_t=u("div",{class:"column is-12",style:{"text-align":"center"}},[u("h1",{class:"title is-4"},"Connect your clients to their projects"),u("h1",{class:"title is-5"}," Create a client contact and assign them to jobs and lead opportunities effortlessly. ")],-1),yt={class:"column is-6"},bt={class:"column is-6"},gt=u("div",{class:"column is-3"},null,-1),ht=u("div",{class:"column is-6 text-align-center"},[u("i",{class:"fas fa-phone-alt fa-5x primary-text text-primary mb-3","aria-hidden":"true"}),u("h1",{class:"title is-4"},"Engage your leads with activities"),u("h1",{class:"title is-6"}," Track calls, emails, and meeting notes for leads in one place. ")],-1),Vt=u("div",{class:"column is-3"},null,-1),xt=u("div",{class:"column is-3"},null,-1),Ct={class:"column is-6 text-align-center"},kt=u("div",{class:"column is-3"},null,-1),jt={key:2,class:"column is-12"},wt={class:"column is-12"},St=l({__name:"LeadAddUpdateModal",props:{addUpdateLeadModal:{type:Boolean},leadId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const V=e,x=a(),k=B(),j=$(),w=z(),N=t(!1);t({});const L=t(!1);t(!1);const P=t(!1),O=t(!1),H=()=>{l("update:modalHandler",!1)},F=t([]),W=[{value:"batman",label:"Batman"},{value:"robin",label:"Robin"},{value:"joker",label:"Joker"}],Z=t([]),q=[{value:"all",label:"All"},{value:"contact",label:"Contact Form"},{value:"google",label:"Google"},{value:"referral",label:"Referral"}],Q=t([]),X=[{value:"javascript",name:"Javascript",image:"/images/icons/stacks/js.svg"},{value:"reactjs",name:"ReactJS",image:"/images/icons/stacks/reactjs.svg"},{value:"vuejs",name:"VueJS",image:"/images/icons/stacks/vuejs.svg"},{value:"angular",name:"Angular",image:"/images/icons/stacks/angular.svg"},{value:"android",name:"Android",image:"/images/icons/stacks/android.svg"},{value:"html5",name:"Html5",image:"/images/icons/stacks/html5.svg"},{value:"css3",name:"CSS3",image:"/images/icons/stacks/css3.svg"}],ee=t({id:"",title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:0,sale_date:"",salesPeople:[],tags:[],estimated_from:"",estimated_to:"",sources:"",projectType:"",notes:"",attachments:[],attach_mail:"",created_by:k.user.id,manager:"",client:""});t([{value:"all",label:"All"},{value:"contact",label:"Contact Form"},{value:"google",label:"Google"},{value:"referral",label:"Referral"}]);const le=t([{value:"open",label:"Open"},{value:"onHold",label:"On Hold"},{value:"lost",label:"Lost"},{value:"sold",label:"sold"}]);t([{value:"phone",label:"Phone call"},{value:"followUp",label:"Follow Up"},{value:"email",label:"Email"},{value:"siteVisit",label:"Site Visit"},{value:"webForm",label:"Website Form"}]);const ae=async()=>{try{N.value=!0;const e=J(ee.value,[""]),a=await w.post("/api/job/",e);ee.value=a.data,l("update:OnSuccess",null),j.success("Lead created successfully")}catch(e){j.error(` ${e}, Lead`)}finally{N.value=!1}},te=t("general"),se=y((()=>b((()=>import("./ckeditor-85b8cefa.js").then((e=>e.c))),["assets/ckeditor-85b8cefa.js","assets/index-db185d34.js","assets/index-1c8d8af6.css","assets/vue.runtime.esm-bundler-34333244.js"]).then((e=>e.default.component)))),ie={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px"};return s((async()=>{x.value=await b((()=>import("./ckeditor-bb6fde3e.js").then((e=>e.c))),["assets/ckeditor-bb6fde3e.js","assets/index-db185d34.js","assets/index-1c8d8af6.css"]).then((e=>e.default)),V.leadId&&(async()=>{try{N.value=!0;const e=await w.get(`/api/job/${V.leadId}/`);ee.value=e.data}catch(e){j.error(` ${e}, Lead`)}finally{N.value=!1}})()})),(e,l)=>{const a=g("Slider"),t=R,s=G,y=K,b=Y,k=g("Multiselect"),j=pl,w=f,z=_,$=ol,J=Je,B=E,ne=D;return i(),n(ne,{is:"form",open:V.addUpdateLeadModal,title:"Lead Information",size:"xl",actions:"right",onSubmit:v(ae,["prevent"]),onClose:H},{content:o((()=>[u("div",ra,[u("div",ma,[u("div",pa,[u("div",va,[u("ul",null,[u("li",{class:A(["general"===r(te)?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=T(v((e=>te.value="general"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>te.value="general")},fa,32)],2),u("li",{class:A(["activities"===r(te)?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=T(v((e=>te.value="activities"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>te.value="activities")},_a,32)],2),u("li",{class:A(["proposals"===r(te)?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=T(v((e=>te.value="proposals"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>te.value="proposals")},ya,32)],2)])])])]),"general"===r(te)?(i(),h("div",ba,[d(w,{class:"columns is-multiline"},{default:o((()=>[ga,u("div",ha,[u("div",Va,[xa,u("div",Ca,[c(u("input",{type:"text",name:"title","onUpdate:modelValue":l[6]||(l[6]=e=>r(ee).title=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Opportunity Title"},null,512),[[m,r(ee).title]])])]),u("div",ka,[ja,u("div",wa,[c(u("input",{type:"text",name:"address","onUpdate:modelValue":l[7]||(l[7]=e=>r(ee).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[m,r(ee).address]])])]),u("div",Sa,[Ua,u("div",Aa,[c(u("input",{type:"text",name:"city","onUpdate:modelValue":l[8]||(l[8]=e=>r(ee).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[m,r(ee).city]])])]),u("div",Ta,[Ma,u("div",Ia,[c(u("input",{type:"text",name:"state","onUpdate:modelValue":l[9]||(l[9]=e=>r(ee).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[m,r(ee).state]])])]),u("div",Na,[La,u("div",Pa,[c(u("input",{type:"text",name:"zipCode","onUpdate:modelValue":l[10]||(l[10]=e=>r(ee).zip_code=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip code"},null,512),[[m,r(ee).zip_code]])])]),u("div",Oa,[Ha,u("div",Da,[d(s,{class:"has-rounded-tooltip is-slider-info"},{default:o((({id:e})=>[d(t,null,{default:o((()=>[d(a,{id:e,modelValue:r(ee).confidence,"onUpdate:modelValue":l[11]||(l[11]=e=>r(ee).confidence=e)},null,8,["id","modelValue"])])),_:2},1024)])),_:1})])]),u("div",Ea,[Ra,u("div",Fa,[c(u("input",{type:"date",name:"saleDate","onUpdate:modelValue":l[12]||(l[12]=e=>r(ee).sale_date=e),class:"input is-primary-focus is-primary-focus",placeholder:"Post code"},null,512),[[m,r(ee).sale_date]])])]),u("div",za,[Wa,d(s,null,{default:o((()=>[d(t,null,{default:o((()=>[d(b,{modelValue:r(ee).projectType,"onUpdate:modelValue":l[13]||(l[13]=e=>r(ee).projectType=e)},{default:o((()=>[(i(!0),h(M,null,I(r(le),((e,l)=>(i(),n(y,{key:l,value:e.value},{default:o((()=>[p(U(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])]),u("div",$a,[Ja,d(s,{class:"is-image-tags"},{default:o((({id:e})=>[d(t,null,{default:o((()=>[d(k,{modelValue:r(Q),"onUpdate:modelValue":l[15]||(l[15]=e=>S(Q)?Q.value=e:null),attrs:{id:e},mode:"tags",placeholder:"Select language","track-by":"name",label:"name",search:!0,options:X,"max-height":145},{tag:o((({option:e,remove:a,disabled:t})=>[u("div",Za,[u("img",{src:e.image,alt:""},null,8,qa),p(" "+U(e.name)+" ",1),t?C("",!0):(i(),h("i",{key:0,role:"button",tabindex:"0",onClick:l[14]||(l[14]=v((()=>{}),["prevent"])),onMousedown:v((l=>a(e)),["prevent","stop"])},null,40,Ba))])])),_:2},1032,["modelValue","attrs"])])),_:2},1024)])),_:1})]),u("div",Ga,[V.addUpdateLeadModal?(i(),n(ca,{key:0,selectedContractor:r(ee).manager,"onUpdate:OnSelectContractor":l[16]||(l[16]=e=>{r(ee).client=e})},null,8,["selectedContractor"])):C("",!0)]),u("div",Ka,[V.addUpdateLeadModal?(i(),n(j,{key:0,selectedManager:r(ee).manager,"onUpdate:OnSelectManager":l[17]||(l[17]=e=>{r(ee).manager=e})},null,8,["selectedManager"])):C("",!0)]),u("div",Ya,[Qa,u("div",Xa,[c(u("input",{type:"text",name:"externalID","onUpdate:modelValue":l[18]||(l[18]=e=>r(ee).estimated_from=e),class:"input is-primary-focus is-primary-focus",placeholder:"From"},null,512),[[m,r(ee).estimated_from]])])]),u("div",et,[lt,u("div",at,[c(u("input",{type:"text",name:"externalID","onUpdate:modelValue":l[19]||(l[19]=e=>r(ee).estimated_to=e),class:"input is-primary-focus is-primary-focus",placeholder:"To"},null,512),[[m,r(ee).estimated_to]])])]),u("div",tt,[st,d(s,null,{default:o((({id:e})=>[d(t,null,{default:o((()=>[d(k,{modelValue:r(F),"onUpdate:modelValue":l[20]||(l[20]=e=>S(F)?F.value=e:null),attrs:{id:e},mode:"tags",searchable:!0,"create-tag":!0,options:W,placeholder:"Add tags"},null,8,["modelValue","attrs"])])),_:2},1024)])),_:1})]),u("div",it,[nt,d(s,null,{default:o((({id:e})=>[d(t,null,{default:o((()=>[d(k,{modelValue:r(Z),"onUpdate:modelValue":l[21]||(l[21]=e=>S(Z)?Z.value=e:null),attrs:{id:e},mode:"tags",searchable:!0,"create-tag":!0,options:q,placeholder:"Sources"},null,8,["modelValue","attrs"])])),_:2},1024)])),_:1})]),u("div",ot,[ut,d(s,null,{default:o((()=>[d(t,null,{default:o((()=>[d(b,{modelValue:r(ee).status,"onUpdate:modelValue":l[22]||(l[22]=e=>r(ee).status=e)},{default:o((()=>[(i(!0),h(M,null,I(r(le),((e,l)=>(i(),n(y,{key:l,value:e.value},{default:o((()=>[p(U(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1}),d(w,{class:"columns is-multiline mt-3"},{default:o((()=>[dt,u("div",ct,[r(x)?(i(),n(r(se),{key:0,modelValue:r(ee).notes,"onUpdate:modelValue":l[23]||(l[23]=e=>r(ee).notes=e),editor:r(x),config:ie},null,8,["modelValue","editor"])):C("",!0)])])),_:1}),d(w,{class:"columns is-multiline mt-3"},{default:o((()=>[rt,u("div",mt,[pt,d(s,{grouped:""},{default:o((()=>[d(t,null,{default:o((()=>[vt])),_:1})])),_:1})])])),_:1})])):C("",!0),"activities"===r(te)?(i(),h("div",ft,[d(w,{class:"columns is-multiline"},{default:o((()=>[_t,u("div",yt,[d(z,{onClick:l[24]||(l[24]=e=>L.value=!r(L)),color:"info",class:"p-6",icon:"fas fa-plus",fullwidth:"",bold:""},{default:o((()=>[p(" Add New ")])),_:1})]),u("div",bt,[d(z,{class:"p-6",color:"primary",icon:"fas fa-sign-in-alt",fullwidth:"",bold:""},{default:o((()=>[p(" Import existing one ")])),_:1})])])),_:1}),d(w,{class:"columns is-multiline"},{default:o((()=>[gt,ht,Vt,xt,u("div",Ct,[d(z,{onClick:l[25]||(l[25]=e=>P.value=!r(P)),color:"warning",icon:"fas fa-exchange-alt"},{default:o((()=>[p(" Create Activity ")])),_:1}),d(z,{onClick:l[26]||(l[26]=e=>O.value=!r(O)),color:"success",class:"ml-2",icon:"fas fa-envelope"},{default:o((()=>[p(" Schedule Email ")])),_:1})]),kt])),_:1}),r(P)?(i(),n(sa,{key:0,addUpdateContactModal:r(P),"onUpdate:modalHandler":l[27]||(l[27]=e=>P.value=!1)},null,8,["addUpdateContactModal"])):C("",!0),r(O)?(i(),n($,{key:1,mailSenderModal:r(O),"onUpdate:modalHandler":l[28]||(l[28]=e=>O.value=!1)},null,8,["mailSenderModal"])):C("",!0),r(L)?(i(),n(J,{key:2,"add-update-contact-modal":r(L),"onUpdate:modalHandler":l[29]||(l[29]=e=>L.value=!1)},null,8,["add-update-contact-modal"])):C("",!0)])):C("",!0),"proposals"===r(te)?(i(),h("div",jt,[d(w,{class:"columns is-multiline"},{default:o((()=>[u("div",wt,[d(B,{leadId:r(ee).id},null,8,["leadId"])])])),_:1})])):C("",!0)])])),action:o((()=>[d(z,{loading:r(N),type:"submit",color:"primary",icon:"fas fa-plus",raised:""},{default:o((()=>[p("Create Lead")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),Ut={onHold:"warning",open:"info",sold:"success",lost:"danger"},At={key:1},Tt={class:"list-flex-toolbar flex-list-v1"},Mt={class:"page-content-inner"},It={class:"flex-list-wrapper flex-list-v1"},Nt=u("img",{class:"light-image",src:ie,alt:""},null,-1),Lt=u("img",{class:"dark-image",src:ne,alt:""},null,-1),Pt={class:"show-text-200"},Ot={class:"item-name"},Ht={class:"item-meta"},Dt={class:""},Et={class:"item-name dark-inverted show-text-200"},Rt={class:"item-meta show-text-200"},Ft={class:"item-name"},zt={class:"item-meta"},Wt={class:"item-name"},$t={class:"item-meta"},Jt=[u("div",{class:"icon"},[u("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1),u("div",{class:"meta"},[u("span",null,"View"),u("span",null,"View user details")],-1)],Zt=[u("div",{class:"icon"},[u("i",{"aria-hidden":"true",class:"lnil lnil-briefcase"})],-1),u("div",{class:"meta"},[u("span",null,"Proposals"),u("span",null,"View proposal of lead")],-1)],qt=["onClick"],Bt=[u("div",{class:"icon"},[u("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1),u("div",{class:"meta"},[u("span",null,"Edit"),u("span",null,"Update Lead Info")],-1)],Gt=u("hr",{class:"dropdown-divider"},null,-1),Kt=["onClick"],Yt=[u("div",{class:"icon"},[u("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),u("div",{class:"meta"},[u("span",null,"Delete"),u("span",null,"Delete Proposal Permanently")],-1)],Qt=l({__name:"LeadsList",setup(l){const a=N(),f=$(),y=z(),b=t(),g=t({id:"54985a54-db61-4761-becd-3b35f8ec503e",sales_people_info:[],clientInfo:null,created_by_info:null,manager_info:null,title:"test job",address:null,current_state:"lead",city:null,state:null,status:null,zip_code:null,confidence:"0.00",sale_date:null,tags:[],estimated_from:null,estimated_to:null,sources:null,project_type:null,notes:null,attach_mail:null,created_at:"2025-01-15T19:55:18.448485Z",updated_at:"2025-01-15T19:55:18.448510Z",created_by:null,manager:null,client:null,sales_people:[]}),V=t(42),x=t(!1),k=t([{value:"open",label:"Open"},{value:"sold",label:"Sold"},{value:"lost",label:"Lost"},{value:"onHold",label:"On hold"}]),j={username:{label:"Contractor",grow:!0},location:{label:"Job",grow:!0},contacts:"Date Created",status:"Status",industry:"Manager",actions:{label:"Actions",align:"end"}},w=async()=>{try{b.value=!0;const e=await y.get("/api/job/leads/");g.value=e.data}catch(e){f.error(` ${e}, Lead`)}finally{b.value=!1}},A=t(""),T=t({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),H=async()=>{try{b.value=!0;await y.delete(`/api/job/${A.value}/`);f.success("Proposal delete successfully"),w()}catch(e){f.error(` ${e}, Proposal`),f.error("Something went wrong please try later")}finally{b.value=!1,T.value.isSweetAlertOpen=!1}},D=t(""),E=t(""),F=L((()=>{if(D.value){const e=new RegExp(D.value,"i");return g.value.filter((l=>l.title.match(e)||l.created_at.match(e)))}return g.value}));return s((()=>{w()})),(l,t)=>{const s=se,f=R,y=G,g=K,N=Y,L=_,z=O,W=te,$=ee,J=ae,B=le,ie=X,ne=Q,oe=St,ue=e;return i(),h("div",null,[r(b)?(i(),n(s,{key:0})):(i(),h("div",At,[u("div",Tt,[d(y,null,{default:o((()=>[d(f,{icon:"feather:search"},{default:o((()=>[c(u("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>S(D)?D.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[m,r(D)]])])),_:1})])),_:1}),d(y,null,{default:o((()=>[d(f,{class:"has-icons-left",icon:"fas fa-globe"},{default:o((()=>[d(N,{modelValue:r(E),"onUpdate:modelValue":t[1]||(t[1]=e=>S(E)?E.value=e:null)},{default:o((()=>[d(g,{value:""},{default:o((()=>[p(" All ")])),_:1}),(i(!0),h(M,null,I(r(k),(e=>(i(),n(g,{value:e.value},{default:o((()=>[p(U(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),d(z,null,{default:o((()=>[d(L,{onClick:t[2]||(t[2]=e=>x.value=!r(x)),color:"primary",icon:"fas fa-plus",elevated:""},{default:o((()=>[p(" Lead Opportunity ")])),_:1})])),_:1})]),u("div",Mt,[u("div",It,[r(F).length?C("",!0):(i(),n(W,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:o((()=>[Nt,Lt])),_:1})),r(F).length?(i(),n(ie,{key:1,data:r(F),columns:j,compact:""},{body:o((()=>[d(P,{name:"list",tag:"div",class:"flex-list-inner"},{default:o((()=>[(i(!0),h(M,null,I(r(F),(e=>(i(),h("div",{key:e.id,class:"flex-table-item"},[d($,{onClick:()=>{r(a).push(`/sidebar/dashboard/jobs/${e.id}`)},column:{media:!0,grow:!0}},{default:o((()=>[u("div",Pt,[u("span",Ot,U(e.clientInfo?.username?e.clientInfo?.username:"N/A"),1),u("span",Ht,[u("span",null,U(e.clientInfo?.email?e.clientInfo?.email:"N/A"),1)])])])),_:2},1032,["onClick"]),d($,{column:{media:!0,grow:!0}},{default:o((()=>[u("div",Dt,[u("span",Et,U(e.title?e.title:"N/A"),1),u("span",Rt,[u("span",null,U(e.address?e.address:"N/A"),1)])])])),_:2},1024),d($,{column:{media:!0}},{default:o((()=>[u("div",null,[u("span",Ft,U(r(Z)(e.created_at)),1),u("span",zt,[u("span",null,"At:"+U(r(q)(e.created_at)),1)])])])),_:2},1024),d($,null,{default:o((()=>[d(J,{color:r(Ut)[e.status],rounded:""},{default:o((()=>[p(U(e.status?e.status:"N/A"),1)])),_:2},1032,["color"])])),_:2},1024),d($,{column:{media:!0}},{default:o((()=>[u("div",null,[u("span",Wt,U(e.manager_info?.username?e.manager_info?.username:"N/A"),1),u("span",$t,[u("span",null,U(e.manager_info?.email?e.manager_info?.email:"N/A"),1)])])])),_:2},1024),d($,{column:{align:"end"}},{default:o((()=>[d(B,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:o((({close:l})=>[u("a",{role:"menuitem",class:"dropdown-item is-media",onClick:t[3]||(t[3]=v((()=>{}),["prevent"]))},Jt),u("a",{role:"menuitem",class:"dropdown-item is-media",onClick:t[4]||(t[4]=v((()=>{}),["prevent"]))},Zt),u("a",{role:"menuitem",class:"dropdown-item is-media",onClick:v((l=>{return a=e.id,A.value=a,void(x.value=!0);var a}),["prevent"])},Bt,8,qt),Gt,u("a",{role:"menuitem",class:"dropdown-item is-media",onClick:v((l=>{return a=e.id,A.value=a,void(T.value={title:"Delete Proposal?",subtitle:"Are you sure to delete this proposal? After delete you will not be able to recover it again.",btntext:"Yes delete",isSweetAlertOpen:!0});var a}),["prevent"])},Yt,8,Kt)])),_:2},1024)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):C("",!0),r(F).length>5?(i(),n(ne,{key:2,"current-page":r(V),"onUpdate:currentPage":t[5]||(t[5]=e=>S(V)?V.value=e:null),"item-per-page":10,"total-items":80,"max-links-displayed":7,"no-router":""},null,8,["current-page"])):C("",!0)])])])),r(x)?(i(),n(oe,{key:2,addUpdateLeadModal:r(x),leadId:r(A),"onUpdate:modalHandler":t[6]||(t[6]=e=>x.value=!1),"onUpdate:OnSuccess":w},null,8,["addUpdateLeadModal","leadId"])):C("",!0),r(T).isSweetAlertOpen?(i(),n(ue,{key:3,isSweetAlertOpen:r(T).isSweetAlertOpen,title:r(T).title,subtitle:r(T).subtitle,loading:r(b),btntext:r(T).btntext,onConfirm:H,onCancel:()=>r(T).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","loading","btntext","onCancel"])):C("",!0)])}}}),Xt=l({__name:"index",setup:e=>(oe().setPageTitle("Leads"),H({title:"Leads - Ibex"}),(e,l)=>{const a=Qt;return i(),h("div",null,[d(a)])})});"function"==typeof ue&&ue(Xt);export{Xt as default};
