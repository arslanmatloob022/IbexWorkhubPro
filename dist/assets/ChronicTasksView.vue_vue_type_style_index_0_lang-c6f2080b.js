import{_ as e}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-807cbf70.js";import{_ as l}from"./UpdateTask.vue_vue_type_script_setup_true_lang-974a725a.js";import{_ as a}from"./SweetAlert.vue_vue_type_style_index_0_lang-9b8b6f16.js";import{_ as s}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-f73859f4.js";import{_ as t}from"./VAvatar.vue_vue_type_style_index_0_lang-366b5b81.js";import{_ as i}from"./VDropdown.vue_vue_type_style_index_0_lang-2d09fe81.js";import{f as n,r as c,b as o,$ as d,o as r,av as u,C as p,D as v,E as m,F as k,G as h,L as g,X as f,m as y,k as _,I as w,H as b,U as C,V as j,W as D,O as x,N as T,al as S,J as I,Q as A,R as E,S as W,B as P,aS as L,K as M}from"./index-49634c7f.js";import{_ as O}from"./VControl-e276bb0e.js";import{_ as V,a as $}from"./projects-dark-4a371d8a.js";import{u as N}from"./useNotyf-e1706adf.js";import{u as U}from"./useAPI-5e100760.js";import{c as R,_ as H}from"./VFlexTable.vue_vue_type_style_index_0_lang-7f6a629a.js";import{_ as z}from"./VTag.vue_vue_type_style_index_0_lang-e0bf2abb.js";import{_ as K,a as q}from"./search-4-dark-2b5b440c.js";import{p as F}from"./index-c1fc2d09.js";import{_ as B}from"./VField.vue_vue_type_script_setup_true_lang-297c285d.js";import{_ as Q}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-ceee2ef2.js";import{_ as Y,a as G}from"./having-coffee-dark-69a7d2f6.js";const J=e=>(A("data-v-aa329647"),e=e(),E(),e),X={class:"list-flex-toolbar is-reversed"},Z={class:"tabs-inner"},ee={class:"tabs"},le=J((()=>m("span",null,"All",-1))),ae=[le],se=J((()=>m("span",null,"Active",-1))),te=[se],ie=J((()=>m("span",null,"Pending",-1))),ne=[ie],ce=J((()=>m("span",null,"Completed",-1))),oe=[ce],de=J((()=>m("li",{class:"tab-naver"},null,-1))),re={class:"flex-list-wrapper flex-list-v2"},ue={key:0,class:"tab-content is-active"},pe={class:"all-projects"},ve={class:"all-projects-header"},me={class:"header-item"},ke={class:"item-inner"},he=J((()=>m("i",{"aria-hidden":"true",class:"lnil lnil-analytics-alt-1"},null,-1))),ge=J((()=>m("p",null,"Total Tasks",-1))),fe={class:"header-item"},ye={class:"item-inner"},_e=J((()=>m("i",{"aria-hidden":"true",class:"lnil lnil-target-alt-1"},null,-1))),we=J((()=>m("p",null,"Completed Tasks",-1))),be={class:"header-item"},Ce={class:"item-inner"},je=J((()=>m("i",{"aria-hidden":"true",class:"lnil lnil-pie-chart-alt"},null,-1))),De=J((()=>m("p",null,"Pending Tasks",-1))),xe={class:"header-item"},Te={class:"item-inner"},Se=J((()=>m("i",{"aria-hidden":"true",class:"lnil lnil-leaf"},null,-1))),Ie=J((()=>m("p",null,"Active Tasks",-1))),Ae={key:0,class:"columns is-multiline projects-card-grid"},Ee={class:"column is-6"},We={class:"grid-item"},Pe={class:"top-section"},Le={class:"head"},Me=["onClick"],Oe=["onClick"],Ve=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Active"),m("span",null,"Start work on this task")],-1)))],$e=["onClick"],Ne=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Pending"),m("span",null,"Waiting to work on")],-1)))],Ue=["onClick"],Re=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Completed"),m("span",null,"Mark task as completed")],-1)))],He=J((()=>m("hr",{class:"dropdown-divider"},null,-1))),ze=["onClick"],Ke=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Edit"),m("span",null,"Edit Task detail")],-1)))],qe=["onClick"],Fe=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Delete "),m("span",null,"Delete this task")],-1)))],Be={key:0,class:"foot-block"},Qe=J((()=>m("h4",{class:"heading"},"Sub Contractor",-1))),Ye={class:"developers"},Ge={key:1,class:"foot-block"},Je=J((()=>m("h4",{class:"heading"},"Worker(s)",-1))),Xe={class:"developers"},Ze={class:"foot-block"},el=J((()=>m("h4",{class:"heading"},"Start date",-1))),ll={class:"foot-block"},al=J((()=>m("h4",{class:"heading"},"End date",-1))),sl={class:"foot-block"},tl=J((()=>m("h4",{class:"heading"},"Status",-1))),il=J((()=>m("img",{class:"light-image is-larger",src:V,alt:""},null,-1))),nl=J((()=>m("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),cl={key:1,class:"tab-content is-active"},ol={class:"all-projects"},dl={key:0,class:"columns is-multiline projects-card-grid"},rl={class:"column is-6"},ul={class:"grid-item"},pl={class:"top-section"},vl={class:"head"},ml=["onClick"],kl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Active"),m("span",null,"Start work on this task")],-1)))],hl=["onClick"],gl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Pending"),m("span",null,"Waiting to work on")],-1)))],fl=["onClick"],yl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Completed"),m("span",null,"Mark task as completed")],-1)))],_l=J((()=>m("hr",{class:"dropdown-divider"},null,-1))),wl=["onClick"],bl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Edit"),m("span",null,"Edit Task detail")],-1)))],Cl=["onClick"],jl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Delete "),m("span",null,"Delete this task")],-1)))],Dl={class:"body"},xl={class:"bottom-section"},Tl={class:"foot-block"},Sl=J((()=>m("h4",{class:"heading"},"Worker(s)",-1))),Il={class:"developers"},Al={class:"foot-block"},El=J((()=>m("h4",{class:"heading"},"Start date",-1))),Wl={class:"foot-block"},Pl=J((()=>m("h4",{class:"heading"},"End date",-1))),Ll={class:"foot-block"},Ml=J((()=>m("h4",{class:"heading"},"Status",-1))),Ol=J((()=>m("img",{class:"light-image is-larger",src:V,alt:""},null,-1))),Vl=J((()=>m("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),$l={key:2,class:"tab-content is-active"},Nl={class:"all-projects"},Ul={key:0,class:"columns is-multiline projects-card-grid"},Rl={class:"column is-6"},Hl={class:"grid-item"},zl={class:"top-section"},Kl={class:"head"},ql=["onClick"],Fl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Active"),m("span",null,"Start work on this task")],-1)))],Bl=["onClick"],Ql=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Pending"),m("span",null,"Waiting to work on")],-1)))],Yl=["onClick"],Gl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Completed"),m("span",null,"Mark task as completed")],-1)))],Jl=J((()=>m("hr",{class:"dropdown-divider"},null,-1))),Xl=["onClick"],Zl=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Edit"),m("span",null,"Edit Task detail")],-1)))],ea=["onClick"],la=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Delete "),m("span",null,"Delete this task")],-1)))],aa={class:"body"},sa={class:"bottom-section"},ta={class:"foot-block"},ia=J((()=>m("h4",{class:"heading"},"Worker(s)",-1))),na={class:"developers"},ca={class:"foot-block"},oa=J((()=>m("h4",{class:"heading"},"Start date",-1))),da={class:"foot-block"},ra=J((()=>m("h4",{class:"heading"},"End date",-1))),ua={class:"foot-block"},pa=J((()=>m("h4",{class:"heading"},"Status",-1))),va=J((()=>m("img",{class:"light-image is-larger",src:V,alt:""},null,-1))),ma=J((()=>m("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),ka={key:3,class:"tab-content is-active"},ha={class:"all-projects"},ga={key:0,class:"columns is-multiline projects-card-grid"},fa={class:"column is-6"},ya={class:"grid-item"},_a={class:"top-section"},wa={class:"head"},ba=["onClick"],Ca=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Active"),m("span",null,"Start work on this task")],-1)))],ja=["onClick"],Da=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Pending"),m("span",null,"Waiting to work on")],-1)))],xa=["onClick"],Ta=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Completed"),m("span",null,"Mark task as completed")],-1)))],Sa=J((()=>m("hr",{class:"dropdown-divider"},null,-1))),Ia=["onClick"],Aa=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Edit"),m("span",null,"Edit Task detail")],-1)))],Ea=["onClick"],Wa=[J((()=>m("div",{class:"icon"},[m("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>m("div",{class:"meta"},[m("span",null,"Delete "),m("span",null,"Delete this task")],-1)))],Pa={class:"body"},La={class:"bottom-section"},Ma={class:"foot-block"},Oa=J((()=>m("h4",{class:"heading"},"Worker(s)",-1))),Va={class:"developers"},$a={class:"foot-block"},Na=J((()=>m("h4",{class:"heading"},"Start date",-1))),Ua={class:"foot-block"},Ra=J((()=>m("h4",{class:"heading"},"End date",-1))),Ha={class:"foot-block"},za=J((()=>m("h4",{class:"heading"},"Status",-1))),Ka=J((()=>m("img",{class:"light-image is-larger",src:V,alt:""},null,-1))),qa=J((()=>m("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),Fa=W(n({__name:"WorkerTasks",props:{projectID:{default:""},workerId:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(n,{emit:A}){const E=n,W=U(),P=N(),L=c(""),M=o(),V=c(""),$=c("all"),R=c(0),H=c(!1),z=c(!1),K=c(0),q=c({}),F=c("");c([{value:"active",name:"Active"},{value:"pending",name:"Pre Construction"},{value:"completed",name:"Completed"},{value:"cancelled",name:"cancelled"}]),c([{id:0,username:"",email:"",phoneNumber:""}]);const B=c([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}],quantity:"",unit:"",costCode:""}]),Q=c({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),Y=e=>{K.value=e,Q.value={title:"Delete Task?",subtitle:"Do you really want to delete this task permanently?",btntext:"Yes, Delete",isSweetAlertOpen:!0}},G=async()=>{try{H.value=!0;const e=await W.get(`/api/task/${E.workerId?E.workerId:M.user.id}/worker-tasks/`);B.value=e.data,console.log(e.data),H.value=!1}catch(e){console.log(e)}},J=d((()=>{let e=B.value.filter((e=>"active"==e.status));return A("update:completedTasks",e.length),e.length})),le=d((()=>{let e=B.value.filter((e=>"pending"==e.status));return A("update:activeTasks",e.length),e.length})),se=d((()=>B.value.filter((e=>"completed"==e.status)).length)),ie=e=>{F.value=e,z.value=!0},ce=()=>{G(),z.value=!1,F.value=""},Fa=async(e,l)=>{try{H.value=!0;await W.patch(`/api/task/${e}/`,{status:l,schedule_mode:localStorage.getItem("isScheduleMode")});G(),P.success(`Task set to ${l} successfully`),R.value=0,H.value=!1}catch(a){console.log(a)}},Ba=async()=>{try{H.value=!0;const e=await W.delete(`/api/task/${K.value}/`);console.log(e),P.success("Task deleted successfully"),G(),Q.value.isSweetAlertOpen=!1,R.value=0}catch(e){console.log(e)}finally{H.value=!1}},Qa=d((()=>{if(V.value){const e=new RegExp(V.value,"i");return B.value.filter((l=>"completed"!=l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return B.value.filter((e=>"completed"!=e.status))})),Ya=d((()=>{if(V.value){const e=new RegExp(V.value,"i");return B.value.filter((l=>"completed"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return B.value.filter((e=>"completed"==e.status))})),Ga=d((()=>{if(V.value){const e=new RegExp(V.value,"i");return B.value.filter((l=>"active"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return B.value.filter((e=>"active"==e.status))}));c({});const Ja=c(!1),Xa=c(""),Za=(e,l)=>{console.log("detail",e),q.value=e,Xa.value=l,Ja.value=!0},es=d((()=>{if(V.value){const e=new RegExp(V.value,"i");return B.value.filter((l=>"pending"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return B.value.filter((e=>"pending"==e.status))}));return r((()=>{G()})),(n,c)=>{const o=O,d=S,r=i,A=t,W=s,P=a,M=l,N=e,U=u("tooltip");return p(),v(j,null,[m("div",null,[m("div",X,[k(d,null,{default:h((()=>[k(o,{class:"mr-2 h-hidden-mobile",icon:"feather:search"},{default:h((()=>[g(m("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>_(V)?V.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[f,y(V)]])])),_:1})])),_:1}),m("div",Z,[m("div",ee,[m("ul",null,[m("li",{class:w(["all"===y($)&&"is-active"])},[m("a",{tabindex:"0",role:"button",onKeydown:c[1]||(c[1]=b(I((e=>$.value="all"),["prevent"]),["space"])),onClick:c[2]||(c[2]=e=>$.value="all")},ae,32)],2),m("li",{class:w(["active"===y($)&&"is-active"])},[m("a",{tabindex:"0",role:"button",onKeydown:c[3]||(c[3]=b(I((e=>$.value="active"),["prevent"]),["space"])),onClick:c[4]||(c[4]=e=>$.value="active")},te,32)],2),m("li",{class:w(["pending"===y($)&&"is-active"])},[m("a",{tabindex:"0",role:"button",onKeydown:c[5]||(c[5]=b(I((e=>$.value="pending"),["prevent"]),["space"])),onClick:c[6]||(c[6]=e=>$.value="pending")},ne,32)],2),m("li",{class:w(["completed"===y($)&&"is-active"])},[m("a",{tabindex:"0",role:"button",onKeydown:c[7]||(c[7]=b(I((e=>$.value="completed"),["prevent"]),["space"])),onClick:c[8]||(c[8]=e=>$.value="completed")},oe,32)],2),de])])])]),m("div",re,["all"===y($)?(p(),v("div",ue,[m("div",pe,[m("div",ve,[m("div",me,[m("div",ke,[he,m("span",null,C(y(B).length),1),ge])]),m("div",fe,[m("div",ye,[_e,m("span",null,C(y(se)),1),we])]),m("div",be,[m("div",Ce,[je,m("span",null,C(y(le)),1),De])]),m("div",xe,[m("div",Te,[Se,m("span",null,C(y(J)),1),Ie])])]),y(Qa).length?(p(),v("div",Ae,[(p(!0),v(j,null,D(y(Qa),(e=>(p(),v("div",Ee,[m("div",We,[m("div",Pe,[m("div",Le,[m("h3",{class:"cu-pointer",onClick:l=>Za(e,e.id)},C(e.title),9,Me),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[m("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Ve,8,Oe),m("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Ne,8,$e),m("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Re,8,Ue),He,m("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},Ke,8,ze),m("a",{onClick:l=>Y(e.id),role:"menuitem",class:"dropdown-item is-media"},Fe,8,qe)])),_:2},1024)]),m("div",{class:"body cu-pointer",onClick:c[10]||(c[10]=e=>Za(n.arg.event.extendedProps,n.arg.event.id))},[m("p",{class:"cu-pointer",onClick:c[9]||(c[9]=e=>Za(n.arg.event.extendedProps,n.arg.event.id))},C(e.description),1)])]),m("div",{class:"bottom-section cu-pointer",onClick:c[11]||(c[11]=e=>Za(n.arg.event.extendedProps,n.arg.event.id))},[e.supplier?(p(),v("div",Be,[Qe,m("div",Ye,[g(k(A,{picture:e.supplier?.avatar,size:"small",color:"primary",initials:e.supplier?.avatar?"":e.supplier?.username.slice(0,2)},null,8,["picture","initials"]),[[U,`${e?.supplier?.username}`,void 0,{rounded:!0,info:!0}]])])])):T("",!0),e.workers?.length?(p(),v("div",Ge,[Je,m("div",Xe,[(p(!0),v(j,null,D(e.workers,(e=>g((p(),x(A,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])])):T("",!0),m("div",Ze,[el,m("p",null,C(e.startDate),1)]),m("div",ll,[al,m("p",null,C(e.endDate),1)]),m("div",sl,[tl,m("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"There is no task added on this projects.",subtitle:"Looks like you don't have any task on this project yet. When you'll\n                start creating tasks of this project, they will be showing up in here."},{image:h((()=>[il,nl])),_:1}))])])):"active"===y($)?(p(),v("div",cl,[m("div",ol,[y(Ga).length?(p(),v("div",dl,[(p(!0),v(j,null,D(y(Ga),(e=>(p(),v("div",rl,[m("div",ul,[m("div",pl,[m("div",vl,[m("h3",null,C(e.title),1),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[m("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},kl,8,ml),m("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},gl,8,hl),m("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},yl,8,fl),_l,m("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},bl,8,wl),m("a",{onClick:l=>Y(e.id),role:"menuitem",class:"dropdown-item is-media"},jl,8,Cl)])),_:2},1024)]),m("div",Dl,[m("p",null,C(e.description),1)])]),m("div",xl,[m("div",Tl,[Sl,m("div",Il,[(p(!0),v(j,null,D(e.workers,(e=>g((p(),x(A,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),m("div",Al,[El,m("p",null,C(e.startDate),1)]),m("div",Wl,[Pl,m("p",null,C(e.endDate),1)]),m("div",Ll,[Ml,m("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:h((()=>[Ol,Vl])),_:1}))])])):"pending"===y($)?(p(),v("div",$l,[m("div",Nl,[y(es).length?(p(),v("div",Ul,[(p(!0),v(j,null,D(y(es),(e=>(p(),v("div",Rl,[m("div",Hl,[m("div",zl,[m("div",Kl,[m("h3",null,C(e.title),1),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[m("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Fl,8,ql),m("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Ql,8,Bl),m("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Gl,8,Yl),Jl,m("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},Zl,8,Xl),m("a",{onClick:l=>Y(e.id),role:"menuitem",class:"dropdown-item is-media"},la,8,ea)])),_:2},1024)]),m("div",aa,[m("p",null,C(e.description),1)])]),m("div",sa,[m("div",ta,[ia,m("div",na,[(p(!0),v(j,null,D(e.workers,(e=>g((p(),x(A,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),m("div",ca,[oa,m("p",null,C(e.startDate),1)]),m("div",da,[ra,m("p",null,C(e.endDate),1)]),m("div",ua,[pa,m("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:h((()=>[va,ma])),_:1}))])])):"completed"===y($)?(p(),v("div",ka,[m("div",ha,[y(Ya).length?(p(),v("div",ga,[(p(!0),v(j,null,D(y(Ya),(e=>(p(),v("div",fa,[m("div",ya,[m("div",_a,[m("div",wa,[m("h3",null,C(e.title),1),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[m("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Ca,8,ba),m("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Da,8,ja),m("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Ta,8,xa),Sa,m("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},Aa,8,Ia),m("a",{onClick:l=>Y(e.id),role:"menuitem",class:"dropdown-item is-media"},Wa,8,Ea)])),_:2},1024)]),m("div",Pa,[m("p",null,C(e.description),1)])]),m("div",La,[m("div",Ma,[Oa,m("div",Va,[(p(!0),v(j,null,D(e.workers,(e=>g((p(),x(A,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),m("div",$a,[Na,m("p",null,C(e.startDate),1)]),m("div",Ua,[Ra,m("p",null,C(e.endDate),1)]),m("div",Ha,[za,m("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:h((()=>[Ka,qa])),_:1}))])])):T("",!0)])]),y(Q).isSweetAlertOpen?(p(),x(P,{key:0,isSweetAlertOpen:y(Q).isSweetAlertOpen,title:y(Q).title,subtitle:y(Q).subtitle,btntext:y(Q).btntext,onConfirm:Ba,loading:y(H),onCancel:()=>y(Q).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","loading","onCancel"])):T("",!0),y(z)?(p(),x(M,{key:1,projectID:E.projectID,isOpen:y(z),taskIdSelected:y(F),startDate:y(L),"onUpdate:modalHandler":ce,"onUpdate:OnSuccess":G},null,8,["projectID","isOpen","taskIdSelected","startDate"])):T("",!0),y(Ja)?(p(),x(N,{key:2,taskDetailModal:y(Ja),taskData:y(q),taskId:y(Xa),"onUpdate:modalHandler":c[12]||(c[12]=e=>Ja.value=!1)},null,8,["taskDetailModal","taskData","taskId"])):T("",!0)],64)}}}),[["__scopeId","data-v-aa329647"]]),Ba={class:"flex-list-wrapper flex-list-v2"},Qa=m("img",{class:"light-image",src:K,alt:""},null,-1),Ya=m("img",{class:"dark-image",src:q,alt:""},null,-1),Ga={key:1,class:"tab-content is-active"},Ja=["onClick"],Xa={class:"item-name dark-inverted show-text-200"},Za={class:"item-meta"},es={class:"link-text"},ls={class:"light-text"},as={class:"light-text"},ss={key:2,class:"tab-content is-active"},ts=m("img",{class:"light-image is-larger",src:V,alt:""},null,-1),is=m("img",{class:"dark-image is-larger",src:$,alt:""},null,-1),ns=n({__name:"ChronicTasksList",props:{tasks:{default:{}}},setup(l){const a=l,t=c(!1);c(!1);const i=c({}),n=c(""),o=F,r=c(""),u=c("active"),g={picture:{label:"Task",media:!0,grow:!0},customer:"Start ",industry:"End",status:"Quantity",team:{label:"Unit",cellClass:"h-hidden-tablet-p"},actions:{label:"Cost code",align:"end"}},f={completed:"primary",pending:"warning",active:"info",canceled:"danger"},_=d((()=>{if(r.value){const e=new RegExp(r.value,"i");return o.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return o}));return(l,c)=>{const o=s,d=P("Tippy"),r=R,w=z,b=H,S=e;return p(),v("div",null,[m("div",Ba,["active"===y(u)&&0===y(_).length?(p(),x(o,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:h((()=>[Qa,Ya])),_:1})):T("",!0),"active"===y(u)?(p(),v("div",Ga,[a.tasks?(p(),x(b,{key:0,data:y(_),columns:g,rounded:""},{body:h((()=>[k(L,{name:"list",tag:"div",class:"flex-list-inner"},{default:h((()=>[(p(!0),v(j,null,D(a.tasks,(e=>(p(),v("div",{key:e.id,class:"flex-table-item cu-pointer",onClick:l=>{return a=e,s=e.id,console.log("detail",a),i.value=a,n.value=s,void(t.value=!0);var a,s}},[k(r,{column:{media:!0,grow:!0}},{default:h((()=>[m("div",null,[m("span",Xa,C(e.title?e.title:""),1),m("span",Za,[k(d,{trigger:"click"},{content:h((()=>[M(C(e.description?e.description:""),1)])),default:h((()=>[m("span",es,C(e.description?.length>40?e.description?.slice(0,40):e.description.length<40?e.description:""),1)])),_:2},1024)])])])),_:2},1024),k(r,null,{default:h((()=>[m("span",ls,C(e.startDate?e.startDate:""),1)])),_:2},1024),k(r,null,{default:h((()=>[m("span",as,C(e.endDate?e.endDate:""),1)])),_:2},1024),k(r,null,{default:h((()=>[k(w,{outlined:"",color:"info",rounded:""},{default:h((()=>[M(C(e.quantity?e.quantity:""),1)])),_:2},1024)])),_:2},1024),k(r,{class:"h-hidden-tablet-p"},{default:h((()=>[k(w,{outlined:"",color:"primary",rounded:""},{default:h((()=>[M(C(e.unit?e.unit:"N/A"),1)])),_:2},1024)])),_:2},1024),k(r,{column:{align:"end"}},{default:h((()=>[k(w,{outlined:"",color:f[e.status],rounded:""},{default:h((()=>[M(C(e.status?e.status:""),1)])),_:2},1032,["color"])])),_:2},1024)],8,Ja)))),128))])),_:1})])),_:1},8,["data"])):T("",!0)])):"closed"===y(u)?(p(),v("div",ss,[k(o,{title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n              start closing off projects, they will be showing up in here."},{image:h((()=>[ts,is])),_:1})])):T("",!0)]),y(t)?(p(),x(S,{key:0,taskDetailModal:y(t),taskData:y(i),taskId:y(n),"onUpdate:modalHandler":c[0]||(c[0]=e=>t.value=!1)},null,8,["taskDetailModal","taskData","taskId"])):T("",!0)])}}}),cs={key:0},os={key:1},ds={class:"list-view-toolbar"},rs=m("div",{class:"tabs-inner"},null,-1),us={class:"list-view list-view-v2"},ps={class:"list-view-inner"},vs={class:"list-view-item"},ms={class:"list-view-item-inner"},ks={class:"meta-left"},hs={class:"info-text"},gs=m("i",{class:"lnir lnir-star-empty","aria-hidden":"true"},null,-1),fs=["innerHTML"],ys=m("div",{class:"meta-right"},null,-1),_s={class:"list-view-inner"},ws=m("img",{class:"light-image",src:Y,alt:""},null,-1),bs=m("img",{class:"dark-image",src:G,alt:""},null,-1),Cs=n({__name:"ChronicTasksView",props:{supplierId:{default:""},projectID:{default:""},workerId:{default:""},userId:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(e,{emit:l}){const a=e,t=o(),i=c("active"),n=c(""),u=c(!1),b=c([]),x=U(),S=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return b.value.filter((l=>l.title.match(e)||l.description.match(e)))}return b.value}));return r((()=>{(async()=>{try{u.value=!0;const e=await x.get(`/api/task/project-wise-tasks/${a.userId?a.userId:t.user.id}/`);b.value=e.data,console.log("chronic tasks",e.data),u.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=Q,t=O,c=B,o=s,d=ns;return y(u)?(p(),v("div",cs,[k(a)])):(p(),v("div",os,[m("div",ds,[k(c,null,{default:h((()=>[k(t,{icon:"feather:search"},{default:h((()=>[g(m("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>_(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[f,y(n)]])])),_:1})])),_:1}),rs]),(p(!0),v(j,null,D(y(S),(e=>(p(),v("div",{key:e.id,class:"page-content-inner mb-6"},[m("div",us,[m("div",{id:"active-items-tab",class:w(["tab-content",["active"===y(i)&&"is-active"]])},[m("div",ps,[k(L,{name:"list-complete",tag:"div"},{default:h((()=>[m("div",vs,[m("div",ms,[m("div",ks,[m("h3",null,[m("span",hs,[gs,M(C(e.title),1)])]),e.description?(p(),v("div",{key:0,innerHTML:e.description},null,8,fs)):T("",!0),m("span",null,[m("span",null," Timeline: "+C(e.startDate?e.startDate:"N/A")+" to "+C(e.endDate?e.endDate:"N/A"),1)])]),ys])])])),_:2},1024)])],2),m("div",{id:"inactive-items-tab",class:w(["tab-content",["inactive"===y(i)&&"is-active"]])},[m("div",_s,[k(o,{title:"There are no inactive properties.",subtitle:"Looks like there are no inactive properties to display. You can\n                disable and also enable a property from the property settings.",larger:""},{image:h((()=>[ws,bs])),_:1})])],2)]),k(d,{tasks:e.filtered_tasks},null,8,["tasks"])])))),128))]))}}});export{Cs as _,Fa as a};
