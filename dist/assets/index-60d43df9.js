import{c as e,y as t,_ as r,i as s,b as n,d as o,B as i,m as l,R as a,g as c,e as d,f as u,h,j as f,k as p,r as g,l as m,n as S,o as R,p as C,q as v,s as y,t as b,u as w,v as x,w as E,x as D,S as P,z as I,A as k,D as M,E as W,F as H,G as T,H as N,I as O,J as L,K as z,L as U,M as B,N as G,O as A,P as _,Q as j,T as q,U as F,V,W as X,X as Y,Y as Z,Z as K,$,a0 as J,a1 as Q,a2 as ee,a3 as te,a4 as re,a5 as se,a6 as ne,a7 as oe,a8 as ie,a9 as le,aa as ae,ab as ce,ac as de,ad as ue,ae as he,af as fe,ag as pe,ah as ge,ai as me,aj as Se,ak as Re,al as Ce,am as ve,an as ye,ao as be,ap as we,aq as xe,ar as Ee,as as De,at as Pe,au as Ie,av as ke,aw as Me,ax as We,ay as He,az as Te,aA as Ne,aB as Oe,aC as Le,aD as ze,aE as Ue,aF as Be,aG as Ge,aH as Ae,aI as _e,aJ as je,aK as qe,aL as Fe,aM as Ve,aN as Xe,aO as Ye,aP as Ze,aQ as Ke,aR as $e}from"./index-51c95dce.js";const Je=372,Qe=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],et={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};var tt=e({name:"@fullcalendar/premium-common",premiumReleaseDate:"2024-07-12",optionRefiners:{schedulerLicenseKey:String},viewContainerAppends:[function(e){let i=e.options.schedulerLicenseKey,l="undefined"!=typeof window?window.location.href:"";if(!/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(l)){let l=function(e,t){if(-1!==Qe.indexOf(e))return"valid";const r=(e||"").match(/^(\d+)-fcs-(\d+)$/);if(r&&10===r[1].length){const e=new Date(1e3*parseInt(r[2],10)),i=o.mockSchedulerReleaseDate||t;if(s(i)){return n(i,-Je)<e?"valid":"outdated"}}return"invalid"}(i,e.pluginHooks.premiumReleaseDate);if("valid"!==l)return t("div",{className:"fc-license-message",style:et},"outdated"===l?t(r,null,"Your license key is too old to work with this version. ",t("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#outdated"},"More Info")):t(r,null,"Your license key is invalid. ",t("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#invalid"},"More Info")))}return null}]});function rt(e){let t=e.scrollLeft;if("rtl"===window.getComputedStyle(e).direction)switch(ot()){case"negative":t*=-1;case"reverse":t=e.scrollWidth-t-e.clientWidth}return t}function st(e,t){if("rtl"===window.getComputedStyle(e).direction)switch(ot()){case"reverse":t=e.scrollWidth-t;break;case"negative":t=-(e.scrollWidth-t)}e.scrollLeft=t}let nt;function ot(){return nt||(nt=function(){let e=document.createElement("div");e.style.position="absolute",e.style.top="-1000px",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.direction="rtl";let t,r=document.createElement("div");r.style.width="200px",r.style.height="200px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?t="positive":(e.scrollLeft=1,t=e.scrollLeft>0?"reverse":"negative");return W(e),t}())}class it{constructor(e,t){this.scrollEl=e,this.isRtl=t,this.updateSize=()=>{let{scrollEl:e}=this,t=R(e,".fc-sticky");!function(e,t,r){e.forEach(((e,s)=>{let n,{textAlign:o,elWidth:i,parentBound:l}=t[s],a=l.right-l.left;n="center"===o&&a>r?(r-i)/2:"",N(e,{left:n,right:n,top:0})}))}(t,this.queryElGeoms(t),e.clientWidth)}}queryElGeoms(e){let{scrollEl:t,isRtl:r}=this,s=function(e){let t=e.getBoundingClientRect(),r=U(e);return{left:t.left+r.borderLeft+r.scrollbarLeft-rt(e),top:t.top+r.borderTop-e.scrollTop}}(t),n=[];for(let o of e){let e=H(T(o.parentNode,!0,!0),-s.left,-s.top),t=o.getBoundingClientRect(),i=window.getComputedStyle(o),l=window.getComputedStyle(o.parentNode).textAlign,a=null;"start"===l?l=r?"right":"left":"end"===l&&(l=r?"left":"right"),"sticky"!==i.position&&(a=H(t,-s.left-(parseFloat(i.left)||0),-s.top-(parseFloat(i.top)||0))),n.push({parentBound:e,naturalBound:a,elWidth:t.width,elHeight:t.height,textAlign:l})}return n}}class lt extends i{constructor(){super(...arguments),this.elRef=D(),this.state={xScrollbarWidth:0,yScrollbarWidth:0},this.handleScroller=e=>{this.scroller=e,b(this.props.scrollerRef,e)},this.handleSizing=()=>{let{props:e}=this;"scroll-hidden"===e.overflowY&&this.setState({yScrollbarWidth:this.scroller.getYScrollbarWidth()}),"scroll-hidden"===e.overflowX&&this.setState({xScrollbarWidth:this.scroller.getXScrollbarWidth()})}}render(){let{props:e,state:r,context:s}=this,n=s.isRtl&&h(),o=0,i=0,l=0,{overflowX:a,overflowY:c}=e;return e.forPrint&&(a="visible",c="visible"),"scroll-hidden"===a&&(l=r.xScrollbarWidth),"scroll-hidden"===c&&null!=r.yScrollbarWidth&&(n?o=r.yScrollbarWidth:i=r.yScrollbarWidth),t("div",{ref:this.elRef,className:"fc-scroller-harness"+(e.liquid?" fc-scroller-harness-liquid":"")},t(P,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:"scroll-hidden"===a?"scroll":a,overflowY:"scroll-hidden"===c?"scroll":c,overcomeLeft:o,overcomeRight:i,overcomeBottom:l,maxHeight:"number"==typeof e.maxHeight?e.maxHeight+("scroll-hidden"===a?r.xScrollbarWidth:0):"",liquid:e.liquid,liquidIsAbsolute:!0},e.children))}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}getSnapshotBeforeUpdate(e){return this.props.forPrint&&!e.forPrint?{simulateScrollLeft:this.scroller.el.scrollLeft}:{}}componentDidUpdate(e,t,r){const{props:s,scroller:{el:n}}=this;if(x(e,s)||this.handleSizing(),void 0!==r.simulateScrollLeft)n.style.left=-r.simulateScrollLeft+"px";else if(!s.forPrint&&e.forPrint){const e=-parseInt(n.style.left);n.style.left="",n.scrollLeft=e}}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}needsXScrolling(){return this.scroller.needsXScrolling()}needsYScrolling(){return this.scroller.needsYScrolling()}}const at="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ");class ct{constructor(e){this.el=e,this.emitter=new O,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new L(this._handleWheelWaited.bind(this)),this.scrollWaiter=new L(this._handleScrollWaited.bind(this)),this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.isRecentlyWheeled,this.isTouching),this.isRecentlyScrolled=!0,this.scrollWaiter.request(500)},this.handleWheel=()=>{this.isRecentlyWheeled=!0,this.wheelWaiter.request(500)},this.handleTouchStart=()=>{this.isTouching=!0},this.handleTouchEnd=()=>{this.isTouching=!1,this.isRecentlyScrolled||this.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(let t of at)e.addEventListener(t,this.handleWheel)}destroy(){let{el:e}=this;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd);for(let t of at)e.removeEventListener(t,this.handleWheel)}startScroll(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))}endScroll(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())}_handleScrollWaited(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()}_handleWheelWaited(){this.isRecentlyWheeled=!1}}class dt{constructor(e,t){this.isVertical=e,this.scrollEls=t,this.isPaused=!1,this.scrollListeners=t.map((e=>this.bindScroller(e)))}destroy(){for(let e of this.scrollListeners)e.destroy()}bindScroller(e){let{scrollEls:t,isVertical:r}=this,s=new ct(e);return s.emitter.on("scroll",((s,n)=>{if(!this.isPaused&&((!this.masterEl||this.masterEl!==e&&(s||n))&&this.assignMaster(e),this.masterEl===e))for(let o of t)o!==e&&(r?o.scrollTop=e.scrollTop:o.scrollLeft=e.scrollLeft)})),s.emitter.on("scrollEnd",(()=>{this.masterEl===e&&(this.masterEl=null)})),s}assignMaster(e){this.masterEl=e;for(let t of this.scrollListeners)t.el!==e&&t.endScroll()}forceScrollLeft(e){this.isPaused=!0;for(let t of this.scrollListeners)st(t.el,e);this.isPaused=!1}forceScrollTop(e){this.isPaused=!0;for(let t of this.scrollListeners)t.el.scrollTop=e;this.isPaused=!1}}o.SCROLLGRID_RESIZE_INTERVAL=500;class ut extends i{constructor(){super(...arguments),this.compileColGroupStats=l(gt,Rt),this.renderMicroColGroups=l(I),this.clippedScrollerRefs=new a,this.scrollerElRefs=new a(this._handleScrollerEl.bind(this)),this.chunkElRefs=new a(this._handleChunkEl.bind(this)),this.scrollSyncersBySection={},this.scrollSyncersByColumn={},this.rowUnstableMap=new Map,this.rowInnerMaxHeightMap=new Map,this.anyRowHeightsChanged=!1,this.recentSizingCnt=0,this.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},this.handleSizing=(e,t)=>{if(!this.allowSizing())return;t||(this.anyRowHeightsChanged=!0);let r={};(e||!t&&!this.rowUnstableMap.size)&&(r.sectionRowMaxHeights=this.computeSectionRowMaxHeights()),this.setState(Object.assign(Object.assign({shrinkWidths:this.computeShrinkWidths()},this.computeScrollerDims()),r),(()=>{this.rowUnstableMap.size||this.updateStickyScrolling()}))},this.handleRowHeightChange=(e,t)=>{let{rowUnstableMap:r,rowInnerMaxHeightMap:s}=this;if(t){r.delete(e);let t=ft(e);s.has(e)&&s.get(e)===t||(s.set(e,t),this.anyRowHeightsChanged=!0),!r.size&&this.anyRowHeightsChanged&&(this.anyRowHeightsChanged=!1,this.setState({sectionRowMaxHeights:this.computeSectionRowMaxHeights()}))}else r.set(e,!0)}}render(){let{props:e,state:r,context:s}=this,{shrinkWidths:n}=r,o=this.compileColGroupStats(e.colGroups.map((e=>[e]))),i=this.renderMicroColGroups(o.map(((e,t)=>[e.cols,n[t]]))),l=c(e.liquid,s);this.getDims();let a,u=e.sections,h=u.length,f=0,p=[],g=[],m=[];for(;f<h&&"header"===(a=u[f]).type;)p.push(this.renderSection(a,f,o,i,r.sectionRowMaxHeights,!0)),f+=1;for(;f<h&&"body"===(a=u[f]).type;)g.push(this.renderSection(a,f,o,i,r.sectionRowMaxHeights,!1)),f+=1;for(;f<h&&"footer"===(a=u[f]).type;)m.push(this.renderSection(a,f,o,i,r.sectionRowMaxHeights,!0)),f+=1;const S=!d(),R={role:"rowgroup"};return t("table",{ref:e.elRef,role:"grid",className:l.join(" ")},function(e,r){let s=e.map(((e,s)=>{let n=e.width;return"shrink"===n&&(n=e.totalColWidth+E(r[s])+1),t("col",{style:{width:n}})}));return t("colgroup",{},...s)}(o,n),Boolean(!S&&p.length)&&t("thead",R,...p),Boolean(!S&&g.length)&&t("tbody",R,...g),Boolean(!S&&m.length)&&t("tfoot",R,...m),S&&t("tbody",R,...p,...g,...m))}renderSection(e,s,n,o,i,l){return"outerContent"in e?t(r,{key:e.key},e.outerContent):t("tr",{key:e.key,role:"presentation",className:u(e,this.props.liquid).join(" ")},e.chunks.map(((t,r)=>this.renderChunk(e,s,n[r],o[r],t,r,(i[s]||[])[r]||[],l))))}renderChunk(e,s,n,o,i,l,a,c){if("outerContent"in i)return t(r,{key:i.key},i.outerContent);let{state:d}=this,{scrollerClientWidths:u,scrollerClientHeights:m}=d,[S,R]=this.getDims(),C=s*R+l,v=l===(!this.context.isRtl||h()?R-1:0),y=s===S-1,b=y&&d.forceXScrollbars,w=v&&d.forceYScrollbars,x=n&&n.allowXScrolling,E=f(this.props,e),D=p(this.props,e),P=e.expandRows&&D,I=n&&n.totalColMinWidth||"",k=g(e,i,{tableColGroupNode:o,tableMinWidth:I,clientWidth:void 0!==u[C]?u[C]:null,clientHeight:void 0!==m[C]?m[C]:null,expandRows:P,syncRowHeights:Boolean(e.syncRowHeights),rowSyncHeights:a,reportRowHeightChange:this.handleRowHeightChange},c),M=b?y?"scroll":"scroll-hidden":x?y?"auto":"scroll-hidden":"hidden",W=w?v?"scroll":"scroll-hidden":E?v?"auto":"scroll-hidden":"hidden";return k=t(lt,{ref:this.clippedScrollerRefs.createRef(C),scrollerElRef:this.scrollerElRefs.createRef(C),overflowX:M,overflowY:W,forPrint:this.props.forPrint,liquid:D,maxHeight:e.maxHeight},k),t(c?"th":"td",{key:i.key,ref:this.chunkElRefs.createRef(C),role:"presentation"},k)}componentDidMount(){this.getStickyScrolling=l(yt),this.getScrollSyncersBySection=m(Ct.bind(this,!0),null,vt),this.getScrollSyncersByColumn=m(Ct.bind(this,!1),null,vt),this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(e,t){this.updateScrollSyncers(),this.handleSizing(!1,t.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing),this.destroyScrollSyncers()}allowSizing(){let e=new Date;return!this.lastSizingDate||e.valueOf()>this.lastSizingDate.valueOf()+o.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=e,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10}computeShrinkWidths(){let e=this.compileColGroupStats(this.props.colGroups.map((e=>[e]))),[t,r]=this.getDims(),s=t*r,n=[];return e.forEach(((e,t)=>{if(e.hasShrinkCol){let e=this.chunkElRefs.collect(t,s,r);n[t]=S(e)}})),n}computeSectionRowMaxHeights(){let e=new Map,[t,r]=this.getDims(),s=[];for(let n=0;n<t;n+=1){let t=this.props.sections[n],o=[];if(t&&t.syncRowHeights){let s=[];for(let t=0;t<r;t+=1){let o=n*r+t,i=[],l=this.chunkElRefs.currentMap[o];i=l?R(l,".fc-scrollgrid-sync-table tr").map((t=>{let r=ft(t);return e.set(t,r),r})):[],s.push(i)}let i=s[0].length,l=!0;for(let e=1;e<r;e+=1){if(!(t.chunks[e]&&void 0!==t.chunks[e].outerContent)&&s[e].length!==i){l=!1;break}}if(l){for(let e=0;e<r;e+=1)o.push([]);for(let e=0;e<i;e+=1){let t=[];for(let o=0;o<r;o+=1){let r=s[o][e];null!=r&&t.push(r)}let n=Math.max(...t);for(let e=0;e<r;e+=1)o[e].push(n)}}else{let e=[];for(let n=0;n<r;n+=1)e.push(ht(s[n])+s[n].length);let t=Math.max(...e);for(let n=0;n<r;n+=1){let e=s[n].length,r=t-e,i=Math.floor(r/e),l=r-i*(e-1),a=[],c=0;for(c<e&&(a.push(l),c+=1);c<e;)a.push(i),c+=1;o.push(a)}}}s.push(o)}return this.rowInnerMaxHeightMap=e,s}computeScrollerDims(){let e=C(),[t,r]=this.getDims(),s=!this.context.isRtl||h()?r-1:0,n=t-1,o=this.clippedScrollerRefs.currentMap,i=this.scrollerElRefs.currentMap,l=!1,a=!1,c={},d={};for(let u=0;u<t;u+=1){let e=o[u*r+s];if(e&&e.needsYScrolling()){l=!0;break}}for(let u=0;u<r;u+=1){let e=o[n*r+u];if(e&&e.needsXScrolling()){a=!0;break}}for(let u=0;u<t;u+=1)for(let t=0;t<r;t+=1){let o=u*r+t,h=i[o];if(h){let r=h.parentNode;c[o]=Math.floor(r.getBoundingClientRect().width-(t===s&&l?e.y:0)),d[o]=Math.floor(r.getBoundingClientRect().height-(u===n&&a?e.x:0))}}return{forceYScrollbars:l,forceXScrollbars:a,scrollerClientWidths:c,scrollerClientHeights:d}}updateStickyScrolling(){let{isRtl:e}=this.context,t=this.scrollerElRefs.getAll().map((t=>[t,e]));this.getStickyScrolling(t).forEach((e=>e.updateSize()))}updateScrollSyncers(){let[e,t]=this.getDims(),r=e*t,s={},n={},o=this.scrollerElRefs.currentMap;for(let i=0;i<e;i+=1){let e=i*t,r=e+t;s[i]=v(o,e,r,1)}for(let i=0;i<t;i+=1)n[i]=this.scrollerElRefs.collect(i,r,t);this.scrollSyncersBySection=this.getScrollSyncersBySection(s),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(n)}destroyScrollSyncers(){y(this.scrollSyncersBySection,vt),y(this.scrollSyncersByColumn,vt)}getChunkConfigByIndex(e){let t=this.getDims()[1],r=Math.floor(e/t),s=e%t,n=this.props.sections[r];return n&&n.chunks[s]}forceScrollLeft(e,t){let r=this.scrollSyncersByColumn[e];r&&r.forceScrollLeft(t)}forceScrollTop(e,t){let r=this.scrollSyncersBySection[e];r&&r.forceScrollTop(t)}_handleChunkEl(e,t){let r=this.getChunkConfigByIndex(parseInt(t,10));r&&b(r.elRef,e)}_handleScrollerEl(e,t){let r=this.getChunkConfigByIndex(parseInt(t,10));r&&b(r.scrollerElRef,e)}getDims(){let e=this.props.sections.length;return[e,e?this.props.sections[0].chunks.length:0]}}function ht(e){let t=0;for(let r of e)t+=r;return t}function ft(e){let t=R(e,".fc-scrollgrid-sync-inner").map(pt);return t.length?Math.max(...t):0}function pt(e){return e.offsetHeight}function gt(e){let t=mt(e.cols,"width"),r=mt(e.cols,"minWidth"),s=k(e.cols);return{hasShrinkCol:s,totalColWidth:t,totalColMinWidth:r,allowXScrolling:"shrink"!==e.width&&Boolean(t||r||s),cols:e.cols,width:e.width}}function mt(e,t){let r=0;for(let s of e){let e=s[t];"number"==typeof e&&(r+=e*(s.span||1))}return r}ut.addStateEquality({shrinkWidths:w,scrollerClientWidths:x,scrollerClientHeights:x});const St={cols:z};function Rt(e,t){return M(e,t,St)}function Ct(e,...t){return new dt(e,t)}function vt(e){e.destroy()}function yt(e,t){return new it(e,t)}const bt=18,wt=6,xt=200;o.MAX_TIMELINE_SLOTS=1e3;const Et=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function Dt(e,t,r,s){let i={labelInterval:r.slotLabelInterval,slotDuration:r.slotDuration};!function(e,t,r){const{currentRange:s}=t;if(e.labelInterval){r.countDurationsBetween(s.start,s.end,e.labelInterval)>o.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),e.labelInterval=null)}if(e.slotDuration){r.countDurationsBetween(s.start,s.end,e.slotDuration)>o.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),e.slotDuration=null)}if(e.labelInterval&&e.slotDuration){const t=$(e.labelInterval,e.slotDuration);(null===t||t<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),e.slotDuration=null)}}(i,e,t),kt(i,e,t),function(e,t,r){const{currentRange:s}=t;let{slotDuration:n}=e;if(!n){const o=kt(e,t,r);for(let e of Et){const t=K(e),r=$(o,t);if(null!==r&&r>1&&r<=wt){n=t;break}}if(n){r.countDurationsBetween(s.start,s.end,n)>xt&&(n=null)}n||(n=o),e.slotDuration=n}}(i,e,t);let l=r.slotLabelFormat,a=Array.isArray(l)?l:null!=l?[l]:function(e,t,r,s){let n,o;const{labelInterval:i}=e;let l=B(i).unit;const a=s.weekNumbers;let c=n=o=null;"week"!==l||a||(l="day");switch(l){case"year":c={year:"numeric"};break;case"month":Mt("years",t,r)>1&&(c={year:"numeric"}),n={month:"short"};break;case"week":Mt("years",t,r)>1&&(c={year:"numeric"}),n={week:"narrow"};break;case"day":Mt("years",t,r)>1?c={year:"numeric",month:"long"}:Mt("months",t,r)>1&&(c={month:"long"}),a&&(n={week:"short"}),o={weekday:"narrow",day:"numeric"};break;case"hour":a&&(c={week:"short"}),Mt("days",t,r)>1&&(n={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),o={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":te(i)/60>=wt?(c={hour:"numeric",meridiem:"short"},n=e=>":"+Se(e.date.minute,2)):c={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":ee(i)/60>=wt?(c={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},n=e=>":"+Se(e.date.second,2)):c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},n=e=>"."+Se(e.millisecond,3)}return[].concat(c||[],n||[],o||[])}(i,e,t,r);i.headerFormats=a.map((e=>_(e))),i.isTimeScale=Boolean(i.slotDuration.milliseconds);let c=null;if(!i.isTimeScale){const e=B(i.slotDuration).unit;/year|month|week/.test(e)&&(c=e)}i.largeUnit=c,i.emphasizeWeeks=1===Z(i.slotDuration)&&Mt("weeks",e,t)>=2&&!r.businessHours;let d,u,h=r.snapDuration;h&&(d=K(h),u=$(i.slotDuration,d)),null==u&&(d=i.slotDuration,u=1),i.snapDuration=d,i.snapsPerSlot=u;let f=J(e.slotMaxTime)-J(e.slotMinTime),p=Pt(e.renderRange.start,i,t),g=Pt(e.renderRange.end,i,t);i.isTimeScale&&(p=t.add(p,e.slotMinTime),g=t.add(n(g,-1),e.slotMaxTime)),i.timeWindowMs=f,i.normalizedRange={start:p,end:g};let m=[],S=p;for(;S<g;)It(S,i,e,s)&&m.push(S),S=t.add(S,i.slotDuration);i.slotDates=m;let R=-1,C=0;const v=[],y=[];for(S=p;S<g;)It(S,i,e,s)?(R+=1,v.push(R),y.push(C)):v.push(R+.5),S=t.add(S,i.snapDuration),C+=1;return i.snapDiffToIndex=v,i.snapIndexToDiff=y,i.snapCnt=R+1,i.slotCnt=i.snapCnt/i.snapsPerSlot,i.isWeekStarts=function(e,t){let{slotDates:r,emphasizeWeeks:s}=e,n=null,o=[];for(let i of r){let e=t.computeWeekNumber(i),r=s&&null!==n&&n!==e;n=e,o.push(r)}return o}(i,t),i.cellRows=function(e,t){let r=e.slotDates,s=e.headerFormats,n=s.map((()=>[])),o=Z(e.slotDuration),i=7===o?"week":1===o?"day":null,l=s.map((e=>e.getLargestUnit?e.getLargestUnit():null));for(let a=0;a<r.length;a+=1){let o=r[a],c=e.isWeekStarts[a];for(let r=0;r<s.length;r+=1){let a=s[r],d=n[r],u=d[d.length-1],h=r===s.length-1,f=s.length>1&&!h,p=null,g=l[r]||(h?i:null);if(f){let e=t.format(o,a);u&&u.text===e?u.colspan+=1:p=Wt(o,e,g)}else if(!u||se(t.countDurationsBetween(e.normalizedRange.start,o,e.labelInterval))){p=Wt(o,t.format(o,a),g)}else u.colspan+=1;p&&(p.weekStart=c,d.push(p))}}return n}(i,t),i.slotsPerLabel=$(i.labelInterval,i.slotDuration),i}function Pt(e,t,r){let s=e;return t.isTimeScale||(s=Q(s),t.largeUnit&&(s=r.startOf(s,t.largeUnit))),s}function It(e,t,r,s){if(s.isHiddenDay(e))return!1;if(t.isTimeScale){let s=Q(e),n=e.valueOf()-s.valueOf()-J(r.slotMinTime);return n=(n%864e5+864e5)%864e5,n<t.timeWindowMs}return!0}function kt(e,t,r){const{currentRange:s}=t;let{labelInterval:n}=e;if(!n){let t;if(e.slotDuration){for(t of Et){const r=K(t),s=$(r,e.slotDuration);if(null!==s&&s<=wt){n=r;break}}n||(n=e.slotDuration)}else for(t of Et){n=K(t);if(r.countDurationsBetween(s.start,s.end,n)>=bt)break}e.labelInterval=n}return n}function Mt(e,t,r){let s=t.currentRange,n=null;return"years"===e?n=r.diffWholeYears(s.start,s.end):"months"===e||"weeks"===e?n=r.diffWholeMonths(s.start,s.end):"days"===e&&(n=re(s.start,s.end)),n||0}function Wt(e,t,r){return{date:e,text:t,rowUnit:r,colspan:1,isWeekStart:!1}}class Ht extends i{constructor(){super(...arguments),this.refineRenderProps=Re(Ot),this.buildCellNavLinkAttrs=q(Tt)}render(){let{props:e,context:r}=this,{dateEnv:s,options:n}=r,{cell:o,dateProfile:i,tDateProfile:l}=e,a=Ce(o.date,e.todayRange,e.nowDate,i),c=this.refineRenderProps({level:e.rowLevel,dateMarker:o.date,text:o.text,dateEnv:r.dateEnv,viewApi:r.viewApi});return t(be,{elTag:"th",elClasses:["fc-timeline-slot","fc-timeline-slot-label",o.isWeekStart&&"fc-timeline-slot-em",..."time"===o.rowUnit?ve(a,r.theme):ye(a,r.theme)],elAttrs:{colSpan:o.colspan,"data-date":s.formatIso(o.date,{omitTime:!l.isTimeScale,omitTimeZoneOffset:!0})},renderProps:c,generatorName:"slotLabelContent",customGenerator:n.slotLabelContent,defaultGenerator:Nt,classNameGenerator:n.slotLabelClassNames,didMount:n.slotLabelDidMount,willUnmount:n.slotLabelWillUnmount},(s=>t("div",{className:"fc-timeline-slot-frame",style:{height:e.rowInnerHeight}},t(s,{elTag:"a",elClasses:["fc-timeline-slot-cushion","fc-scrollgrid-sync-inner",e.isSticky&&"fc-sticky"],elAttrs:this.buildCellNavLinkAttrs(r,o.date,o.rowUnit)}))))}}function Tt(e,t,r){return r&&"time"!==r?we(e,t,r):{}}function Nt(e){return e.text}function Ot(e){return{level:e.level,date:e.dateEnv.toDate(e.dateMarker),view:e.viewApi,text:e.text}}class Lt extends i{render(){let{dateProfile:e,tDateProfile:s,rowInnerHeights:n,todayRange:o,nowDate:i}=this.props,{cellRows:l}=s;return t(r,null,l.map(((r,a)=>{let c=a===l.length-1,d=s.isTimeScale&&c;return t("tr",{key:a,className:["fc-timeline-header-row",d?"fc-timeline-header-row-chrono":""].join(" ")},r.map((r=>t(Ht,{key:r.date.toISOString(),cell:r,rowLevel:a,dateProfile:e,tDateProfile:s,todayRange:o,nowDate:i,rowInnerHeight:n&&n[a],isSticky:!c}))))})))}}class zt{constructor(e,t,r,s,n,o){this.slatRootEl=e,this.dateProfile=r,this.tDateProfile=s,this.dateEnv=n,this.isRtl=o,this.outerCoordCache=new xe(e,t,!0,!1),this.innerCoordCache=new xe(e,Ee(t,"div"),!0,!1)}isDateInRange(e){return De(this.dateProfile.currentRange,e)}dateToCoord(e){let{tDateProfile:t}=this,r=this.computeDateSnapCoverage(e)/t.snapsPerSlot,s=Math.floor(r);s=Math.min(s,t.slotCnt-1);let n=r-s,{innerCoordCache:o,outerCoordCache:i}=this;return this.isRtl?i.originClientRect.width-(i.rights[s]-o.getWidth(s)*n):i.lefts[s]+o.getWidth(s)*n}rangeToCoords(e){return{start:this.dateToCoord(e.start),end:this.dateToCoord(e.end)}}durationToCoord(e){let{dateProfile:t,tDateProfile:r,dateEnv:s,isRtl:n}=this,o=0;if(t){let i=s.add(t.activeRange.start,e);r.isTimeScale||(i=Q(i)),o=this.dateToCoord(i),!n&&o&&(o+=1)}return o}coordFromLeft(e){return this.isRtl?this.outerCoordCache.originClientRect.width-e:e}computeDateSnapCoverage(e){return Ut(e,this.tDateProfile,this.dateEnv)}}function Ut(e,t,r){let s=r.countDurationsBetween(t.normalizedRange.start,e,t.snapDuration);if(s<0)return 0;if(s>=t.snapDiffToIndex.length)return t.snapCnt;let n=Math.floor(s),o=t.snapDiffToIndex[n];return se(o)?o+=s-n:o=Math.ceil(o),o}function Bt(e,t){return null===e?{left:"",right:""}:t?{right:e,left:""}:{left:e,right:""}}function Gt(e,t){return e?t?{right:e.start,left:-e.end}:{left:e.start,right:-e.end}:{left:"",right:""}}class At extends i{constructor(){super(...arguments),this.rootElRef=D()}render(){let{props:e,context:r}=this,s=B(e.tDateProfile.slotDuration).unit,n=e.slatCoords&&e.slatCoords.dateProfile===e.dateProfile?e.slatCoords:null;return t(A,{unit:s},((s,o)=>t("div",{className:"fc-timeline-header",ref:this.rootElRef},t("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,t("tbody",null,t(Lt,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:s,todayRange:o,rowInnerHeights:e.rowInnerHeights}))),r.options.nowIndicator&&t("div",{className:"fc-timeline-now-indicator-container"},n&&n.isDateInRange(s)&&t(G,{elClasses:["fc-timeline-now-indicator-arrow"],elStyle:Bt(n.dateToCoord(s),r.isRtl),isAxis:!0,date:s})))))}componentDidMount(){this.updateSize()}componentDidUpdate(){this.updateSize()}updateSize(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())}computeMaxCushionWidth(){return Math.max(...R(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map((e=>e.getBoundingClientRect().width)))}}class _t extends i{render(){let{props:e,context:r}=this,{dateEnv:s,options:n,theme:o}=r,{date:i,tDateProfile:l,isEm:a}=e,c=Ce(e.date,e.todayRange,e.nowDate,e.dateProfile),d=Object.assign(Object.assign({date:s.toDate(e.date)},c),{view:r.viewApi});return t(be,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-slot","fc-timeline-slot-lane",a&&"fc-timeline-slot-em",l.isTimeScale?se(s.countDurationsBetween(l.normalizedRange.start,e.date,l.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor":"",...e.isDay?ye(c,o):ve(c,o)],elAttrs:{"data-date":s.formatIso(i,{omitTimeZoneOffset:!0,omitTime:!l.isTimeScale})},renderProps:d,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(e=>t(e,{elTag:"div"})))}}class jt extends i{render(){let{props:e}=this,{tDateProfile:r,cellElRefs:s}=e,{slotDates:n,isWeekStarts:o}=r,i=!r.isTimeScale&&!r.largeUnit;return t("tbody",null,t("tr",null,n.map(((n,l)=>{let a=n.toISOString();return t(_t,{key:a,elRef:s.createRef(a),date:n,dateProfile:e.dateProfile,tDateProfile:r,nowDate:e.nowDate,todayRange:e.todayRange,isEm:o[l],isDay:i})}))))}}class qt extends i{constructor(){super(...arguments),this.rootElRef=D(),this.cellElRefs=new a,this.handleScrollRequest=e=>{let{onScrollLeftRequest:t}=this.props,{coords:r}=this;if(t&&r){if(e.time){t(r.coordFromLeft(r.durationToCoord(e.time)))}return!0}return null}}render(){let{props:e,context:r}=this;return t("div",{className:"fc-timeline-slots",ref:this.rootElRef},t("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,t(jt,{cellElRefs:this.cellElRefs,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange})))}componentDidMount(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{props:e,context:t}=this;if(null!==e.clientWidth&&this.scrollResponder){this.rootElRef.current.offsetWidth&&(this.coords=new zt(this.rootElRef.current,(r=this.cellElRefs.currentMap,e.tDateProfile.slotDates.map((e=>{let t=e.toISOString();return r[t]}))),e.dateProfile,e.tDateProfile,t.dateEnv,t.isRtl),e.onCoords&&e.onCoords(this.coords),this.scrollResponder.update(!1))}var r}positionToHit(e){let{outerCoordCache:t}=this.coords,{dateEnv:r,isRtl:s}=this.context,{tDateProfile:n}=this.props,o=t.leftToIndex(e);if(null!=o){let i=t.getWidth(o),l=s?(t.rights[o]-e)/i:(e-t.lefts[o])/i,a=Math.floor(l*n.snapsPerSlot),c=r.add(n.slotDates[o],ne(n.snapDuration,a));return{dateSpan:{range:{start:c,end:r.add(c,n.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[o],left:t.lefts[o],right:t.rights[o]}}return null}}function Ft(e,t,r){let s=[];if(r)for(let n of e){let e=r.rangeToCoords(n),o=Math.round(e.start),i=Math.round(e.end);i-o<t&&(i=o+t),s.push({start:o,end:i})}return s}class Vt extends i{render(){let{props:e}=this,r=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&t("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(r,e.timelineCoords,"highlight"))}renderSegs(e,s,n){let{todayRange:o,nowDate:i}=this.props,{isRtl:l}=this.context,a=Ft(e,0,s),c=e.map(((e,r)=>{let s=Gt(a[r],l);return t("div",{key:ae(e.eventRange),className:"fc-timeline-bg-harness",style:s},"bg-event"===n?t(oe,Object.assign({seg:e},ie(e,o,i))):le(n))}));return t(r,null,c)}}class Xt extends ce{sliceRange(e,t,r,s,n){let o=function(e,t,r){if(!t.isTimeScale&&(e=me(e),t.largeUnit)){let s=e;((e={start:r.startOf(e.start,t.largeUnit),end:r.startOf(e.end,t.largeUnit)}).end.valueOf()!==s.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:r.add(e.end,t.slotDuration)})}return e}(e,s,n),i=[];if(Ut(o.start,s,n)<Ut(o.end,s,n)){let e=de(o,s.normalizedRange);e&&i.push({start:e.start,end:e.end,isStart:e.start.valueOf()===o.start.valueOf()&&It(e.start,s,t,r),isEnd:e.end.valueOf()===o.end.valueOf()&&It(ue(e.end,-1),s,t,r)})}return i}}const Yt=_({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});class Zt extends i{render(){let{props:e}=this;return t(Ie,Object.assign({},e,{elClasses:["fc-timeline-event","fc-h-event"],defaultTimeFormat:Yt,defaultDisplayEventTime:!e.isTimeScale}))}}class Kt extends i{render(){let{props:e,context:s}=this,{hiddenSegs:n,placement:o,resourceId:i}=e,{top:l,hcoords:a}=o,c=a&&null!==l,d=Gt(a,s.isRtl),u=i?{resourceId:i}:{};return t(ke,{elRef:e.elRef,elClasses:["fc-timeline-more-link"],elStyle:Object.assign({visibility:c?"":"hidden",top:l||0},d),allDayDate:null,moreCnt:n.length,allSegs:n,hiddenSegs:n,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:u,popoverContent:()=>t(r,null,n.map((r=>{let s=r.eventRange.instance.instanceId;return t("div",{key:s,style:{visibility:e.isForcedInvisible[s]?"hidden":""}},t(Zt,Object.assign({isTimeScale:e.isTimeScale,seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection},ie(r,e.todayRange,e.nowDate))))})))},(e=>t(e,{elTag:"div",elClasses:["fc-timeline-more-link-inner","fc-sticky"]})))}}class $t extends i{constructor(){super(...arguments),this.slicer=new Xt,this.sortEventSegs=q(he),this.harnessElRefs=new a,this.moreElRefs=new a,this.innerElRef=D(),this.state={eventInstanceHeights:{},moreLinkHeights:{}},this.handleResize=e=>{e&&this.updateSize()}}render(){let{props:e,state:s,context:n}=this,{options:o}=n,{dateProfile:i,tDateProfile:l}=e,a=this.slicer.sliceProps(e,i,l.isTimeScale?null:e.nextDayThreshold,n,i,n.dateProfileGenerator,l,n.dateEnv),c=(a.eventDrag?a.eventDrag.segs:null)||(a.eventResize?a.eventResize.segs:null)||[],d=this.sortEventSegs(a.fgEventSegs,o.eventOrder),u=Ft(d,o.eventMinWidth,e.timelineCoords),[h,f]=function(e,t,r,s,n,o){let i=[],l=[];for(let R=0;R<e.length;R+=1){let s=e[R],n=r[s.eventRange.instance.instanceId],o=t[R];n&&o?i.push({index:R,span:o,thickness:n}):l.push({seg:s,hcoords:o,top:null})}let a=new Me;null!=n&&(a.strictOrder=n),null!=o&&(a.maxStackCnt=o);let c=a.addSegs(i),d=c.map((t=>({seg:e[t.index],hcoords:t.span,top:null}))),u=Pe(c),h=[],f=[];const p=t=>e[t.index];for(let R=0;R<u.length;R+=1){let t=u[R],r=t.entries.map(p),n=s[fe(pe(r))];null!=n?h.push({index:e.length+R,thickness:n,span:t.span}):f.push({seg:r,hcoords:t.span,top:null})}a.maxStackCnt=-1,a.addSegs(h);let g=a.toRects(),m=[],S=0;for(let R of g){let t=R.index;m.push({seg:t<e.length?e[t]:u[t-e.length].entries.map(p),hcoords:R.span,top:R.levelCoord}),S=Math.max(S,R.levelCoord+R.thickness)}return[m.concat(l,d,f),S]}(d,u,s.eventInstanceHeights,s.moreLinkHeights,o.eventOrderStrict,o.eventMaxStack),p=(a.eventDrag?a.eventDrag.affectedInstances:null)||(a.eventResize?a.eventResize.affectedInstances:null)||{};return t(r,null,t(Vt,{businessHourSegs:a.businessHourSegs,bgEventSegs:a.bgEventSegs,timelineCoords:e.timelineCoords,eventResizeSegs:a.eventResize?a.eventResize.segs:[],dateSelectionSegs:a.dateSelectionSegs,nowDate:e.nowDate,todayRange:e.todayRange}),t("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:f}},this.renderFgSegs(h,p,!1,!1,!1),this.renderFgSegs(function(e,t,r){if(!e.length||!t)return[];let s=function(e){let t={};for(let r of e){let{seg:e}=r;Array.isArray(e)||(t[e.eventRange.instance.instanceId]=r.top)}return t}(r);return e.map((e=>({seg:e,hcoords:t.rangeToCoords(e),top:s[e.eventRange.instance.instanceId]})))}(c,e.timelineCoords,h),{},Boolean(a.eventDrag),Boolean(a.eventResize),!1)))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){e.eventStore===this.props.eventStore&&e.timelineCoords===this.props.timelineCoords&&t.moreLinkHeights===this.state.moreLinkHeights||this.updateSize()}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateSize(){let{props:e}=this,{timelineCoords:t}=e;const r=this.innerElRef.current;e.onHeightChange&&e.onHeightChange(r,!1),t&&this.setState({eventInstanceHeights:y(this.harnessElRefs.currentMap,(e=>Math.round(e.getBoundingClientRect().height))),moreLinkHeights:y(this.moreElRefs.currentMap,(e=>Math.round(e.getBoundingClientRect().height)))},(()=>{e.onHeightChange&&e.onHeightChange(r,!0)})),e.syncParentMinHeight&&(r.parentElement.style.minHeight=r.style.height)}renderFgSegs(e,s,n,o,i){let{harnessElRefs:l,moreElRefs:a,props:c,context:d}=this,u=n||o||i;return t(r,null,e.map((e=>{let{seg:r,hcoords:h,top:f}=e;if(Array.isArray(r)){let n=fe(pe(r));return t(Kt,{key:"m:"+n,elRef:a.createRef(n),hiddenSegs:r,placement:e,dateProfile:c.dateProfile,nowDate:c.nowDate,todayRange:c.todayRange,isTimeScale:c.tDateProfile.isTimeScale,eventSelection:c.eventSelection,resourceId:c.resourceId,isForcedInvisible:s})}let p=r.eventRange.instance.instanceId,g=u||Boolean(!s[p]&&h&&null!==f),m=Gt(h,d.isRtl);return t("div",{key:"e:"+p,ref:u?null:l.createRef(p),className:"fc-timeline-event-harness",style:Object.assign({visibility:g?"":"hidden",top:f||0},m)},t(Zt,Object.assign({isTimeScale:c.tDateProfile.isTimeScale,seg:r,isDragging:n,isResizing:o,isDateSelecting:i,isSelected:p===c.eventSelection},ie(r,c.todayRange,c.nowDate))))})))}}$t.addStateEquality({eventInstanceHeights:x,moreLinkHeights:x});class Jt extends j{constructor(){super(...arguments),this.slatsRef=D(),this.state={coords:null},this.handeEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleCoords=e=>{this.setState({coords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:s,context:n}=this,{options:o}=n,{dateProfile:i,tDateProfile:l}=e,a=B(l.slotDuration).unit;return t("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:e.tableMinWidth,height:e.clientHeight,width:e.clientWidth}},t(A,{unit:a},((a,c)=>t(r,null,t(qt,{ref:this.slatsRef,dateProfile:i,tDateProfile:l,nowDate:a,todayRange:c,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleCoords,onScrollLeftRequest:e.onScrollLeftRequest}),t($t,{dateProfile:i,tDateProfile:e.tDateProfile,nowDate:a,todayRange:c,nextDayThreshold:o.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:s.coords,syncParentMinHeight:!0}),o.nowIndicator&&s.coords&&s.coords.isDateInRange(a)&&t("div",{className:"fc-timeline-now-indicator-container"},t(G,{elClasses:["fc-timeline-now-indicator-line"],elStyle:Bt(s.coords.dateToCoord(a),n.isRtl),isAxis:!1,date:a}))))))}queryHit(e,t,r,s){let n=this.slatsRef.current.positionToHit(e);return n?{dateProfile:this.props.dateProfile,dateSpan:n.dateSpan,rect:{left:n.left,right:n.right,top:0,bottom:s},dayEl:n.dayEl,layer:0}:null}}function Qt(e,t){return[{span:e.slotCnt,minWidth:t||1}]}Y('.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;pointer-events:none;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:var(--fc-small-font-size);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:"";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;font-size:var(--fc-small-font-size);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}');var er=e({name:"@fullcalendar/timeline",premiumReleaseDate:"2024-07-12",deps:[tt],initialView:"timelineDay",views:{timeline:{component:class extends j{constructor(){super(...arguments),this.buildTimelineDateProfile=q(Dt),this.scrollGridRef=D(),this.state={slatCoords:null,slotCushionMaxWidth:null},this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleScrollLeftRequest=e=>{this.scrollGridRef.current.forceScrollLeft(0,e)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})}}render(){let{props:e,state:r,context:s}=this,{options:n}=s,o=!e.forPrint&&F(n),i=!e.forPrint&&V(n),l=this.buildTimelineDateProfile(e.dateProfile,s.dateEnv,n,s.dateProfileGenerator),{slotMinWidth:a}=n,c=Qt(l,a||this.computeFallbackSlotMinWidth(l)),d=[{type:"header",key:"header",isSticky:o,chunks:[{key:"timeline",content:s=>t(At,{dateProfile:e.dateProfile,clientWidth:s.clientWidth,clientHeight:s.clientHeight,tableMinWidth:s.tableMinWidth,tableColGroupNode:s.tableColGroupNode,tDateProfile:l,slatCoords:r.slatCoords,onMaxCushionWidth:a?null:this.handleMaxCushionWidth})}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:r=>t(Jt,Object.assign({},e,{clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,tDateProfile:l,onSlatCoords:this.handleSlatCoords,onScrollLeftRequest:this.handleScrollLeftRequest}))}]}];return i&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:ge}]}),t(X,{elClasses:["fc-timeline",!1===n.eventOverlap?"fc-timeline-overlap-disabled":""],viewSpec:s.viewSpec},t(ut,{ref:this.scrollGridRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:c}],sections:d}))}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}},usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});const tr="_fc:",rr={id:String,parentId:String,children:Ge,title:String,businessHours:Ge,extendedProps:Ge,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:Ge,eventOverlap:Boolean,eventAllow:Ge,eventClassNames:Ae,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function sr(e,t="",r,s){let{refined:n,extra:o}=He(e,rr),i={id:n.id||tr+Te(),parentId:n.parentId||t,title:n.title||"",businessHours:n.businessHours?Ne(n.businessHours,s):null,ui:Oe({editable:n.eventEditable,startEditable:n.eventStartEditable,durationEditable:n.eventDurationEditable,constraint:n.eventConstraint,overlap:n.eventOverlap,allow:n.eventAllow,classNames:n.eventClassNames,backgroundColor:n.eventBackgroundColor,borderColor:n.eventBorderColor,textColor:n.eventTextColor,color:n.eventColor},s),extendedProps:Object.assign(Object.assign({},o),n.extendedProps)};if(Object.freeze(i.ui.classNames),Object.freeze(i.extendedProps),r[i.id]);else if(r[i.id]=i,n.children)for(let l of n.children)sr(l,i.id,r,s);return i}function nr(e){return 0===e.indexOf(tr)?"":e}class or{constructor(e,t){this._context=e,this._resource=t}setProp(e,t){let r=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:r.id,propName:e,propValue:t}),this.sync(r)}setExtendedProp(e,t){let r=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:r.id,propName:e,propValue:t}),this.sync(r)}sync(e){let t=this._context,r=e.id;this._resource=t.getCurrentData().resourceStore[r],t.emitter.trigger("resourceChange",{oldResource:new or(t,e),resource:this,revert(){t.dispatch({type:"ADD_RESOURCE",resourceHash:{[r]:e}})}})}remove(){let e=this._context,t=this._resource,r=t.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:r}),e.emitter.trigger("resourceRemove",{resource:this,revert(){e.dispatch({type:"ADD_RESOURCE",resourceHash:{[r]:t}})}})}getParent(){let e=this._context,t=this._resource.parentId;return t?new or(e,e.getCurrentData().resourceStore[t]):null}getChildren(){let e=this._resource.id,t=this._context,{resourceStore:r}=t.getCurrentData(),s=[];for(let n in r)r[n].parentId===e&&s.push(new or(t,r[n]));return s}getEvents(){let e=this._resource.id,t=this._context,{defs:r,instances:s}=t.getCurrentData().eventStore,n=[];for(let o in s){let i=s[o],l=r[i.defId];-1!==l.resourceIds.indexOf(e)&&n.push(new Le(t,l,i))}return n}get id(){return nr(this._resource.id)}get title(){return this._resource.title}get eventConstraint(){return this._resource.ui.constraints[0]||null}get eventOverlap(){return this._resource.ui.overlap}get eventAllow(){return this._resource.ui.allows[0]||null}get eventBackgroundColor(){return this._resource.ui.backgroundColor}get eventBorderColor(){return this._resource.ui.borderColor}get eventTextColor(){return this._resource.ui.textColor}get eventClassNames(){return this._resource.ui.classNames}get extendedProps(){return this._resource.extendedProps}toPlainObject(e={}){let t=this._resource,{ui:r}=t,s=this.id,n={};return s&&(n.id=s),t.title&&(n.title=t.title),e.collapseEventColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?n.eventColor=r.backgroundColor:(r.backgroundColor&&(n.eventBackgroundColor=r.backgroundColor),r.borderColor&&(n.eventBorderColor=r.borderColor)),r.textColor&&(n.eventTextColor=r.textColor),r.classNames.length&&(n.eventClassNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(n,t.extendedProps):n.extendedProps=t.extendedProps),n}toJSON(){return this.toPlainObject()}}class ir extends ze{getKeyInfo(e){return Object.assign({"":{}},e.resourceStore)}getKeysForDateSpan(e){return[e.resourceId||""]}getKeysForEventDef(e){let t=e.resourceIds;return t.length?t:[""]}}const lr=We("id,title");function ar(e){return{resource:new or(e.context,e.resource)}}function cr(e,t,r,s,n,o){let i=function(e,t,r,s){let n=function(e,t){let r={};for(let s in e){let t=e[s];r[s]={resource:t,resourceFields:fr(t),children:[]}}for(let s in e){let n=e[s];if(n.parentId){let e=r[n.parentId];e&&hr(r[s],e.children,t)}}return r}(e,s),o=[];for(let i in n){let e=n[i];e.resource.parentId||ur(e,o,r,0,t,s)}return o}(e,s?-1:1,t,r),l=[];return dr(i,l,s,[],0,n,o),l}function dr(e,t,r,s,n,o,i){for(let l=0;l<e.length;l+=1){let a=e[l],c=a.group;if(c)if(r){let e=t.length,l=s.length;if(dr(a.children,t,r,s.concat(0),n,o,i),e<t.length){let r=t[e];(r.rowSpans=r.rowSpans.slice())[l]=t.length-e}}else{let e=c.spec.field+":"+c.value,l=null!=o[e]?o[e]:i;t.push({id:e,group:c,isExpanded:l}),l&&dr(a.children,t,r,s,n+1,o,i)}else if(a.resource){let e=a.resource.id,l=null!=o[e]?o[e]:i;t.push({id:e,rowSpans:s,depth:n,isExpanded:l,hasChildren:Boolean(a.children.length),resource:a.resource,resourceFields:a.resourceFields}),l&&dr(a.children,t,r,s,n+1,o,i)}}}function ur(e,t,r,s,n,o){if(r.length&&(-1===n||s<=n)){let i=function(e,t,r){let s,n,o=e.resourceFields[r.field];if(r.order)for(n=0;n<t.length;n+=1){let e=t[n];if(e.group){let t=Ue(o,e.group.value)*r.order;if(0===t){s=e;break}if(t<0)break}}else for(n=0;n<t.length;n+=1){let e=t[n];if(e.group&&o===e.group.value){s=e;break}}s||(s={group:{value:o,spec:r},children:[]},t.splice(n,0,s));return s}(e,t,r[0]);ur(e,i.children,r.slice(1),s+1,n,o)}else hr(e,t,o)}function hr(e,t,r){let s;for(s=0;s<t.length;s+=1){if(Be(t[s].resourceFields,e.resourceFields,r)>0)break}t.splice(s,0,e)}function fr(e){let t=Object.assign(Object.assign(Object.assign({},e.extendedProps),e.ui),e);return delete t.ui,delete t.extendedProps,t}function pr(e,t){let{resourceEditable:r}=e;if(null==r){let s=e.sourceId&&t.getCurrentData().eventSources[e.sourceId];s&&(r=s.extendedProps.resourceEditable),null==r&&(r=t.options.eventResourceEditable,null==r&&(r=t.options.editable))}return r}function gr(e,t,r,s){if(t){let t=function(e,t){return qe(e,(e=>Xe(e.range,t)))}(r.instances,s),n=function(e,t){let r={};for(let s in e){let n=e[s];for(let e of t[n.defId].resourceIds)r[e]=!0}return r}(t,r.defs);return Object.assign(n,function(e,t){let r={};for(let s in e){let e;for(;(e=t[s])&&(s=e.parentId,s);)r[s]=!0}return r}(n,e)),qe(e,((e,t)=>n[t]))}return e}function mr(e){return y(e,(e=>e.ui))}function Sr(e,t,r){return y(e,((e,s)=>s?function(e,t,r){let s=[];for(let n of t.resourceIds)r[n]&&s.unshift(r[n]);return s.unshift(e),Ye(s)}(e,t[s],r):e))}let Rr=[];function Cr(e){Rr.push(e)}function vr(e){return Rr[e]}function yr(){return Rr}const br={id:String,resources:Ge,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:Ge};function wr(e){let t;if("string"==typeof e?t={url:e}:"function"==typeof e||Array.isArray(e)?t={resources:e}:"object"==typeof e&&e&&(t=e),t){let{refined:r,extra:s}=He(t,br);!function(e){for(let t in e)console.warn(`Unknown resource prop '${t}'`)}(s);let n=function(e){let t=yr();for(let r=t.length-1;r>=0;r-=1){let s=t[r].parseMeta(e);if(s)return{meta:s,sourceDefId:r}}return null}(r);if(n)return{_raw:e,sourceId:Te(),sourceDefId:n.sourceDefId,meta:n.meta,publicId:r.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function xr(e,t,r){let{options:s,dateProfile:n}=r;if(!e||!t)return Er(s.initialResources||s.resources,n.activeRange,s.refetchResourcesOnNavigate,r);switch(t.type){case"RESET_RESOURCE_SOURCE":return Er(t.resourceSourceInput,n.activeRange,s.refetchResourcesOnNavigate,r);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return function(e,t,r,s){if(r&&!function(e){return Boolean(vr(e.sourceDefId).ignoreRange)}(e)&&(!e.fetchRange||!Fe(e.fetchRange,t)))return Dr(e,t,s);return e}(e,n.activeRange,s.refetchResourcesOnNavigate,r);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(e,t,r){if(t===e.latestFetchId)return Object.assign(Object.assign({},e),{isFetching:!1,fetchRange:r});return e}(e,t.fetchId,t.fetchRange);case"REFETCH_RESOURCES":return Dr(e,n.activeRange,r);default:return e}}function Er(e,t,r,s){if(e){let n=wr(e);return n=Dr(n,r?t:null,s),n}return null}function Dr(e,t,r){let s=vr(e.sourceDefId),n=Te();return s.fetch({resourceSource:e,range:t,context:r},(e=>{r.dispatch({type:"RECEIVE_RESOURCES",fetchId:n,fetchRange:t,rawResources:e.rawResources})}),(e=>{r.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:n,fetchRange:t,error:e})})),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:n})}function Pr(e,t,r,s){if(!e||!t)return{};switch(t.type){case"RECEIVE_RESOURCES":return function(e,t,r,s,n){if(s.latestFetchId===r){let e={};for(let r of t)sr(r,"",e,n);return e}return e}(e,t.rawResources,t.fetchId,r,s);case"ADD_RESOURCE":return n=e,o=t.resourceHash,Object.assign(Object.assign({},n),o);case"REMOVE_RESOURCE":return function(e,t){let r=Object.assign({},e);delete r[t];for(let s in r)r[s].parentId===t&&(r[s]=Object.assign(Object.assign({},r[s]),{parentId:""}));return r}(e,t.resourceId);case"SET_RESOURCE_PROP":return function(e,t,r,s){let n=e[t];if(n)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},n),{[r]:s})});return e}(e,t.resourceId,t.propName,t.propValue);case"SET_RESOURCE_EXTENDED_PROP":return function(e,t,r,s){let n=e[t];if(n)return Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},n),{extendedProps:Object.assign(Object.assign({},n.extendedProps),{[r]:s})})});return e}(e,t.resourceId,t.propName,t.propValue);default:return e}var n,o}const Ir={resourceId:String,resourceIds:Ge,resourceEditable:Boolean};function kr(e,t){return Object.assign(Object.assign({},t),{constraints:Mr(e,t.constraints)})}function Mr(e,t){return t.map((t=>{let r=t.defs;if(r)for(let s in r){let t=r[s].resourceIds;if(t.length&&-1===t.indexOf(e))return!1}return t}))}Ve.prototype.addResource=function(e,t=!0){let r,s,n=this.getCurrentData();e instanceof or?(s=e._resource,r={[s.id]:s}):(r={},s=sr(e,"",r,n)),this.dispatch({type:"ADD_RESOURCE",resourceHash:r}),t&&this.trigger("_scrollRequest",{resourceId:s.id});let o=new or(n,s);return n.emitter.trigger("resourceAdd",{resource:o,revert:()=>{this.dispatch({type:"REMOVE_RESOURCE",resourceId:s.id})}}),o},Ve.prototype.getResourceById=function(e){e=String(e);let t=this.getCurrentData();if(t.resourceStore){let r=t.resourceStore[e];if(r)return new or(t,r)}return null},Ve.prototype.getResources=function(){let e=this.getCurrentData(),{resourceStore:t}=e,r=[];if(t)for(let s in t)r.push(new or(e,t[s]));return r},Ve.prototype.getTopLevelResources=function(){let e=this.getCurrentData(),{resourceStore:t}=e,r=[];if(t)for(let s in t)t[s].parentId||r.push(new or(e,t[s]));return r},Ve.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};const Wr={resources:function(e,t){t.getCurrentData().resourceSource._raw!==e&&t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}};const Hr={initialResources:Ge,resources:Ge,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:We,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:Ge,resourceAreaColumns:Ge,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:Ge,resourceAreaHeaderContent:Ge,resourceAreaHeaderDidMount:Ge,resourceAreaHeaderWillUnmount:Ge,resourceGroupLabelClassNames:Ge,resourceGroupLabelContent:Ge,resourceGroupLabelDidMount:Ge,resourceGroupLabelWillUnmount:Ge,resourceLabelClassNames:Ge,resourceLabelContent:Ge,resourceLabelDidMount:Ge,resourceLabelWillUnmount:Ge,resourceLaneClassNames:Ge,resourceLaneContent:Ge,resourceLaneDidMount:Ge,resourceLaneWillUnmount:Ge,resourceGroupLaneClassNames:Ge,resourceGroupLaneContent:Ge,resourceGroupLaneDidMount:Ge,resourceGroupLaneWillUnmount:Ge},Tr={resourcesSet:Ge,resourceAdd:Ge,resourceChange:Ge,resourceRemove:Ge};Le.prototype.getResources=function(){let{calendarApi:e}=this._context;return this._def.resourceIds.map((t=>e.getResourceById(t)))},Le.prototype.setResources=function(e){let t=[];for(let r of e){let e=null;"string"==typeof r?e=r:"number"==typeof r?e=String(r):r instanceof or?e=r.id:console.warn("unknown resource type: "+r),e&&t.push(e)}this.mutate({standardProps:{resourceIds:t}})},Cr({ignoreRange:!0,parseMeta:e=>Array.isArray(e.resources)?e.resources:null,fetch(e,t){t({rawResources:e.resourceSource.meta})}}),Cr({parseMeta:e=>"function"==typeof e.resources?e.resources:null,fetch(e,t,r){const s=e.context.dateEnv,n=e.resourceSource.meta,o=e.range?{start:s.toDate(e.range.start),end:s.toDate(e.range.end),startStr:s.formatIso(e.range.start),endStr:s.formatIso(e.range.end),timeZone:s.timeZone}:{};Ze(n.bind(null,o),(e=>t({rawResources:e})),r)}}),Cr({parseMeta:e=>e.url?{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}:null,fetch(e,t,r){const s=e.resourceSource.meta,n=function(e,t,r){let s,n,o,i,{dateEnv:l,options:a}=r,c={};t&&(s=e.startParam,null==s&&(s=a.startParam),n=e.endParam,null==n&&(n=a.endParam),o=e.timeZoneParam,null==o&&(o=a.timeZoneParam),c[s]=l.formatIso(t.start),c[n]=l.formatIso(t.end),"local"!==l.timeZone&&(c[o]=l.timeZone));i="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};return Object.assign(c,i),c}(s,e.range,e.context);Ke(s.method,s.url,n).then((([e,r])=>{t({rawResources:e,response:r})}),r)}});var Nr=e({name:"@fullcalendar/resource",premiumReleaseDate:"2024-07-12",deps:[tt],reducers:[function(e,t,r){let s=xr(e&&e.resourceSource,t,r),n=Pr(e&&e.resourceStore,t,s,r),o=function(e,t){return e&&t?"SET_RESOURCE_ENTITY_EXPANDED"===t.type?Object.assign(Object.assign({},e),{[t.id]:t.isExpanded}):e:{}}(e&&e.resourceEntityExpansions,t);return{resourceSource:s,resourceStore:n,resourceEntityExpansions:o}}],isLoadingFuncs:[e=>e.resourceSource&&e.resourceSource.isFetching],eventRefiners:Ir,eventDefMemberAdders:[function(e){return{resourceIds:(t=e.resourceIds,(t||[]).map((e=>String(e)))).concat(e.resourceId?[e.resourceId]:[]),resourceEditable:e.resourceEditable};var t}],isDraggableTransformers:[function(e,t,r,s){if(!e){let e=s.getCurrentData();if(e.viewSpecs[e.currentViewType].optionDefaults.needsResourceData&&pr(t,s))return!0}return e}],eventDragMutationMassagers:[function(e,t,r){let s=t.dateSpan.resourceId,n=r.dateSpan.resourceId;s&&n&&s!==n&&(e.resourceMutation={matchResourceId:s,setResourceId:n})}],eventDefMutationAppliers:[function(e,t,r){let s=t.resourceMutation;if(s&&pr(e,r)){let t=e.resourceIds.indexOf(s.matchResourceId);if(-1!==t){let r=e.resourceIds.slice();r.splice(t,1),-1===r.indexOf(s.setResourceId)&&r.push(s.setResourceId),e.resourceIds=r}}}],dateSelectionTransformers:[function(e,t){let r=e.dateSpan.resourceId,s=t.dateSpan.resourceId;return r&&s?{resourceId:r}:null}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[class{constructor(){this.filterResources=q(gr)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(t.resourceStore,t.options.filterResourcesWithEvents,t.eventStore,t.dateProfile.activeRange),resourceEntityExpansions:t.resourceEntityExpansions}:null}},class{constructor(){this.buildResourceEventUis=q(mr,x),this.injectResourceEventUis=q(Sr)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(t.resourceStore))}}}],isPropsValid:function(e,t){let r=(new ir).splitProps(Object.assign(Object.assign({},e),{resourceStore:t.getCurrentData().resourceStore}));for(let s in r){let e=r[s];if(s&&r[""]&&(e=Object.assign(Object.assign({},e),{eventStore:_e(r[""].eventStore,e.eventStore),eventUiBases:Object.assign(Object.assign({},r[""].eventUiBases),e.eventUiBases)})),!je(e,t,{resourceId:s},kr.bind(null,s)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventDropTransformers:[function(e,t){let{resourceMutation:r}=e;if(r){let{calendarApi:e}=t;return{oldResource:e.getResourceById(r.matchResourceId),newResource:e.getResourceById(r.setResourceId)}}return{oldResource:null,newResource:null}}],optionChangeHandlers:Wr,optionRefiners:Hr,listenerRefiners:Tr,propSetHandlers:{resourceStore:function(e,t){let{emitter:r}=t;r.hasHandlers("resourcesSet")&&r.trigger("resourcesSet",function(e,t){let r=[];for(let s in e)r.push(new or(t,e[s]));return r}(e,t))}}});function Or({depth:e,hasChildren:s,isExpanded:n,onExpanderClick:o}){let i=[];for(let r=0;r<e;r+=1)i.push(t("span",{className:"fc-icon"}));let l=["fc-icon"];return s&&(n?l.push("fc-icon-minus-square"):l.push("fc-icon-plus-square")),i.push(t("span",{className:"fc-datagrid-expander"+(s?"":" fc-datagrid-expander-placeholder"),onClick:o},t("span",{className:l.join(" ")}))),t(r,{},...i)}class Lr extends i{constructor(){super(...arguments),this.refineRenderProps=Re(Ur),this.onExpanderClick=e=>{let{props:t}=this;t.hasChildren&&this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.resource.id,isExpanded:!t.isExpanded})}}render(){let{props:e,context:r}=this,{colSpec:s}=e,n=this.refineRenderProps({resource:e.resource,fieldValue:e.fieldValue,context:r});return t(be,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":e.resource.id},renderProps:n,generatorName:s.isMain?"resourceLabelContent":void 0,customGenerator:s.cellContent,defaultGenerator:zr,classNameGenerator:s.cellClassNames,didMount:s.cellDidMount,willUnmount:s.cellWillUnmount},(r=>t("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},t("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},s.isMain&&t(Or,{depth:e.depth,hasChildren:e.hasChildren,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),t(r,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))))}}function zr(e){return e.fieldValue||t(r,null,"")}function Ur(e){return{resource:new or(e.context,e.resource),fieldValue:e.fieldValue,view:e.context.viewApi}}class Br extends i{render(){let{props:e,context:r}=this,{colSpec:s}=e,n={groupValue:e.fieldValue,view:r.viewApi};return t(be,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:e.rowSpan},renderProps:n,generatorName:"resourceGroupLabelContent",customGenerator:s.cellContent,defaultGenerator:Gr,classNameGenerator:s.cellClassNames,didMount:s.cellDidMount,willUnmount:s.cellWillUnmount},(e=>t("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},t(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]}))))}}function Gr(e){return e.groupValue||t(r,null,"")}class Ar extends i{render(){let{props:e}=this,{resource:r,rowSpans:s,depth:n}=e,o=fr(r);return t("tr",{role:"row"},e.colSpecs.map(((i,l)=>{let a=s[l];if(0===a)return null;null==a&&(a=1);let c=i.field?o[i.field]:r.title||nr(r.id);return a>1?t(Br,{key:l,colSpec:i,fieldValue:c,rowSpan:a}):t(Lr,{key:l,colSpec:i,resource:r,fieldValue:c,depth:n,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})})))}}Ar.addPropsEquality({rowSpans:w});class _r extends i{constructor(){super(...arguments),this.innerInnerRef=D(),this.onExpanderClick=()=>{let{props:e}=this;this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})}}render(){let{props:e,context:r}=this,s={groupValue:e.group.value,view:r.viewApi},n=e.group.spec;return t("tr",{role:"row"},t(be,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",r.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.spreadsheetColCnt},renderProps:s,generatorName:"resourceGroupLabelContent",customGenerator:n.labelContent,defaultGenerator:jr,classNameGenerator:n.labelClassNames,didMount:n.labelDidMount,willUnmount:n.labelWillUnmount},(r=>t("div",{className:"fc-datagrid-cell-frame",style:{height:e.innerHeight}},t("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:this.innerInnerRef},t(Or,{depth:0,hasChildren:!0,isExpanded:e.isExpanded,onExpanderClick:this.onExpanderClick}),t(r,{elTag:"span",elClasses:["fc-datagrid-cell-main"]}))))))}}function jr(e){return e.groupValue||t(r,null,"")}_r.addPropsEquality({group:function(e,t){return e.spec===t.spec&&e.value===t.value}});class qr extends i{constructor(){super(...arguments),this.resizerElRefs=new a(this._handleColResizerEl.bind(this)),this.colDraggings={}}render(){let{colSpecs:e,superHeaderRendering:s,rowInnerHeights:n}=this.props,o={view:this.context.viewApi},i=[];if(n=n.slice(),s){let r=n.shift();i.push(t("tr",{key:"row-super",role:"row"},t(be,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.length},renderProps:o,generatorName:"resourceAreaHeaderContent",customGenerator:s.headerContent,defaultGenerator:s.headerDefault,classNameGenerator:s.headerClassNames,didMount:s.headerDidMount,willUnmount:s.headerWillUnmount},(e=>t("div",{className:"fc-datagrid-cell-frame",style:{height:r}},t(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]}))))))}let l=n.shift();return i.push(t("tr",{key:"row",role:"row"},e.map(((r,s)=>{let n=s===e.length-1;return t(be,{key:s,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:o,generatorName:"resourceAreaHeaderContent",customGenerator:r.headerContent,defaultGenerator:r.headerDefault,classNameGenerator:r.headerClassNames,didMount:r.headerDidMount,willUnmount:r.headerWillUnmount},(e=>t("div",{className:"fc-datagrid-cell-frame",style:{height:l}},t("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},r.isMain&&t("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},t("span",{className:"fc-icon"})),t(e,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!n&&t("div",{className:"fc-datagrid-cell-resizer",ref:this.resizerElRefs.createRef(s)}))))})))),t(r,null,i)}_handleColResizerEl(e,t){let{colDraggings:r}=this;if(e){let s=this.initColResizing(e,parseInt(t,10));s&&(r[t]=s)}else{let e=r[t];e&&(e.destroy(),delete r[t])}}initColResizing(e,t){let{pluginHooks:r,isRtl:s}=this.context,{onColWidthChange:n}=this.props,o=r.elementDraggingImpl;if(o){let r,i,l=new o(e);return l.emitter.on("dragstart",(()=>{let s=R($e(e,"tr"),"th");i=s.map((e=>e.getBoundingClientRect().width)),r=i[t]})),l.emitter.on("dragmove",(e=>{i[t]=Math.max(r+e.deltaX*(s?-1:1),20),n&&n(i.slice())})),l.setAutoScrollEnabled(!1),l}return null}}class Fr extends i{constructor(){super(...arguments),this.refineRenderProps=Re(ar),this.handleHeightChange=(e,t)=>{this.props.onHeightChange&&this.props.onHeightChange($e(e,"tr"),t)}}render(){let{props:e,context:r}=this,{options:s}=r,n=this.refineRenderProps({resource:e.resource,context:r});return t("tr",{ref:e.elRef},t(be,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":e.resource.id},renderProps:n,generatorName:"resourceLaneContent",customGenerator:s.resourceLaneContent,classNameGenerator:s.resourceLaneClassNames,didMount:s.resourceLaneDidMount,willUnmount:s.resourceLaneWillUnmount},(r=>t("div",{className:"fc-timeline-lane-frame",style:{height:e.innerHeight}},t(r,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),t($t,{dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,timelineCoords:e.timelineCoords,onHeightChange:this.handleHeightChange,resourceId:e.resource.id})))))}}class Vr extends i{render(){let{props:e,context:r}=this,{renderHooks:s}=e,n={groupValue:e.groupValue,view:r.viewApi};return t("tr",{ref:e.elRef},t(be,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-lane","fc-resource-group",r.theme.getClass("tableCellShaded")],renderProps:n,generatorName:"resourceGroupLaneContent",customGenerator:s.laneContent,classNameGenerator:s.laneClassNames,didMount:s.laneDidMount,willUnmount:s.laneWillUnmount},(r=>t(r,{elTag:"div",elStyle:{height:e.innerHeight}}))))}}class Xr extends i{render(){let{props:e,context:r}=this,{rowElRefs:s,innerHeights:n}=e;return t("tbody",null,e.rowNodes.map(((o,i)=>{if(o.group)return t(Vr,{key:o.id,elRef:s.createRef(o.id),groupValue:o.group.value,renderHooks:o.group.spec,innerHeight:n[i]||""});if(o.resource){let l=o.resource;return t(Fr,Object.assign({key:o.id,elRef:s.createRef(o.id)},e.splitProps[l.id],{resource:l,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:r.options.nextDayThreshold,businessHours:l.businessHours||e.fallbackBusinessHours,innerHeight:n[i]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}return null})))}}class Yr extends i{constructor(){super(...arguments),this.rootElRef=D(),this.rowElRefs=new a}render(){let{props:e,context:r}=this;return t("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},t(Xr,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}componentWillUnmount(){this.props.onRowCoords&&this.props.onRowCoords(null)}updateCoords(){let{props:e}=this;var t;e.onRowCoords&&null!==e.clientWidth&&this.props.onRowCoords(new xe(this.rootElRef.current,(t=this.rowElRefs.currentMap,e.rowNodes.map((e=>t[e.id]))),!1,!0))}}class Zr extends j{constructor(){super(...arguments),this.computeHasResourceBusinessHours=q(Kr),this.resourceSplitter=new ir,this.bgSlicer=new Xt,this.slatsRef=D(),this.state={slatCoords:null},this.handleEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)},this.handleRowCoords=e=>{this.rowCoords=e,this.props.onRowCoords&&this.props.onRowCoords(e)}}render(){let{props:e,state:s,context:n}=this,{dateProfile:o,tDateProfile:i}=e,l=B(i.slotDuration).unit,a=this.computeHasResourceBusinessHours(e.rowNodes),c=this.resourceSplitter.splitProps(e),d=c[""],u=this.bgSlicer.sliceProps(d,o,i.isTimeScale?null:e.nextDayThreshold,n,o,n.dateProfileGenerator,i,n.dateEnv),h=s.slatCoords&&s.slatCoords.dateProfile===e.dateProfile?s.slatCoords:null;return t("div",{ref:this.handleEl,className:["fc-timeline-body",e.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:e.tableMinWidth}},t(A,{unit:l},((s,l)=>t(r,null,t(qt,{ref:this.slatsRef,dateProfile:o,tDateProfile:i,nowDate:s,todayRange:l,clientWidth:e.clientWidth,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,onCoords:this.handleSlatCoords,onScrollLeftRequest:e.onScrollLeftRequest}),t(Vt,{businessHourSegs:a?null:u.businessHourSegs,bgEventSegs:u.bgEventSegs,timelineCoords:h,eventResizeSegs:u.eventResize?u.eventResize.segs:[],dateSelectionSegs:u.dateSelectionSegs,nowDate:s,todayRange:l}),t(Yr,{rowNodes:e.rowNodes,dateProfile:o,tDateProfile:e.tDateProfile,nowDate:s,todayRange:l,splitProps:c,fallbackBusinessHours:a?e.businessHours:null,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,innerHeights:e.rowInnerHeights,slatCoords:h,onRowCoords:this.handleRowCoords,onRowHeightChange:e.onRowHeightChange}),n.options.nowIndicator&&h&&h.isDateInRange(s)&&t("div",{className:"fc-timeline-now-indicator-container"},t(G,{elClasses:["fc-timeline-now-indicator-line"],elStyle:Bt(h.dateToCoord(s),n.isRtl),isAxis:!1,date:s}))))))}queryHit(e,t){let r=this.rowCoords,s=r.topToIndex(t);if(null!=s){let t=this.props.rowNodes[s].resource;if(t){let n=this.slatsRef.current.positionToHit(e);if(n)return{dateProfile:this.props.dateProfile,dateSpan:{range:n.dateSpan.range,allDay:n.dateSpan.allDay,resourceId:t.id},rect:{left:n.left,right:n.right,top:r.tops[s],bottom:r.bottoms[s]},dayEl:n.dayEl,layer:0}}}return null}}function Kr(e){for(let t of e){let e=t.resource;if(e&&e.businessHours)return!0}return!1}class $r extends i{constructor(){super(...arguments),this.scrollGridRef=D(),this.timeBodyScrollerElRef=D(),this.spreadsheetHeaderChunkElRef=D(),this.rootElRef=D(),this.ensureScrollGridResizeId=0,this.state={resourceAreaWidthOverride:null},this.ensureScrollGridResize=()=>{this.ensureScrollGridResizeId&&clearTimeout(this.ensureScrollGridResizeId),this.ensureScrollGridResizeId=setTimeout((()=>{this.scrollGridRef.current.handleSizing(!1)}),o.SCROLLGRID_RESIZE_INTERVAL+1)}}render(){let{props:e,state:r,context:s}=this,{options:n}=s,o=!e.forPrint&&F(n),i=!e.forPrint&&V(n),l=[{type:"header",key:"header",syncRowHeights:!0,isSticky:o,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:e.spreadsheetHeaderRows},{key:"divider",outerContent:t("td",{role:"presentation",className:"fc-resource-timeline-divider "+s.theme.getClass("tableCellShaded")})},{key:"timeline",content:e.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(n.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:e.spreadsheetBodyRows},{key:"divider",outerContent:t("td",{role:"presentation",className:"fc-resource-timeline-divider "+s.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:e.timeBodyContent}]}];i&&l.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:ge},{key:"divider",outerContent:t("td",{role:"presentation",className:"fc-resource-timeline-divider "+s.theme.getClass("tableCellShaded")})},{key:"timeline",content:ge}]});let a=null!=r.resourceAreaWidthOverride?r.resourceAreaWidthOverride:n.resourceAreaWidth;return t(ut,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:e.spreadsheetCols,width:a},{cols:[]},{cols:e.timeCols}],sections:l})}forceTimeScroll(e){this.scrollGridRef.current.forceScrollLeft(2,e)}forceResourceScroll(e){this.scrollGridRef.current.forceScrollTop(1,e)}getResourceScroll(){return this.timeBodyScrollerElRef.current.scrollTop}componentDidMount(){this.initSpreadsheetResizing()}componentWillUnmount(){this.destroySpreadsheetResizing()}initSpreadsheetResizing(){let{isRtl:e,pluginHooks:t}=this.context,r=t.elementDraggingImpl,s=this.spreadsheetHeaderChunkElRef.current;if(r){let t,n,o=this.rootElRef.current,i=this.spreadsheetResizerDragging=new r(o,".fc-resource-timeline-divider");i.emitter.on("dragstart",(()=>{t=s.getBoundingClientRect().width,n=o.getBoundingClientRect().width})),i.emitter.on("dragmove",(r=>{let s=t+r.deltaX*(e?-1:1);s=Math.max(s,30),s=Math.min(s,n-30),this.setState({resourceAreaWidthOverride:s},this.ensureScrollGridResize)})),i.setAutoScrollEnabled(!1)}}destroySpreadsheetResizing(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}}class Jr extends i{constructor(e,t){super(e,t),this.processColOptions=q(rs),this.buildTimelineDateProfile=q(Dt),this.hasNesting=q(ts),this.buildRowNodes=q(cr),this.layoutRef=D(),this.rowNodes=[],this.renderedRowNodes=[],this.buildRowIndex=q(Qr),this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleRowCoords=e=>{this.rowCoords=e,this.scrollResponder.update(!1)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})},this.handleScrollLeftRequest=e=>{this.layoutRef.current.forceTimeScroll(e)},this.handleScrollRequest=e=>{let{rowCoords:t}=this,r=this.layoutRef.current,s=e.rowId||e.resourceId;if(t){if(s){let n=this.buildRowIndex(this.renderedRowNodes)[s];if(null!=n){let s=null!=e.fromBottom?t.bottoms[n]-e.fromBottom:t.tops[n];r.forceResourceScroll(s)}}return!0}return null},this.handleColWidthChange=e=>{this.setState({spreadsheetColWidths:e})},this.state={resourceAreaWidth:t.options.resourceAreaWidth,spreadsheetColWidths:[]}}render(){let{props:e,state:s,context:n}=this,{options:o,viewSpec:i}=n,{superHeaderRendering:l,groupSpecs:a,orderSpecs:c,isVGrouping:d,colSpecs:u}=this.processColOptions(n.options),h=this.buildTimelineDateProfile(e.dateProfile,n.dateEnv,o,n.dateProfileGenerator),f=this.rowNodes=this.buildRowNodes(e.resourceStore,a,c,d,e.resourceEntityExpansions,o.resourcesInitiallyExpanded),{slotMinWidth:p}=o,g=Qt(h,p||this.computeFallbackSlotMinWidth(h));return t(X,{elClasses:["fc-resource-timeline",!this.hasNesting(f)&&"fc-resource-timeline-flat","fc-timeline",!1===o.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:i},t($r,{ref:this.layoutRef,forPrint:e.forPrint,isHeightAuto:e.isHeightAuto,spreadsheetCols:es(u,s.spreadsheetColWidths,""),spreadsheetHeaderRows:e=>t(qr,{superHeaderRendering:l,colSpecs:u,onColWidthChange:this.handleColWidthChange,rowInnerHeights:e.rowSyncHeights}),spreadsheetBodyRows:e=>t(r,null,this.renderSpreadsheetRows(f,u,e.rowSyncHeights)),timeCols:g,timeHeaderContent:r=>t(At,{clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,dateProfile:e.dateProfile,tDateProfile:h,slatCoords:s.slatCoords,rowInnerHeights:r.rowSyncHeights,onMaxCushionWidth:p?null:this.handleMaxCushionWidth}),timeBodyContent:r=>t(Zr,{dateProfile:e.dateProfile,clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,expandRows:r.expandRows,tDateProfile:h,rowNodes:f,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,resourceStore:e.resourceStore,nextDayThreshold:n.options.nextDayThreshold,rowInnerHeights:r.rowSyncHeights,onSlatCoords:this.handleSlatCoords,onRowCoords:this.handleRowCoords,onScrollLeftRequest:this.handleScrollLeftRequest,onRowHeightChange:r.reportRowHeightChange})}))}renderSpreadsheetRows(e,r,s){return e.map(((e,n)=>e.group?t(_r,{key:e.id,id:e.id,spreadsheetColCnt:r.length,isExpanded:e.isExpanded,group:e.group,innerHeight:s[n]||""}):e.resource?t(Ar,{key:e.id,colSpecs:r,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource,innerHeight:s[n]||""}):null))}componentDidMount(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}getSnapshotBeforeUpdate(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}componentDidUpdate(e,t,r){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),r.resourceScroll&&this.handleScrollRequest(r.resourceScroll)}componentWillUnmount(){this.scrollResponder.detach()}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}queryResourceScroll(){let{rowCoords:e,renderedRowNodes:t}=this;if(e){let r=this.layoutRef.current,s=e.bottoms,n=r.getResourceScroll(),o={};for(let e=0;e<s.length;e+=1){let r=t[e],i=s[e]-n;if(i>0){o.rowId=r.id,o.fromBottom=i;break}}return o}return null}}function Qr(e){let t={};for(let r=0;r<e.length;r+=1)t[e[r].id]=r;return t}function es(e,t,r=""){return e.map(((e,s)=>({className:e.isMain?"fc-main-col":"",width:t[s]||e.width||r})))}function ts(e){for(let t of e){if(t.group)return!0;if(t.resource&&t.hasChildren)return!0}return!1}function rs(e){let t=e.resourceAreaColumns||[],r=null;t.length?e.resourceAreaHeaderContent&&(r={headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDefault:()=>"Resources",headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount});let s=[],n=[],o=[],i=!1;for(let d of t)d.group?n.push(Object.assign(Object.assign({},d),{cellClassNames:d.cellClassNames||e.resourceGroupLabelClassNames,cellContent:d.cellContent||e.resourceGroupLabelContent,cellDidMount:d.cellDidMount||e.resourceGroupLabelDidMount,cellWillUnmount:d.cellWillUnmount||e.resourceGroupLaneWillUnmount})):s.push(d);let l=s[0];if(l.isMain=!0,l.cellClassNames=l.cellClassNames||e.resourceLabelClassNames,l.cellContent=l.cellContent||e.resourceLabelContent,l.cellDidMount=l.cellDidMount||e.resourceLabelDidMount,l.cellWillUnmount=l.cellWillUnmount||e.resourceLabelWillUnmount,n.length)o=n,i=!0;else{let t=e.resourceGroupField;t&&o.push({field:t,labelClassNames:e.resourceGroupLabelClassNames,labelContent:e.resourceGroupLabelContent,labelDidMount:e.resourceGroupLabelDidMount,labelWillUnmount:e.resourceGroupLabelWillUnmount,laneClassNames:e.resourceGroupLaneClassNames,laneContent:e.resourceGroupLaneContent,laneDidMount:e.resourceGroupLaneDidMount,laneWillUnmount:e.resourceGroupLaneWillUnmount})}let a=e.resourceOrder||lr,c=[];for(let d of a){let e=!1;for(let t of o)if(t.field===d.field){t.order=d.order,e=!0;break}e||c.push(d)}return{superHeaderRendering:r,isVGrouping:i,groupSpecs:o,colSpecs:n.concat(s),orderSpecs:c}}Jr.addStateEquality({spreadsheetColWidths:w});Y(".fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:var(--fc-neutral-bg-color)}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}");var ss=e({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2024-07-12",deps:[tt,Nr,er],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:Jr,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});export{ss as i};
