import{a as e,_ as l}from"./LeadAddUpdateModal.vue_vue_type_style_index_0_lang-d2ca9724.js";import{_ as a}from"./ProjectsTasks-6ef431ee.js";import{u as t,_ as s,a as i}from"./groupedCircleCharts-6fbb9924.js";import{b as n,u as o,a as d,c,_ as r}from"./groupedRadialCharts-9b90057b.js";import{_ as u}from"./SparkStatWidget.vue_vue_type_style_index_0_lang-51ce93e1.js";import{A as p}from"./vue3-apexcharts.common-7ff2d03b.js";import{u as m}from"./salesSparksChart-aba46252.js";import{u as v}from"./revenueAreaChart-968634f7.js";import{f as h,C as f,D as y,E as g,F as _,G as b,m as k,r as w,o as x,V as j,W as C,U as S,I as T,Q as V,R as A,S as I,x as M,$ as U,H as D,J as P,N as E,B as R,L as O,k as B,X as N,P as F,al as z,aB as $,O as J,K,aS as H,b as G,a5 as W,y as q,av as Z}from"./index-2dec9709.js";import{_ as X}from"./VAvatar.vue_vue_type_style_index_0_lang-8e373625.js";import{u as Q}from"./useAPI-bacd1021.js";import{h as Y}from"./moment-1b9a430c.js";import{_ as ee}from"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-1a502c0a.js";import{p as le}from"./index-c1fc2d09.js";import{a as ae}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-93ba40ee.js";import{_ as te}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-a8f2afdf.js";import{_ as se}from"./VField.vue_vue_type_script_setup_true_lang-009c7175.js";import{_ as ie}from"./VControl-0b0315de.js";import{_ as ne}from"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-2afd2a2a.js";import{_ as oe}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-56c67905.js";import{_ as de,a as ce}from"./search-4-dark-2b5b440c.js";import{o as re}from"./via-placeholder-24645670.js";import{b as ue,a as pe,h as me,f as ve,C as he}from"./useSupportElement-5543f980.js";import{_ as fe}from"./VModal.vue_vue_type_style_index_0_lang-219aab84.js";import{_ as ye}from"./VTextarea.vue_vue_type_script_setup_true_lang-054bda82.js";import{_ as ge}from"./VInput.vue_vue_type_script_setup_true_lang-ca6c2899.js";import{_ as _e,a as be}from"./VOption.vue_vue_type_style_index_0_lang-40cf7c68.js";import{u as ke}from"./useNotyf-528b9175.js";import{f as we}from"./estimatesScripts-695ce42e.js";import{_ as xe,a as je}from"./search-3-dark-1eb6ae2e.js";import{p as Ce}from"./index-b2db5849.js";import{_ as Se}from"./VDropdown.vue_vue_type_style_index_0_lang-cd7ea8f4.js";import{_ as Te}from"./PlaceloadV4.vue_vue_type_style_index_0_lang-ada065ea.js";import{f as Ve}from"./index-5fa9b154.js";import{_ as Ae}from"./UIWidget.vue_vue_type_style_index_0_lang-cab47f1d.js";import{_ as Ie}from"./VBlock.vue_vue_type_style_index_0_lang-7adbafd8.js";import{_ as Me}from"./VAnimatedCheckbox.vue_vue_type_style_index_0_lang-e2e9c4f5.js";import{_ as Ue}from"./UserCardDropdown-c93e0034.js";import{_ as De}from"./VFlexTable.vue_vue_type_style_index_0_lang-a61170c5.js";import{_ as Pe}from"./VTag.vue_vue_type_style_index_0_lang-2154ea11.js";import{_ as Ee}from"./VIconBox.vue_vue_type_style_index_0_lang-b81a7493.js";import{_ as Re}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-d23a49fe.js";const Le={class:"columns is-multiline"},Oe={class:"column is-3"},Be={class:"column is-3"},Ne={class:"column is-3"},Fe={class:"column is-3"},ze={class:"column is-6"},$e={class:"column is-6"},Je={class:"column is-6"},Ke={class:"column is-6"},He={class:"column is-6"},Ge={class:"column is-6"},We=h({__name:"JobReport",setup(e){const{spark1:l,spark2:a,spark3:h,spark4:w}=m(),{revenueOptions:x}=v(),{lineStatsChartOptions:j}=n(),{flexRadialChartCircleOptions:C}=o(),{flexRadialChartStripesOptions:S}=d(),{widgetGaugeGroup1Options:T,widgetGaugeGroup2Options:V,widgetGaugeGroup3Options:A}=c(),{widgetRadialGroup1Options:I,widgetRadialGroup2Options:M,widgetRadialGroup3Options:U}=t();return(e,t)=>{const n=u,o=r,d=s,c=i;return f(),y("div",Le,[g("div",Oe,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark1",height:k(l).chart.height,type:k(l).chart.type,series:k(l).series,options:k(l)},null,8,["height","type","series","options"])])),_:1})]),g("div",Be,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark2",height:k(a).chart.height,type:k(a).chart.type,series:k(a).series,options:k(a)},null,8,["height","type","series","options"])])),_:1})]),g("div",Ne,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark3",height:k(h).chart.height,type:k(h).chart.type,series:k(h).series,options:k(h)},null,8,["height","type","series","options"])])),_:1})]),g("div",Fe,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark4",height:k(w).chart.height,type:k(w).chart.type,series:k(w).series,options:k(w)},null,8,["height","type","series","options"])])),_:1})]),g("div",ze,[_(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[_(k(p),{id:"line-stats-widget-chart",height:k(j).chart.height,type:k(j).chart.type,series:k(j).series,options:k(j)},null,8,["height","type","series","options"])])),_:1})]),g("div",$e,[_(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[_(k(p),{id:"line-stats-area-chart",height:k(x).chart.height,type:k(x).chart.type,series:k(x).series,options:k(x)},null,8,["height","type","series","options"])])),_:1})]),g("div",Je,[_(d,{title:"Sales Revenue",straight:""},{default:b((()=>[_(k(p),{id:"flex-stat-circle",height:k(C).chart.height,type:k(C).chart.type,series:k(C).series,options:k(C)},null,8,["height","type","series","options"])])),_:1})]),g("div",Ke,[_(d,{title:"Sales Revenue",straight:""},{default:b((()=>[_(k(p),{id:"flex-stat-radial",height:k(S).chart.height,type:k(S).chart.type,series:k(S).series,options:k(S)},null,8,["height","type","series","options"])])),_:1})]),g("div",He,[_(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"]},{chart1:b((()=>[_(k(p),{id:"group-radial-1",height:k(I).chart.height,type:k(I).chart.type,series:k(I).series,options:k(I)},null,8,["height","type","series","options"])])),chart2:b((()=>[_(k(p),{id:"group-radial-2",height:k(M).chart.height,type:k(M).chart.type,series:k(M).series,options:k(M)},null,8,["height","type","series","options"])])),chart3:b((()=>[_(k(p),{id:"group-radial-3",height:k(U).chart.height,type:k(U).chart.type,series:k(U).series,options:k(U)},null,8,["height","type","series","options"])])),_:1})]),g("div",Ge,[_(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"],gauge:""},{chart1:b((()=>[_(k(p),{id:"group-gauge-1",height:k(T).chart.height,type:k(T).chart.type,series:k(T).series,options:k(T)},null,8,["height","type","series","options"])])),chart2:b((()=>[_(k(p),{id:"group-gauge-2",height:k(V).chart.height,type:k(V).chart.type,series:k(V).series,options:k(V)},null,8,["height","type","series","options"])])),chart3:b((()=>[_(k(p),{id:"group-gauge-3",height:k(A).chart.height,type:k(A).chart.type,series:k(A).series,options:k(A)},null,8,["height","type","series","options"])])),_:1})])])}}}),qe=e=>(V("data-v-1f68036b"),e=e(),A(),e),Ze={class:"timeline-wrapper"},Xe=qe((()=>g("div",{class:"timeline-header"},null,-1))),Qe={class:"timeline-wrapper-inner"},Ye={class:"timeline-container"},el={class:"timeline-item is-unread"},ll={class:"date"},al={class:"content-wrap"},tl={class:"content-box"},sl=qe((()=>g("div",{class:"status"},null,-1))),il={class:"box-text"},nl={class:"meta-text"},ol=["innerHTML"],dl=h({__name:"JobActivities",props:{object_id:{},object_type:{}},setup(e){const l=e,a=Q(),t=w([{id:"06b62536-220c-4d54-b437-50f035677d17",action:"UPDATE",timestamp:"2025-02-21T18:09:11.830145Z",actor_info:{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"},message:"updated <b>HENNING</b> lead information.",object_id:"1be101da-7a93-43af-b3e3-d1ca908aa2c9",object_type:"lead",actor:"0feda007-d8a0-4b96-acb7-d7763614854e"}]),s={UPDATE:"is-info",RETRIEVE:"is-warning",DELETE:"is-danger",CREATE:"is-primary"};return x((()=>{(async()=>{try{const e=await a.get(`/api/activity-logs/?object_id=${l.object_id}`);t.value=e.data}catch(e){console.log(e)}})()})),(e,l)=>{const a=X;return f(),y("div",Ze,[Xe,g("div",Qe,[g("div",Ye,[(f(!0),y(j,null,C(k(t),(e=>(f(),y("div",el,[g("div",ll,[g("span",null,S(k(Y)(e.timestamp).format("ddd, mm yyyy")),1)]),g("div",{class:T(["dot",s[e.action]])},null,2),g("div",al,[g("div",tl,[sl,_(a,{picture:e.actor_info?.avatar},null,8,["picture"]),g("div",il,[g("div",nl,[g("p",null,[g("span",null,S(e.actor_info?.username??"N/A")+" "+S(e.actor_info?.last_name??"N/A"),1),g("span",{class:"log-message",innerHTML:e.message},null,8,ol)]),g("span",null,S(k(Y)(e.timestamp).format("hh:mm:ss")),1)])])])])])))),256))])])])}}}),cl=I(dl,[["__scopeId","data-v-1f68036b"]]),rl={class:"table is-striped is-fullwidth"},ul=g("thead",null,[g("tr",null,[g("th",{scope:"col"},"Job"),g("th",{scope:"col"},"ID"),g("th",{scope:"col"},"Title"),g("th",{scope:"col"},"Status"),g("th",{scope:"col"},"Total Price"),g("th",{scope:"col"},"Total Tax"),g("th",{scope:"col"},"Amount Paid"),g("th",{scope:"col"},"Balance"),g("th",{scope:"col"},"Deadline"),g("th",{scope:"col"},"Date Paid"),g("th",{scope:"col"},"Files"),g("th",{scope:"col",class:"is-end"},"Actions")])],-1),pl=g("td",null,"Tina",-1),ml=g("td",null,"Bergmann",-1),vl=g("td",null,"Sales",-1),hl=g("td",null,"Tina",-1),fl=g("td",null,"Bergmann",-1),yl=g("td",null,"Sales",-1),gl=g("td",null,"Tina",-1),_l=g("td",null,"Bergmann",-1),bl=g("td",null,"Sales",-1),kl=g("td",null,"Bergmann",-1),wl=g("td",null,"Sales",-1),xl={class:"is-end"},jl={class:"is-flex is-justify-content-flex-end"},Cl=g("td",null,"Tina",-1),Sl=g("td",null,"Bergmann",-1),Tl=g("td",null,"Sales",-1),Vl=g("td",null,"Tina",-1),Al=g("td",null,"Bergmann",-1),Il=g("td",null,"Sales",-1),Ml=g("td",null,"Tina",-1),Ul=g("td",null,"Bergmann",-1),Dl=g("td",null,"Sales",-1),Pl=g("td",null,"Bergmann",-1),El=g("td",null,"Sales",-1),Rl={class:"is-end"},Ll={class:"is-flex is-justify-content-flex-end"},Ol=g("td",null,"Tina",-1),Bl=g("td",null,"Bergmann",-1),Nl=g("td",null,"Sales",-1),Fl=g("td",null,"Tina",-1),zl=g("td",null,"Bergmann",-1),$l=g("td",null,"Sales",-1),Jl=g("td",null,"Tina",-1),Kl=g("td",null,"Bergmann",-1),Hl=g("td",null,"Sales",-1),Gl=g("td",null,"Bergmann",-1),Wl=g("td",null,"Sales",-1),ql={class:"is-end"},Zl={class:"is-flex is-justify-content-flex-end"},Xl=g("td",null,"Tina",-1),Ql=g("td",null,"Bergmann",-1),Yl=g("td",null,"Sales",-1),ea=g("td",null,"Tina",-1),la=g("td",null,"Bergmann",-1),aa=g("td",null,"Sales",-1),ta=g("td",null,"Tina",-1),sa=g("td",null,"Bergmann",-1),ia=g("td",null,"Sales",-1),na=g("td",null,"Bergmann",-1),oa=g("td",null,"Sales",-1),da={class:"is-end"},ca={class:"is-flex is-justify-content-flex-end"},ra=h({__name:"JobInvoice",props:{activeTab:{default:"active"}},setup(e){const l=e,a=le;M();const t=w("");return w(l.activeTab),U((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=ee;return f(),y("table",rl,[ul,g("tbody",null,[g("tr",null,[pl,ml,vl,hl,fl,yl,gl,_l,bl,kl,wl,g("td",xl,[g("div",jl,[_(a)])])]),g("tr",null,[Cl,Sl,Tl,Vl,Al,Il,Ml,Ul,Dl,Pl,El,g("td",Rl,[g("div",Ll,[_(a)])])]),g("tr",null,[Ol,Bl,Nl,Fl,zl,$l,Jl,Kl,Hl,Gl,Wl,g("td",ql,[g("div",Zl,[_(a)])])]),g("tr",null,[Xl,Ql,Yl,ea,la,aa,ta,sa,ia,na,oa,g("td",da,[g("div",ca,[_(a)])])])])])}}}),ua={class:"table is-striped is-fullwidth"},pa=g("thead",null,[g("tr",null,[g("th",{scope:"col"},"First Name"),g("th",{scope:"col"},"Last Name"),g("th",{scope:"col"},"Position"),g("th",{scope:"col",class:"is-end"},[g("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1),ma=g("td",null,"Tina",-1),va=g("td",null,"Bergmann",-1),ha=g("td",null,"Head of Sales",-1),fa={class:"is-end"},ya={class:"is-flex is-justify-content-flex-end"},ga=g("td",null,"John",-1),_a=g("td",null,"Wistmus",-1),ba=g("td",null,"Senior Executive",-1),ka={class:"is-end"},wa={class:"is-flex is-justify-content-flex-end"},xa=g("td",null,"Sam",-1),ja=g("td",null,"Watson",-1),Ca=g("td",null,"Software Engineer",-1),Sa={class:"is-end"},Ta={class:"is-flex is-justify-content-flex-end"},Va=g("td",null,"Jolaine",-1),Aa=g("td",null,"Joestar",-1),Ia=g("td",null,"HR Manager",-1),Ma={class:"is-end"},Ua={class:"is-flex is-justify-content-flex-end"},Da=g("td",null,"Anders",-1),Pa=g("td",null,"Jensen",-1),Ea=g("td",null,"Accountant",-1),Ra={class:"is-end"},La={class:"is-flex is-justify-content-flex-end"},Oa=h({__name:"JobEstimates",props:{activeTab:{default:"active"}},setup(e){const l=e,a=le;M();const t=w("");return w(l.activeTab),U((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=ee;return f(),y("table",ua,[pa,g("tbody",null,[g("tr",null,[ma,va,ha,g("td",fa,[g("div",ya,[_(a)])])]),g("tr",null,[ga,_a,ba,g("td",ka,[g("div",wa,[_(a)])])]),g("tr",null,[xa,ja,Ca,g("td",Sa,[g("div",Ta,[_(a)])])]),g("tr",null,[Va,Aa,Ia,g("td",Ma,[g("div",Ua,[_(a)])])]),g("tr",null,[Da,Pa,Ea,g("td",Ra,[g("div",La,[_(a)])])])])])}}}),Ba={class:"columns is-multiline"},Na={class:"column is-12"},Fa={class:"toolbar"},za={class:"tabs-inner"},$a={class:"tabs"},Ja=g("span",null,"Estimate",-1),Ka=[Ja],Ha=g("span",null,"Budget",-1),Ga=[Ha],Wa=g("span",null,"Owner Invoice",-1),qa=[Wa],Za=g("li",{class:"tab-naver"},null,-1),Xa={key:0,class:"column is-12"},Qa={key:1,class:"column is-12"},Ya={key:2,class:"column is-12"},et=h({__name:"JobFinance",props:{activeTab:{default:"active"}},setup(e){const l=le;M();const a=w("estimate"),t=w("");return U((()=>{if(t.value){const e=new RegExp(t.value,"i");return l.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return l})),(e,l)=>{const t=Oa,s=ra;return f(),y("div",Ba,[g("div",Na,[g("div",Fa,[g("div",za,[g("div",$a,[g("ul",null,[g("li",{class:T(["estimate"===k(a)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=D(P((e=>a.value="estimate"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>a.value="estimate")},Ka,32)],2),g("li",{class:T(["budget"===k(a)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=D(P((e=>a.value="budget"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>a.value="budget")},Ga,32)],2),g("li",{class:T(["invoice"===k(a)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=D(P((e=>a.value="invoice"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>a.value="invoice")},qa,32)],2),Za])])])])]),"estimate"===k(a)?(f(),y("div",Xa,[_(t)])):E("",!0),"budget"===k(a)?(f(),y("div",Qa)):E("",!0),"invoice"===k(a)?(f(),y("div",Ya,[_(s)])):E("",!0)])}}}),lt={class:"user-grid-toolbar"},at=g("span",{class:"icon"},[g("i",{class:"fas fa-plus"})],-1),tt=g("span",null,"Progress",-1),st={class:"user-grid user-grid-v1"},it={class:"columns is-multiline"},nt={class:"grid-item"},ot={class:"is-flex"},dt=h({__name:"JobProgressLoader",setup(e){const l=w(""),a=w(0),t=["All","UI/UX Design","Web Development","Software Eng.","Business"];return(e,s)=>{const i=ie,n=R("Multiselect"),o=se,d=F,c=z,r=$,u=oe,p=ne;return f(),y("div",null,[g("div",lt,[_(i,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>B(l)?l.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(l)]])])),_:1}),_(c,null,{default:b((()=>[_(o,{class:"h-hidden-mobile"},{default:b((()=>[_(i,null,{default:b((()=>[_(n,{modelValue:k(a),"onUpdate:modelValue":s[1]||(s[1]=e=>B(a)?a.value=e:null),options:t,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(d,null,{default:b((()=>[at,tt])),_:1})])),_:1})]),g("div",st,[g("div",it,[(f(),y(j,null,C(20,(e=>g("div",{key:e,class:"column is-3"},[g("div",nt,[_(r,{height:"160px",centered:"",class:"mb-2"}),_(u,{class:"mb-5",width:"80%",lines:3,"last-line-width":"60%"}),g("div",ot,[_(p,{size:"small",class:"mx-1"}),_(u,{class:"mb-4",width:"80%",lines:2,"last-line-width":"60%"})])])]))),64))])])])}}}),ct={key:1},rt={class:"card-grid-toolbar"},ut={class:"buttons"},pt=g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),mt=g("span",null,"Progress",-1),vt={class:"card-grid card-grid-v4"},ht=g("img",{class:"light-image",src:de,alt:""},null,-1),ft=g("img",{class:"dark-image",src:ce,alt:""},null,-1),yt=["href","title"],gt=["src","alt"],_t={class:"card-grid-item-content"},bt={class:"dark-inverted"},kt={key:0},wt=g("summary",null,"Read More",-1),xt={key:0,class:"card-grid-item-footer"},jt={class:"meta"},Ct={class:"dark-inverted"},St=h({__name:"JobProgress",props:{object:{},type:{},taskData:{}},setup(e){const l=e,a=Q(),t=w(""),s=w(!1),i=w(!1),n=w(0),o=["All Posts","Recent Posts","Older Posts","Popular Posts"],d=w([{id:"",uploaded_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},file_info:{url:"",name:"",type:"",size:0},progress:0,title:"",description:"",created_at:"",file:"",job:"",task:"",uploaded_by:""}]),c=async()=>{try{s.value=!0;const e=await a.get(`/api/job-progress/by-job/${l.object}/`);d.value=e.data}catch(e){console.log(e)}finally{s.value=!1}};U((()=>d.value.map((e=>({src:e.file_info.url,thumbnail:e.file_info.url,w:1200,h:900,alt:e.file_info.name})))));const r=U((()=>{if(t.value){const e=new RegExp(t.value,"i");return console.log(e),d.value.filter((l=>l.title?.match(e)||l.created_at?.match(e)||l.uploaded_by_info?.username?.match(e)||l.uploaded_by_info?.email?.match(e)||l.uploaded_by_info?.last_name?.match(e)))}return d.value}));return x((()=>{"job"===l.type&&c()})),(e,a)=>{const d=dt,u=ie,p=R("Multiselect"),m=se,v=F,h=te,w=X,x=ae;return k(s)?(f(),J(d,{key:0})):(f(),y("div",ct,[g("div",rt,[_(u,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>B(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(t)]])])),_:1}),g("div",ut,[_(m,{class:"h-hidden-mobile"},{default:b((()=>[_(u,null,{default:b((()=>[_(p,{modelValue:k(n),"onUpdate:modelValue":a[1]||(a[1]=e=>B(n)?n.value=e:null),options:o,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(v,{onClick:a[2]||(a[2]=e=>i.value=!k(i)),color:"primary",raised:""},{default:b((()=>[pt,mt])),_:1})])]),g("div",vt,[_(h,{class:T([0!==k(r).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[ht,ft])),_:1},8,["class"]),_(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(j,null,C(k(r),(e=>(f(),y("div",{key:e.id,class:"column is-3"},[g("a",{href:e.file,title:e.title,itemprop:"contentUrl","data-pswp-width":"1200","data-pswp-height":"900",target:"_blank","data-cropped":"true",ref_for:!0,ref:"noreferrer",class:"card-grid-item"},[g("img",{src:e.file,alt:e.title,onErrorOnce:a[3]||(a[3]=e=>k(re)(400,300))},null,40,gt),g("div",_t,[g("h3",bt,S(e.title?e.title:"No Title"),1),g("p",null,[K(S(e.description?e.description.slice(0,34):"No Description")+" ",1),e.description.length>44?(f(),y("details",kt,[wt,K(" "+S(e.description?e.description:""),1)])):E("",!0)])]),e.uploaded_by_info?(f(),y("div",xt,[_(w,{picture:e.uploaded_by_info.avatar,size:"small"},null,8,["picture"]),g("div",jt,[g("span",Ct,S(e.uploaded_by_info.username??"N/A")+" "+S(e.uploaded_by_info.last_name??""),1),g("span",null,S(k(ue)(e.created_at)),1)])])):E("",!0)],8,yt)])))),128))])),_:1})]),k(i)?(f(),J(x,{key:0,job:l.object,openProgressModal:k(i),"onUpdate:OnSuccess":c,"onClose:ModalHandler":a[4]||(a[4]=e=>i.value=!1)},null,8,["job","openProgressModal"])):E("",!0)]))}}}),Tt={class:"modal-form columns is-multiline"},Vt={class:"column is-12"},At=g("div",{class:"column is-12"},[g("h3",{class:"title is-6 mb-2"},"Activity Information")],-1),It={class:"field column is-6 mb-0"},Mt=g("label",null,"Title *",-1),Ut={class:"control"},Dt={class:"field column is-6 mb-0"},Pt=g("label",null,"Activity Type *",-1),Et={class:"field column is-6 mb-0"},Rt=g("label",null,"Date ",-1),Lt={class:"field column is-3 mb-0"},Ot=g("label",null,"Start Time ",-1),Bt={class:"field column is-3 mb-0"},Nt=g("label",null,"End Time ",-1),Ft={class:"field column is-3 mb-0"},zt=g("label",null,"Color ",-1),$t=g("datalist",{id:"colors-list"},[g("option",{value:"#84cc16"}),g("option",{value:"#22c55e"}),g("option",{value:"#0ea5e9"}),g("option",{value:"#6366f1"}),g("option",{value:"#8b5cf6"}),g("option",{value:"#d946ef"}),g("option",{value:"#f43f5e"}),g("option",{value:"#facc15"}),g("option",{value:"#fb923c"}),g("option",{value:"#9ca3af"})],-1),Jt={class:"field column is-3 mb-0"},Kt=g("label",null,"Reminder time: ",-1),Ht={class:"field column is-3 mb-0"},Gt=g("label",null,"Attachment ",-1),Wt={class:"file"},qt={class:"file-label"},Zt={class:"file-cta"},Xt=g("span",{class:"file-icon"},[g("i",{class:"fas fa-cloud-upload-alt"})],-1),Qt={class:"file-label"},Yt={class:"field column is-12 mb-0"},es=g("label",null,"Assigned * ",-1),ls={class:"multiselect-tag is-user"},as=["src"],ts=["onMousedown"],ss=g("div",{class:"column is-12"},[g("h3",{class:"title is-6 mb-2"},"Location")],-1),is={class:"field column is-4 mb-0"},ns=g("label",null,"Zip Code ",-1),os={class:"control"},ds={class:"field column is-4 mb-0"},cs=g("label",null,"City ",-1),rs={class:"control"},us={class:"field column is-4 mb-0"},ps=g("label",null,"State ",-1),ms={class:"control"},vs={class:"field column is-12 mb-0"},hs=g("label",null,"Street Address",-1),fs={class:"control"},ys={class:"field column is-12 mb-0"},gs=g("label",null,"Description ",-1),_s=h({__name:"LeadActivityModal",props:{addUpdateContactModal:{type:Boolean},activityId:{},objectId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;w(null);const t=G(),s=ke(),i=Q(),n=w(!1),o=()=>{l("update:modalHandler",!1)},d=w([{value:"",name:"",image:""}]),c=w({title:"",objectId:a.objectId??"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",assignedUser:"",attendees:[],initiated_by:t.user.id,address:"",city:"",state:"",zip_code:"",description:"",latitude:0,longitude:0,file:""}),r=async()=>{try{n.value=!0;const e=pe(c.value,["file"]);if(a.activityId){await i.patch(`/api/activity/${a.activityId}/`,e);s.success("Activity updated successfully")}else{await i.post("/api/activity/",e);s.success("Activity added successfully")}l("update:OnSuccess",null),o()}catch(e){s.error(` ${e}, Activity`)}finally{n.value=!1}},u=async()=>{if(!c.value.zip_code)return;const e=await me(c.value.zip_code);console.log("API Response:",e),e?.status&&e.data?(c.value.latitude=e.data.lat,c.value.longitude=e.data.lng,c.value.address=e.data.address,c.value.city=e.data.city,c.value.state=e.data.state,s.success("Address fetched successfully")):console.log("Address not found.")},p=w(""),m=w(0),v=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(c.value.file=a,p.value=a.name,m.value=a.size)};return x((()=>{(async()=>{try{n.value=!0;const e=await i.get("/api/users/");d.value=e.data.map((e=>({value:e.id,name:`${e.username??"N/A"} ${e.last_name??""}`,icon:e.avatar})))}catch(e){s.error("something get wrong")}finally{n.value=!1}})(),a.activityId&&(async()=>{try{n.value=!0;const e=await i.get(`/api/activity/${a.activityId}/`);c.value=e.data}catch(e){s.error(` ${e}, Get Activity`)}finally{n.value=!1}})()})),(e,l)=>{const t=_e,s=be,i=ie,m=se,h=ge,w=R("Multiselect"),x=W,T=ye,V=F,A=fe;return f(),J(A,{is:"form",open:a.addUpdateContactModal,title:"Activity Details",size:"large",actions:"right",onSubmit:P(r,["prevent"]),onClose:o},{content:b((()=>[g("div",Tt,[g("div",Vt,[_(x,{class:"columns is-multiline"},{default:b((()=>[At,g("div",It,[Mt,g("div",Ut,[O(g("input",{type:"text",name:"title","onUpdate:modelValue":l[0]||(l[0]=e=>k(c).title=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Title"},null,512),[[N,k(c).title]])])]),g("div",Dt,[Pt,_(m,null,{default:b((()=>[_(i,null,{default:b((()=>[_(s,{modelValue:k(c).type,"onUpdate:modelValue":l[1]||(l[1]=e=>k(c).type=e),required:""},{default:b((()=>[(f(!0),y(j,null,C(k(we),(e=>(f(),J(t,{value:e.value},{default:b((()=>[K(S(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),g("div",Et,[Rt,O(g("input",{type:"date",name:"date","onUpdate:modelValue":l[2]||(l[2]=e=>k(c).date=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).date]])]),g("div",Lt,[Ot,O(g("input",{type:"time",name:"date","onUpdate:modelValue":l[3]||(l[3]=e=>k(c).start_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).start_time]])]),g("div",Bt,[Nt,O(g("input",{type:"time",name:"date","onUpdate:modelValue":l[4]||(l[4]=e=>k(c).end_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).end_time]])]),g("div",Ft,[zt,_(m,null,{default:b((()=>[_(i,null,{default:b((()=>[_(h,{modelValue:k(c).color,"onUpdate:modelValue":l[5]||(l[5]=e=>k(c).color=e),list:"colors-list",type:"color",placeholder:"Pick a color"},null,8,["modelValue"]),$t])),_:1})])),_:1})]),g("div",Jt,[Kt,O(g("input",{type:"time",name:"date","onUpdate:modelValue":l[6]||(l[6]=e=>k(c).reminder_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).reminder_time]])]),g("div",Ht,[Gt,_(m,{grouped:""},{default:b((()=>[_(i,null,{default:b((()=>[g("div",Wt,[g("label",qt,[g("input",{onChange:v,class:"file-input",type:"file",name:"resume"},null,32),g("span",Zt,[Xt,g("span",Qt,S(k(p)?k(p):"Choose a file…"),1)])])])])),_:1})])),_:1})]),g("div",Yt,[es,_(m,null,{default:b((({id:e})=>[_(i,null,{default:b((()=>[_(w,{required:"",modelValue:k(c).attendees,"onUpdate:modelValue":l[8]||(l[8]=e=>k(c).attendees=e),attrs:{id:e},mode:"tags",placeholder:"Select a user","track-by":"name",label:"name",search:!0,searchable:!0,options:k(d),"max-height":145},{tag:b((({option:e,remove:a,disabled:t})=>[g("div",ls,[g("img",{src:e.image,alt:""},null,8,as),K(" "+S(e.name)+" ",1),t?E("",!0):(f(),y("i",{key:0,role:"button",tabindex:"0",onClick:l[7]||(l[7]=P((()=>{}),["prevent"])),onMousedown:P((l=>a(e)),["prevent","stop"])},null,40,ts))])])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])])),_:1}),_(x,{class:"columns is-multiline mt-3"},{default:b((()=>[ss,g("div",is,[ns,g("div",os,[O(g("input",{type:"text",name:"state",onBlur:u,"onUpdate:modelValue":l[9]||(l[9]=e=>k(c).zip_code=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip Code"},null,544),[[N,k(c).zip_code]])])]),g("div",ds,[cs,g("div",rs,[O(g("input",{type:"text",name:"city","onUpdate:modelValue":l[10]||(l[10]=e=>k(c).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[N,k(c).city]])])]),g("div",us,[ps,g("div",ms,[O(g("input",{type:"text",name:"state","onUpdate:modelValue":l[11]||(l[11]=e=>k(c).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[N,k(c).state]])])]),g("div",vs,[hs,g("div",fs,[O(g("input",{type:"tel",name:"phone","onUpdate:modelValue":l[12]||(l[12]=e=>k(c).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[N,k(c).address]])])]),g("div",ys,[gs,_(m,null,{default:b((()=>[_(i,null,{default:b((()=>[_(T,{modelValue:k(c).description,"onUpdate:modelValue":l[13]||(l[13]=e=>k(c).description=e),rows:"3",placeholder:"Enter description..."},null,8,["modelValue"])])),_:1})])),_:1})])])),_:1})])])])),action:b((()=>[_(V,{loading:k(n),type:"submit",color:"primary",raised:""},{default:b((()=>[K(S(a.activityId?"Update":"Create")+" Activity",1)])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),bs={class:"card-grid-toolbar"},ks={class:"buttons"},ws={class:"card-grid card-grid-v3"},xs=g("img",{class:"light-image",src:xe,alt:""},null,-1),js=g("img",{class:"dark-image",src:je,alt:""},null,-1),Cs={class:"card-grid-item"},Ss={key:0,class:"h-toggle"},Ts=["checked"],Vs=g("span",{class:"toggler"},[g("span",{class:"active"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:lock"})]),g("span",{class:"inactive"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),As={class:"dark-inverted"},Is={class:"description"},Ms={class:"people"},Us={class:"buttons"},Ds=g("button",{class:"button v-button is-dark-outlined"},[g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:eye"})]),g("span",null,"View")],-1),Ps=["onClick"],Es=[g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:edit-2"})],-1),g("span",null,"Edit",-1)],Rs=h({__name:"JobLeadActivities",props:{jobId:{}},setup(l){const a=l,t=w(""),s=w(""),i=w(!1),n=w(!1),o=w([{id:"",attendees_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:""}],initiated_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},title:"",description:"",objectId:"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",created_at:"",address:"",city:"",state:"",zip_code:"",file:null,latitude:0,longitude:0,initiated_by:"",attendees:[""]}]),d=Q(),c=ke();G();const r=w(!1),u=w(0),p=["All Activities","Site Visit","Web Forms","Email","Call "],m=U((()=>t.value?Ce.filter((e=>e.name.match(new RegExp(t.value,"i"))||e.remaining.match(new RegExp(t.value,"i")))):Ce)),v=()=>{a.jobId?(async()=>{try{r.value=!0;const e=await d.get(`/api/activity/by-object/${a.jobId}/`);o.value=e.data}catch(e){c.error("something get wrong")}finally{r.value=!1}})():(async()=>{try{r.value=!0;const e=await d.get("/api/activity/");o.value=e.data}catch(e){c.error("something get wrong")}finally{r.value=!1}})()};return x((()=>{v()})),(l,d)=>{const c=ie,r=R("Multiselect"),h=se,w=F,x=te,V=X,A=_s,I=e;return f(),y("div",null,[g("div",bs,[_(c,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>B(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(t)]])])),_:1}),g("div",ks,[_(h,{class:"h-hidden-mobile"},{default:b((()=>[_(c,null,{default:b((()=>[_(r,{modelValue:k(u),"onUpdate:modelValue":d[1]||(d[1]=e=>B(u)?u.value=e:null),options:p,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(w,{onClick:d[2]||(d[2]=e=>i.value=!k(i)),color:"warning",icon:"lnir lnir-alarm"},{default:b((()=>[K(" Create Activity ")])),_:1}),_(w,{onClick:d[3]||(d[3]=e=>n.value=!k(n)),color:"success",class:"ml-2",icon:"fas fa-envelope"},{default:b((()=>[K(" Schedule Email ")])),_:1})])]),g("div",ws,[_(x,{class:T([0!==k(m).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[xs,js])),_:1},8,["class"]),_(H,{name:"list",tag:"div",class:"columns is-multiline is-flex-tablet-p is-half-tablet-p"},{default:b((()=>[(f(!0),y(j,null,C(k(o),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[g("div",Cs,[e.lockable?(f(),y("label",Ss,[g("input",{type:"checkbox",checked:"pending"===e.status},null,8,Ts),Vs])):E("",!0),_(V,{size:"large",picture:`/IbexIcons/ActivitiesIcons/${e.type}.png`,badge:e.badge,squared:""},null,8,["picture","badge"]),g("h3",As,S(e.title),1),g("p",null,S(k(ve)(e.date))+" remaining",1),g("div",Is,[g("p",null,S(e.description??"Not Added"),1)]),g("div",Ms,[(f(!0),y(j,null,C(e.attendees_info,(e=>(f(),J(V,{key:e.id,size:"small",picture:e.avatar},null,8,["picture"])))),128))]),g("div",Us,[Ds,g("button",{onClick:l=>{return a=e.id,s.value=a,void(i.value=!0);var a},class:"button v-button is-dark-outlined"},Es,8,Ps)])])])))),128))])),_:1})]),k(i)?(f(),J(A,{key:0,addUpdateContactModal:k(i),objectId:a.jobId,activityId:k(s),"onUpdate:modalHandler":d[4]||(d[4]=e=>i.value=!1),"onUpdate:OnSuccess":v},null,8,["addUpdateContactModal","objectId","activityId"])):E("",!0),k(n)?(f(),J(I,{key:1,mailSchedulerModal:k(n),"onUpdate:modalHandler":d[5]||(d[5]=e=>n.value=!1)},null,8,["mailSchedulerModal"])):E("",!0)])}}}),Ls={class:"modal-form columns is-multiline"},Os={class:"column is-full"},Bs={class:"field"},Ns=g("label",{class:"label"},"Title ",-1),Fs={class:"control"},zs={class:"field column is-half"},$s={class:"file"},Js={class:"file-label"},Ks={class:"file-cta"},Hs=g("span",{class:"file-icon"},[g("i",{class:"fas fa-cloud-upload-alt"})],-1),Gs={class:"file-label"},Ws=h({__name:"UploadDocumentModal",props:{openFileModal:{type:Boolean},type:{},object:{}},emits:["close:ModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;w(null);const t=Q(),s=ke(),i=w(!1),n=G(),o=()=>{l("close:ModalHandler",!1)},d=w({type:a.type,object:a.object,title:"",uploaded_by:n.user.id,file:null}),c=async()=>{try{i.value=!0;const e=pe(d.value,["file"]);await t.post("/api/attachment/",e);he({object_type:"files",object_id:a.object,action:"CREATE",message:`Uploaded new file named <b>${d.value.title}</b>.`,performedOnName:"job"}),s.success("File uploaded successfully!"),l("update:OnSuccess",null),o()}catch(e){console.log(e)}finally{i.value=!1}},r=w(""),u=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(d.value.file=a,r.value=a.name)};return x((()=>{})),(e,l)=>{const t=ie,s=se,n=F,p=fe;return f(),J(p,{is:"form",open:a.openFileModal,title:"Add Progress",size:"medium",actions:"right",onSubmit:P(c,["prevent"]),onClose:o},{content:b((()=>[g("div",Ls,[g("div",Os,[g("div",Bs,[Ns,g("div",Fs,[O(g("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>k(d).title=e)},null,512),[[N,k(d).title]])])])]),g("div",zs,[_(s,{grouped:""},{default:b((()=>[_(t,null,{default:b((()=>[g("div",$s,[g("label",Js,[g("input",{onChange:u,class:"file-input",type:"file",name:"resume"},null,32),g("span",Ks,[Hs,g("span",Gs,S(k(r)?k(r):"Choose a file…"),1)])])])])),_:1})])),_:1})])])])),action:b((()=>[_(n,{type:"submit",color:"primary",loading:k(i),raised:""},{default:b((()=>[K(" Save")])),_:1},8,["loading"])])),cancel:b((()=>[_(n,{color:"light",onClick:o,raised:""},{default:b((()=>[K("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),qs={key:0,class:"modal-form"},Zs=["src"],Xs=["src"],Qs=["src"],Ys=["src"],ei={key:1,class:"modal-form"},li=[g("h1",{class:"title is-5"},"No media file attached",-1)],ai=h({__name:"DocumentViewer",props:{openDocViewModal:{type:Boolean},document:{},title:{}},emits:["update:closeModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=()=>{l("update:closeModalHandler",!1)},s=e=>`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`;return x((async()=>{console.log("picture",a.document)})),(e,l)=>{const i=F,n=fe;return f(),J(n,{is:"form",open:a.openDocViewModal,title:a.title?a.title:"Attached Document",size:"xl",actions:"right",onClose:t},{content:b((()=>[a.document?(f(),y("div",qs,[a.document?.includes(".pdf")?(f(),y("iframe",{key:0,src:`${a.document}#toolbar=0&view=FitH`,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Zs)):a.document?.toLowerCase().includes(".doc")||a.document?.toLowerCase().includes(".docx")?(f(),y("iframe",{key:1,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Xs)):a.document?.toLowerCase().includes(".xls")||a.document?.toLowerCase().includes(".xlsx")?(f(),y("iframe",{key:2,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Qs)):(f(),y("img",{key:3,src:a.document,alt:""},null,8,Ys))])):(f(),y("div",ei,li))])),cancel:b((()=>[_(i,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:b((()=>[K("Close")])),_:1})])),_:1},8,["open","title"])}}}),ti={class:"tile-grid-item"},si={class:"tile-grid-item-inner"},ii=["src"],ni={class:"meta"},oi={class:"dark-inverted"},di=g("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),ci=[g("div",{class:"icon"},[g("i",{"aria-hidden":"true",class:"lnil lnil-cloud-download"})],-1),g("div",{class:"meta"},[g("span",null,"Download"),g("span",null,"Download this file")],-1)],ri=g("hr",{class:"dropdown-divider"},null,-1),ui=[g("div",{class:"icon"},[g("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),g("div",{class:"meta"},[g("span",null,"Delete"),g("span",null,"Delete this file")],-1)],pi=h({__name:"DocumentTile",props:{document:{}},emits:["deleteSelectedFile"],setup(e,{emit:l}){const a=e,t=w(""),s=w(!1),i=w(""),n={pdf:"/images/icons/files/pdf.svg",xls:"/images/icons/files/sheet.svg",doc:"/images/icons/files/doc-2.svg",ppt:"/images/icons/files/ppt.svg",ai:"/images/icons/files/ai.svg",docx:"/images/icons/files/doc-2.svg",docs:"/images/icons/files/doc-2.svg",xlsx:"/images/icons/files/sheet.svg",ai2:"/images/icons/files/ai.svg",xlx:"/images/icons/files/sheet.svg",ods:"/images/icons/files/sheet.svg",png:"/icons/png-icon.png",jpg:"/icons/jpg-50.png",jpeg:"/icons/jpg-50.png"};return(e,o)=>{const d=Se;return f(),y("div",null,[g("div",ti,[g("div",si,[g("img",{onClick:o[0]||(o[0]=e=>{return l=a.document?.file,t.value=l,i.value=l.title,void(s.value=!s.value);var l}),src:n[a.document?.file_info?.type]},null,8,ii),g("div",ni,[g("span",oi,S(a.document.title??"N/A"),1),g("span",null,[g("span",null,S(a.document?.file_info?.size??0)+" MB",1),di,g("span",null,"At:"+S(k(ve)(a.document.created_at)),1)])]),_(d,{icon:"feather:more-vertical",spaced:"",right:""},{content:b((()=>[g("a",{role:"menuitem",onClick:o[1]||(o[1]=e=>(async(e,l)=>{try{const a=await fetch(e);if(!a.ok)throw new Error("Network response was not ok");const t=await a.blob(),s=window.URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(a){console.error("Download failed:",a)}})(a.document.file,a.document.title)),class:"dropdown-item is-media"},ci),ri,g("a",{role:"menuitem",onClick:o[2]||(o[2]=e=>{return t=a.document.id,void l("deleteSelectedFile",t);var t}),class:"dropdown-item is-media"},ui)])),_:1})])]),k(s)?(f(),J(ai,{key:0,openDocViewModal:k(s),document:k(t),title:k(i),"onUpdate:closeModalHandler":o[3]||(o[3]=e=>s.value=!1)},null,8,["openDocViewModal","document","title"])):E("",!0)])}}}),mi={key:1},vi={class:"tile-grid-toolbar"},hi={class:"buttons"},fi=g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),yi=g("span",null,"Add File",-1),gi={class:"tile-grid tile-grid-v2"},_i=g("img",{class:"light-image",src:de,alt:""},null,-1),bi=g("img",{class:"dark-image",src:ce,alt:""},null,-1),ki=h({__name:"ObjectDocumentsTiles",props:{objectId:{},docType:{}},setup(e){const l=e,a=ke(),t=Q(),s=w(""),i=w(0),n=w(""),o=w(!1),d=w(!1),c=w([{id:"27223081-e97a-4420-91f2-6a08da82d846",uploaded_by_info:{id:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b",username:"APIs",last_name:"Dev",email:"api@dev.com",role:"admin",avatar:null},file_info:{url:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",name:"combined_proposal_95Ac2Fu.pdf",type:"pdf",size:.14},file:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",type:"proposal_formats",object:"751b95b2-9961-45a0-948c-96f85cea6a52",created_at:"2025-02-14T19:42:31.991589Z",title:"proposal",uploaded_by:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b"}]),r=["All Files","Recently Updated","My Files","Team Files","Deprecated"],u=async(e="proposal_formats")=>{try{o.value=!0;const e=await t.get(`/api/attachment/by-object/${l.objectId}/?type=${l.docType}`);c.value=e.data}catch(a){console.log(a)}finally{o.value=!1}},p=async e=>{try{const s=await t.delete(`/api/attachment/${e}/`);he({object_type:"files",object_id:l.objectId,action:"DELETE",message:`Deleted a file named <b>${s.data.title}</b>.`,performedOnName:"job"}),a.purple("File Deleted Successfully"),u()}catch(s){console.log(s)}},m=U((()=>s.value?c.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.file_info?.name?.match(new RegExp(s.value,"i"))||e.created_at.match(new RegExp(s.value,"i")))):c.value));return x((()=>{u()})),(e,a)=>{const t=Te,c=ie,v=R("Multiselect"),h=se,w=F,x=te,S=pi,T=Ws;return f(),y("div",null,[k(o)?(f(),J(t,{key:0,rows:4})):(f(),y("div",mi,[g("div",vi,[_(c,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>B(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(s)]])])),_:1}),g("div",hi,[_(h,{class:"h-hidden-mobile"},{default:b((()=>[_(c,null,{default:b((()=>[_(v,{modelValue:k(i),"onUpdate:modelValue":a[1]||(a[1]=e=>B(i)?i.value=e:null),options:r,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(w,{onClick:a[2]||(a[2]=e=>(n.value=l.docType,void(d.value=!d.value))),color:"primary",raised:""},{default:b((()=>[fi,yi])),_:1})])]),g("div",gi,[0!=k(m).length||k(o)?E("",!0):(f(),J(x,{key:0,title:"We couldn't find any matching file of this directory.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[_i,bi])),_:1})),g("div",null,[_(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(j,null,C(k(m),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[_(S,{document:e,onDeleteSelectedFile:p},null,8,["document"])])))),128))])),_:1})])]),k(d)?(f(),J(T,{key:0,openFileModal:k(d),object:l.objectId,type:k(n),"onClose:ModalHandler":a[3]||(a[3]=e=>d.value=!1),"onUpdate:OnSuccess":u},null,8,["openFileModal","object","type"])):E("",!0)]))])}}}),wi={class:"tabs-inner"},xi={class:"tabs"},ji=[g("span",null,"Grouped Proposals",-1)],Ci=[g("span",null,"Contracts",-1)],Si=[g("span",null,"Customer Estimates",-1)],Ti=[g("span",null,"Job Scope",-1)],Vi=[g("span",null,"Asbestos & Lead Report",-1)],Ai=[g("span",null,"Permits",-1)],Ii=[g("span",null,"Bids & Material",-1)],Mi=[g("span",null,"Miscellaneous",-1)],Ui=g("li",{class:"tab-naver"},null,-1),Di={class:"tile-grid tile-grid-v2"},Pi=g("img",{class:"light-image",src:de,alt:""},null,-1),Ei=g("img",{class:"dark-image",src:ce,alt:""},null,-1),Ri={key:0},Li={key:1},Oi={key:2},Bi={key:3},Ni={key:4},Fi={key:5},zi={key:6},$i={key:7},Ji=h({__name:"JobDocuments",props:{leadId:{}},setup(e){const l=e;ke();const a=Q(),t=w("");w(0);const s=w(""),i=w("proposal_formats"),n=w(!1),o=w([]),d=U((()=>t.value?Ve.filter((e=>e.name.match(new RegExp(t.value,"i"))||e.size.match(new RegExp(t.value,"i")))):Ve)),c=async(e="proposal_formats")=>{try{i.value=e;const t=await a.get(`/api/attachment/by-object/${l.leadId}/?type=${e}`);o.value=t.data}catch(t){console.log(t)}};return x((()=>{c()})),(e,a)=>{const t=te,o=ki,r=Ws;return f(),y("div",null,[g("div",wi,[g("div",xi,[g("ul",null,[g("li",{class:T(["proposal_formats"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=D(P((e=>c("proposal_formats")),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>c("proposal_formats"))},ji,32)],2),g("li",{class:T(["contracts"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[2]||(a[2]=D(P((e=>c("contracts")),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>c("contracts"))},Ci,32)],2),g("li",{class:T(["estimates"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[4]||(a[4]=D(P((e=>c("estimates")),["prevent"]),["space"])),onClick:a[5]||(a[5]=e=>c("estimates"))},Si,32)],2),g("li",{class:T(["job_scope"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[6]||(a[6]=D(P((e=>i.value="job_scope"),["prevent"]),["space"])),onClick:a[7]||(a[7]=e=>i.value="job_scope")},Ti,32)],2),g("li",{class:T(["asbestos"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[8]||(a[8]=D(P((e=>i.value="asbestos"),["prevent"]),["space"])),onClick:a[9]||(a[9]=e=>i.value="asbestos")},Vi,32)],2),g("li",{class:T(["permits"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[10]||(a[10]=D(P((e=>i.value="permits"),["prevent"]),["space"])),onClick:a[11]||(a[11]=e=>i.value="permits")},Ai,32)],2),g("li",{class:T(["material"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[12]||(a[12]=D(P((e=>i.value="material"),["prevent"]),["space"])),onClick:a[13]||(a[13]=e=>i.value="material")},Ii,32)],2),g("li",{class:T(["miscellaneous"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[14]||(a[14]=D(P((e=>i.value="miscellaneous"),["prevent"]),["space"])),onClick:a[15]||(a[15]=e=>i.value="miscellaneous")},Mi,32)],2),Ui])])]),g("div",Di,[_(t,{class:T([0!==k(d).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[Pi,Ei])),_:1},8,["class"]),"contracts"==k(i)?(f(),y("div",Ri,[_(o,{"doc-type":"contracts","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"estimates"==k(i)?(f(),y("div",Li,[_(o,{"doc-type":"estimates","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"proposal_formats"==k(i)?(f(),y("div",Oi,[_(o,{"doc-type":"proposal_formats","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"job_scope"==k(i)?(f(),y("div",Bi,[_(o,{"doc-type":"job_scope","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"asbestos"==k(i)?(f(),y("div",Ni,[_(o,{"doc-type":"asbestos","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"permits"==k(i)?(f(),y("div",Fi,[_(o,{"doc-type":"permits","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"material"==k(i)?(f(),y("div",zi,[_(o,{"doc-type":"material","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"miscellaneous"==k(i)?(f(),y("div",$i,[_(o,{"doc-type":"miscellaneous","object-id":l.leadId},null,8,["object-id"])])):E("",!0)]),k(n)?(f(),J(r,{key:0,openFileModal:k(n),object:l.leadId,type:k(s),"onClose:ModalHandler":a[16]||(a[16]=e=>n.value=!1),"onUpdate:OnSuccess":c},null,8,["openFileModal","object","type"])):E("",!0)])}}}),Ki={class:"widget-head"},Hi={class:"dark-inverted"},Gi={class:"tabbed-controls"},Wi=["onKeydown"],qi=["onKeydown"],Zi=g("div",{class:"tabbed-naver"},null,-1),Xi={class:"inner-list"},Qi=g("span",{class:"tag is-rounded"}," pending ",-1),Yi=g("a",{href:"#"},"Call Julio to update",-1),en=g("span",null,"10:30 AM",-1),ln={class:"inner-list"},an=g("span",{class:"tag is-rounded"}," pending ",-1),tn=g("a",{href:"#"},"Call Julio to update",-1),sn=g("span",null,"10:30 AM",-1),nn=h({__name:"JobTodos",props:{title:{default:"Todo"},labels:{default:()=>["Today","All"]},straight:{type:Boolean},toggled:{type:Boolean}},setup(e){const l=w(e.toggled),a=()=>{l.value=!l.value};return(e,t)=>{const s=Me,i=Ie;return f(),y("div",{class:T(["list-widget tabbed-widget",[e.straight&&"is-straight"]])},[g("div",Ki,[g("h3",Hi,S(e.title),1),g("div",Gi,[g("a",{class:T(["tabbed-control",[!k(l)&&"is-active"]]),role:"button",tabindex:"0",onKeydown:D(P(a,["prevent"]),["space"]),onClick:a},[g("span",null,S(e.labels[0]),1)],42,Wi),g("a",{class:T(["tabbed-control",[k(l)&&"is-active"]]),role:"button",tabindex:"0",onKeydown:D(P(a,["prevent"]),["space"]),onClick:a},[g("span",null,S(e.labels[1]),1)],42,qi),Zi])]),g("div",{class:T(["inner-list-wrapper",[!k(l)&&"is-active"]])},[g("div",Xi,[g("div",null,[(f(),y(j,null,C(6,(l=>_(i,{center:"",lighter:"",class:"inner-list-item"},{icon:b((()=>[_(s,{modelValue:e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.modelValue=l),value:"todo",color:"primary"},null,8,["modelValue"])])),action:b((()=>[Qi])),default:b((()=>[Yi,en])),_:1}))),64))])])],2),g("div",{class:T(["inner-list-wrapper",[k(l)&&"is-active"]])},[g("div",ln,[g("div",null,[(f(),y(j,null,C(10,(l=>_(i,{center:"",lighter:"",class:"inner-list-item"},{icon:b((()=>[_(s,{modelValue:e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=l=>e.modelValue=l),value:"todo",color:"primary"},null,8,["modelValue"])])),action:b((()=>[an])),default:b((()=>[tn,sn])),_:1}))),64))])])],2)],2)}}}),on={class:"business-dashboard hr-dashboard"},dn={class:"columns is-multiline"},cn={class:"column is-12"},rn={class:"columns is-multiline"},un={class:"column is-12"},pn={class:"block-header"},mn={class:"left"},vn={class:"current-user"},hn={class:"center"},fn=g("h4",{class:"block-heading"},"Address",-1),yn={class:"block-text"},gn=g("br",null,null,-1),_n=g("br",null,null,-1),bn={class:"right"},kn=g("h4",{class:"block-heading"},"Managers",-1),wn={class:"candidates"},xn=g("button",null,[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"})],-1),jn={class:"column is-12"},Cn={class:"toolbar"},Sn={class:"tabs-inner"},Tn={class:"tabs is-boxed"},Vn=[g("span",null,"Job Management",-1)],An=[g("span",null,"Documents/Files",-1)],In=[g("span",null,"Proposals",-1)],Mn=[g("span",null,"Tasks",-1)],Un=[g("span",null,"Activities",-1)],Dn=[g("span",null,"Finance",-1)],Pn=[g("span",null,"Report",-1)],En=[g("span",null,"Job progress",-1)],Rn=g("li",{class:"tab-naver"},null,-1),Ln={key:0,class:"column is-12"},On={class:"columns is-multiline"},Bn={class:"column is-8"},Nn={class:"columns is-multiline"},Fn={class:"column is-12"},zn={class:"feed-settings"},$n=g("h3",{class:"dark-inverted"},"Job feeds",-1),Jn={class:"buttons"},Kn={class:"column is-4"},Hn={class:"side-text"},Gn=g("h3",{class:"dark-inverted"},"Job Description",-1),Wn=["innerHTML"],qn=g("a",{class:"action-link",tabindex:"0"},"Read More",-1),Zn={class:"column is-7 is-offset-1"},Xn={class:"incoming"},Qn=g("i",{"aria-hidden":"true",class:"lnil lnil-envelope-alt"},null,-1),Yn=g("div",null,[g("span",{class:"item-name dark-inverted"},"Messages"),g("span",{class:"item-meta"},[g("span",null,"Inbox messages")])],-1),eo=g("i",{"aria-hidden":"true",class:"lnil lnil-checkmark-circle"},null,-1),lo=g("div",null,[g("span",{class:"item-name dark-inverted"},"Tasks"),g("span",{class:"item-meta"},[g("span",null,"Pending tasks")])],-1),ao={key:3,tabindex:"0",class:"action-link is-pushed-mobile"},to={key:4,class:"light-text"},so={class:"column is-12"},io={class:"recent-rookies"},no=g("div",{class:"recent-rookies-header"},[g("h3",{class:"dark-inverted"},"Internal Users"),g("a",{class:"action-link",tabindex:"0"},"View All")],-1),oo={class:"columns is-multiline user-grid user-grid-v4"},co={class:"column is-4"},ro={class:"grid-item"},uo={class:"dark-inverted"},po={class:"capitalized"},mo={class:"button-wrap has-text-centered"},vo={class:"column is-4"},ho={key:0,class:"card mb-4",id:"workerProfileMap",style:{height:"300px",width:"100%","border-radius":"10px","z-index":"9"}},fo=g("div",{class:"widget-toolbar"},[g("div",{class:"left"},[g("a",{class:"action-icon"},[g("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"}),g("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"})])]),g("div",{class:"center"},[g("h3",null,"October 2020")]),g("div",{class:"right"},[g("a",{class:"action-icon"},[g("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"}),g("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"})])])],-1),yo=g("table",{class:"calendar"},[g("thead",null,[g("tr",null,[g("th",{scope:"col"},"Mon"),g("th",{scope:"col"},"Tue"),g("th",{scope:"col"},"Wed"),g("th",{scope:"col"},"Thu"),g("th",{scope:"col"},"Fri"),g("th",{scope:"col"},"Sat"),g("th",{scope:"col"},"Sun")])]),g("tbody",null,[g("tr",null,[g("td",{class:"prev-month"},"29"),g("td",{class:"prev-month"},"30"),g("td",{class:"prev-month"},"31"),g("td",null,"1"),g("td",null,"2"),g("td",null,"3"),g("td",null,"4")]),g("tr",null,[g("td",null,"5"),g("td",null,"6"),g("td",null,"7"),g("td",null,"8"),g("td",null,"9"),g("td",null,"10"),g("td",null,"11")]),g("tr",null,[g("td",null,"12"),g("td",null,"13"),g("td",null,"14"),g("td",null,"15"),g("td",null,"16"),g("td",null,"17"),g("td",{class:"current-day"},"18")]),g("tr",null,[g("td",null,"19"),g("td",null,"20"),g("td",null,"21"),g("td",null,"22"),g("td",null,"23"),g("td",null,"24"),g("td",null,"25")]),g("tr",null,[g("td",null,"26"),g("td",null,"27"),g("td",null,"28"),g("td",null,"29"),g("td",null,"30"),g("td",null,"31"),g("td",{class:"next-month"},"1")])])],-1),go={key:1,class:"column is-12"},_o={key:2,class:"column is-12"},bo={key:3,class:"column is-12"},ko={key:4,class:"column is-12"},wo={key:5,class:"column is-12"},xo={key:6,class:"column is-12"},jo={key:7,class:"column is-12"},Co={key:8,class:"column is-12"},So=h({__name:"JobDetails",setup(e){const t=q();M();const s=Q();ke();const i=w(!1),n=w(""),o=w(!1),d=w({id:"",sales_people_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:null,email:"",role:"",avatar:""},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],clientInfo:{id:"",username:"",last_name:null,email:"",role:"",avatar:null},created_by_info:{id:"",username:"",last_name:null,email:"",role:"",avatar:""},managers_list:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:"",sale_date:"",tags:[],estimated_from:"",estimated_to:"",sources:"",project_type:"",notes:"",attach_mail:"",latitude:null,longitude:null,created_at:"",updated_at:"",created_by:"",client:"",contractor:null,sales_people:[],managers:[]}),c=w("management"),r=[{type:"messages",count:5,status:"new"},{type:"tasks",count:3,status:"pending"}],u={type:{label:"Type",grow:"lg",media:!0},count:{label:"Count",align:"center"},status:"Status",actions:{label:"Actions",align:"end"}};let p;const m=async()=>{try{i.value=!0;const e=await s.get(`/api/project/${t.params.id}/detail/`);d.value=e.data,e.data.latitude&&((e,l)=>{if(p&&p.remove(),p=L.map("workerProfileMap").setView([51.4497984,-.3464489],24),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(p),e&&l){const a=[e,l];L.marker(a).addTo(p),p.setView(a,34)}else console.log("Invalid latitude or longitude for supplier")})(e.data.latitude??39.63,e.data.longitude??-105.3199999)}catch(e){console.error(e)}finally{i.value=!1}};return x((()=>{m()})),(e,s)=>{const i=X,p=F,v=Ee,h=Pe,w=De,x=Ue,V=nn,A=Ae,I=Ji,M=Rs,U=St,R=et,L=cl,B=We,N=a,z=l,$=Z("tooltip");return f(),y("div",on,[g("div",dn,[g("div",cn,[g("div",rn,[g("div",un,[g("div",pn,[g("div",mn,[g("div",vn,[_(i,{size:"large",picture:"lead"==k(d).current_state?"/icons/lead-shield-96.png":"/icons/job-sheild.png",squared:""},null,8,["picture"]),g("h3",null,S(k(d).title?k(d).title:"No Title"),1)])]),g("div",hn,[fn,g("p",yn,[K(S(k(d).address?k(d).address:"No Address Added")+" ",1),gn,K(" "+S(k(d).city?k(d).city:"No City Added")+", "+S(k(d).state?k(d).state:"No State Added")+" ",1),_n,K(" "+S(k(d).zip_code?k(d).zip_code:"No Zip Code Added"),1)])]),g("div",bn,[kn,g("div",wn,[(f(!0),y(j,null,C(k(d).managers_list,(e=>O((f(),J(i,{picture:e.avatar,initials:e.username.slice(0,2),squared:"",color:"warning"},null,8,["picture","initials"])),[[$,`${e.username??"N/A"} ${e.last_name??""}`,void 0,{info:!0,rounded:!0}]]))),256)),xn]),_(p,{class:"mt-1",onClick:s[0]||(s[0]=e=>{return l=k(t).params.id,n.value=l,void(o.value=!0);var l}),bold:"",fullwidth:"","dark-outlined":""},{default:b((()=>[K(" Update "+S("lead"==k(d).current_state?"lead":"job"),1)])),_:1})])])]),g("div",jn,[g("div",Cn,[g("div",Sn,[g("div",Tn,[g("ul",null,[g("li",{class:T(["management"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=D(P((e=>c.value="management"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>c.value="management")},Vn,32)],2),g("li",{class:T(["documents"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=D(P((e=>c.value="documents"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>c.value="documents")},An,32)],2),g("li",{class:T(["proposals"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=D(P((e=>c.value="proposals"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>c.value="proposals")},In,32)],2),g("li",{class:T(["tasks"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=D(P((e=>c.value="tasks"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>c.value="tasks")},Mn,32)],2),g("li",{class:T(["activities"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=D(P((e=>c.value="activities"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>c.value="activities")},Un,32)],2),g("li",{class:T(["finance"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=D(P((e=>c.value="finance"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>c.value="finance")},Dn,32)],2),g("li",{class:T(["report"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=D(P((e=>c.value="report"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>c.value="report")},Pn,32)],2),g("li",{class:T(["progress"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=D(P((e=>c.value="progress"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>c.value="progress")},En,32)],2),Rn])])])])]),"management"===k(c)?(f(),y("div",Ln,[g("div",On,[g("div",Bn,[g("div",Nn,[g("div",Fn,[g("div",zn,[$n,g("div",Jn,[(f(!0),y(j,null,C(k(d).tags,((e,l)=>(f(),y("button",{key:l,class:"button is-selected is-light is-dark-outlined"},S(e),1)))),128))])])]),g("div",Kn,[g("div",Hn,[Gn,g("div",{innerHTML:k(d).notes},null,8,Wn),qn])]),g("div",Zn,[g("div",Xn,[_(w,{rounded:"",data:r,columns:u},{"body-cell":b((({row:e,column:l,value:a})=>["type"===l.key&&"messages"===e.type?(f(),y(j,{key:0},[_(v,{color:"green"},{default:b((()=>[Qn])),_:1}),Yn],64)):"type"===l.key&&"tasks"===e.type?(f(),y(j,{key:1},[_(v,{color:"orange"},{default:b((()=>[eo])),_:1}),lo],64)):"status"===l.key?(f(),y(j,{key:2},["new"===e.status?(f(),J(h,{key:0,rounded:"",color:"success",label:"New"})):(f(),J(h,{key:1,rounded:"",label:"Pending"}))],64)):"actions"===l.key?(f(),y("a",ao,"Open")):(f(),y("span",to,S(a),1))])),_:1})])]),g("div",so,[g("div",io,[no,g("div",oo,[(f(!0),y(j,null,C(k(d).sales_people_info,(e=>(f(),y("div",co,[g("div",ro,[_(x),_(i,{picture:e.avatar,initials:e.username.slice(0,2),size:"large"},null,8,["picture","initials"]),g("h3",uo,S(e.username??"N/A")+" "+S(e.last_name??""),1),g("p",po,S(e.role),1),g("div",mo,[_(p,{color:"primary",raised:""},{default:b((()=>[K(" View Profile ")])),_:1})])])])))),256))])])])])]),g("div",vo,["management"===k(c)?(f(),y("div",ho)):E("",!0),_(V),_(A,{class:"picker-widget"},{header:b((()=>[fo])),body:b((()=>[yo])),_:1})])])])):E("",!0),"documents"===k(c)?(f(),y("div",go,[_(I,{leadId:k(t).params.id},null,8,["leadId"])])):E("",!0),"proposals"===k(c)?(f(),y("div",_o,[_(Re,{"lead-id":k(t).params.id,onUpdateCompany:m},null,8,["lead-id"])])):E("",!0),"activities"===k(c)?(f(),y("div",bo,[_(M,{jobId:k(t).params.id},null,8,["jobId"])])):E("",!0),"progress"===k(c)?(f(),y("div",ko,[_(U,{object:k(t).params.id,type:"job"},null,8,["object"])])):E("",!0),"finance"===k(c)?(f(),y("div",wo,[_(R)])):E("",!0),"activityLogs"===k(c)?(f(),y("div",xo,[_(L,{object_id:k(t).params.id||k(d).id,object_type:"lead"},null,8,["object_id"])])):E("",!0),"report"===k(c)?(f(),y("div",jo,[_(B)])):E("",!0),"tasks"===k(c)?(f(),y("div",Co,[_(N,{projectID:k(t).params.id},null,8,["projectID"])])):E("",!0)])])]),k(o)?(f(),J(z,{key:0,addUpdateLeadModal:k(o),leadId:k(n),"onUpdate:modalHandler":s[17]||(s[17]=e=>o.value=!1),"onUpdate:OnSuccess":m},null,8,["addUpdateLeadModal","leadId"])):E("",!0)])}}});export{So as _};
