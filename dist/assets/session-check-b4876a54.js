import{d as t}from"./index-1dc1c7ab.js";import{u as e}from"./userSession-ce6d23ce.js";import{u as o}from"./useAPI-b3e63ef3.js";import{u as s}from"./layoutSwitcher-257f80f2.js";import{u as r}from"./company-6bfcbe73.js";import"./useNotyf-60a29d22.js";import"./notyf-601e1f55.js";import"./useThemeColors-5f0c2ba4.js";import"./useSupportElement-5a8022cc.js";const a=s(),i=t((async({router:t,pinia:s})=>{const i=e(s),u=o();if(r(),i.isLoggedIn)try{const t=(await u.get("/api/auth/validate-user/")).data;a.setDynamicLayoutId("sideblock-default"),i.setUser(t)}catch(m){i.logoutUser()}t.beforeEach((t=>{if(t.meta.requiresAuth&&!i.isLoggedIn)return{name:"/auth/login",query:{redirect:t.fullPath}};console.log("dfghjlkkl",t.meta)}))}));export{i as default};
