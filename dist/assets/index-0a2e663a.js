import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-872ae1cf.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-dd8ffca4.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-7343b16f.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-dfde5d49.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-1d164d67.js";import{f as i,b as n,x as o,y as c,r as d,$ as r,o as u,j as p,C as m,D as v,E as f,F as g,G as y,H as _,O as h,N as b,V as k,W as C,U as w,I as x,a4 as V,P as U,Q as S,R as T,S as j,h as I,K as M,L as D,m as A,X as L,J as P,w as z,B as E,al as O,aB as R,k as B,aS as H,A as W}from"./index-cef3c94b.js";import{_ as N}from"./VControl-da6e6797.js";import{_ as $}from"./VInput.vue_vue_type_script_setup_true_lang-125f3a26.js";import{_ as K,a as Z}from"./projects-dark-4a371d8a.js";import{u as F}from"./useAPI-dbdf91af.js";import{_ as q}from"./VCheckbox.vue_vue_type_style_index_0_lang-d0c5713e.js";import{_ as J}from"./VCollapse.vue_vue_type_style_index_0_lang-319c7de5.js";import{_ as G}from"./VLabel.vue_vue_type_script_setup_true_lang-05d203b2.js";import{b as X}from"./route-block-83d24a4e.js";import{_ as Q}from"./VModal.vue_vue_type_style_index_0_lang-de273261.js";import{_ as Y}from"./VTextarea.vue_vue_type_script_setup_true_lang-21dc7818.js";import{u as ee}from"./useNotyf-11e01064.js";import{_ as le,a as ae}from"./VOption.vue_vue_type_style_index_0_lang-444a395a.js";import{_ as te}from"./VIconWrap.vue_vue_type_style_index_0_lang-9b370220.js";import{_ as se,a as ie}from"./search-4-dark-2b5b440c.js";import{_ as ne}from"./VFilePond.vue_vue_type_script_lang-a215147d.js";import{c as oe}from"./useSupportElement-4d162b3b.js";import{_ as ce,a as de}from"./UnitAddUpdateModal.vue_vue_type_script_setup_true_lang-6b792135.js";import{_ as re}from"./VDropdown.vue_vue_type_style_index_0_lang-7d5d5efb.js";import{u as ue}from"./company-522308b5.js";import{u as pe}from"./layoutSwitcher-b7208adf.js";import{u as me}from"./viewWrapper-93af5544.js";import"./VFlex.vue_vue_type_style_index_0_lang-ad0318ff.js";import"./VPlaceloadWrap-fcb3778b.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-b9ea34a4.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-6e9fb886.js";import"./useVFieldContext-06d2661f.js";import"./VIcon.vue_vue_type_script_setup_true_lang-3846bca3.js";import"./notyf-237ef4ce.js";import"./useThemeColors-4e161efd.js";import"./via-placeholder-24645670.js";import"./useDropdown-46e2ff94.js";const ve=e=>(S("data-v-d672db14"),e=e(),T(),e),fe={class:"columns is-multiline"},ge={class:"column is-12"},ye={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},_e=ve((()=>f("i",{class:"fa fa-search"},null,-1))),he={class:"timeline-wrapper"},be=ve((()=>f("div",{class:"timeline-header"},null,-1))),ke={class:"timeline-wrapper-inner no-padding-all"},Ce={class:"timeline-container"},we={class:"date"},xe={class:"content-wrap"},Ve={class:"content-box"},Ue={class:"box-text"},Se={class:"meta-text"},Te=["innerHTML"],je=ve((()=>f("img",{class:"light-image is-larger",src:K,alt:""},null,-1))),Ie=ve((()=>f("img",{class:"dark-image is-larger",src:Z,alt:""},null,-1))),Me=j(i({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(i){n();const S=o(),T=c(),j=F(),I=d(!1),M=d([]),D=d(!1),A=d("2"),L=async()=>{I.value=!0;try{const e=await j.get("/api/activity-logs/");M.value=e.data}catch(e){console.error("Error fetching worker activities:",e)}finally{I.value=!1}},P={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const z=d(1),E=d(10),O=d(""),R=r((()=>{const e=O.value.toLowerCase(),l=function(e){const l=new Date,a=new Date,t=new Date;switch(e){case"1":a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":a.setDate(l.getDate()-1),a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":a.setDate(l.getDate()-7);break;case"14":a.setDate(l.getDate()-14);break;case"30":a.setDate(l.getDate()-30);break;case"90":a.setDate(l.getDate()-90);break;default:return null}return{start:a,end:t}}(A.value),a=M.value.filter((a=>{const t=a.actor_info?.username.toLowerCase().includes(e)||a.actor_info?.last_name&&a.actor_info?.last_name?.toLowerCase().includes(e)||a.message.toLowerCase().includes(e);if(l){const e=new Date(a.timestamp);return t&&e>=l.start&&e<=l.end}return t}));return D.value=a.length>0,a}));r((()=>{const e=(z.value-1)*E.value,l=e+E.value;return R.value.slice(e,l)}));const B=r((()=>R.value.length>E.value)),H=e=>{z.value=e,S.push({path:T.path,query:{...T.query,page:e}})};return u((()=>{z.value=parseInt(T.query.page)||1,L()})),p((()=>{})),(i,n)=>{const o=$,c=N,d=U,r=s,u=t,p=a,S=l,T=e;return m(),v("div",fe,[f("div",ge,[f("div",ye,[g(r,{addons:"",style:{width:"21rem"}},{default:y((()=>[g(c,{expanded:""},{default:y((()=>[g(o,{onKeypress:_(L,["enter"]),type:"text",class:"input",modelValue:O.value,"onUpdate:modelValue":n[0]||(n[0]=e=>O.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),g(c,null,{default:y((()=>[g(d,{color:"primary",onClick:L},{default:y((()=>[_e])),_:1})])),_:1})])),_:1}),f("div",he,[be,f("div",ke,[f("div",Ce,[I.value?(m(),h(u,{key:0})):b("",!0),(m(!0),v(k,null,C(M.value,(e=>{return m(),v("div",{class:"timeline-item is-unread",key:e?.id},[f("div",we,[f("span",null,w((l=e?.timestamp.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),f("div",{class:x(["dot",P[e.action]])},null,2),f("div",xe,[f("div",Ve,[g(p,{picture:e?.actor_info.avatar},null,8,["picture"]),f("div",Ue,[f("div",Se,[f("p",null,[f("span",{style:V({color:""+(e.actor===e?.object_id?"var(--red)":"")})},w(e?.actor_info.username)+" "+w(e?.actor_info.last_name)+". ",5),f("span",{class:"action-message",innerHTML:e?.message},null,8,Te)]),f("span",null,w(e?.timestamp.slice(11,16)),1)])])])])]);var l})),128)),D.value||I.value?b("",!0):(m(),h(S,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:y((()=>[je,Ie])),_:1}))])]),B.value?(m(),h(T,{key:0,"current-page":z.value,"onUpdate:currentPage":[n[1]||(n[1]=e=>z.value=e),H],"item-per-page":E.value,"total-items":R.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):b("",!0)])])])])}}}),[["__scopeId","data-v-d672db14"]]),De=e=>(S("data-v-08c5b175"),e=e(),T(),e),Ae={class:"role-management"},Le={class:"role-category"},Pe={class:"role-table"},ze=De((()=>f("th",null,"View",-1))),Ee=De((()=>f("th",null,"Add",-1))),Oe=De((()=>f("th",null,"Edit",-1))),Re=De((()=>f("th",null,"Delete",-1))),Be={class:"pt-5"},He=j(i({__name:"ManageRole",setup(e){const l=I([{category:"Sales",title:"Leads",model:!1,items:[{name:"Assign Salesperson",view:!1,add:!1,edit:!1,delete:!1},{name:"View other Salesperson Leads & Activities",view:!1,add:!1,edit:!1,delete:!1},{name:"Create a Job",view:!1,add:!1,edit:!1,delete:!1},{name:"Export to Excel",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Project Management",model:!1,title:"Schedule",items:[{name:"Set Baseline",view:!1,add:!1,edit:!1,delete:!1},{name:"Daily logs",view:!1,add:!1,edit:!1,delete:!1},{name:"Assign Users",view:!1,add:!1,edit:!1,delete:!1},{name:"Global - Can see all To-Dos",view:!1,add:!1,edit:!1,delete:!1}]},{category:"Files",model:!1,title:"Documents",items:[{name:"Access SubVendor and Client Uploads",view:!1,add:!1,edit:!1,delete:!1},{name:"Signature Requests on PDFs",view:!1,add:!1,edit:!1,delete:!1},{name:"Photos",view:!1,add:!1,edit:!1,delete:!1},{name:"Videos",view:!1,add:!1,edit:!1,delete:!1}]}]);return(e,a)=>{const t=q,i=N,n=s;return m(),v("div",Ae,[(m(!0),v(k,null,C(l,(e=>(m(),v("div",{key:e.category,class:"role-section"},[f("h3",Le,w(e.category),1),f("table",Pe,[f("thead",null,[f("tr",null,[f("th",null,w(e.title),1),ze,Ee,Oe,Re])]),f("tbody",null,[(m(!0),v(k,null,C(e.items,(e=>(m(),v("tr",{key:e.name},[f("td",Be,w(e.name),1),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.view,"onUpdate:modelValue":l=>e.view=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.add,"onUpdate:modelValue":l=>e.add=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.edit,"onUpdate:modelValue":l=>e.edit=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)]),f("td",null,[g(n,null,{default:y((()=>[g(i,{raw:"",subcontrol:""},{default:y((()=>[g(t,{modelValue:e.delete,"onUpdate:modelValue":l=>e.delete=l,color:"info"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])])))),128))])])])))),128))])}}}),[["__scopeId","data-v-08c5b175"]]),We={class:"column is-12"},Ne=i({__name:"RoleManagement",setup(e){const l=[{title:"Full Admin",content:"Access to perform all actions on every item in Buildertrend."},{title:"Project Manager",content:"Access to add and edit all job-related items except for Owner Invoicing and Internal Users and Subs. User will not have access to Sales items."},{title:"Office Manager",content:"Access to add and edit most items in Buildertrend. User will not have access to Estimates or Warranty."},{title:"Bookkeeper",content:"Access to all financials and accounting integrations as well as most job-related items. User will not have access to Sales, RFIs, Daily Logs, or Warranty."},{title:"Selections Coordinator",content:"Access to cost and price information on Selections, POs, and COs. User will not have access to Owner Invoicing, Sales, Warranty, or Estimates."},{title:"Warranty Coordinator",content:"Access to Warranty, To-Dos, and most communication items. User will not have access to Customer, Job, or Sub information."},{title:"Architect",content:"Access to view COs and Selections without cost or price information as well as full access to most job-related items. User will not have access to Sales, Owner Invoicing, Warranty, or Estimates."}];return(e,a)=>{const t=J;return m(),v("div",We,[g(t,{items:l,"with-chevron":""})])}}}),$e={class:"pill"},Ke=i({__name:"BulletPill",setup:e=>(e,l)=>(m(),v("span",$e))});"function"==typeof X&&X(Ke);const Ze=j(Ke,[["__scopeId","data-v-325a7b2c"]]),Fe=i({name:"FolderSettings",setup(){const e=I({documents:{autoCreate:!1,permissions:{subVendors:!1,clients:!1}},photos:{autoCreate:!1,permissions:{subVendors:!1,clients:!1},uploading:{subVendors:!1,clients:!1}},videos:{permissions:{subVendors:!1,clients:!1}}});return{settings:e,saveSettings:()=>{console.log("Settings saved",e),alert("Settings have been saved successfully!")}}}}),qe=e=>(S("data-v-ff241c58"),e=e(),T(),e),Je={class:""},Ge={class:"section"},Xe={class:"title is-5"},Qe={class:"mt-5"},Ye=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),el=qe((()=>f("h2",{class:"title is-6"}," Auto-create folders for subvendors and clients to upload documents ",-1))),ll=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),al={class:"columns is-multiline"},tl={class:"column is-3"},sl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),il=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),nl={class:"column is-3"},ol=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),cl=qe((()=>f("h2",{class:"title is-6"},"Clients",-1))),dl={class:"section"},rl={class:"title is-5"},ul={class:"mt-5"},pl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),ml=qe((()=>f("h2",{class:"title is-6"}," Auto-create folder for clients to upload photos ",-1))),vl={class:"columns is-multiline"},fl={class:"column is-6"},gl=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),yl={class:"columns is-multiline"},_l={class:"column is-6"},hl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),bl=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),kl={class:"column is-6"},Cl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),wl=qe((()=>f("h2",{class:"title is-6"},"Clients",-1))),xl={class:"column is-6"},Vl=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default uploading permissions:",-1))),Ul={class:"columns is-multiline"},Sl={class:"column is-6"},Tl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),jl=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),Il={class:"column is-6"},Ml=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Dl=qe((()=>f("h2",{class:"title is-6"},"Clients",-1))),Al={class:"section"},Ll={class:"title is-5"},Pl=qe((()=>f("h3",{class:"title is-6 mt-6 mb-5"},"Default viewing permissions:",-1))),zl={class:"columns is-multiline"},El={class:"column is-3"},Ol=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Rl=qe((()=>f("h2",{class:"title is-6"},"SubVendors",-1))),Bl={class:"column is-3"},Hl=qe((()=>f("span",{class:"toggler"},[f("span",{class:"active"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})]),f("span",{class:"inactive"},[f("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:circle"})])],-1))),Wl=qe((()=>f("h2",{class:"title is-6"},"Clients",-1)));const Nl=j(Fe,[["render",function(e,l,a,t,s,i){const n=Ze,o=$,c=G,d=N;return m(),v("div",Je,[f("div",Ge,[f("h3",Xe,[g(n),M(" Document folders ")]),f("div",Qe,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.autoCreate},null,8,["checked"]),Ye])),_:1}),el])),_:1})])]),f("div",null,[ll,f("div",al,[f("div",tl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),sl])),_:1}),il])),_:1})])]),f("div",nl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),ol])),_:1}),cl])),_:1})])])])])]),f("div",dl,[f("h3",rl,[g(n),M(" Photo folders ")]),f("div",ul,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.autoCreate},null,8,["checked"]),pl])),_:1}),ml])),_:1})])]),f("div",vl,[f("div",fl,[gl,f("div",yl,[f("div",_l,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),hl])),_:1}),bl])),_:1})])]),f("div",kl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Cl])),_:1}),wl])),_:1})])])])]),f("div",xl,[Vl,f("div",Ul,[f("div",Sl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.subVendors},null,8,["checked"]),Tl])),_:1}),jl])),_:1})])]),f("div",Il,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.photos.permissions.clients},null,8,["checked"]),Ml])),_:1}),Dl])),_:1})])])])])])]),f("div",Al,[f("h3",Ll,[g(n),M(" Video folders ")]),f("div",null,[Pl,f("div",zl,[f("div",El,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.subVendors},null,8,["checked"]),Ol])),_:1}),Rl])),_:1})])]),f("div",Bl,[f("label",null,[g(d,{class:"is-flex align-items-ceneter"},{default:y((()=>[g(c,{raw:"",class:"remember-toggle"},{default:y((()=>[g(o,{raw:"",type:"checkbox",checked:!e.settings.documents.permissions.clients},null,8,["checked"]),Hl])),_:1}),Wl])),_:1})])])])])])])}],["__scopeId","data-v-ff241c58"]]),$l={class:"modal-form columns is-multiline"},Kl={class:"column is-12"},Zl=f("label",{class:"label"},"Title *",-1),Fl={class:"column is-12"},ql=f("label",{class:"label"},"Description",-1),Jl=i({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=F(),i=d(!1),n=ee(),o=d({id:a.trade?.id||"",name:a.trade?.name||"",description:a.trade?.description||""}),c=()=>{l("update:modalHandler",!1)},r=async()=>{try{i.value=!0,o.value.id?(await t.patch(`/api/cost-trade/${o.value.id}/`,o.value),n.success("Trade updated successfully")):(await t.post("/api/cost-trade/",o.value),n.success("Trade created successfully")),l("update:OnSuccess"),c()}catch(e){console.log(e)}finally{i.value=!1}};return(e,l)=>{const a=Y,t=N,n=s,d=U,u=Q;return m(),h(u,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:P(r,["prevent"]),onClose:c},{content:y((()=>[f("div",$l,[f("div",Kl,[Zl,D(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>A(o).name=e)},null,512),[[L,A(o).name]])]),f("div",Fl,[ql,g(n,null,{default:y((()=>[g(t,null,{default:y((()=>[g(a,{modelValue:A(o).description,"onUpdate:modelValue":l[1]||(l[1]=e=>A(o).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:y((()=>[g(d,{type:"submit",color:"primary",loading:A(i),raised:""},{default:y((()=>[M("Save")])),_:1},8,["loading"])])),cancel:y((()=>[g(d,{color:"light",onClick:c,raised:""},{default:y((()=>[M("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Gl={class:"modal-form columns is-multiline"},Xl={class:"column is-6"},Ql={class:"field"},Yl=f("label",{class:"label"},"Title *",-1),ea={class:"control"},la={class:"column is-6"},aa={class:"field"},ta=f("label",{class:"label"},"Trade *",-1),sa={class:"column is-12"},ia={class:"field"},na=f("label",{class:"label"},"Description",-1),oa=i({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=F(),i=d(!1),n=ee(),o=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});d("");const p=async()=>{try{if(o.value=!0,a.categoryId){await t.patch(`/api/cost-category/${a.categoryId}/`,r.value)}else{await t.post("/api/cost-category/",r.value)}l("update:OnSuccess",null),n.success(`Category  ${a.categoryId?"updated":"created"} successfully`),c()}catch(e){console.log(e)}finally{o.value=!1}},_=d([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return u((()=>{a.categoryId&&(async()=>{try{o.value=!0;const e=await t.get(`/api/cost-category/${a.categoryId}/`);r.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})(),(async()=>{try{o.value=!0;const e=await t.get("/api/cost-trade/");_.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})()})),(e,l)=>{const t=le,n=ae,o=N,d=Y,u=s,b=U,x=Q;return m(),h(x,{is:"form",open:a.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:y((()=>[f("div",Gl,[f("div",Xl,[f("div",Ql,[Yl,f("div",ea,[D(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>A(r).name=e)},null,512),[[L,A(r).name]])])])]),f("div",la,[f("div",aa,[ta,g(o,null,{default:y((()=>[g(n,{modelValue:A(r).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>A(r).trade=e),required:""},{default:y((()=>[(m(!0),v(k,null,C(A(_),(e=>(m(),h(t,{value:e.id},{default:y((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),f("div",sa,[f("div",ia,[na,g(u,null,{default:y((()=>[g(o,null,{default:y((()=>[g(d,{modelValue:A(r).description,"onUpdate:modelValue":l[2]||(l[2]=e=>A(r).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:y((()=>[g(b,{type:"submit",color:"primary",loading:A(i),raised:""},{default:y((()=>[M(w(a.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:y((()=>[g(b,{color:"light",onClick:c,raised:""},{default:y((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),ca={class:"modal-form columns is-multiline"},da={class:"column is-6"},ra={class:"field"},ua=f("label",{class:"label"},"Title * ",-1),pa={class:"control"},ma={class:"column is-6"},va={class:"field"},fa=f("label",{class:"label"},"Category *",-1),ga={class:"control"},ya={class:"field column is-12"},_a=f("label",{class:"label"},"Sub code of ",-1),ha={class:"control"},ba={class:"column is-12"},ka={class:"columns is-multiline"},Ca={class:"field column is-6"},wa=f("label",{class:"label"},null,-1),xa={key:0,class:"column is-6"},Va={class:"field"},Ua=f("label",{class:"label"},"Default labour cost ($)",-1),Sa={class:"control"},Ta={class:"column is-4"},ja={class:"field"},Ia=f("label",{class:"label"},"Unit cost ($)",-1),Ma={class:"control"},Da={class:"column is-4"},Aa={class:"field"},La=f("label",{class:"label"},"Worker cost ($)",-1),Pa={class:"control"},za={class:"column is-4"},Ea={class:"field"},Oa=f("label",{class:"label"},"Unit",-1),Ra=f("hr",null,null,-1),Ba={class:"column is-12"},Ha={class:"field"},Wa=f("label",{class:"label"},"Description",-1),Na=i({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=F(),i=d(!1),n=ee(),o=d(!1),c=()=>{l("update:modalHandler",!1)},r=d({id:"",name:"",category:a.codeCategoryId||"",parent_code:a.parentCodeId||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit:"--",unit_cost:0,is_active:!0}),p=async()=>{try{if(o.value=!0,a.costCodeId){await t.patch(`/api/cost-code/${a.costCodeId}/`,r.value);n.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",r.value);n.success("Cost code created successfully")}c(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{o.value=!1}},_=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=d([]),V=async(e="")=>{try{o.value=!0;const l=await t.get(`/api/cost-code/?category=${e}`);x.value=l.data.map((e=>({...e,value:e.id,label:e.name})))}catch(l){console.log(l)}finally{o.value=!1}};z((()=>r.value.category),(e=>{V(e)}));const S=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]);return u((()=>{console.log(a.codeCategoryId),a.costCodeId&&(async()=>{try{o.value=!0;const e=await t.get(`/api/cost-code/${a.costCodeId}/`);r.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})(),(async()=>{try{i.value=!0;const e=await t.get("/api/units/");S.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})(),(async()=>{try{o.value=!0;const e=await t.get("/api/cost-category/");_.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})(),V()})),(e,l)=>{const t=le,n=ae,o=N,d=s,u=E("Multiselect"),V=q,T=Y,j=U,I=Q;return m(),h(I,{is:"form",open:a.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:P(p,["prevent"]),onClose:c},{content:y((()=>[f("div",ca,[f("div",da,[f("div",ra,[ua,f("div",pa,[D(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>A(r).name=e)},null,512),[[L,A(r).name]])])])]),f("div",ma,[f("div",va,[fa,f("div",ga,[g(d,null,{default:y((()=>[g(o,null,{default:y((()=>[g(n,{modelValue:A(r).category,"onUpdate:modelValue":l[1]||(l[1]=e=>A(r).category=e),required:""},{default:y((()=>[g(t,{value:""},{default:y((()=>[M(" Select a category ")])),_:1}),(m(!0),v(k,null,C(A(_),(e=>(m(),h(t,{value:e.id},{default:y((()=>[M(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),f("div",ya,[_a,f("div",ha,[g(d,null,{default:y((({id:a})=>[g(o,null,{default:y((()=>[g(u,{disabled:!!e.CategoryMode,modelValue:A(r).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>A(r).parent_code=e),attrs:{id:a},searchable:!0,options:A(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),f("div",ba,[f("div",ka,[f("div",Ca,[wa,g(d,{class:"is-flex"},{default:y((()=>[g(o,{raw:"",subcontrol:""},{default:y((()=>[g(V,{modelValue:A(r).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>A(r).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),A(r).is_labour_code?(m(),v("div",xa,[f("div",Va,[Ua,f("div",Sa,[D(f("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>A(r).labour_cost=e)},null,512),[[L,A(r).labour_cost]])])])])):b("",!0)])]),f("div",Ta,[f("div",ja,[Ia,f("div",Ma,[D(f("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>A(r).unit_cost=e)},null,512),[[L,A(r).unit_cost]])])])]),f("div",Da,[f("div",Aa,[La,f("div",Pa,[D(f("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":l[6]||(l[6]=e=>A(r).worker_cost=e)},null,512),[[L,A(r).worker_cost]])])])]),f("div",za,[f("div",Ea,[Oa,g(o,null,{default:y((()=>[g(n,{modelValue:A(r).unit,"onUpdate:modelValue":l[7]||(l[7]=e=>A(r).unit=e)},{default:y((()=>[g(t,{value:""},{default:y((()=>[M(" Select Unit ")])),_:1}),(m(!0),v(k,null,C(A(S),(e=>(m(),h(t,{value:e.value},{default:y((()=>[M(w(e.title)+" ("+w(e.value??"")+") ",1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),Ra,f("div",Ba,[f("div",Ha,[Wa,g(d,null,{default:y((()=>[g(o,null,{default:y((()=>[g(T,{modelValue:A(r).description,"onUpdate:modelValue":l[8]||(l[8]=e=>A(r).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:y((()=>[g(j,{type:"submit",color:"primary",loading:A(i),raised:""},{default:y((()=>[M(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:y((()=>[g(j,{color:"light",onClick:c,raised:""},{default:y((()=>[M("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),$a=e=>(S("data-v-2f1f2834"),e=e(),T(),e),Ka={class:"list-flex-toolbar flex-list-v1"},Za={key:0,class:"columns is-multiline"},Fa={class:"column is-12"},qa={key:1,class:"page-content-inner"},Ja=$a((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),Ga=$a((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),Xa={class:"table is-hoverable is-fullwidth"},Qa=$a((()=>f("thead",null,[f("tr",null,[f("th",null,"Title"),f("th",null,"Description"),f("th",null,"Children"),f("th",{class:"is-end"},"Actions")])],-1))),Ya={class:"is-end"},et={class:"is-flex is-justify-content-flex-end"},lt=j(i({__name:"TradeComp",setup(e){const a=ee(),t=d(!1);d("Items list");const i=d([]),n=F(),o=d(""),c=d(!1),p=d(null),_=async()=>{try{t.value=!0;const e=await n.get("/api/cost-trade/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{p.value=e,c.value=!0},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return i.value.filter((l=>l.name?.match(e)))}return i.value}));return u((()=>{_()})),(e,i)=>{const d=N,r=s,u=U,S=O,T=R,j=l,I=te,A=Jl;return m(),v("div",null,[f("div",Ka,[g(r,null,{default:y((()=>[g(d,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,o.value]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(u,{onClick:i[1]||(i[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:y((()=>[M(" Trade ")])),_:1})])),_:1})]),t.value?(m(),v("div",Za,[f("div",Fa,[(m(),v(k,null,C(20,(e=>g(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(m(),v("div",qa,[V.value.length?b("",!0):(m(),h(j,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:y((()=>[Ja,Ga])),_:1})),f("table",Xa,[Qa,f("tbody",null,[(m(!0),v(k,null,C(V.value,(e=>(m(),v("tr",{key:e.id},[f("td",null,w(e.name??"n/a"),1),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.codes?.length||0),1),f("td",Ya,[f("div",et,[g(I,{onClick:l=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{await n.delete(`/api/cost-trade/${e}/`),a.success("Trade deleted successfully"),_()}catch(l){console.log(l),a.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])])),c.value?(m(),h(A,{key:2,openTradeModal:c.value,trade:p.value,"onUpdate:modalHandler":i[2]||(i[2]=e=>c.value=!1),"onUpdate:OnSuccess":_},null,8,["openTradeModal","trade"])):b("",!0)])}}}),[["__scopeId","data-v-2f1f2834"]]),at=e=>(S("data-v-43528037"),e=e(),T(),e),tt={class:"list-flex-toolbar flex-list-v1"},st={key:0,class:"columns is-multiline"},it={class:"column is-12"},nt={key:1,class:"page-content-inner"},ot=at((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),ct=at((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),dt={class:"table is-hoverable is-fullwidth"},rt=at((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),ut={class:"pl-5"},pt={class:"dark-text text-primary"},mt={class:"is-end"},vt={class:"is-flex is-justify-content-flex-end"},ft=j(i({__name:"CostCodes",setup(e){const a=ee(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),n=F(),o=d(""),c=[{}],p=d(!1);d(!1),d(!1);const _=d(""),x=async()=>{try{t.value=!0;const e=await n.get("/api/cost-code/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=N,r=s,u=U,S=O,T=R,j=l,I=te,P=Na;return m(),v("div",null,[f("div",tt,[g(r,null,{default:y((()=>[g(d,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>B(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(o)]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(u,{color:"primary",onClick:c[1]||(c[1]=e=>p.value=!A(p)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[M(" Cost Code ")])),_:1})])),_:1})]),A(t)?(m(),v("div",st,[f("div",it,[(m(),v(k,null,C(20,(e=>g(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(m(),v("div",nt,[A(V).length?b("",!0):(m(),h(j,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[ot,ct])),_:1})),f("table",dt,[rt,f("tbody",null,[(m(!0),v(k,null,C(A(i),(e=>(m(),v("tr",{key:e.id,class:"sub-item"},[f("td",ut,[f("p",pt,w(e.name),1)]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",mt,[f("div",vt,[g(I,{onClick:l=>{return a=e.id,_.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-code/${e}/`),x(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])])),A(p)?(m(),h(P,{key:2,addUpdateCostCodeModal:A(p),"cost-code-id":A(_),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):b("",!0)])}}}),[["__scopeId","data-v-43528037"]]),gt=e=>(S("data-v-e9bf2a7f"),e=e(),T(),e),yt={class:""},_t={class:"list-flex-toolbar flex-list-v1"},ht={key:0,class:"columns is-multiline"},bt={class:"column is-12"},kt={class:"page-content-inner"},Ct=gt((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),wt=gt((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),xt={class:"table is-hoverable is-fullwidth"},Vt=gt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Ut={class:"info-text is-bold"},St={class:"is-end"},Tt={class:"is-flex is-justify-content-flex-end"},jt=j(i({__name:"CategoryComp",setup(e){const a=ee(),t=d(!1);d("Items list");const i=d([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),n=F(),o=d(""),c=[{}];d(!1);const p=d(!1);d(!1);const _=d(""),x=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=r((()=>{if(o.value){const e=new RegExp(o.value,"i");return c.filter((l=>l.username?.match(e)||l.location?.match(e)))}return c}));return u((()=>{x()})),(e,c)=>{const d=N,r=s,u=U,S=O,T=R,j=l,I=te,P=oa;return m(),v("div",null,[f("div",yt,[f("div",_t,[g(r,null,{default:y((()=>[g(d,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>B(o)?o.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(o)]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(u,{onClick:c[1]||(c[1]=e=>p.value=!A(p)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[M(" Category ")])),_:1})])),_:1})]),A(t)?(m(),v("div",ht,[f("div",bt,[(m(),v(k,null,C(20,(e=>g(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):b("",!0),f("div",kt,[A(V).length?b("",!0):(m(),h(j,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Ct,wt])),_:1})),f("table",xt,[Vt,f("tbody",null,[(m(!0),v(k,null,C(A(i),(e=>(m(),v("tr",{key:e.id},[f("td",null,[f("p",Ut,w(e.name??"n/a"),1)]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",St,[f("div",Tt,[g(I,{onClick:l=>{return a=e?.id,_.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(I,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),x(),a.success("delete category")}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),A(p)?(m(),h(P,{key:0,addUpdateCategoryModal:A(p),"category-id":A(_),"onUpdate:modalHandler":c[2]||(c[2]=e=>p.value=!1),"onUpdate:OnSuccess":c[3]||(c[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0)])}}}),[["__scopeId","data-v-e9bf2a7f"]]),It=e=>(S("data-v-a0d48384"),e=e(),T(),e),Mt={class:"tabs-wrapper"},Dt={class:"tabs-inner"},At={class:"tabs"},Lt=[It((()=>f("span",null,"Identity List",-1)))],Pt=[It((()=>f("span",null,"Cost Codes",-1)))],zt=[It((()=>f("span",null,"Category",-1)))],Et=[It((()=>f("span",null,"Trade",-1)))],Ot={key:0},Rt={class:"columns is-multiline"},Bt={class:"column is-12"},Ht={class:"list-flex-toolbar flex-list-v1"},Wt={class:"page-content-inner"},Nt=It((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),$t=It((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),Kt={class:"table is-hoverable is-fullwidth"},Zt=It((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Ft={class:"info-text is-bold"},qt=["onClick"],Jt={class:"is-end"},Gt={class:"is-flex is-justify-content-flex-end"},Xt={class:"sub-item"},Qt={class:"pl-5"},Yt={class:"dark-text text-primary"},es=["onClick"],ls={class:"is-end"},as={class:"is-flex is-justify-content-flex-end"},ts={class:"child-item"},ss={class:"pl-6"},is=["onClick"],ns=It((()=>f("td",null,"-",-1))),os={class:"is-end"},cs={class:"is-flex is-justify-content-flex-end"},ds={class:"p-l-60"},rs=It((()=>f("td",null,"-",-1))),us={class:"is-end"},ps={class:"is-flex is-justify-content-flex-end"},ms={key:1},vs={key:2},fs={key:3},gs=j(i({__name:"IdentityList",setup(e){const a=ee(),t=d(!1),i=d("itemsList"),n=d([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),o=F(),c=d(""),p=d(!1),V=d(!1),S=d(!1),T=d(""),j=async e=>{try{t.value=!0;await o.delete(`/api/cost-code/${e}/`);I(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}},I=async()=>{try{t.value=!0;const e=await o.get("/api/cost-category/list/");n.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},z=e=>{T.value=e,p.value=!p.value},E=d(""),H=d(!1),W=d(""),$=(e=null,l=null)=>{console.log(e),console.log(l),E.value="",W.value="",W.value=e,E.value=l,p.value=!0},K=r((()=>{if(!c.value)return n.value;const e=new RegExp(c.value,"i");return n.value.filter((l=>!!e.test(l.name)||l.codes.some((l=>!!e.test(l.name)||l.child_codes?.some((l=>e.test(l.name)))))))}));return u((()=>{I()})),(e,n)=>{const d=R,r=N,u=s,Z=U,F=O,q=l,J=te,G=jt,X=ft,Q=lt,Y=Na,ee=oa,le=Jl;return m(),v("div",null,[f("div",Mt,[f("div",Dt,[f("div",At,[f("ul",null,[f("li",{class:x(["itemsList"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:n[0]||(n[0]=_(P((e=>i.value="itemsList"),["prevent"]),["space"])),onClick:n[1]||(n[1]=e=>i.value="itemsList")},Lt,32)],2),f("li",{class:x(["costCodes"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:n[2]||(n[2]=_(P((e=>i.value="costCodes"),["prevent"]),["space"])),onClick:n[3]||(n[3]=e=>i.value="costCodes")},Pt,32)],2),f("li",{class:x(["Category"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:n[4]||(n[4]=_(P((e=>i.value="Category"),["prevent"]),["space"])),onClick:n[5]||(n[5]=e=>i.value="Category")},zt,32)],2),f("li",{class:x(["Trade"===A(i)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:n[6]||(n[6]=_(P((e=>i.value="Trade"),["prevent"]),["space"])),onClick:n[7]||(n[7]=e=>i.value="Trade")},Et,32)],2)])])])]),"itemsList"==A(i)?(m(),v("div",Ot,[f("div",Rt,[f("div",Bt,[A(t)?(m(),v(k,{key:0},C(20,(e=>g(d,{height:"40px",width:"100%",class:"my-2"}))),64)):b("",!0)])]),f("div",Ht,[g(u,null,{default:y((()=>[g(r,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":n[8]||(n[8]=e=>B(c)?c.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(c)]])])),_:1})])),_:1}),g(F,null,{default:y((()=>[g(Z,{color:"primary",onClick:n[9]||(n[9]=e=>$()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:y((()=>[M(" Cost Code ")])),_:1}),g(Z,{onClick:n[10]||(n[10]=e=>V.value=!A(V)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:y((()=>[M(" Category ")])),_:1})])),_:1})]),f("div",Wt,[A(K).length?b("",!0):(m(),h(q,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Nt,$t])),_:1})),f("table",Kt,[Zt,f("tbody",null,[(m(!0),v(k,null,C(A(K),(e=>(m(),v(k,{key:e.id},[f("tr",null,[f("td",null,[f("p",Ft,[M(w(e.name??"n/a")+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{$(e.id),H.value=!1,H.value=!0}},null,8,qt)])]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",Jt,[f("div",Gt,[g(J,{onClick:l=>{return a=e?.id,T.value=a,void(V.value=!V.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),g(J,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-category/${e}/`),a.success("delete category"),I()}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(m(!0),v(k,{key:0},C(e.codes,(e=>(m(),v(k,{key:e?.id},[f("tr",Xt,[f("td",Qt,[f("p",Yt,[M(w(e.name)+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>$(e.category,e.id)},null,8,es)])]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",ls,[f("div",as,[g(J,{onClick:l=>z(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(J,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(k,{key:0},C(e.child_codes,(e=>(m(),v(k,{key:e.id},[f("tr",ts,[f("td",ss,[M(w(e.name),1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>$(e.category,e.id)},null,8,is)]),f("td",null,w(e.description||"No description"),1),ns,f("td",os,[f("div",cs,[g(J,{onClick:l=>z(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(J,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(k,{key:0},C(e.child_codes,(e=>(m(),v("tr",{key:e.id,class:"child-item"},[f("td",ds,w(e.name),1),f("td",null,w(e.description||"No description"),1),rs,f("td",us,[f("div",ps,[g(J,{onClick:l=>z(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),g(J,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>j(e.id)},null,8,["onClick"])])])])))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128))])])])])):b("",!0),"Category"==A(i)?(m(),v("div",ms,[g(G)])):b("",!0),"costCodes"==A(i)?(m(),v("div",vs,[g(X)])):b("",!0),"Trade"==A(i)?(m(),v("div",fs,[g(Q)])):b("",!0),A(p)?(m(),h(Y,{key:4,addUpdateCostCodeModal:A(p),"cost-code-id":A(T),parentCodeId:A(E),codeCategoryId:A(W),CategoryMode:A(H),"onUpdate:modalHandler":n[11]||(n[11]=e=>{p.value=!1,H.value=!1}),"onUpdate:OnSuccess":n[12]||(n[12]=e=>I())},null,8,["addUpdateCostCodeModal","cost-code-id","parentCodeId","codeCategoryId","CategoryMode"])):b("",!0),A(V)?(m(),h(ee,{key:5,addUpdateCategoryModal:A(V),"category-id":A(T),"onUpdate:modalHandler":n[13]||(n[13]=e=>V.value=!1),"onUpdate:OnSuccess":n[14]||(n[14]=e=>I())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0),A(S)?(m(),h(le,{key:6,addUpdateTradeModal:A(S),"onUpdate:modalHandler":n[15]||(n[15]=e=>S.value=!1),"onUpdate:OnSuccess":n[16]||(n[16]=e=>I())},null,8,["addUpdateTradeModal"])):b("",!0)])}}}),[["__scopeId","data-v-a0d48384"]]),ys=e=>(S("data-v-3775b8bc"),e=e(),T(),e),_s=ys((()=>f("div",{class:"list-flex-toolbar flex-list-v1"},null,-1))),hs={class:"page-content-inner"},bs=ys((()=>f("img",{class:"light-image",src:se,alt:""},null,-1))),ks=ys((()=>f("img",{class:"dark-image",src:ie,alt:""},null,-1))),Cs={class:"columns is-multiline"},ws={class:"column is-6"},xs={class:"column is-6"},Vs={class:"column is-6"},Us={class:"column is-6"},Ss={class:"column is-12"},Ts={class:"column is-3"},js={class:"column is-3"},Is={class:"column is-3"},Ms={class:"column is-3"},Ds={class:"column is-6"},As={class:"column is-6"},Ls={class:"columns is-multiline"},Ps=ys((()=>f("div",{class:"column is-12"},[f("h1",{class:"title is-4"},"Company Logos")],-1))),zs={class:"column is-4 is-flex"},Es={class:"column is-4 is-flex"},Os={class:"column is-4 is-flex"},Rs=j(i({__name:"CompanyInformation",setup(e){ee();const t=d(!1),i=F();d(""),d(!1);const n=d({id:"",name:"",trade_name:"",zipCode:null,city:"",state:null,country:null,address:null,phone_number:null,email:null,website:null,logo:null,created_at:"",updated_at:"",sidebar_logo:"",favicon:null,invoice_header_logo:null,login_page_logo:"",branding_line:""}),o=async()=>{try{t.value=!0;const e=await i.get("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/");n.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},c=async e=>{try{t.value=!0;const l=await i.patch("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/",e);o(),n.value=l.data}catch(l){console.log(l)}finally{t.value=!1}},r=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(n.value.logo=a,c({logo:a}))},p=(e,l)=>{e?console.error(e):(console.log(l),n.value.logo=null)},_=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(n.value.favicon=a,c({favicon:a}),oe(n.value.favicon))},k=(e,l)=>{e?console.error(e):(console.log(l),n.value.favicon=null)},C=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(n.value.invoice_header_logo=a,c({invoice_header_logo:a}))},w=(e,l)=>{e?console.error(e):(console.log(l),n.value.invoice_header_logo=null)};return u((()=>{o()})),(e,t)=>{const i=l,o=G,d=$,u=N,x=s,V=a,U=ne;return m(),v("div",null,[_s,f("div",hs,[A(n).name?b("",!0):(m(),h(i,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[bs,ks])),_:1})),f("div",Cs,[f("div",ws,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Company Name")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).name,"onUpdate:modelValue":t[0]||(t[0]=e=>A(n).name=e),type:"text",placeholder:"Company Name",onBlur:t[1]||(t[1]=e=>c({name:A(n).name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",xs,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Trade Name")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).trade_name,"onUpdate:modelValue":t[2]||(t[2]=e=>A(n).trade_name=e),type:"text",placeholder:"Trade Name",onBlur:t[3]||(t[3]=e=>c({trade_name:A(n).trade_name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Vs,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Email Address")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).email,"onUpdate:modelValue":t[4]||(t[4]=e=>A(n).email=e),type:"text",placeholder:"Company Email",onBlur:t[5]||(t[5]=e=>c({email:A(n).email}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Us,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Phone Number")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).phone_number,"onUpdate:modelValue":t[6]||(t[6]=e=>A(n).phone_number=e),type:"text",placeholder:"Phone Number",onBlur:t[7]||(t[7]=e=>c({phone_number:A(n).phone_number}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ss,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Company Website")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).website,"onUpdate:modelValue":t[8]||(t[8]=e=>A(n).website=e),type:"url",placeholder:"Website URL",onBlur:t[9]||(t[9]=e=>c({website:A(n).website}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ts,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Zip Code")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).zipCode,"onUpdate:modelValue":t[10]||(t[10]=e=>A(n).zipCode=e),type:"text",placeholder:"Zip Code",onBlur:t[11]||(t[11]=e=>c({zipCode:A(n).zipCode}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",js,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("City ")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).city,"onUpdate:modelValue":t[12]||(t[12]=e=>A(n).city=e),type:"text",placeholder:"City",onBlur:t[13]||(t[13]=e=>c({city:A(n).city}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Is,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("State")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).state,"onUpdate:modelValue":t[14]||(t[14]=e=>A(n).state=e),type:"text",placeholder:"State",onBlur:t[15]||(t[15]=e=>c({state:A(n).state}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ms,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Country")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).country,"onUpdate:modelValue":t[16]||(t[16]=e=>A(n).country=e),type:"text",placeholder:"Country",onBlur:t[17]||(t[17]=e=>c({country:A(n).country}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ds,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Complete Address")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).address,"onUpdate:modelValue":t[18]||(t[18]=e=>A(n).address=e),type:"text",placeholder:"Address",onBlur:t[19]||(t[19]=e=>c({address:A(n).address}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",As,[g(x,null,{default:y((()=>[g(o,null,{default:y((()=>[M("Company One Liner")])),_:1}),g(u,null,{default:y((()=>[g(d,{modelValue:A(n).branding_line,"onUpdate:modelValue":t[20]||(t[20]=e=>A(n).branding_line=e),type:"text",placeholder:"john.doe",onBlur:t[21]||(t[21]=e=>c({branding_line:A(n).branding_line}))},null,8,["modelValue"])])),_:1})])),_:1})])]),f("div",Ls,[Ps,f("div",zs,[g(x,{label:"Sidebar logo"},{default:y((()=>[g(V,{size:"xl",picture:A(n).logo,color:"primary",initials:A(n).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(u,null,{default:y((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:r,onRemovefile:p})])),_:1})])),_:1})]),f("div",Es,[g(x,{label:"Proposal Logo"},{default:y((()=>[g(V,{size:"xl",picture:A(n).invoice_header_logo,color:"primary",initials:A(n).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(u,null,{default:y((()=>[g(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:C,onRemovefile:w})])),_:1})])),_:1})]),f("div",Os,[g(x,{label:"Favicon"},{default:y((()=>[g(V,{size:"large",color:"primary",picture:A(n).favicon,initials:A(n).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),g(x,{class:"ml-3",label:"Upload new"},{default:y((()=>[g(u,null,{default:y((()=>[g(U,{size:"tiny",class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":80,"image-resize-target-width":80,"image-resize-target-height":80,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:_,onRemovefile:k})])),_:1})])),_:1})])])])])}}}),[["__scopeId","data-v-3775b8bc"]]),Bs={class:"list-flex-toolbar flex-list-v1"},Hs={class:"tile-grid tile-grid-v1"},Ws=f("img",{class:"light-image",src:se,alt:""},null,-1),Ns=f("img",{class:"dark-image",src:ie,alt:""},null,-1),$s={class:"tile-grid-item"},Ks={class:"tile-grid-item-inner"},Zs={class:"meta"},Fs={class:"dark-inverted"},qs=["onClick"],Js=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],Gs=f("hr",{class:"dropdown-divider"},null,-1),Xs=["onClick"],Qs=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],Ys=i({__name:"CompanyCostTypes",setup(e){const a=ee(),t=d(!1),i=F(),n=d(""),o=d(!1),c=d(""),p=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),_=async()=>{try{t.value=!0;const e=await i.get("/api/cost-types/");p.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{c.value=e,o.value=!o.value},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return p.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return p.value}));return u((()=>{_()})),(e,d)=>{const r=N,u=s,p=U,S=O,T=l,j=re,I=ce;return m(),v("div",null,[f("div",Bs,[g(u,null,{default:y((()=>[g(r,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>B(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(n)]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(p,{color:"primary",onClick:d[1]||(d[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[M(" Cost Type ")])),_:1})])),_:1})]),f("div",Hs,[A(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[Ws,Ns])),_:1})),g(H,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:y((()=>[(m(!0),v(k,null,C(A(V),((e,l)=>(m(),v("div",{key:l,class:"column is-4"},[f("div",$s,[f("div",Ks,[f("div",Zs,[f("span",Fs,w(e.title),1),f("span",null,w(e.value),1)]),g(j,{icon:"feather:more-vertical",spaced:"",right:""},{content:y((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},Js,8,qs),Gs,f("a",{onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/cost-types/${e}/`),_(),a.success("Cost deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},Qs,8,Xs)])),_:2},1024)])])])))),128))])),_:1})]),A(o)?(m(),h(I,{key:0,"add-update-cost-type":A(o),typeId:A(c),"onUpdate:modalHandler":d[2]||(d[2]=e=>{o.value=!1,c.value=""}),"onUpdate:OnSuccess":d[3]||(d[3]=e=>_())},null,8,["add-update-cost-type","typeId"])):b("",!0)])}}}),ei={class:"list-flex-toolbar flex-list-v1"},li={class:"tile-grid tile-grid-v1"},ai=f("img",{class:"light-image",src:se,alt:""},null,-1),ti=f("img",{class:"dark-image",src:ie,alt:""},null,-1),si={class:"tile-grid-item"},ii={class:"tile-grid-item-inner"},ni={class:"meta"},oi={class:"dark-inverted"},ci=["onClick"],di=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],ri=f("hr",{class:"dropdown-divider"},null,-1),ui=["onClick"],pi=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],mi=i({__name:"CompanyUnits",setup(e){const a=ee(),t=d(!1),i=F(),n=d(""),o=d(!1),c=d(""),p=d([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),_=async()=>{try{t.value=!0;const e=await i.get("/api/units/");p.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{c.value=e,o.value=!o.value},V=r((()=>{if(n.value){const e=new RegExp(n.value,"i");return p.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return p.value}));return u((()=>{_()})),(e,d)=>{const r=N,u=s,p=U,S=O,T=l,j=re,I=de;return m(),v("div",null,[f("div",ei,[g(u,null,{default:y((()=>[g(r,{icon:"feather:search"},{default:y((()=>[D(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>B(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[L,A(n)]])])),_:1})])),_:1}),g(S,null,{default:y((()=>[g(p,{color:"primary",onClick:d[1]||(d[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:y((()=>[M(" Unit ")])),_:1})])),_:1})]),f("div",li,[A(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:y((()=>[ai,ti])),_:1})),g(H,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:y((()=>[(m(!0),v(k,null,C(A(V),((e,l)=>(m(),v("div",{key:l,class:"column is-4"},[f("div",si,[f("div",ii,[f("div",ni,[f("span",oi,w(e.title),1),f("span",null,w(e.value),1)]),g(j,{icon:"feather:more-vertical",spaced:"",right:""},{content:y((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},di,8,ci),ri,f("a",{onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/units/${e}/`),_(),a.success("Unit deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},pi,8,ui)])),_:2},1024)])])])))),128))])),_:1})]),A(o)?(m(),h(I,{key:0,addUpdateCostUnitModal:A(o),unitId:A(c),"onUpdate:modalHandler":d[2]||(d[2]=e=>{o.value=!1,c.value=""}),"onUpdate:OnSuccess":d[3]||(d[3]=e=>_())},null,8,["addUpdateCostUnitModal","unitId"])):b("",!0)])}}}),vi=e=>(S("data-v-00f3fb5d"),e=e(),T(),e),fi={class:"container"},gi={class:"box cu-property"},yi={class:"box-body"},_i={class:"columns is-multiline p-5 align-items-center"},hi={class:"column is-2 text-align-center"},bi=["src"],ki={class:"column is-3"},Ci={class:"title is-5 mb-2"},wi={class:"light-text mb-0 font-500"},xi={class:"light-text font-500"},Vi={class:"m-t-20"},Ui={class:"tabs-wrapper"},Si={class:"tabs-inner"},Ti={class:"tabs is-boxed"},ji=[vi((()=>f("span",null,"General",-1)))],Ii=[vi((()=>f("span",null,"Cost Codes",-1)))],Mi=[vi((()=>f("span",null,"Units",-1)))],Di=[vi((()=>f("span",null,"Cost Types",-1)))],Ai=[vi((()=>f("span",null,"Users permissions",-1)))],Li=[vi((()=>f("span",null,"Role Management",-1)))],Pi=[vi((()=>f("span",null,"Manage Role",-1)))],zi=[vi((()=>f("span",null,"Action logs",-1)))],Ei={key:0},Oi={key:1},Ri={key:2},Bi={key:3},Hi={key:4},Wi={key:5},Ni={key:6},$i={key:7},Ki=i({__name:"CompanySettingsComponent",setup(e){const l=ue(),a=d("general");return d(!1),(e,t)=>{const s=mi,i=Ys,n=Rs,o=gs,c=Nl,d=Ne,r=He,u=Me;return m(),v("div",fi,[f("div",gi,[f("div",yi,[f("div",_i,[f("div",hi,[f("img",{src:A(l).currentCompany?.logo,style:{width:"100px","border-radius":"10px"},alt:"",srcset:""},null,8,bi)]),f("div",ki,[f("h2",Ci,w(A(l).currentCompany?.name??""),1),f("p",wi,w(A(l).currentCompany?.email??""),1),f("p",xi,w(A(l).currentCompany?.phone_number??""),1)])])])]),f("div",Vi,[f("div",Ui,[f("div",Si,[f("div",Ti,[f("ul",null,[f("li",{class:x(["general"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[0]||(t[0]=_(P((e=>a.value="general"),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>a.value="general")},ji,32)],2),f("li",{class:x(["costCodes"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[2]||(t[2]=_(P((e=>a.value="costCodes"),["prevent"]),["space"])),onClick:t[3]||(t[3]=e=>a.value="costCodes")},Ii,32)],2),f("li",{class:x(["units"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[4]||(t[4]=_(P((e=>a.value="units"),["prevent"]),["space"])),onClick:t[5]||(t[5]=e=>a.value="units")},Mi,32)],2),f("li",{class:x(["types"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[6]||(t[6]=_(P((e=>a.value="types"),["prevent"]),["space"])),onClick:t[7]||(t[7]=e=>a.value="types")},Di,32)],2),f("li",{class:x(["permissions"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[8]||(t[8]=_(P((e=>a.value="permissions"),["prevent"]),["space"])),onClick:t[9]||(t[9]=e=>a.value="permissions")},Ai,32)],2),f("li",{class:x(["roleManagement"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[10]||(t[10]=_(P((e=>a.value="roleManagement"),["prevent"]),["space"])),onClick:t[11]||(t[11]=e=>a.value="roleManagement")},Li,32)],2),f("li",{class:x(["manageRole"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[12]||(t[12]=_(P((e=>a.value="manageRole"),["prevent"]),["space"])),onClick:t[13]||(t[13]=e=>a.value="manageRole")},Pi,32)],2),f("li",{class:x(["logs"===A(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[14]||(t[14]=_(P((e=>a.value="logs"),["prevent"]),["space"])),onClick:t[15]||(t[15]=e=>a.value="logs")},zi,32)],2)])])])]),"units"===A(a)?(m(),v("div",Ei,[g(s)])):b("",!0),"types"===A(a)?(m(),v("div",Oi,[g(i)])):b("",!0),"general"===A(a)?(m(),v("div",Ri,[g(n)])):b("",!0),"costCodes"===A(a)?(m(),v("div",Bi,[g(o)])):b("",!0),"permissions"===A(a)?(m(),v("div",Hi,[g(c)])):b("",!0),"roleManagement"===A(a)?(m(),v("div",Wi,[g(d)])):b("",!0),"manageRole"===A(a)?(m(),v("div",Ni,[g(r)])):b("",!0),"logs"===A(a)?(m(),v("div",$i,[g(u)])):b("",!0)])])}}});"function"==typeof X&&X(Ki);const Zi=j(Ki,[["__scopeId","data-v-00f3fb5d"]]),Fi=i({__name:"index",setup(e){pe();return me().setPageTitle("Company Settings"),W((()=>({title:"Company Settings"}))),(e,l)=>{const a=Zi;return m(),v("div",null,[g(a)])}}});"function"==typeof X&&X(Fi);export{Fi as default};
