import{_ as e}from"./UpdateTask.vue_vue_type_script_setup_true_lang-92526bb6.js";import{_ as l}from"./SweetAlert.vue_vue_type_style_index_0_lang-c93f6d7f.js";import{_ as a}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-4444dc72.js";import{_ as s}from"./VAvatar.vue_vue_type_style_index_0_lang-04b2a1a6.js";import{_ as i}from"./VDropdown.vue_vue_type_style_index_0_lang-4da394f7.js";import{e as t,r as n,Z as c,o,au as d,B as r,C as u,D as p,E as m,F as v,K as h,W as k,l as g,j as f,H as y,G as _,T as w,U as b,V as C,N as j,M as x,ak as D,I as T,P as S,Q as A,R as E,A as I,aR as W,J as P}from"./index-240e3878.js";import{_ as V}from"./VControl-8c8224f2.js";import{_ as L,a as O}from"./projects-dark-4a371d8a.js";import{u as N}from"./useNotyf-f1f05451.js";import{u as $}from"./useAPI-019d2f30.js";import{u as M}from"./userSession-bdc7ada1.js";import{c as R,_ as U}from"./VFlexTable.vue_vue_type_style_index_0_lang-6441ee90.js";import{_ as z}from"./VTag.vue_vue_type_style_index_0_lang-0b16c546.js";import{_ as H,a as K}from"./search-4-dark-2b5b440c.js";import{p as F}from"./index-c1fc2d09.js";import{_ as q}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-91900dd8.js";import{_ as Z}from"./VField.vue_vue_type_script_setup_true_lang-ced660cf.js";import{_ as Q}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-f2d2308e.js";import{_ as Y}from"./having-coffee-37a7bbcc.js";import{_ as B}from"./having-coffee-dark-4694625e.js";const G=e=>(S("data-v-13f04d27"),e=e(),A(),e),J={class:"list-flex-toolbar is-reversed"},X={class:"tabs-inner"},ee={class:"tabs"},le=G((()=>p("span",null,"All",-1))),ae=[le],se=G((()=>p("span",null,"Active",-1))),ie=[se],te=G((()=>p("span",null,"Pending",-1))),ne=[te],ce=G((()=>p("span",null,"Completed",-1))),oe=[ce],de=G((()=>p("li",{class:"tab-naver"},null,-1))),re={class:"flex-list-wrapper flex-list-v2"},ue={key:0,class:"tab-content is-active"},pe={class:"all-projects"},me={class:"all-projects-header"},ve={class:"header-item"},he={class:"item-inner"},ke=G((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-analytics-alt-1"},null,-1))),ge=G((()=>p("p",null,"Total Tasks",-1))),fe={class:"header-item"},ye={class:"item-inner"},_e=G((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-target-alt-1"},null,-1))),we=G((()=>p("p",null,"Completed Tasks",-1))),be={class:"header-item"},Ce={class:"item-inner"},je=G((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-pie-chart-alt"},null,-1))),xe=G((()=>p("p",null,"Pending Tasks",-1))),De={class:"header-item"},Te={class:"item-inner"},Se=G((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-leaf"},null,-1))),Ae=G((()=>p("p",null,"Active Tasks",-1))),Ee={key:0,class:"columns is-multiline projects-card-grid"},Ie={class:"column is-6"},We={class:"grid-item"},Pe={class:"top-section"},Ve={class:"head"},Le=["onClick"],Oe=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Active"),p("span",null,"Start work on this task")],-1)))],Ne=["onClick"],$e=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Pending"),p("span",null,"Waiting to work on")],-1)))],Me=["onClick"],Re=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Completed"),p("span",null,"Mark task as completed")],-1)))],Ue=G((()=>p("hr",{class:"dropdown-divider"},null,-1))),ze=["onClick"],He=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Edit"),p("span",null,"Edit Task detail")],-1)))],Ke=["onClick"],Fe=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Delete "),p("span",null,"Delete this task")],-1)))],qe={class:"body"},Ze={class:"bottom-section"},Qe={key:0,class:"foot-block"},Ye=G((()=>p("h4",{class:"heading"},"Sub Contractor",-1))),Be={class:"developers"},Ge={key:1,class:"foot-block"},Je=G((()=>p("h4",{class:"heading"},"Worker(s)",-1))),Xe={class:"developers"},el={class:"foot-block"},ll=G((()=>p("h4",{class:"heading"},"Start date",-1))),al={class:"foot-block"},sl=G((()=>p("h4",{class:"heading"},"End date",-1))),il={class:"foot-block"},tl=G((()=>p("h4",{class:"heading"},"Status",-1))),nl=G((()=>p("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),cl=G((()=>p("img",{class:"dark-image is-larger",src:O,alt:""},null,-1))),ol={key:1,class:"tab-content is-active"},dl={class:"all-projects"},rl={key:0,class:"columns is-multiline projects-card-grid"},ul={class:"column is-6"},pl={class:"grid-item"},ml={class:"top-section"},vl={class:"head"},hl=["onClick"],kl=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Active"),p("span",null,"Start work on this task")],-1)))],gl=["onClick"],fl=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Pending"),p("span",null,"Waiting to work on")],-1)))],yl=["onClick"],_l=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Completed"),p("span",null,"Mark task as completed")],-1)))],wl=G((()=>p("hr",{class:"dropdown-divider"},null,-1))),bl=["onClick"],Cl=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Edit"),p("span",null,"Edit Task detail")],-1)))],jl=["onClick"],xl=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Delete "),p("span",null,"Delete this task")],-1)))],Dl={class:"body"},Tl={class:"bottom-section"},Sl={class:"foot-block"},Al=G((()=>p("h4",{class:"heading"},"Worker(s)",-1))),El={class:"developers"},Il={class:"foot-block"},Wl=G((()=>p("h4",{class:"heading"},"Start date",-1))),Pl={class:"foot-block"},Vl=G((()=>p("h4",{class:"heading"},"End date",-1))),Ll={class:"foot-block"},Ol=G((()=>p("h4",{class:"heading"},"Status",-1))),Nl=G((()=>p("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),$l=G((()=>p("img",{class:"dark-image is-larger",src:O,alt:""},null,-1))),Ml={key:2,class:"tab-content is-active"},Rl={class:"all-projects"},Ul={key:0,class:"columns is-multiline projects-card-grid"},zl={class:"column is-6"},Hl={class:"grid-item"},Kl={class:"top-section"},Fl={class:"head"},ql=["onClick"],Zl=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Active"),p("span",null,"Start work on this task")],-1)))],Ql=["onClick"],Yl=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Pending"),p("span",null,"Waiting to work on")],-1)))],Bl=["onClick"],Gl=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Completed"),p("span",null,"Mark task as completed")],-1)))],Jl=G((()=>p("hr",{class:"dropdown-divider"},null,-1))),Xl=["onClick"],ea=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Edit"),p("span",null,"Edit Task detail")],-1)))],la=["onClick"],aa=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Delete "),p("span",null,"Delete this task")],-1)))],sa={class:"body"},ia={class:"bottom-section"},ta={class:"foot-block"},na=G((()=>p("h4",{class:"heading"},"Worker(s)",-1))),ca={class:"developers"},oa={class:"foot-block"},da=G((()=>p("h4",{class:"heading"},"Start date",-1))),ra={class:"foot-block"},ua=G((()=>p("h4",{class:"heading"},"End date",-1))),pa={class:"foot-block"},ma=G((()=>p("h4",{class:"heading"},"Status",-1))),va=G((()=>p("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),ha=G((()=>p("img",{class:"dark-image is-larger",src:O,alt:""},null,-1))),ka={key:3,class:"tab-content is-active"},ga={class:"all-projects"},fa={key:0,class:"columns is-multiline projects-card-grid"},ya={class:"column is-6"},_a={class:"grid-item"},wa={class:"top-section"},ba={class:"head"},Ca=["onClick"],ja=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Active"),p("span",null,"Start work on this task")],-1)))],xa=["onClick"],Da=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Pending"),p("span",null,"Waiting to work on")],-1)))],Ta=["onClick"],Sa=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Completed"),p("span",null,"Mark task as completed")],-1)))],Aa=G((()=>p("hr",{class:"dropdown-divider"},null,-1))),Ea=["onClick"],Ia=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Edit"),p("span",null,"Edit Task detail")],-1)))],Wa=["onClick"],Pa=[G((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),G((()=>p("div",{class:"meta"},[p("span",null,"Delete "),p("span",null,"Delete this task")],-1)))],Va={class:"body"},La={class:"bottom-section"},Oa={class:"foot-block"},Na=G((()=>p("h4",{class:"heading"},"Worker(s)",-1))),$a={class:"developers"},Ma={class:"foot-block"},Ra=G((()=>p("h4",{class:"heading"},"Start date",-1))),Ua={class:"foot-block"},za=G((()=>p("h4",{class:"heading"},"End date",-1))),Ha={class:"foot-block"},Ka=G((()=>p("h4",{class:"heading"},"Status",-1))),Fa=G((()=>p("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),qa=G((()=>p("img",{class:"dark-image is-larger",src:O,alt:""},null,-1))),Za=E(t({__name:"WorkerTasks",props:{projectID:{default:""},workerId:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(t,{emit:S}){const A=t,E=$(),I=N(),W=n(""),P=M(),L=n(""),O=n("all"),R=n(0),U=n(!1),z=n(!1),H=n(0);n({});const K=n("");n([{value:"active",name:"Active"},{value:"pending",name:"Pre Construction"},{value:"completed",name:"Completed"},{value:"cancelled",name:"cancelled"}]),n([{id:0,username:"",email:"",phoneNumber:""}]);const F=n([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}],quantity:"",unit:"",costCode:""}]),q=n({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),Z=e=>{H.value=e,q.value={title:"Delete Task?",subtitle:"Do you really want to delete this task permanently?",btntext:"Yes, Delete",isSweetAlertOpen:!0}},Q=async()=>{try{U.value=!0;const e=await E.get(`/api/task/${A.workerId?A.workerId:P.user.id}/worker-tasks/`);F.value=e.data,console.log(e.data),U.value=!1}catch(e){console.log(e)}},Y=c((()=>{let e=F.value.filter((e=>"active"==e.status));return S("update:completedTasks",e.length),e.length})),B=c((()=>{let e=F.value.filter((e=>"pending"==e.status));return S("update:activeTasks",e.length),e.length})),G=c((()=>F.value.filter((e=>"completed"==e.status)).length)),le=e=>{K.value=e,z.value=!0},se=()=>{Q(),z.value=!1,K.value=""},te=async(e,l)=>{try{U.value=!0;await E.patch(`/api/task/${e}/`,{status:l,schedule_mode:localStorage.getItem("isScheduleMode")});Q(),I.success(`Task set to ${l} successfully`),R.value=0,U.value=!1}catch(a){console.log(a)}},ce=async()=>{try{U.value=!0;const e=await E.delete(`/api/task/${H.value}/`);console.log(e),I.success("Task deleted successfully"),Q(),q.value.isSweetAlertOpen=!1,R.value=0}catch(e){console.log(e)}finally{U.value=!1}},Za=c((()=>{if(L.value){const e=new RegExp(L.value,"i");return F.value.filter((l=>"completed"!=l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return F.value.filter((e=>"completed"!=e.status))})),Qa=c((()=>{if(L.value){const e=new RegExp(L.value,"i");return F.value.filter((l=>"completed"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return F.value.filter((e=>"completed"==e.status))})),Ya=c((()=>{if(L.value){const e=new RegExp(L.value,"i");return F.value.filter((l=>"active"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return F.value.filter((e=>"active"==e.status))})),Ba=c((()=>{if(L.value){const e=new RegExp(L.value,"i");return F.value.filter((l=>"pending"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return F.value.filter((e=>"pending"==e.status))}));return o((()=>{Q()})),(t,n)=>{const c=V,o=D,S=i,E=s,I=a,P=l,N=e,$=d("tooltip");return r(),u(b,null,[p("div",null,[p("div",J,[m(o,null,{default:v((()=>[m(c,{class:"mr-2 h-hidden-mobile",icon:"feather:search"},{default:v((()=>[h(p("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>f(L)?L.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[k,g(L)]])])),_:1})])),_:1}),p("div",X,[p("div",ee,[p("ul",null,[p("li",{class:y(["all"===g(O)&&"is-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:n[1]||(n[1]=_(T((e=>O.value="all"),["prevent"]),["space"])),onClick:n[2]||(n[2]=e=>O.value="all")},ae,32)],2),p("li",{class:y(["active"===g(O)&&"is-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:n[3]||(n[3]=_(T((e=>O.value="active"),["prevent"]),["space"])),onClick:n[4]||(n[4]=e=>O.value="active")},ie,32)],2),p("li",{class:y(["pending"===g(O)&&"is-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:n[5]||(n[5]=_(T((e=>O.value="pending"),["prevent"]),["space"])),onClick:n[6]||(n[6]=e=>O.value="pending")},ne,32)],2),p("li",{class:y(["completed"===g(O)&&"is-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:n[7]||(n[7]=_(T((e=>O.value="completed"),["prevent"]),["space"])),onClick:n[8]||(n[8]=e=>O.value="completed")},oe,32)],2),de])])])]),p("div",re,["all"===g(O)?(r(),u("div",ue,[p("div",pe,[p("div",me,[p("div",ve,[p("div",he,[ke,p("span",null,w(g(F).length),1),ge])]),p("div",fe,[p("div",ye,[_e,p("span",null,w(g(G)),1),we])]),p("div",be,[p("div",Ce,[je,p("span",null,w(g(B)),1),xe])]),p("div",De,[p("div",Te,[Se,p("span",null,w(g(Y)),1),Ae])])]),g(Za).length?(r(),u("div",Ee,[(r(!0),u(b,null,C(g(Za),(e=>(r(),u("div",Ie,[p("div",We,[p("div",Pe,[p("div",Ve,[p("h3",null,w(e.title),1),m(S,{icon:"feather:more-vertical",spaced:"",right:""},{content:v((()=>[p("a",{onClick:l=>te(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Oe,8,Le),p("a",{onClick:l=>te(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},$e,8,Ne),p("a",{onClick:l=>te(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Re,8,Me),Ue,p("a",{onClick:l=>le(e.id),role:"menuitem",class:"dropdown-item is-media"},He,8,ze),p("a",{onClick:l=>Z(e.id),role:"menuitem",class:"dropdown-item is-media"},Fe,8,Ke)])),_:2},1024)]),p("div",qe,[p("p",null,w(e.description),1)])]),p("div",Ze,[e.supplier?(r(),u("div",Qe,[Ye,p("div",Be,[h(m(E,{picture:e.supplier?.avatar,size:"small",color:"primary",initials:e.supplier?.avatar?"":e.supplier?.username.slice(0,2)},null,8,["picture","initials"]),[[$,`${e?.supplier?.username}`,void 0,{rounded:!0,info:!0}]])])])):x("",!0),e.workers?.length?(r(),u("div",Ge,[Je,p("div",Xe,[(r(!0),u(b,null,C(e.workers,(e=>h((r(),j(E,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[$,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])])):x("",!0),p("div",el,[ll,p("p",null,w(e.startDate),1)]),p("div",al,[sl,p("p",null,w(e.endDate),1)]),p("div",il,[tl,p("p",null,w(e.status),1)])])])])))),256))])):(r(),j(I,{key:1,title:"There is no task added on this projects.",subtitle:"Looks like you don't have any task on this project yet. When you'll\n                start creating tasks of this project, they will be showing up in here."},{image:v((()=>[nl,cl])),_:1}))])])):"active"===g(O)?(r(),u("div",ol,[p("div",dl,[g(Ya).length?(r(),u("div",rl,[(r(!0),u(b,null,C(g(Ya),(e=>(r(),u("div",ul,[p("div",pl,[p("div",ml,[p("div",vl,[p("h3",null,w(e.title),1),m(S,{icon:"feather:more-vertical",spaced:"",right:""},{content:v((()=>[p("a",{onClick:l=>te(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},kl,8,hl),p("a",{onClick:l=>te(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},fl,8,gl),p("a",{onClick:l=>te(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},_l,8,yl),wl,p("a",{onClick:l=>le(e.id),role:"menuitem",class:"dropdown-item is-media"},Cl,8,bl),p("a",{onClick:l=>Z(e.id),role:"menuitem",class:"dropdown-item is-media"},xl,8,jl)])),_:2},1024)]),p("div",Dl,[p("p",null,w(e.description),1)])]),p("div",Tl,[p("div",Sl,[Al,p("div",El,[(r(!0),u(b,null,C(e.workers,(e=>h((r(),j(E,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[$,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),p("div",Il,[Wl,p("p",null,w(e.startDate),1)]),p("div",Pl,[Vl,p("p",null,w(e.endDate),1)]),p("div",Ll,[Ol,p("p",null,w(e.status),1)])])])])))),256))])):(r(),j(I,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:v((()=>[Nl,$l])),_:1}))])])):"pending"===g(O)?(r(),u("div",Ml,[p("div",Rl,[g(Ba).length?(r(),u("div",Ul,[(r(!0),u(b,null,C(g(Ba),(e=>(r(),u("div",zl,[p("div",Hl,[p("div",Kl,[p("div",Fl,[p("h3",null,w(e.title),1),m(S,{icon:"feather:more-vertical",spaced:"",right:""},{content:v((()=>[p("a",{onClick:l=>te(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Zl,8,ql),p("a",{onClick:l=>te(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Yl,8,Ql),p("a",{onClick:l=>te(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Gl,8,Bl),Jl,p("a",{onClick:l=>le(e.id),role:"menuitem",class:"dropdown-item is-media"},ea,8,Xl),p("a",{onClick:l=>Z(e.id),role:"menuitem",class:"dropdown-item is-media"},aa,8,la)])),_:2},1024)]),p("div",sa,[p("p",null,w(e.description),1)])]),p("div",ia,[p("div",ta,[na,p("div",ca,[(r(!0),u(b,null,C(e.workers,(e=>h((r(),j(E,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[$,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),p("div",oa,[da,p("p",null,w(e.startDate),1)]),p("div",ra,[ua,p("p",null,w(e.endDate),1)]),p("div",pa,[ma,p("p",null,w(e.status),1)])])])])))),256))])):(r(),j(I,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:v((()=>[va,ha])),_:1}))])])):"completed"===g(O)?(r(),u("div",ka,[p("div",ga,[g(Qa).length?(r(),u("div",fa,[(r(!0),u(b,null,C(g(Qa),(e=>(r(),u("div",ya,[p("div",_a,[p("div",wa,[p("div",ba,[p("h3",null,w(e.title),1),m(S,{icon:"feather:more-vertical",spaced:"",right:""},{content:v((()=>[p("a",{onClick:l=>te(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},ja,8,Ca),p("a",{onClick:l=>te(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Da,8,xa),p("a",{onClick:l=>te(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Sa,8,Ta),Aa,p("a",{onClick:l=>le(e.id),role:"menuitem",class:"dropdown-item is-media"},Ia,8,Ea),p("a",{onClick:l=>Z(e.id),role:"menuitem",class:"dropdown-item is-media"},Pa,8,Wa)])),_:2},1024)]),p("div",Va,[p("p",null,w(e.description),1)])]),p("div",La,[p("div",Oa,[Na,p("div",$a,[(r(!0),u(b,null,C(e.workers,(e=>h((r(),j(E,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[$,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),p("div",Ma,[Ra,p("p",null,w(e.startDate),1)]),p("div",Ua,[za,p("p",null,w(e.endDate),1)]),p("div",Ha,[Ka,p("p",null,w(e.status),1)])])])])))),256))])):(r(),j(I,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:v((()=>[Fa,qa])),_:1}))])])):x("",!0)])]),g(q).isSweetAlertOpen?(r(),j(P,{key:0,isSweetAlertOpen:g(q).isSweetAlertOpen,title:g(q).title,subtitle:g(q).subtitle,btntext:g(q).btntext,onConfirm:ce,loading:g(U),onCancel:()=>g(q).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","loading","onCancel"])):x("",!0),g(z)?(r(),j(N,{key:1,projectID:A.projectID,isOpen:g(z),taskIdSelected:g(K),startDate:g(W),"onUpdate:modalHandler":se,"onUpdate:OnSuccess":Q},null,8,["projectID","isOpen","taskIdSelected","startDate"])):x("",!0)],64)}}}),[["__scopeId","data-v-13f04d27"]]),Qa={class:"flex-list-wrapper flex-list-v2"},Ya=p("img",{class:"light-image",src:H,alt:""},null,-1),Ba=p("img",{class:"dark-image",src:K,alt:""},null,-1),Ga={key:1,class:"tab-content is-active"},Ja={class:"item-name dark-inverted"},Xa={class:"item-meta"},es={class:"link-text"},ls={class:"light-text"},as={class:"light-text"},ss={key:2,class:"tab-content is-active"},is=p("img",{class:"light-image is-larger",src:L,alt:""},null,-1),ts=p("img",{class:"dark-image is-larger",src:O,alt:""},null,-1),ns=t({__name:"ChronicTasksList",props:{tasks:{default:{}}},setup(e){const l=e,s=F,i=n(""),t=n("active"),o={picture:{label:"Task",media:!0,grow:!0},customer:"Start ",industry:"End",status:"Quantity",team:{label:"Unit",cellClass:"h-hidden-tablet-p"},actions:{label:"Cost code",align:"end"}},d=c((()=>{if(i.value){const e=new RegExp(i.value,"i");return s.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return s}));return(e,s)=>{const i=a,n=I("Tippy"),c=R,h=z,k=U;return r(),u("div",null,[p("div",Qa,["active"===g(t)&&0===g(d).length?(r(),j(i,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:v((()=>[Ya,Ba])),_:1})):x("",!0),"active"===g(t)?(r(),u("div",Ga,[l.tasks?(r(),j(k,{key:0,data:g(d),columns:o,rounded:""},{body:v((()=>[m(W,{name:"list",tag:"div",class:"flex-list-inner"},{default:v((()=>[(r(!0),u(b,null,C(l.tasks,(e=>(r(),u("div",{key:e.id,class:"flex-table-item"},[m(c,{column:{media:!0,grow:!0}},{default:v((()=>[p("div",null,[p("span",Ja,w(e.title?e.title:""),1),p("span",Xa,[m(n,{trigger:"click"},{content:v((()=>[P(w(e.description?e.description:""),1)])),default:v((()=>[p("span",es,w(e.description?.length>40?e.description?.slice(0,40):e.description.length<40?e.description:""),1)])),_:2},1024)])])])),_:2},1024),m(c,null,{default:v((()=>[p("span",ls,w(e.startDate?e.startDate:""),1)])),_:2},1024),m(c,null,{default:v((()=>[p("span",as,w(e.endDate?e.endDate:""),1)])),_:2},1024),m(c,null,{default:v((()=>[m(h,{outlined:"",color:"info",rounded:""},{default:v((()=>[P(w(e.quantity?e.quantity:""),1)])),_:2},1024)])),_:2},1024),m(c,{class:"h-hidden-tablet-p"},{default:v((()=>[m(h,{outlined:"",color:"primary",rounded:""},{default:v((()=>[P(w(e.unit?e.unit:"N/A"),1)])),_:2},1024)])),_:2},1024),m(c,{column:{align:"end"}},{default:v((()=>[m(h,{outlined:"",color:"warning",rounded:""},{default:v((()=>[P(w(e.costCode?e.costCode:""),1)])),_:2},1024)])),_:2},1024)])))),128))])),_:1})])),_:1},8,["data"])):x("",!0)])):"closed"===g(t)?(r(),u("div",ss,[m(i,{title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n              start closing off projects, they will be showing up in here."},{image:v((()=>[is,ts])),_:1})])):x("",!0)])])}}}),cs={key:0},os={key:1},ds={class:"list-view-toolbar"},rs=p("div",{class:"tabs-inner"},null,-1),us={class:"list-view list-view-v2"},ps={class:"list-view-inner"},ms={class:"list-view-item"},vs={class:"list-view-item-inner"},hs={class:"meta-left"},ks={class:"info-text"},gs=p("i",{class:"lnir lnir-star-empty","aria-hidden":"true"},null,-1),fs=["innerHTML"],ys=p("div",{class:"meta-right"},null,-1),_s={class:"list-view-inner"},ws=p("img",{class:"light-image",src:Y,alt:""},null,-1),bs=p("img",{class:"dark-image",src:B,alt:""},null,-1),Cs=t({__name:"ChronicTasksView",props:{supplierId:{default:""},projectID:{default:""},workerId:{default:""},userId:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(e,{emit:l}){const s=e,i=n("active"),t=n(""),d=n(!1),_=n([]),D=$(),T=c((()=>{if(t.value){const e=new RegExp(t.value,"i");return _.value.filter((l=>l.title.match(e)||l.description.match(e)))}return _.value}));return o((()=>{(async()=>{try{d.value=!0;const e=await D.get(`/api/task/project-wise-tasks/${s.userId}/`);_.value=e.data,console.log("chronic tasks",e.data),d.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const s=Q,n=V,c=Z,o=q,_=a,D=ns;return g(d)?(r(),u("div",cs,[m(s)])):(r(),u("div",os,[p("div",ds,[m(c,null,{default:v((()=>[m(n,{icon:"feather:search"},{default:v((()=>[h(p("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>f(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[k,g(t)]])])),_:1})])),_:1}),rs]),(r(!0),u(b,null,C(g(T),(e=>(r(),u("div",{key:e.id,class:"page-content-inner mb-6"},[p("div",us,[p("div",{id:"active-items-tab",class:y(["tab-content",["active"===g(i)&&"is-active"]])},[p("div",ps,[m(W,{name:"list-complete",tag:"div"},{default:v((()=>[p("div",ms,[p("div",vs,[p("div",hs,[p("h3",null,[p("span",ks,[gs,P(w(e.title),1)])]),e.description?(r(),u("div",{key:0,innerHTML:e.description},null,8,fs)):x("",!0),p("span",null,[p("span",null," Timeline: "+w(e.startDate?e.startDate:"N/A")+" to "+w(e.endDate?e.endDate:"N/A"),1)])]),ys])])])),_:2},1024)]),g(T).length>5?(r(),j(o,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":7})):x("",!0)],2),p("div",{id:"inactive-items-tab",class:y(["tab-content",["inactive"===g(i)&&"is-active"]])},[p("div",_s,[m(_,{title:"There are no inactive properties.",subtitle:"Looks like there are no inactive properties to display. You can\n                disable and also enable a property from the property settings.",larger:""},{image:v((()=>[ws,bs])),_:1})])],2)]),m(D,{tasks:e.filtered_tasks},null,8,["tasks"])])))),128))]))}}});export{Cs as _,Za as a};
