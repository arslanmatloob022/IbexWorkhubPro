import{_ as e}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-4f8941c5.js";import{_ as a}from"./AddUpdateUser-5ad4d323.js";import{_ as s}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-684fad80.js";import{_ as l}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-b6021162.js";import{_ as t}from"./VDropdown.vue_vue_type_style_index_0_lang-f86fb457.js";import{_ as i}from"./VTag.vue_vue_type_style_index_0_lang-7e7b9918.js";import{_ as n}from"./VAvatar.vue_vue_type_style_index_0_lang-e8ba677f.js";import{_ as r}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-9f4d4498.js";import{f as o,r as u,$ as d,x as c,o as p,C as _,D as m,E as v,F as y,G as g,L as f,X as h,m as k,k as j,K as x,O as w,N as C,V,W as b,aS as P,P as M,U as S,A as I}from"./index-a193ae10.js";import{_ as U}from"./VField.vue_vue_type_script_setup_true_lang-2474e8b7.js";import{_ as E}from"./VControl-06fd39be.js";import{_ as T,a as F}from"./search-1-dark-61831a90.js";import{u as N}from"./useAPI-8f659b88.js";import{u as O}from"./useNotyf-d6803850.js";import{u as A}from"./viewWrapper-52eb63df.js";import"./VModal.vue_vue_type_style_index_0_lang-ecce19e3.js";import"./VIcon.vue_vue_type_script_setup_true_lang-8d8bf880.js";import"./VInput.vue_vue_type_script_setup_true_lang-f887b322.js";import"./useVFieldContext-e29f0047.js";import"./VLabel.vue_vue_type_script_setup_true_lang-9a196888.js";import"./VSwitchBlock.vue_vue_type_style_index_0_lang-db49ec50.js";import"./VFilePond.vue_vue_type_script_lang-42795dbf.js";import"./useSupportElement-d48da84e.js";import"./VFlex.vue_vue_type_style_index_0_lang-053a5c35.js";import"./VPlaceloadWrap-80f6b87f.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-dc5be1c0.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-fcf7bd65.js";import"./useDropdown-35affd87.js";import"./notyf-aa8db5be.js";import"./useThemeColors-b129a6a1.js";const D={class:"list-view-toolbar"},W={class:"buttons"},L={class:"page-content-inner"},H={class:"list-view list-view-v1"},R=v("img",{class:"light-image",src:T,alt:""},null,-1),q=v("img",{class:"dark-image",src:F,alt:""},null,-1),X={key:1,class:"list-view-inner"},$={class:"list-view-item-inner"},z=["onClick"],B=v("i",{"aria-hidden":"true",class:"fas fa-envelope mr-1"},null,-1),G={class:"meta-right"},J={class:"tags"},K={class:"stats"},Z={class:"stat"},Q={key:0,class:"primary-text fas fa-check-circle","aria-hidden":"true"},Y={key:1,class:"danger-text fas fa-circle","aria-hidden":"true"},ee=v("span",null,"Email Notify",-1),ae=v("div",{class:"separator"},null,-1),se={class:"stat"},le=v("span",null,"Phone",-1),te=v("div",{class:"separator"},null,-1),ie={class:"stat"},ne=v("span",null,"Workers",-1),re=["onClick"],oe=[v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-user-alt"})],-1),v("div",{class:"meta"},[v("span",null,"Profile"),v("span",null,"View profile")],-1)],ue=["onClick"],de=[v("div",{class:"icon"},[v("i",{class:"lnil lnil-pencil","aria-hidden":"true"})],-1),v("div",{class:"meta"},[v("span",null,"Edit"),v("span",null,"Edit Manager info")],-1)],ce=["onClick"],pe=[v("div",{class:"icon"},[v("i",{class:"lnil lnil-code","aria-hidden":"true"})],-1),v("div",{class:"meta"},[v("span",null,"Password"),v("span",null,"Change user password")],-1)],_e=v("hr",{class:"dropdown-divider"},null,-1),me=["onClick"],ve=[v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-trash"})],-1),v("div",{class:"meta"},[v("span",null,"Delete"),v("span",null,"Delete this user permanently")],-1)],ye=o({__name:"IbexSubContractors",setup(o){const I=N();O();const T=u([{id:"53ac9fe2-e187-456a-a1e0-77d6c3c3d715",total_workers:0,last_login:null,date_joined:"2024-10-02T17:18:03.032660Z",email:"supplier@ibex.com",role:"supplier",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/Screenshot_from_2024-09-26_12-00-53_vrfqiv",is_active:!0,phoneNumber:"03007626555",username:"Second Test",last_name:"",is_sentMail:!1}]),F=u(""),A=u(!1),ye=u(!1),ge=u(""),fe=u(!1),he=u(""),ke=u(!1),je=async()=>{try{ke.value=!0;const e=await I.get("/api/users/suppliers/",{});T.value=e.data}catch(e){console.log(e)}finally{ke.value=!1}},xe=d((()=>F.value?T.value.filter((e=>e.username.match(new RegExp(F.value,"i"))||e.email.match(new RegExp(F.value,"i")))):T.value)),we=c(),Ce=e=>{we.push(`/sidebar/dashboard/subcontractors/${e}`)};return p((()=>{je()})),(o,u)=>{const d=E,c=U,p=M,I=r,T=n,N=i,O=t,we=l,Ve=s,be=a,Pe=e;return _(),m("div",null,[v("div",D,[y(c,null,{default:g((()=>[y(d,{icon:"feather:search"},{default:g((()=>[f(v("input",{"onUpdate:modelValue":u[0]||(u[0]=e=>j(F)?F.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[h,k(F)]])])),_:1})])),_:1}),v("div",W,[y(p,{onClick:u[1]||(u[1]=e=>A.value=!k(A)),color:"primary",icon:"fas fa-plus",elevated:""},{default:g((()=>[x(" Subcontractor ")])),_:1})])]),v("div",L,[v("div",H,[0!=k(xe).length||k(ke)?C("",!0):(_(),w(I,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[R,q])),_:1})),k(ke)?C("",!0):(_(),m("div",X,[y(P,{name:"list-complete",tag:"div"},{default:g((()=>[0!=k(xe).length?(_(!0),m(V,{key:0},b(k(xe),((e,a)=>(_(),m("div",{key:e.id,class:"list-view-item cu-pointer"},[v("div",$,[y(T,{onClick:a=>Ce(e.id),picture:e?.avatar,size:"large"},null,8,["onClick","picture"]),v("div",{onClick:a=>Ce(e.id),class:"meta-left"},[v("h3",null,S(e?.username)+" "+S(e?.last_name?e?.last_name:""),1),v("span",null,[B,v("span",null,S(e?.email),1)])],8,z),v("div",G,[v("div",J,[y(N,{label:e?.role.replace(/^\w/,(e=>e.toUpperCase())),color:"success",rounded:"",elevated:""},null,8,["label"])]),v("div",K,[v("div",Z,[v("span",null,[e.is_sentMail?(_(),m("i",Q)):(_(),m("i",Y))]),ee]),ae,v("div",se,[v("span",null,S(e.phoneNumber),1),le]),te,v("div",ie,[v("span",null,S(e.total_workers),1),ne])]),y(O,{icon:"feather:more-vertical",spaced:"",right:""},{content:g((()=>[v("a",{role:"menuitem",onClick:a=>Ce(e.id),class:"dropdown-item is-media"},oe,8,re),v("a",{role:"menuitem",onClick:()=>{he.value=e.id,A.value=!0},class:"dropdown-item is-media"},de,8,ue),v("a",{onClick:a=>{return s=e.id,ge.value=s,void(fe.value=!0);var s},role:"menuitem",class:"dropdown-item is-media"},pe,8,ce),_e,v("a",{role:"menuitem",onClick:()=>{ye.value=!0,he.value=e.id},class:"dropdown-item is-media"},ve,8,me)])),_:2},1024)])])])))),128)):C("",!0)])),_:1})])),k(ke)?(_(),w(we,{key:2})):C("",!0)]),k(xe).length>5?(_(),w(Ve,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":5})):C("",!0)]),k(A)?(_(),w(be,{key:0,isModalOpen:k(A),userRole:"supplier",userId:k(he),"onUpdate:closeModalHandler":u[2]||(u[2]=e=>A.value=!1),"onUpdate:actionUpdateHandler":je},null,8,["isModalOpen","userId"])):C("",!0),k(fe)?(_(),w(Pe,{key:1,isModalOpen:k(fe),userId:k(ge),"onUpdate:closeModalHandler":u[3]||(u[3]=e=>fe.value=!1)},null,8,["isModalOpen","userId"])):C("",!0)])}}}),ge=o({__name:"index",setup:e=>(A().setPageTitle("Sub Contractors"),I({title:"Ibex Sub Contractors"}),(e,a)=>{const s=ye;return _(),m("div",null,[y(s)])})});export{ge as default};
