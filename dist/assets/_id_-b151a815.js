import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-9b05ec33.js";import{_ as a}from"./VTag.vue_vue_type_style_index_0_lang-c7bdb918.js";import{_ as s}from"./VAvatar.vue_vue_type_style_index_0_lang-e1a11d50.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-c666d5f5.js";import{e as t,r as i,Z as r,o as n,l as o,y as u,H as c,z as d,C as p,A as m,B as v,S as _,j as f,T as g,J as y,D as h,O as b,Q as k,R as j,aR as x,P as w,E as T,N as V,t as A,v as P}from"./index-bc6f32ee.js";import{_ as S}from"./VField.vue_vue_type_script_setup_true_lang-0e6a4b9c.js";import{_ as W}from"./VControl-52f3a248.js";import{_ as L}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-febc025b.js";import{_ as N,a as C}from"./search-1-dark-61831a90.js";import{u as E}from"./useAPI-1bd54dce.js";import{u as I}from"./useNotyf-003e5f34.js";import{i as z}from"./index-f52ed8ce.js";import{u as F}from"./personalScoreGauge-8a5bdacd.js";import{u as R}from"./viewWrapper-38f53a5f.js";import"./VFlex.vue_vue_type_style_index_0_lang-ba1fecbe.js";import"./VLabel.vue_vue_type_script_setup_true_lang-dde6df52.js";import"./useVFieldContext-4cb973c7.js";import"./VPlaceloadWrap-0b2ae882.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-4a16711f.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-16f4d472.js";import"./userSession-20c1d8da.js";import"./notyf-9c6ddeb2.js";import"./useThemeColors-5e9548e9.js";import"./billboard-5857d5e1.js";const O={key:1},M={class:"list-view-toolbar"},$={class:"list-info"},q={key:0},D={key:1},Q={class:"buttons"},Y={class:"page-content-inner"},Z={class:"list-view list-view-v1"},H=p("img",{class:"light-image",src:N,alt:""},null,-1),U=p("img",{class:"dark-image",src:C,alt:""},null,-1),B={class:"list-view-inner"},G={class:"list-view-item-inner"},J={class:"meta-left"},K=p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:map-pin"},null,-1),X={class:"meta-right"},ee={class:"tags"},ae={class:"stats"},se={class:"stat"},le=p("span",null,"Status",-1),te=p("div",{class:"separator"},null,-1),ie={class:"stat"},re=p("span",null,"Active tasks",-1),ne=p("div",{class:"separator"},null,-1),oe={class:"stat"},ue=p("span",null,"Pending tasks",-1),ce=t({__name:"WorkersOfSubcontractors",props:{supplierId:{}},setup(t){const V=t,A=E();I();const P=i(!1),N=i({id:"a49047a4-13c5-4d63-9015-c2dc2df9e877",active_tasks:0,completed_tasks:0,cancelled_tasks:0,pending_tasks:0,password:"pbkdf2_sha256$260000$EARzFotcnn91r0exIETwhW$cVT0EgRS3AZuWD4wTPzuWSq1CxNYd5a8oycatOQzpfA=",last_login:"",date_joined:"2024-10-07T18:17:28.297351Z",email:"testworker@ibexbuilderstudios.com",role:"worker",avatar:"",is_active:!0,phoneNumber:"123456789",username:"Test Worker",is_sentMail:!0,supplier:"d39eb0db-5e47-4942-bb93-0f978262aaae"}),C=i(""),z=r((()=>C.value?N.value.filter((e=>e.username.match(new RegExp(C.value,"i"))||e.email.match(new RegExp(C.value,"i")))):N.value));console.log(z.value);return n((()=>{(async()=>{try{P.value=!0;const e=await A.get(`/api/users/workers/?supplier=${V.supplierId}`);N.value=e.data}catch(e){console.log(e)}finally{P.value=!1}})()})),(t,i)=>{const r=L,n=W,V=S,A=T,N=l,E=s,I=a,F=e;return o(P)?(u(),c(r,{key:0})):(u(),d("div",O,[p("div",M,[m(V,null,{default:v((()=>[m(n,{icon:"feather:search"},{default:v((()=>[_(p("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>f(C)?C.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[g,o(C)]])])),_:1})])),_:1}),p("div",$,[1===o(z).length?(u(),d("span",q,"1 record found")):(u(),d("span",D,y(o(z).length)+" records found",1))]),p("div",Q,[m(A,{color:"primary",icon:"fas fa-plus",elevated:""},{default:v((()=>[h(" Worker ")])),_:1})])]),p("div",Y,[p("div",Z,[m(N,{class:b([0!==o(z).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:v((()=>[H,U])),_:1},8,["class"]),p("div",B,[m(x,{name:"list-complete",tag:"div"},{default:v((()=>[(u(!0),d(k,null,j(o(z),((e,a)=>(u(),d("div",{key:a,class:"list-view-item"},[p("div",G,[m(E,{picture:e.avatar,size:"large"},null,8,["picture"]),p("div",J,[p("h3",null,y(e.username),1),p("span",null,[K,p("span",null,y(e.email),1)])]),p("div",X,[p("div",ee,[m(I,{label:e.role,color:"info",rounded:"",elevated:""},null,8,["label"])]),p("div",ae,[p("div",se,[p("span",null,y(e.is_active?"Active":"In-Active"),1),le]),te,p("div",ie,[p("span",null,y(e.active_tasks),1),re]),ne,p("div",oe,[p("span",null,y(e.pending_tasks),1),ue])])])])])))),128))])),_:1})])]),o(z).length>5?(u(),c(F,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":5})):w("",!0)])]))}}}),de={class:"lifestyle-dashboard lifestyle-dashboard-v3"},pe={class:"illustration-header"},me={class:"p-4"},ve={class:"header-meta"},_e={class:"summary-stats"},fe={class:"summary-stat"},ge=p("span",null,"Role",-1),ye={class:"summary-stat"},he=p("span",null,"Status",-1),be={class:"summary-stat"},ke=p("span",null,"Phone",-1),je={class:"summary-stat"},xe=p("span",null,"Email",-1),we={class:"summary-stat h-hidden-tablet-p"},Te=p("span",null,"Email Notification",-1),Ve={class:"columns is-multiline is-flex-tablet-p"},Ae={class:"column is-12"},Pe=t({__name:"SubContractorProfile",setup(e){I();const a=E(),l=V();i([]),A(),i("cards"),F();const t=i({id:"",password:"",last_login:null,date_joined:"",email:"",role:"",avatar:"",is_active:!0,phoneNumber:"",username:"",is_sentMail:!1});i(!1),i("all");const r=i(!1);i([]),i([]),i([]),i([]),i({pending:"#fbcf33",active:"#82d616",completed:"#cb0c9f",canceled:"#344767"}),i({plugins:[z],schedulerLicenseKey:"0965592368-fcs-1694657447",initialView:"resourceTimelineMonth",height:"auto",resourceAreaWidth:"20%",selectable:!0,events:[],headerToolbar:{left:"today prev,next",center:"title",right:"resourceTimelineWeek,resourceTimelineMonth,resourceTimelineYear"},editable:!0,views:{resourceTimelineWeek:{slotDuration:{days:1,hours:1},slotLabelFormat:{weekday:"short",month:"numeric",day:"numeric",year:"numeric"}}},resourceAreaHeaderContent:"Projects",resources:[]});return i({}),n((async()=>{await(async()=>{try{r.value=!0;const e=await a.get(`/api/users/${l.params.id}`);t.value=e.data}catch(e){console.log(e)}finally{r.value=!1}})()})),(e,a)=>{const i=s,n=ce;return u(),d("div",de,[p("div",pe,[p("div",me,[m(i,{size:"xl",squared:"",picture:o(t).avatar,alt:""},null,8,["picture"])]),p("div",ve,[p("h3",null,y(o(r)?"Loading...":o(t)?.username),1),p("div",_e,[p("div",fe,[p("span",null,y(o(r)?"Loading...":o(t)?.role),1),ge]),p("div",ye,[p("span",null,y(o(r)?"Loading...":o(t)?.is_active?"Active":" In-Active"),1),he]),p("div",be,[p("span",null,y(o(r)?"Loading...":o(t)?.phoneNumber?o(t)?.phoneNumber:"N/A"),1),ke]),p("div",je,[p("span",null,y(o(r)?"Loading...":o(t)?.email),1),xe]),p("div",we,[p("span",null,y(o(r)?"Loading...":o(t).is_sentMail?"On":"Off"),1),Te])])])]),p("div",Ve,[p("div",Ae,[m(n,{"supplier-id":o(l).params.id},null,8,["supplier-id"])])])])}}}),Se={class:""},We=t({__name:"[id]",setup:e=>(R().setPageTitle("Sub-Contractor Info"),P({title:"Sub-Contractor info - Ibex"}),(e,a)=>{const s=Pe;return u(),d("div",Se,[m(s)])})});export{We as default};
