import{a as e,_ as l}from"./LeadAddUpdateModal.vue_vue_type_style_index_0_lang-af17a509.js";import{_ as a}from"./ProjectsTasks-027fc5c7.js";import{u as t,_ as s,a as i}from"./groupedCircleCharts-8a8af51b.js";import{b as n,u as o,a as d,c,_ as r}from"./groupedRadialCharts-9abfd9a5.js";import{_ as u}from"./SparkStatWidget.vue_vue_type_style_index_0_lang-82b9b925.js";import{A as p}from"./vue3-apexcharts.common-c6f8d0ac.js";import{u as m}from"./salesSparksChart-6b9571b9.js";import{u as v}from"./revenueAreaChart-d617b4e3.js";import{f as h,C as f,D as y,E as _,F as g,G as b,m as k,r as w,o as j,V as x,W as C,U as S,I as T,Q as V,R as A,S as I,x as M,$ as U,H as D,J as P,N as E,B as R,L as O,k as B,X as N,P as $,al as z,aB as F,O as J,K,aS as H,b as G,a5 as W,av as q,a4 as Z,y as X}from"./index-bc0f243a.js";import{_ as Q}from"./VAvatar.vue_vue_type_style_index_0_lang-6457f224.js";import{u as Y}from"./useAPI-31eb52e5.js";import{h as ee}from"./moment-1b9a430c.js";import{_ as le}from"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-03e03f3a.js";import{p as ae}from"./index-c1fc2d09.js";import{a as te}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-6641aa15.js";import{_ as se}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-7e31975a.js";import{_ as ie}from"./VField.vue_vue_type_script_setup_true_lang-189397de.js";import{_ as ne}from"./VControl-be925bbf.js";import{_ as oe}from"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-c5322d3c.js";import{_ as de}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-196b5361.js";import{_ as ce,a as re}from"./search-4-dark-2b5b440c.js";import{o as ue}from"./via-placeholder-24645670.js";import{b as pe,a as me,h as ve,f as he,C as fe}from"./useSupportElement-6235815e.js";import{_ as ye}from"./VModal.vue_vue_type_style_index_0_lang-57be89f0.js";import{_ as _e}from"./VTextarea.vue_vue_type_script_setup_true_lang-b41a5f88.js";import{_ as ge}from"./VInput.vue_vue_type_script_setup_true_lang-d760490e.js";import{_ as be,a as ke}from"./VOption.vue_vue_type_style_index_0_lang-40a9a71a.js";import{u as we}from"./useNotyf-1da924a4.js";import{f as je}from"./estimatesScripts-6f39323b.js";import{_ as xe}from"./VIcon.vue_vue_type_script_setup_true_lang-6a988700.js";import{_ as Ce}from"./PlaceloadV3.vue_vue_type_style_index_0_lang-158a0612.js";import{_ as Se,a as Te}from"./search-3-dark-1eb6ae2e.js";import{_ as Ve}from"./VDropdown.vue_vue_type_style_index_0_lang-1e6197b2.js";import{_ as Ae}from"./PlaceloadV4.vue_vue_type_style_index_0_lang-69e31196.js";import{f as Ie}from"./index-5fa9b154.js";import{_ as Me}from"./UIWidget.vue_vue_type_style_index_0_lang-746ad803.js";import{_ as Ue}from"./VBlock.vue_vue_type_style_index_0_lang-8cdd4c61.js";import{_ as De}from"./VAnimatedCheckbox.vue_vue_type_style_index_0_lang-0d6fa237.js";import{_ as Pe}from"./UserCardDropdown-6d8fa52c.js";import{_ as Ee}from"./VFlexTable.vue_vue_type_style_index_0_lang-2df80416.js";import{_ as Re}from"./VTag.vue_vue_type_style_index_0_lang-6a07114f.js";import{_ as Le}from"./VIconBox.vue_vue_type_style_index_0_lang-8df99cd3.js";import{_ as Oe}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-00b472d2.js";const Be={class:"columns is-multiline"},Ne={class:"column is-3"},$e={class:"column is-3"},ze={class:"column is-3"},Fe={class:"column is-3"},Je={class:"column is-6"},Ke={class:"column is-6"},He={class:"column is-6"},Ge={class:"column is-6"},We={class:"column is-6"},qe={class:"column is-6"},Ze=h({__name:"JobReport",setup(e){const{spark1:l,spark2:a,spark3:h,spark4:w}=m(),{revenueOptions:j}=v(),{lineStatsChartOptions:x}=n(),{flexRadialChartCircleOptions:C}=o(),{flexRadialChartStripesOptions:S}=d(),{widgetGaugeGroup1Options:T,widgetGaugeGroup2Options:V,widgetGaugeGroup3Options:A}=c(),{widgetRadialGroup1Options:I,widgetRadialGroup2Options:M,widgetRadialGroup3Options:U}=t();return(e,t)=>{const n=u,o=r,d=s,c=i;return f(),y("div",Be,[_("div",Ne,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark1",height:k(l).chart.height,type:k(l).chart.type,series:k(l).series,options:k(l)},null,8,["height","type","series","options"])])),_:1})]),_("div",$e,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark2",height:k(a).chart.height,type:k(a).chart.type,series:k(a).series,options:k(a)},null,8,["height","type","series","options"])])),_:1})]),_("div",ze,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark3",height:k(h).chart.height,type:k(h).chart.type,series:k(h).series,options:k(h)},null,8,["height","type","series","options"])])),_:1})]),_("div",Fe,[g(n,{straight:""},{default:b((()=>[g(k(p),{id:"widget-spark4",height:k(w).chart.height,type:k(w).chart.type,series:k(w).series,options:k(w)},null,8,["height","type","series","options"])])),_:1})]),_("div",Je,[g(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[g(k(p),{id:"line-stats-widget-chart",height:k(x).chart.height,type:k(x).chart.type,series:k(x).series,options:k(x)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ke,[g(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[g(k(p),{id:"line-stats-area-chart",height:k(j).chart.height,type:k(j).chart.type,series:k(j).series,options:k(j)},null,8,["height","type","series","options"])])),_:1})]),_("div",He,[g(d,{title:"Sales Revenue",straight:""},{default:b((()=>[g(k(p),{id:"flex-stat-circle",height:k(C).chart.height,type:k(C).chart.type,series:k(C).series,options:k(C)},null,8,["height","type","series","options"])])),_:1})]),_("div",Ge,[g(d,{title:"Sales Revenue",straight:""},{default:b((()=>[g(k(p),{id:"flex-stat-radial",height:k(S).chart.height,type:k(S).chart.type,series:k(S).series,options:k(S)},null,8,["height","type","series","options"])])),_:1})]),_("div",We,[g(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"]},{chart1:b((()=>[g(k(p),{id:"group-radial-1",height:k(I).chart.height,type:k(I).chart.type,series:k(I).series,options:k(I)},null,8,["height","type","series","options"])])),chart2:b((()=>[g(k(p),{id:"group-radial-2",height:k(M).chart.height,type:k(M).chart.type,series:k(M).series,options:k(M)},null,8,["height","type","series","options"])])),chart3:b((()=>[g(k(p),{id:"group-radial-3",height:k(U).chart.height,type:k(U).chart.type,series:k(U).series,options:k(U)},null,8,["height","type","series","options"])])),_:1})]),_("div",qe,[g(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"],gauge:""},{chart1:b((()=>[g(k(p),{id:"group-gauge-1",height:k(T).chart.height,type:k(T).chart.type,series:k(T).series,options:k(T)},null,8,["height","type","series","options"])])),chart2:b((()=>[g(k(p),{id:"group-gauge-2",height:k(V).chart.height,type:k(V).chart.type,series:k(V).series,options:k(V)},null,8,["height","type","series","options"])])),chart3:b((()=>[g(k(p),{id:"group-gauge-3",height:k(A).chart.height,type:k(A).chart.type,series:k(A).series,options:k(A)},null,8,["height","type","series","options"])])),_:1})])])}}}),Xe=e=>(V("data-v-1f68036b"),e=e(),A(),e),Qe={class:"timeline-wrapper"},Ye=Xe((()=>_("div",{class:"timeline-header"},null,-1))),el={class:"timeline-wrapper-inner"},ll={class:"timeline-container"},al={class:"timeline-item is-unread"},tl={class:"date"},sl={class:"content-wrap"},il={class:"content-box"},nl=Xe((()=>_("div",{class:"status"},null,-1))),ol={class:"box-text"},dl={class:"meta-text"},cl=["innerHTML"],rl=h({__name:"JobActivities",props:{object_id:{},object_type:{}},setup(e){const l=e,a=Y(),t=w([{id:"06b62536-220c-4d54-b437-50f035677d17",action:"UPDATE",timestamp:"2025-02-21T18:09:11.830145Z",actor_info:{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"},message:"updated <b>HENNING</b> lead information.",object_id:"1be101da-7a93-43af-b3e3-d1ca908aa2c9",object_type:"lead",actor:"0feda007-d8a0-4b96-acb7-d7763614854e"}]),s={UPDATE:"is-info",RETRIEVE:"is-warning",DELETE:"is-danger",CREATE:"is-primary"};return j((()=>{(async()=>{try{const e=await a.get(`/api/activity-logs/?object_id=${l.object_id}`);t.value=e.data}catch(e){console.log(e)}})()})),(e,l)=>{const a=Q;return f(),y("div",Qe,[Ye,_("div",el,[_("div",ll,[(f(!0),y(x,null,C(k(t),(e=>(f(),y("div",al,[_("div",tl,[_("span",null,S(k(ee)(e.timestamp).format("ddd, mm yyyy")),1)]),_("div",{class:T(["dot",s[e.action]])},null,2),_("div",sl,[_("div",il,[nl,g(a,{picture:e.actor_info?.avatar},null,8,["picture"]),_("div",ol,[_("div",dl,[_("p",null,[_("span",null,S(e.actor_info?.username??"N/A")+" "+S(e.actor_info?.last_name??"N/A"),1),_("span",{class:"log-message",innerHTML:e.message},null,8,cl)]),_("span",null,S(k(ee)(e.timestamp).format("hh:mm:ss")),1)])])])])])))),256))])])])}}}),ul=I(rl,[["__scopeId","data-v-1f68036b"]]),pl={class:"table is-striped is-fullwidth"},ml=_("thead",null,[_("tr",null,[_("th",{scope:"col"},"Job"),_("th",{scope:"col"},"ID"),_("th",{scope:"col"},"Title"),_("th",{scope:"col"},"Status"),_("th",{scope:"col"},"Total Price"),_("th",{scope:"col"},"Total Tax"),_("th",{scope:"col"},"Amount Paid"),_("th",{scope:"col"},"Balance"),_("th",{scope:"col"},"Deadline"),_("th",{scope:"col"},"Date Paid"),_("th",{scope:"col"},"Files"),_("th",{scope:"col",class:"is-end"},"Actions")])],-1),vl=_("td",null,"Tina",-1),hl=_("td",null,"Bergmann",-1),fl=_("td",null,"Sales",-1),yl=_("td",null,"Tina",-1),_l=_("td",null,"Bergmann",-1),gl=_("td",null,"Sales",-1),bl=_("td",null,"Tina",-1),kl=_("td",null,"Bergmann",-1),wl=_("td",null,"Sales",-1),jl=_("td",null,"Bergmann",-1),xl=_("td",null,"Sales",-1),Cl={class:"is-end"},Sl={class:"is-flex is-justify-content-flex-end"},Tl=_("td",null,"Tina",-1),Vl=_("td",null,"Bergmann",-1),Al=_("td",null,"Sales",-1),Il=_("td",null,"Tina",-1),Ml=_("td",null,"Bergmann",-1),Ul=_("td",null,"Sales",-1),Dl=_("td",null,"Tina",-1),Pl=_("td",null,"Bergmann",-1),El=_("td",null,"Sales",-1),Rl=_("td",null,"Bergmann",-1),Ll=_("td",null,"Sales",-1),Ol={class:"is-end"},Bl={class:"is-flex is-justify-content-flex-end"},Nl=_("td",null,"Tina",-1),$l=_("td",null,"Bergmann",-1),zl=_("td",null,"Sales",-1),Fl=_("td",null,"Tina",-1),Jl=_("td",null,"Bergmann",-1),Kl=_("td",null,"Sales",-1),Hl=_("td",null,"Tina",-1),Gl=_("td",null,"Bergmann",-1),Wl=_("td",null,"Sales",-1),ql=_("td",null,"Bergmann",-1),Zl=_("td",null,"Sales",-1),Xl={class:"is-end"},Ql={class:"is-flex is-justify-content-flex-end"},Yl=_("td",null,"Tina",-1),ea=_("td",null,"Bergmann",-1),la=_("td",null,"Sales",-1),aa=_("td",null,"Tina",-1),ta=_("td",null,"Bergmann",-1),sa=_("td",null,"Sales",-1),ia=_("td",null,"Tina",-1),na=_("td",null,"Bergmann",-1),oa=_("td",null,"Sales",-1),da=_("td",null,"Bergmann",-1),ca=_("td",null,"Sales",-1),ra={class:"is-end"},ua={class:"is-flex is-justify-content-flex-end"},pa=h({__name:"JobInvoice",props:{activeTab:{default:"active"}},setup(e){const l=e,a=ae;M();const t=w("");return w(l.activeTab),U((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=le;return f(),y("table",pl,[ml,_("tbody",null,[_("tr",null,[vl,hl,fl,yl,_l,gl,bl,kl,wl,jl,xl,_("td",Cl,[_("div",Sl,[g(a)])])]),_("tr",null,[Tl,Vl,Al,Il,Ml,Ul,Dl,Pl,El,Rl,Ll,_("td",Ol,[_("div",Bl,[g(a)])])]),_("tr",null,[Nl,$l,zl,Fl,Jl,Kl,Hl,Gl,Wl,ql,Zl,_("td",Xl,[_("div",Ql,[g(a)])])]),_("tr",null,[Yl,ea,la,aa,ta,sa,ia,na,oa,da,ca,_("td",ra,[_("div",ua,[g(a)])])])])])}}}),ma={class:"table is-striped is-fullwidth"},va=_("thead",null,[_("tr",null,[_("th",{scope:"col"},"First Name"),_("th",{scope:"col"},"Last Name"),_("th",{scope:"col"},"Position"),_("th",{scope:"col",class:"is-end"},[_("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1),ha=_("td",null,"Tina",-1),fa=_("td",null,"Bergmann",-1),ya=_("td",null,"Head of Sales",-1),_a={class:"is-end"},ga={class:"is-flex is-justify-content-flex-end"},ba=_("td",null,"John",-1),ka=_("td",null,"Wistmus",-1),wa=_("td",null,"Senior Executive",-1),ja={class:"is-end"},xa={class:"is-flex is-justify-content-flex-end"},Ca=_("td",null,"Sam",-1),Sa=_("td",null,"Watson",-1),Ta=_("td",null,"Software Engineer",-1),Va={class:"is-end"},Aa={class:"is-flex is-justify-content-flex-end"},Ia=_("td",null,"Jolaine",-1),Ma=_("td",null,"Joestar",-1),Ua=_("td",null,"HR Manager",-1),Da={class:"is-end"},Pa={class:"is-flex is-justify-content-flex-end"},Ea=_("td",null,"Anders",-1),Ra=_("td",null,"Jensen",-1),La=_("td",null,"Accountant",-1),Oa={class:"is-end"},Ba={class:"is-flex is-justify-content-flex-end"},Na=h({__name:"JobEstimates",props:{activeTab:{default:"active"}},setup(e){const l=e,a=ae;M();const t=w("");return w(l.activeTab),U((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=le;return f(),y("table",ma,[va,_("tbody",null,[_("tr",null,[ha,fa,ya,_("td",_a,[_("div",ga,[g(a)])])]),_("tr",null,[ba,ka,wa,_("td",ja,[_("div",xa,[g(a)])])]),_("tr",null,[Ca,Sa,Ta,_("td",Va,[_("div",Aa,[g(a)])])]),_("tr",null,[Ia,Ma,Ua,_("td",Da,[_("div",Pa,[g(a)])])]),_("tr",null,[Ea,Ra,La,_("td",Oa,[_("div",Ba,[g(a)])])])])])}}}),$a={class:"columns is-multiline"},za={class:"column is-12"},Fa={class:"toolbar"},Ja={class:"tabs-inner"},Ka={class:"tabs"},Ha=_("span",null,"Estimate",-1),Ga=[Ha],Wa=_("span",null,"Budget",-1),qa=[Wa],Za=_("span",null,"Owner Invoice",-1),Xa=[Za],Qa=_("li",{class:"tab-naver"},null,-1),Ya={key:0,class:"column is-12"},et={key:1,class:"column is-12"},lt={key:2,class:"column is-12"},at=h({__name:"JobFinance",props:{activeTab:{default:"active"}},setup(e){const l=ae;M();const a=w("estimate"),t=w("");return U((()=>{if(t.value){const e=new RegExp(t.value,"i");return l.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return l})),(e,l)=>{const t=Na,s=pa;return f(),y("div",$a,[_("div",za,[_("div",Fa,[_("div",Ja,[_("div",Ka,[_("ul",null,[_("li",{class:T(["estimate"===k(a)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=D(P((e=>a.value="estimate"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>a.value="estimate")},Ga,32)],2),_("li",{class:T(["budget"===k(a)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=D(P((e=>a.value="budget"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>a.value="budget")},qa,32)],2),_("li",{class:T(["invoice"===k(a)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=D(P((e=>a.value="invoice"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>a.value="invoice")},Xa,32)],2),Qa])])])])]),"estimate"===k(a)?(f(),y("div",Ya,[g(t)])):E("",!0),"budget"===k(a)?(f(),y("div",et)):E("",!0),"invoice"===k(a)?(f(),y("div",lt,[g(s)])):E("",!0)])}}}),tt={class:"user-grid-toolbar"},st=_("span",{class:"icon"},[_("i",{class:"fas fa-plus"})],-1),it=_("span",null,"Progress",-1),nt={class:"user-grid user-grid-v1"},ot={class:"columns is-multiline"},dt={class:"grid-item"},ct={class:"is-flex"},rt=h({__name:"JobProgressLoader",setup(e){const l=w(""),a=w(0),t=["All","UI/UX Design","Web Development","Software Eng.","Business"];return(e,s)=>{const i=ne,n=R("Multiselect"),o=ie,d=$,c=z,r=F,u=de,p=oe;return f(),y("div",null,[_("div",tt,[g(i,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>B(l)?l.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(l)]])])),_:1}),g(c,null,{default:b((()=>[g(o,{class:"h-hidden-mobile"},{default:b((()=>[g(i,null,{default:b((()=>[g(n,{modelValue:k(a),"onUpdate:modelValue":s[1]||(s[1]=e=>B(a)?a.value=e:null),options:t,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),g(d,null,{default:b((()=>[st,it])),_:1})])),_:1})]),_("div",nt,[_("div",ot,[(f(),y(x,null,C(20,(e=>_("div",{key:e,class:"column is-3"},[_("div",dt,[g(r,{height:"160px",centered:"",class:"mb-2"}),g(u,{class:"mb-5",width:"80%",lines:3,"last-line-width":"60%"}),_("div",ct,[g(p,{size:"small",class:"mx-1"}),g(u,{class:"mb-4",width:"80%",lines:2,"last-line-width":"60%"})])])]))),64))])])])}}}),ut={key:1},pt={class:"card-grid-toolbar"},mt={class:"buttons"},vt=_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),ht=_("span",null,"Progress",-1),ft={class:"card-grid card-grid-v4"},yt=_("img",{class:"light-image",src:ce,alt:""},null,-1),_t=_("img",{class:"dark-image",src:re,alt:""},null,-1),gt=["href","title"],bt=["src","alt"],kt={class:"card-grid-item-content"},wt={class:"dark-inverted"},jt={key:0},xt=_("summary",null,"Read More",-1),Ct={key:0,class:"card-grid-item-footer"},St={class:"meta"},Tt={class:"dark-inverted"},Vt=h({__name:"JobProgress",props:{object:{},type:{},taskData:{}},setup(e){const l=e,a=Y(),t=w(""),s=w(!1),i=w(!1),n=w(0),o=["All Posts","Recent Posts","Older Posts","Popular Posts"],d=w([{id:"",uploaded_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},file_info:{url:"",name:"",type:"",size:0},progress:0,title:"",description:"",created_at:"",file:"",job:"",task:"",uploaded_by:""}]),c=async()=>{try{s.value=!0;const e=await a.get(`/api/job-progress/by-job/${l.object}/`);d.value=e.data}catch(e){console.log(e)}finally{s.value=!1}};U((()=>d.value.map((e=>({src:e.file_info.url,thumbnail:e.file_info.url,w:1200,h:900,alt:e.file_info.name})))));const r=U((()=>{if(t.value){const e=new RegExp(t.value,"i");return console.log(e),d.value.filter((l=>l.title?.match(e)||l.created_at?.match(e)||l.uploaded_by_info?.username?.match(e)||l.uploaded_by_info?.email?.match(e)||l.uploaded_by_info?.last_name?.match(e)))}return d.value}));return j((()=>{"job"===l.type&&c()})),(e,a)=>{const d=rt,u=ne,p=R("Multiselect"),m=ie,v=$,h=se,w=Q,j=te;return k(s)?(f(),J(d,{key:0})):(f(),y("div",ut,[_("div",pt,[g(u,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>B(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(t)]])])),_:1}),_("div",mt,[g(m,{class:"h-hidden-mobile"},{default:b((()=>[g(u,null,{default:b((()=>[g(p,{modelValue:k(n),"onUpdate:modelValue":a[1]||(a[1]=e=>B(n)?n.value=e:null),options:o,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),g(v,{onClick:a[2]||(a[2]=e=>i.value=!k(i)),color:"primary",raised:""},{default:b((()=>[vt,ht])),_:1})])]),_("div",ft,[g(h,{class:T([0!==k(r).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[yt,_t])),_:1},8,["class"]),g(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(x,null,C(k(r),(e=>(f(),y("div",{key:e.id,class:"column is-3"},[_("a",{href:e.file,title:e.title,itemprop:"contentUrl","data-pswp-width":"1200","data-pswp-height":"900",target:"_blank","data-cropped":"true",ref_for:!0,ref:"noreferrer",class:"card-grid-item"},[_("img",{src:e.file,alt:e.title,onErrorOnce:a[3]||(a[3]=e=>k(ue)(400,300))},null,40,bt),_("div",kt,[_("h3",wt,S(e.title?e.title:"No Title"),1),_("p",null,[K(S(e.description?e.description.slice(0,34):"No Description")+" ",1),e.description.length>44?(f(),y("details",jt,[xt,K(" "+S(e.description?e.description:""),1)])):E("",!0)])]),e.uploaded_by_info?(f(),y("div",Ct,[g(w,{picture:e.uploaded_by_info.avatar,size:"small"},null,8,["picture"]),_("div",St,[_("span",Tt,S(e.uploaded_by_info.username??"N/A")+" "+S(e.uploaded_by_info.last_name??""),1),_("span",null,S(k(pe)(e.created_at)),1)])])):E("",!0)],8,gt)])))),128))])),_:1})]),k(i)?(f(),J(j,{key:0,job:l.object,openProgressModal:k(i),"onUpdate:OnSuccess":c,"onClose:ModalHandler":a[4]||(a[4]=e=>i.value=!1)},null,8,["job","openProgressModal"])):E("",!0)]))}}}),At={class:"modal-form columns is-multiline"},It={class:"column is-12"},Mt=_("div",{class:"column is-12"},[_("h3",{class:"title is-6 mb-2"},"Activity Information")],-1),Ut={class:"field column is-6 mb-0"},Dt=_("label",null,"Title *",-1),Pt={class:"control"},Et={class:"field column is-6 mb-0"},Rt=_("label",null,"Activity Type *",-1),Lt={class:"field column is-6 mb-0"},Ot=_("label",null,"Date ",-1),Bt={class:"field column is-3 mb-0"},Nt=_("label",null,"Start Time ",-1),$t={class:"field column is-3 mb-0"},zt=_("label",null,"End Time ",-1),Ft={class:"field column is-3 mb-0"},Jt=_("label",null,"Color ",-1),Kt=_("datalist",{id:"colors-list"},[_("option",{value:"#84cc16"}),_("option",{value:"#22c55e"}),_("option",{value:"#0ea5e9"}),_("option",{value:"#6366f1"}),_("option",{value:"#8b5cf6"}),_("option",{value:"#d946ef"}),_("option",{value:"#f43f5e"}),_("option",{value:"#facc15"}),_("option",{value:"#fb923c"}),_("option",{value:"#9ca3af"})],-1),Ht={class:"field column is-3 mb-0"},Gt=_("label",null,"Reminder time: ",-1),Wt={class:"field column is-3 mb-0"},qt=_("label",null,"Attachment ",-1),Zt={class:"file"},Xt={class:"file-label"},Qt={class:"file-cta"},Yt=_("span",{class:"file-icon"},[_("i",{class:"fas fa-cloud-upload-alt"})],-1),es={class:"file-label"},ls={class:"field column is-12 mb-0"},as=_("label",null,"Assigned * ",-1),ts={class:"multiselect-tag is-user"},ss=["src"],is=["onMousedown"],ns=_("div",{class:"column is-12"},[_("h3",{class:"title is-6 mb-2"},"Location")],-1),os={class:"field column is-4 mb-0"},ds=_("label",null,"Zip Code ",-1),cs={class:"control"},rs={class:"field column is-4 mb-0"},us=_("label",null,"City ",-1),ps={class:"control"},ms={class:"field column is-4 mb-0"},vs=_("label",null,"State ",-1),hs={class:"control"},fs={class:"field column is-12 mb-0"},ys=_("label",null,"Street Address",-1),_s={class:"control"},gs={class:"field column is-12 mb-0"},bs=_("label",null,"Description ",-1),ks=h({__name:"LeadActivityModal",props:{addUpdateContactModal:{type:Boolean},activityId:{},objectId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;w(null);const t=G(),s=we(),i=Y(),n=w(!1),o=()=>{l("update:modalHandler",!1)},d=w([{value:"",name:"",image:""}]),c=w({title:"",objectId:a.objectId??"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",assignedUser:"",attendees:[],initiated_by:t.user.id,address:"",city:"",state:"",zip_code:"",description:"",latitude:0,longitude:0,file:""}),r=async()=>{try{n.value=!0;const e=me(c.value,["file"]);if(a.activityId){await i.patch(`/api/activity/${a.activityId}/`,e);s.success("Activity updated successfully")}else{await i.post("/api/activity/",e);s.success("Activity added successfully")}l("update:OnSuccess",null),o()}catch(e){s.error(` ${e}, Activity`)}finally{n.value=!1}},u=async()=>{if(!c.value.zip_code)return;const e=await ve(c.value.zip_code);console.log("API Response:",e),e?.status&&e.data?(c.value.latitude=e.data.lat,c.value.longitude=e.data.lng,c.value.address=e.data.address,c.value.city=e.data.city,c.value.state=e.data.state,s.success("Address fetched successfully")):console.log("Address not found.")},p=w(""),m=w(0),v=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(c.value.file=a,p.value=a.name,m.value=a.size)};return j((()=>{(async()=>{try{n.value=!0;const e=await i.get("/api/users/");d.value=e.data.map((e=>({value:e.id,name:`${e.username??"N/A"} ${e.last_name??""}`,icon:e.avatar})))}catch(e){s.error("something get wrong")}finally{n.value=!1}})(),a.activityId&&(async()=>{try{n.value=!0;const e=await i.get(`/api/activity/${a.activityId}/`);c.value=e.data}catch(e){s.error(` ${e}, Get Activity`)}finally{n.value=!1}})()})),(e,l)=>{const t=be,s=ke,i=ne,m=ie,h=ge,w=R("Multiselect"),j=W,T=_e,V=$,A=ye;return f(),J(A,{is:"form",open:a.addUpdateContactModal,title:"Activity Details",size:"large",actions:"right",onSubmit:P(r,["prevent"]),onClose:o},{content:b((()=>[_("div",At,[_("div",It,[g(j,{class:"columns is-multiline"},{default:b((()=>[Mt,_("div",Ut,[Dt,_("div",Pt,[O(_("input",{type:"text",name:"title","onUpdate:modelValue":l[0]||(l[0]=e=>k(c).title=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Title"},null,512),[[N,k(c).title]])])]),_("div",Et,[Rt,g(m,null,{default:b((()=>[g(i,null,{default:b((()=>[g(s,{modelValue:k(c).type,"onUpdate:modelValue":l[1]||(l[1]=e=>k(c).type=e),required:""},{default:b((()=>[(f(!0),y(x,null,C(k(je),(e=>(f(),J(t,{value:e.value},{default:b((()=>[K(S(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),_("div",Lt,[Ot,O(_("input",{type:"date",name:"date","onUpdate:modelValue":l[2]||(l[2]=e=>k(c).date=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).date]])]),_("div",Bt,[Nt,O(_("input",{type:"time",name:"date","onUpdate:modelValue":l[3]||(l[3]=e=>k(c).start_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).start_time]])]),_("div",$t,[zt,O(_("input",{type:"time",name:"date","onUpdate:modelValue":l[4]||(l[4]=e=>k(c).end_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).end_time]])]),_("div",Ft,[Jt,g(m,null,{default:b((()=>[g(i,null,{default:b((()=>[g(h,{modelValue:k(c).color,"onUpdate:modelValue":l[5]||(l[5]=e=>k(c).color=e),list:"colors-list",type:"color",placeholder:"Pick a color"},null,8,["modelValue"]),Kt])),_:1})])),_:1})]),_("div",Ht,[Gt,O(_("input",{type:"time",name:"date","onUpdate:modelValue":l[6]||(l[6]=e=>k(c).reminder_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[N,k(c).reminder_time]])]),_("div",Wt,[qt,g(m,{grouped:""},{default:b((()=>[g(i,null,{default:b((()=>[_("div",Zt,[_("label",Xt,[_("input",{onChange:v,class:"file-input",type:"file",name:"resume"},null,32),_("span",Qt,[Yt,_("span",es,S(k(p)?k(p):"Choose a file…"),1)])])])])),_:1})])),_:1})]),_("div",ls,[as,g(m,null,{default:b((({id:e})=>[g(i,null,{default:b((()=>[g(w,{required:"",modelValue:k(c).attendees,"onUpdate:modelValue":l[8]||(l[8]=e=>k(c).attendees=e),attrs:{id:e},mode:"tags",placeholder:"Select a user","track-by":"name",label:"name",search:!0,searchable:!0,options:k(d),"max-height":145},{tag:b((({option:e,remove:a,disabled:t})=>[_("div",ts,[_("img",{src:e.image,alt:""},null,8,ss),K(" "+S(e.name)+" ",1),t?E("",!0):(f(),y("i",{key:0,role:"button",tabindex:"0",onClick:l[7]||(l[7]=P((()=>{}),["prevent"])),onMousedown:P((l=>a(e)),["prevent","stop"])},null,40,is))])])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])])),_:1}),g(j,{class:"columns is-multiline mt-3"},{default:b((()=>[ns,_("div",os,[ds,_("div",cs,[O(_("input",{type:"text",name:"state",onBlur:u,"onUpdate:modelValue":l[9]||(l[9]=e=>k(c).zip_code=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip Code"},null,544),[[N,k(c).zip_code]])])]),_("div",rs,[us,_("div",ps,[O(_("input",{type:"text",name:"city","onUpdate:modelValue":l[10]||(l[10]=e=>k(c).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[N,k(c).city]])])]),_("div",ms,[vs,_("div",hs,[O(_("input",{type:"text",name:"state","onUpdate:modelValue":l[11]||(l[11]=e=>k(c).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[N,k(c).state]])])]),_("div",fs,[ys,_("div",_s,[O(_("input",{type:"tel",name:"phone","onUpdate:modelValue":l[12]||(l[12]=e=>k(c).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[N,k(c).address]])])]),_("div",gs,[bs,g(m,null,{default:b((()=>[g(i,null,{default:b((()=>[g(T,{modelValue:k(c).description,"onUpdate:modelValue":l[13]||(l[13]=e=>k(c).description=e),rows:"3",placeholder:"Enter description..."},null,8,["modelValue"])])),_:1})])),_:1})])])),_:1})])])])),action:b((()=>[g(V,{loading:k(n),type:"submit",color:"primary",raised:""},{default:b((()=>[K(S(a.activityId?"Update":"Create")+" Activity",1)])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),ws={key:1},js={class:"card-grid-toolbar"},xs={class:"buttons"},Cs={class:"card-grid card-grid-v3"},Ss=_("img",{class:"light-image",src:Se,alt:""},null,-1),Ts=_("img",{class:"dark-image",src:Te,alt:""},null,-1),Vs={class:"h-toggle"},As=["checked"],Is={class:"toggler"},Ms=_("span",{class:"active"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})],-1),Us={class:"inactive"},Ds={class:"dark-inverted"},Ps={class:"description"},Es={class:"people"},Rs={class:"buttons"},Ls=["onClick"],Os=[_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:edit-2"})],-1),_("span",null,"Edit",-1)],Bs=h({__name:"JobLeadActivities",props:{jobId:{}},setup(l){const a=l,t=w(""),s=w(""),i=w(!1),n=w(!1),o=w([{id:"",attendees_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:""}],initiated_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},title:"",description:"",objectId:"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",created_at:"",address:"",city:"",state:"",zip_code:"",file:null,latitude:0,longitude:0,initiated_by:"",attendees:[""]}]),d=Y(),c=we();G();const r=w(!1),u=w(""),p=w(!1),m=U((()=>{if(!o.value)return[];const e=new RegExp(t.value,"i"),l=u.value?.trim();return o.value.filter((a=>{const s=!t.value||e.test(a.title)||e.test(a.start_time)||e.test(a.end_time)||e.test(a.date)||e.test(a.status)||e.test(a.type),i=!l||a.type===l;return s&&i}))})),v=()=>{a.jobId?(async()=>{try{r.value=!0;const e=await d.get(`/api/activity/by-object/${a.jobId}/`);o.value=e.data}catch(e){c.error("something get wrong")}finally{r.value=!1}})():(async()=>{try{r.value=!0;const e=await d.get("/api/activity/");o.value=e.data}catch(e){c.error("something get wrong")}finally{r.value=!1}})()};return j((()=>{v()})),(l,o)=>{const h=Ce,w=ne,j=be,V=ke,A=ie,I=$,M=se,U=xe,D=Q,P=ks,R=e,L=q("tooltip");return k(r)?(f(),J(h,{key:0})):(f(),y("div",ws,[_("div",js,[g(w,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>B(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(t)]])])),_:1}),_("div",xs,[K(S(k(u))+" ",1),g(A,null,{default:b((()=>[g(w,null,{default:b((()=>[g(V,{modelValue:k(u),"onUpdate:modelValue":o[1]||(o[1]=e=>B(u)?u.value=e:null),required:""},{default:b((()=>[g(j,{value:""},{default:b((()=>[K("All")])),_:1}),(f(!0),y(x,null,C(k(je),(e=>(f(),J(j,{value:e.value},{default:b((()=>[K(S(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1}),g(I,{onClick:o[2]||(o[2]=e=>i.value=!k(i)),color:"warning",icon:"lnir lnir-alarm"},{default:b((()=>[K(" Create Activity ")])),_:1}),g(I,{onClick:o[3]||(o[3]=e=>n.value=!k(n)),color:"success",class:"ml-2",icon:"fas fa-envelope"},{default:b((()=>[K(" Schedule Email ")])),_:1})])]),_("div",Cs,[g(M,{class:T([0!==k(m).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[Ss,Ts])),_:1},8,["class"]),g(H,{name:"list",tag:"div",class:"columns is-multiline is-flex-tablet-p is-half-tablet-p"},{default:b((()=>[(f(!0),y(x,null,C(k(m),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[_("div",{class:"card-grid-item",style:Z({backgroundImage:`linear-gradient(\n                    -175deg,\n                    white 70%,\n                  ${e.color}30\n                  `})},[_("label",Vs,[_("input",{type:"checkbox",checked:"completed"==e.status},null,8,As),_("span",Is,[Ms,_("span",Us,[g(U,{icon:"lucide:activity"})])])]),g(D,{size:"large",picture:`/IbexIcons/ActivitiesIcons/${e.type}.png`,squared:""},null,8,["picture"]),_("h3",Ds,S(e.title),1),_("p",null,S(k(he)(e.date))+" remaining",1),_("div",Ps,[_("p",null,S(e.description??"Not Added"),1)]),_("div",Es,[(f(!0),y(x,null,C(e.attendees_info,(e=>O((f(),J(D,{key:e.id,size:"small",initials:e.username.slice(0,2),picture:e.avatar},null,8,["initials","picture"])),[[L,`${e.username} ${e.last_name?e.last_name:""}`,void 0,{rounded:!0}]]))),128))]),_("div",Rs,[g(I,{onClick:l=>(async(e="")=>{try{p.value=!0,204===(await d.delete(`/api/activity/${e}/`)).status?(c.success("Activity deleted successfully"),v()):c.error("Something went wrong")}catch(l){console.log("Err in deleting activity",l)}finally{p.value=!1}})(e.id),loading:k(p),icon:"feather:trash",outlined:""},{default:b((()=>[K(" Delete ")])),_:2},1032,["onClick","loading"]),_("button",{onClick:l=>{return a=e.id,s.value=a,void(i.value=!0);var a},class:"button v-button is-dark-outlined"},Os,8,Ls)])],4)])))),128))])),_:1})]),k(i)?(f(),J(P,{key:0,addUpdateContactModal:k(i),objectId:a.jobId,activityId:k(s),"onUpdate:modalHandler":o[4]||(o[4]=e=>i.value=!1),"onUpdate:OnSuccess":v},null,8,["addUpdateContactModal","objectId","activityId"])):E("",!0),k(n)?(f(),J(R,{key:1,mailSchedulerModal:k(n),"onUpdate:modalHandler":o[5]||(o[5]=e=>n.value=!1)},null,8,["mailSchedulerModal"])):E("",!0)]))}}}),Ns={class:"modal-form columns is-multiline"},$s={class:"column is-full"},zs={class:"field"},Fs=_("label",{class:"label"},"Title ",-1),Js={class:"control"},Ks={class:"field column is-half"},Hs={class:"file"},Gs={class:"file-label"},Ws={class:"file-cta"},qs=_("span",{class:"file-icon"},[_("i",{class:"fas fa-cloud-upload-alt"})],-1),Zs={class:"file-label"},Xs=h({__name:"UploadDocumentModal",props:{openFileModal:{type:Boolean},type:{},object:{}},emits:["close:ModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;w(null);const t=Y(),s=we(),i=w(!1),n=G(),o=()=>{l("close:ModalHandler",!1)},d=w({type:a.type,object:a.object,title:"",uploaded_by:n.user.id,file:null}),c=async()=>{try{i.value=!0;const e=me(d.value,["file"]);await t.post("/api/attachment/",e);fe({object_type:"files",object_id:a.object,action:"CREATE",message:`Uploaded new file named <b>${d.value.title}</b>.`,performedOnName:"job"}),s.success("File uploaded successfully!"),l("update:OnSuccess",null),o()}catch(e){console.log(e)}finally{i.value=!1}},r=w(""),u=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(d.value.file=a,r.value=a.name)};return j((()=>{})),(e,l)=>{const t=ne,s=ie,n=$,p=ye;return f(),J(p,{is:"form",open:a.openFileModal,title:"Add Progress",size:"medium",actions:"right",onSubmit:P(c,["prevent"]),onClose:o},{content:b((()=>[_("div",Ns,[_("div",$s,[_("div",zs,[Fs,_("div",Js,[O(_("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>k(d).title=e)},null,512),[[N,k(d).title]])])])]),_("div",Ks,[g(s,{grouped:""},{default:b((()=>[g(t,null,{default:b((()=>[_("div",Hs,[_("label",Gs,[_("input",{onChange:u,class:"file-input",type:"file",name:"resume"},null,32),_("span",Ws,[qs,_("span",Zs,S(k(r)?k(r):"Choose a file…"),1)])])])])),_:1})])),_:1})])])])),action:b((()=>[g(n,{type:"submit",color:"primary",loading:k(i),raised:""},{default:b((()=>[K(" Save")])),_:1},8,["loading"])])),cancel:b((()=>[g(n,{color:"light",onClick:o,raised:""},{default:b((()=>[K("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Qs={key:0,class:"modal-form"},Ys=["src"],ei=["src"],li=["src"],ai=["src"],ti={key:1,class:"modal-form"},si=[_("h1",{class:"title is-5"},"No media file attached",-1)],ii=h({__name:"DocumentViewer",props:{openDocViewModal:{type:Boolean},document:{},title:{}},emits:["update:closeModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=()=>{l("update:closeModalHandler",!1)},s=e=>`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`;return j((async()=>{console.log("picture",a.document)})),(e,l)=>{const i=$,n=ye;return f(),J(n,{is:"form",open:a.openDocViewModal,title:a.title?a.title:"Attached Document",size:"xl",actions:"right",onClose:t},{content:b((()=>[a.document?(f(),y("div",Qs,[a.document?.includes(".pdf")?(f(),y("iframe",{key:0,src:`${a.document}#toolbar=0&view=FitH`,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Ys)):a.document?.toLowerCase().includes(".doc")||a.document?.toLowerCase().includes(".docx")?(f(),y("iframe",{key:1,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,ei)):a.document?.toLowerCase().includes(".xls")||a.document?.toLowerCase().includes(".xlsx")?(f(),y("iframe",{key:2,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,li)):(f(),y("img",{key:3,src:a.document,alt:""},null,8,ai))])):(f(),y("div",ti,si))])),cancel:b((()=>[g(i,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:b((()=>[K("Close")])),_:1})])),_:1},8,["open","title"])}}}),ni={class:"tile-grid-item"},oi={class:"tile-grid-item-inner"},di=["src"],ci={class:"meta"},ri={class:"dark-inverted"},ui=_("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),pi=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-cloud-download"})],-1),_("div",{class:"meta"},[_("span",null,"Download"),_("span",null,"Download this file")],-1)],mi=_("hr",{class:"dropdown-divider"},null,-1),vi=[_("div",{class:"icon"},[_("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),_("div",{class:"meta"},[_("span",null,"Delete"),_("span",null,"Delete this file")],-1)],hi=h({__name:"DocumentTile",props:{document:{}},emits:["deleteSelectedFile"],setup(e,{emit:l}){const a=e,t=w(""),s=w(!1),i=w(""),n={pdf:"/images/icons/files/pdf.svg",xls:"/images/icons/files/sheet.svg",doc:"/images/icons/files/doc-2.svg",ppt:"/images/icons/files/ppt.svg",ai:"/images/icons/files/ai.svg",docx:"/images/icons/files/doc-2.svg",docs:"/images/icons/files/doc-2.svg",xlsx:"/images/icons/files/sheet.svg",ai2:"/images/icons/files/ai.svg",xlx:"/images/icons/files/sheet.svg",ods:"/images/icons/files/sheet.svg",png:"/icons/png-icon.png",jpg:"/icons/jpg-50.png",jpeg:"/icons/jpg-50.png"};return(e,o)=>{const d=Ve;return f(),y("div",null,[_("div",ni,[_("div",oi,[_("img",{onClick:o[0]||(o[0]=e=>{return l=a.document?.file,t.value=l,i.value=l.title,void(s.value=!s.value);var l}),src:n[a.document?.file_info?.type]},null,8,di),_("div",ci,[_("span",ri,S(a.document.title??"N/A"),1),_("span",null,[_("span",null,S(a.document?.file_info?.size??0)+" MB",1),ui,_("span",null,"At:"+S(k(he)(a.document.created_at)),1)])]),g(d,{icon:"feather:more-vertical",spaced:"",right:""},{content:b((()=>[_("a",{role:"menuitem",onClick:o[1]||(o[1]=e=>(async(e,l)=>{try{const a=await fetch(e);if(!a.ok)throw new Error("Network response was not ok");const t=await a.blob(),s=window.URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(a){console.error("Download failed:",a)}})(a.document.file,a.document.title)),class:"dropdown-item is-media"},pi),mi,_("a",{role:"menuitem",onClick:o[2]||(o[2]=e=>{return t=a.document.id,void l("deleteSelectedFile",t);var t}),class:"dropdown-item is-media"},vi)])),_:1})])]),k(s)?(f(),J(ii,{key:0,openDocViewModal:k(s),document:k(t),title:k(i),"onUpdate:closeModalHandler":o[3]||(o[3]=e=>s.value=!1)},null,8,["openDocViewModal","document","title"])):E("",!0)])}}}),fi={key:1},yi={class:"tile-grid-toolbar"},_i={class:"buttons"},gi=_("span",{class:"icon"},[_("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),bi=_("span",null,"Add File",-1),ki={class:"tile-grid tile-grid-v2"},wi=_("img",{class:"light-image",src:ce,alt:""},null,-1),ji=_("img",{class:"dark-image",src:re,alt:""},null,-1),xi=h({__name:"ObjectDocumentsTiles",props:{objectId:{},docType:{}},setup(e){const l=e,a=we(),t=Y(),s=w(""),i=w(0),n=w(""),o=w(!1),d=w(!1),c=w([{id:"27223081-e97a-4420-91f2-6a08da82d846",uploaded_by_info:{id:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b",username:"APIs",last_name:"Dev",email:"api@dev.com",role:"admin",avatar:null},file_info:{url:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",name:"combined_proposal_95Ac2Fu.pdf",type:"pdf",size:.14},file:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",type:"proposal_formats",object:"751b95b2-9961-45a0-948c-96f85cea6a52",created_at:"2025-02-14T19:42:31.991589Z",title:"proposal",uploaded_by:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b"}]),r=["All Files","Recently Updated","My Files","Team Files","Deprecated"],u=async(e="proposal_formats")=>{try{o.value=!0;const e=await t.get(`/api/attachment/by-object/${l.objectId}/?type=${l.docType}`);c.value=e.data}catch(a){console.log(a)}finally{o.value=!1}},p=async e=>{try{const s=await t.delete(`/api/attachment/${e}/`);fe({object_type:"files",object_id:l.objectId,action:"DELETE",message:`Deleted a file named <b>${s.data.title}</b>.`,performedOnName:"job"}),a.purple("File Deleted Successfully"),u()}catch(s){console.log(s)}},m=U((()=>s.value?c.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.file_info?.name?.match(new RegExp(s.value,"i"))||e.created_at.match(new RegExp(s.value,"i")))):c.value));return j((()=>{u()})),(e,a)=>{const t=Ae,c=ne,v=R("Multiselect"),h=ie,w=$,j=se,S=hi,T=Xs;return f(),y("div",null,[k(o)?(f(),J(t,{key:0,rows:4})):(f(),y("div",fi,[_("div",yi,[g(c,{icon:"feather:search"},{default:b((()=>[O(_("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>B(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[N,k(s)]])])),_:1}),_("div",_i,[g(h,{class:"h-hidden-mobile"},{default:b((()=>[g(c,null,{default:b((()=>[g(v,{modelValue:k(i),"onUpdate:modelValue":a[1]||(a[1]=e=>B(i)?i.value=e:null),options:r,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),g(w,{onClick:a[2]||(a[2]=e=>(n.value=l.docType,void(d.value=!d.value))),color:"primary",raised:""},{default:b((()=>[gi,bi])),_:1})])]),_("div",ki,[0!=k(m).length||k(o)?E("",!0):(f(),J(j,{key:0,title:"We couldn't find any matching file of this directory.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[wi,ji])),_:1})),_("div",null,[g(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(x,null,C(k(m),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[g(S,{document:e,onDeleteSelectedFile:p},null,8,["document"])])))),128))])),_:1})])]),k(d)?(f(),J(T,{key:0,openFileModal:k(d),object:l.objectId,type:k(n),"onClose:ModalHandler":a[3]||(a[3]=e=>d.value=!1),"onUpdate:OnSuccess":u},null,8,["openFileModal","object","type"])):E("",!0)]))])}}}),Ci={class:"tabs-inner"},Si={class:"tabs"},Ti=[_("span",null,"Grouped Proposals",-1)],Vi=[_("span",null,"Contracts",-1)],Ai=[_("span",null,"Customer Estimates",-1)],Ii=[_("span",null,"Job Scope",-1)],Mi=[_("span",null,"Asbestos & Lead Report",-1)],Ui=[_("span",null,"Permits",-1)],Di=[_("span",null,"Bids & Material",-1)],Pi=[_("span",null,"Miscellaneous",-1)],Ei=_("li",{class:"tab-naver"},null,-1),Ri={class:"tile-grid tile-grid-v2"},Li=_("img",{class:"light-image",src:ce,alt:""},null,-1),Oi=_("img",{class:"dark-image",src:re,alt:""},null,-1),Bi={key:0},Ni={key:1},$i={key:2},zi={key:3},Fi={key:4},Ji={key:5},Ki={key:6},Hi={key:7},Gi=h({__name:"JobDocuments",props:{leadId:{}},setup(e){const l=e;we();const a=Y(),t=w("");w(0);const s=w(""),i=w("proposal_formats"),n=w(!1),o=w([]),d=U((()=>t.value?Ie.filter((e=>e.name.match(new RegExp(t.value,"i"))||e.size.match(new RegExp(t.value,"i")))):Ie)),c=async(e="proposal_formats")=>{try{i.value=e;const t=await a.get(`/api/attachment/by-object/${l.leadId}/?type=${e}`);o.value=t.data}catch(t){console.log(t)}};return j((()=>{c()})),(e,a)=>{const t=se,o=xi,r=Xs;return f(),y("div",null,[_("div",Ci,[_("div",Si,[_("ul",null,[_("li",{class:T(["proposal_formats"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=D(P((e=>c("proposal_formats")),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>c("proposal_formats"))},Ti,32)],2),_("li",{class:T(["contracts"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[2]||(a[2]=D(P((e=>c("contracts")),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>c("contracts"))},Vi,32)],2),_("li",{class:T(["estimates"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[4]||(a[4]=D(P((e=>c("estimates")),["prevent"]),["space"])),onClick:a[5]||(a[5]=e=>c("estimates"))},Ai,32)],2),_("li",{class:T(["job_scope"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[6]||(a[6]=D(P((e=>i.value="job_scope"),["prevent"]),["space"])),onClick:a[7]||(a[7]=e=>i.value="job_scope")},Ii,32)],2),_("li",{class:T(["asbestos"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[8]||(a[8]=D(P((e=>i.value="asbestos"),["prevent"]),["space"])),onClick:a[9]||(a[9]=e=>i.value="asbestos")},Mi,32)],2),_("li",{class:T(["permits"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[10]||(a[10]=D(P((e=>i.value="permits"),["prevent"]),["space"])),onClick:a[11]||(a[11]=e=>i.value="permits")},Ui,32)],2),_("li",{class:T(["material"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[12]||(a[12]=D(P((e=>i.value="material"),["prevent"]),["space"])),onClick:a[13]||(a[13]=e=>i.value="material")},Di,32)],2),_("li",{class:T(["miscellaneous"===k(i)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:a[14]||(a[14]=D(P((e=>i.value="miscellaneous"),["prevent"]),["space"])),onClick:a[15]||(a[15]=e=>i.value="miscellaneous")},Pi,32)],2),Ei])])]),_("div",Ri,[g(t,{class:T([0!==k(d).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[Li,Oi])),_:1},8,["class"]),"contracts"==k(i)?(f(),y("div",Bi,[g(o,{"doc-type":"contracts","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"estimates"==k(i)?(f(),y("div",Ni,[g(o,{"doc-type":"estimates","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"proposal_formats"==k(i)?(f(),y("div",$i,[g(o,{"doc-type":"proposal_formats","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"job_scope"==k(i)?(f(),y("div",zi,[g(o,{"doc-type":"job_scope","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"asbestos"==k(i)?(f(),y("div",Fi,[g(o,{"doc-type":"asbestos","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"permits"==k(i)?(f(),y("div",Ji,[g(o,{"doc-type":"permits","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"material"==k(i)?(f(),y("div",Ki,[g(o,{"doc-type":"material","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"miscellaneous"==k(i)?(f(),y("div",Hi,[g(o,{"doc-type":"miscellaneous","object-id":l.leadId},null,8,["object-id"])])):E("",!0)]),k(n)?(f(),J(r,{key:0,openFileModal:k(n),object:l.leadId,type:k(s),"onClose:ModalHandler":a[16]||(a[16]=e=>n.value=!1),"onUpdate:OnSuccess":c},null,8,["openFileModal","object","type"])):E("",!0)])}}}),Wi={class:"widget-head"},qi={class:"dark-inverted"},Zi={class:"tabbed-controls"},Xi=["onKeydown"],Qi=["onKeydown"],Yi=_("div",{class:"tabbed-naver"},null,-1),en={class:"inner-list"},ln=_("span",{class:"tag is-rounded"}," pending ",-1),an=_("a",{href:"#"},"Call Julio to update",-1),tn=_("span",null,"10:30 AM",-1),sn={class:"inner-list"},nn=_("span",{class:"tag is-rounded"}," pending ",-1),on=_("a",{href:"#"},"Call Julio to update",-1),dn=_("span",null,"10:30 AM",-1),cn=h({__name:"JobTodos",props:{title:{default:"Todo"},labels:{default:()=>["Today","All"]},straight:{type:Boolean},toggled:{type:Boolean}},setup(e){const l=w(e.toggled),a=()=>{l.value=!l.value};return(e,t)=>{const s=De,i=Ue;return f(),y("div",{class:T(["list-widget tabbed-widget",[e.straight&&"is-straight"]])},[_("div",Wi,[_("h3",qi,S(e.title),1),_("div",Zi,[_("a",{class:T(["tabbed-control",[!k(l)&&"is-active"]]),role:"button",tabindex:"0",onKeydown:D(P(a,["prevent"]),["space"]),onClick:a},[_("span",null,S(e.labels[0]),1)],42,Xi),_("a",{class:T(["tabbed-control",[k(l)&&"is-active"]]),role:"button",tabindex:"0",onKeydown:D(P(a,["prevent"]),["space"]),onClick:a},[_("span",null,S(e.labels[1]),1)],42,Qi),Yi])]),_("div",{class:T(["inner-list-wrapper",[!k(l)&&"is-active"]])},[_("div",en,[_("div",null,[(f(),y(x,null,C(6,(l=>g(i,{center:"",lighter:"",class:"inner-list-item"},{icon:b((()=>[g(s,{modelValue:e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.modelValue=l),value:"todo",color:"primary"},null,8,["modelValue"])])),action:b((()=>[ln])),default:b((()=>[an,tn])),_:1}))),64))])])],2),_("div",{class:T(["inner-list-wrapper",[k(l)&&"is-active"]])},[_("div",sn,[_("div",null,[(f(),y(x,null,C(10,(l=>g(i,{center:"",lighter:"",class:"inner-list-item"},{icon:b((()=>[g(s,{modelValue:e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=l=>e.modelValue=l),value:"todo",color:"primary"},null,8,["modelValue"])])),action:b((()=>[nn])),default:b((()=>[on,dn])),_:1}))),64))])])],2)],2)}}}),rn={class:"business-dashboard hr-dashboard"},un={class:"columns is-multiline"},pn={class:"column is-12"},mn={class:"columns is-multiline"},vn={class:"column is-12"},hn={class:"block-header"},fn={class:"left"},yn={class:"current-user"},_n={class:"center"},gn=_("h4",{class:"block-heading"},"Address",-1),bn={class:"block-text"},kn=_("br",null,null,-1),wn=_("br",null,null,-1),jn={class:"right"},xn=_("h4",{class:"block-heading"},"Managers",-1),Cn={class:"candidates"},Sn=_("button",null,[_("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"})],-1),Tn={class:"column is-12"},Vn={class:"toolbar"},An={class:"tabs-inner"},In={class:"tabs is-boxed"},Mn=[_("span",null,"Job Management",-1)],Un=[_("span",null,"Documents/Files",-1)],Dn=[_("span",null,"Proposals",-1)],Pn=[_("span",null,"Tasks",-1)],En=[_("span",null,"Activities",-1)],Rn=[_("span",null,"Job progress",-1)],Ln=[_("span",null,"Finance",-1)],On=[_("span",null,"Report",-1)],Bn=_("li",{class:"tab-naver"},null,-1),Nn={key:0,class:"column is-12"},$n={class:"columns is-multiline"},zn={class:"column is-8"},Fn={class:"columns is-multiline"},Jn={class:"column is-12"},Kn={class:"feed-settings"},Hn=_("h3",{class:"dark-inverted"},"Job feeds",-1),Gn={class:"buttons"},Wn={class:"column is-4"},qn={class:"side-text"},Zn=_("h3",{class:"dark-inverted"},"Job Description",-1),Xn=["innerHTML"],Qn=_("a",{class:"action-link",tabindex:"0"},"Read More",-1),Yn={class:"column is-7 is-offset-1"},eo={class:"incoming"},lo=_("i",{"aria-hidden":"true",class:"lnil lnil-envelope-alt"},null,-1),ao=_("div",null,[_("span",{class:"item-name dark-inverted"},"Messages"),_("span",{class:"item-meta"},[_("span",null,"Inbox messages")])],-1),to=_("i",{"aria-hidden":"true",class:"lnil lnil-checkmark-circle"},null,-1),so=_("div",null,[_("span",{class:"item-name dark-inverted"},"Tasks"),_("span",{class:"item-meta"},[_("span",null,"Pending tasks")])],-1),io={key:3,tabindex:"0",class:"action-link is-pushed-mobile"},no={key:4,class:"light-text"},oo={class:"column is-12"},co={class:"recent-rookies"},ro=_("div",{class:"recent-rookies-header"},[_("h3",{class:"dark-inverted"},"Internal Users"),_("a",{class:"action-link",tabindex:"0"},"View All")],-1),uo={class:"columns is-multiline user-grid user-grid-v4"},po={class:"column is-4"},mo={class:"grid-item"},vo={class:"dark-inverted"},ho={class:"capitalized"},fo={class:"button-wrap has-text-centered"},yo={class:"column is-4"},_o={key:0,class:"card mb-4",id:"workerProfileMap",style:{height:"300px",width:"100%","border-radius":"10px","z-index":"9"}},go=_("div",{class:"widget-toolbar"},[_("div",{class:"left"},[_("a",{class:"action-icon"},[_("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"}),_("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"})])]),_("div",{class:"center"},[_("h3",null,"October 2020")]),_("div",{class:"right"},[_("a",{class:"action-icon"},[_("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"}),_("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"})])])],-1),bo=_("table",{class:"calendar"},[_("thead",null,[_("tr",null,[_("th",{scope:"col"},"Mon"),_("th",{scope:"col"},"Tue"),_("th",{scope:"col"},"Wed"),_("th",{scope:"col"},"Thu"),_("th",{scope:"col"},"Fri"),_("th",{scope:"col"},"Sat"),_("th",{scope:"col"},"Sun")])]),_("tbody",null,[_("tr",null,[_("td",{class:"prev-month"},"29"),_("td",{class:"prev-month"},"30"),_("td",{class:"prev-month"},"31"),_("td",null,"1"),_("td",null,"2"),_("td",null,"3"),_("td",null,"4")]),_("tr",null,[_("td",null,"5"),_("td",null,"6"),_("td",null,"7"),_("td",null,"8"),_("td",null,"9"),_("td",null,"10"),_("td",null,"11")]),_("tr",null,[_("td",null,"12"),_("td",null,"13"),_("td",null,"14"),_("td",null,"15"),_("td",null,"16"),_("td",null,"17"),_("td",{class:"current-day"},"18")]),_("tr",null,[_("td",null,"19"),_("td",null,"20"),_("td",null,"21"),_("td",null,"22"),_("td",null,"23"),_("td",null,"24"),_("td",null,"25")]),_("tr",null,[_("td",null,"26"),_("td",null,"27"),_("td",null,"28"),_("td",null,"29"),_("td",null,"30"),_("td",null,"31"),_("td",{class:"next-month"},"1")])])],-1),ko={key:1,class:"column is-12"},wo={key:2,class:"column is-12"},jo={key:3,class:"column is-12"},xo={key:4,class:"column is-12"},Co={key:5,class:"column is-12"},So={key:6,class:"column is-12"},To={key:7,class:"column is-12"},Vo={key:8,class:"column is-12"},Ao=h({__name:"JobDetails",setup(e){const t=X();M();const s=Y();we();const i=w(!1),n=w(""),o=w(!1),d=w({id:"",sales_people_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:null,email:"",role:"",avatar:""},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],clientInfo:{id:"",username:"",last_name:null,email:"",role:"",avatar:null},created_by_info:{id:"",username:"",last_name:null,email:"",role:"",avatar:""},managers_list:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:"",sale_date:"",tags:[],estimated_from:"",estimated_to:"",sources:"",project_type:"",notes:"",attach_mail:"",latitude:null,longitude:null,created_at:"",updated_at:"",created_by:"",client:"",contractor:null,sales_people:[],managers:[]}),c=w("management"),r=[{type:"messages",count:5,status:"new"},{type:"tasks",count:3,status:"pending"}],u={type:{label:"Type",grow:"lg",media:!0},count:{label:"Count",align:"center"},status:"Status",actions:{label:"Actions",align:"end"}};let p;const m=async()=>{try{i.value=!0;const e=await s.get(`/api/project/${t.params.id}/detail/`);d.value=e.data,e.data.latitude&&((e,l)=>{if(p&&p.remove(),p=L.map("workerProfileMap").setView([51.4497984,-.3464489],24),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(p),e&&l){const a=[e,l];L.marker(a).addTo(p),p.setView(a,34)}else console.log("Invalid latitude or longitude for supplier")})(e.data.latitude??39.63,e.data.longitude??-105.3199999)}catch(e){console.error(e)}finally{i.value=!1}};return j((()=>{m()})),(e,s)=>{const i=Q,p=$,v=Le,h=Re,w=Ee,j=Pe,V=cn,A=Me,I=Gi,M=Bs,U=Vt,R=at,L=ul,B=Ze,N=a,z=l,F=q("tooltip");return f(),y("div",rn,[_("div",un,[_("div",pn,[_("div",mn,[_("div",vn,[_("div",hn,[_("div",fn,[_("div",yn,[g(i,{size:"large",picture:"lead"==k(d).current_state?"/icons/lead-shield-96.png":"/icons/job-sheild.png",squared:""},null,8,["picture"]),_("h3",null,S(k(d).title?k(d).title:"No Title"),1)])]),_("div",_n,[gn,_("p",bn,[K(S(k(d).address?k(d).address:"No Address Added")+" ",1),kn,K(" "+S(k(d).city?k(d).city:"No City Added")+", "+S(k(d).state?k(d).state:"No State Added")+" ",1),wn,K(" "+S(k(d).zip_code?k(d).zip_code:"No Zip Code Added"),1)])]),_("div",jn,[xn,_("div",Cn,[(f(!0),y(x,null,C(k(d).managers_list,(e=>O((f(),J(i,{picture:e.avatar,initials:e.username.slice(0,2),squared:"",color:"warning"},null,8,["picture","initials"])),[[F,`${e.username??"N/A"} ${e.last_name??""}`,void 0,{info:!0,rounded:!0}]]))),256)),Sn]),g(p,{class:"mt-1",onClick:s[0]||(s[0]=e=>{return l=k(t).params.id,n.value=l,void(o.value=!0);var l}),bold:"",fullwidth:"","dark-outlined":""},{default:b((()=>[K(" Update "+S("lead"==k(d).current_state?"lead":"job"),1)])),_:1})])])]),_("div",Tn,[_("div",Vn,[_("div",An,[_("div",In,[_("ul",null,[_("li",{class:T(["management"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=D(P((e=>c.value="management"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>c.value="management")},Mn,32)],2),_("li",{class:T(["documents"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=D(P((e=>c.value="documents"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>c.value="documents")},Un,32)],2),_("li",{class:T(["proposals"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=D(P((e=>c.value="proposals"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>c.value="proposals")},Dn,32)],2),_("li",{class:T(["tasks"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=D(P((e=>c.value="tasks"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>c.value="tasks")},Pn,32)],2),_("li",{class:T(["activities"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=D(P((e=>c.value="activities"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>c.value="activities")},En,32)],2),_("li",{class:T(["progress"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=D(P((e=>c.value="progress"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>c.value="progress")},Rn,32)],2),_("li",{class:T(["finance"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=D(P((e=>c.value="finance"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>c.value="finance")},Ln,32)],2),_("li",{class:T(["report"===k(c)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=D(P((e=>c.value="report"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>c.value="report")},On,32)],2),Bn])])])])]),"management"===k(c)?(f(),y("div",Nn,[_("div",$n,[_("div",zn,[_("div",Fn,[_("div",Jn,[_("div",Kn,[Hn,_("div",Gn,[(f(!0),y(x,null,C(k(d).tags,((e,l)=>(f(),y("button",{key:l,class:"button is-selected is-light is-dark-outlined"},S(e),1)))),128))])])]),_("div",Wn,[_("div",qn,[Zn,_("div",{innerHTML:k(d).notes},null,8,Xn),Qn])]),_("div",Yn,[_("div",eo,[g(w,{rounded:"",data:r,columns:u},{"body-cell":b((({row:e,column:l,value:a})=>["type"===l.key&&"messages"===e.type?(f(),y(x,{key:0},[g(v,{color:"green"},{default:b((()=>[lo])),_:1}),ao],64)):"type"===l.key&&"tasks"===e.type?(f(),y(x,{key:1},[g(v,{color:"orange"},{default:b((()=>[to])),_:1}),so],64)):"status"===l.key?(f(),y(x,{key:2},["new"===e.status?(f(),J(h,{key:0,rounded:"",color:"success",label:"New"})):(f(),J(h,{key:1,rounded:"",label:"Pending"}))],64)):"actions"===l.key?(f(),y("a",io,"Open")):(f(),y("span",no,S(a),1))])),_:1})])]),_("div",oo,[_("div",co,[ro,_("div",uo,[(f(!0),y(x,null,C(k(d).sales_people_info,(e=>(f(),y("div",po,[_("div",mo,[g(j),g(i,{picture:e.avatar,initials:e.username.slice(0,2),size:"large"},null,8,["picture","initials"]),_("h3",vo,S(e.username??"N/A")+" "+S(e.last_name??""),1),_("p",ho,S(e.role),1),_("div",fo,[g(p,{color:"primary",raised:""},{default:b((()=>[K(" View Profile ")])),_:1})])])])))),256))])])])])]),_("div",yo,["management"===k(c)?(f(),y("div",_o)):E("",!0),g(V),g(A,{class:"picker-widget"},{header:b((()=>[go])),body:b((()=>[bo])),_:1})])])])):E("",!0),"documents"===k(c)?(f(),y("div",ko,[g(I,{leadId:k(t).params.id},null,8,["leadId"])])):E("",!0),"proposals"===k(c)?(f(),y("div",wo,[g(Oe,{"lead-id":k(t).params.id,onUpdateCompany:m},null,8,["lead-id"])])):E("",!0),"activities"===k(c)?(f(),y("div",jo,[g(M,{jobId:k(t).params.id},null,8,["jobId"])])):E("",!0),"progress"===k(c)?(f(),y("div",xo,[g(U,{object:k(t).params.id,type:"job"},null,8,["object"])])):E("",!0),"finance"===k(c)?(f(),y("div",Co,[g(R)])):E("",!0),"activityLogs"===k(c)?(f(),y("div",So,[g(L,{object_id:k(t).params.id||k(d).id,object_type:"lead"},null,8,["object_id"])])):E("",!0),"report"===k(c)?(f(),y("div",To,[g(B)])):E("",!0),"tasks"===k(c)?(f(),y("div",Vo,[g(N,{projectID:k(t).params.id},null,8,["projectID"])])):E("",!0)])])]),k(o)?(f(),J(z,{key:0,addUpdateLeadModal:k(o),leadId:k(n),"onUpdate:modalHandler":s[17]||(s[17]=e=>o.value=!1),"onUpdate:OnSuccess":m},null,8,["addUpdateLeadModal","leadId"])):E("",!0)])}}});export{Ao as _};
