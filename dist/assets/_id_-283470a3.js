import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-d957426b.js";import{_ as a}from"./VTag.vue_vue_type_style_index_0_lang-3903cbb0.js";import{_ as s}from"./VAvatar.vue_vue_type_style_index_0_lang-b002f788.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-92f9653a.js";import{e as t,r as i,Z as r,o as n,l as o,y as u,H as c,z as d,C as p,A as m,B as v,S as _,j as f,T as g,J as y,D as h,O as b,Q as k,R as j,aR as x,P as w,E as T,N as P,t as V,v as A}from"./index-023a2237.js";import{_ as S}from"./VField.vue_vue_type_script_setup_true_lang-65e70890.js";import{_ as W}from"./VControl-427c87b7.js";import{_ as L}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-dc55f7ea.js";import{_ as N,a as C}from"./search-1-dark-61831a90.js";import{u as E}from"./useAPI-329c7502.js";import{u as I}from"./useNotyf-c16238a4.js";import{i as z}from"./index-f52ed8ce.js";import{u as R}from"./personalScoreGauge-bbf1960d.js";import{u as F}from"./viewWrapper-7c308818.js";import"./VFlex.vue_vue_type_style_index_0_lang-83d4a83b.js";import"./VLabel.vue_vue_type_script_setup_true_lang-5a4cec82.js";import"./useVFieldContext-28aff213.js";import"./VPlaceloadWrap-5bb23324.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-30e477c2.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-9c9d33fd.js";import"./userSession-1b1da0d4.js";import"./notyf-577918b8.js";import"./useThemeColors-f46d40e9.js";import"./billboard-5857d5e1.js";const M={key:1},O={class:"list-view-toolbar"},$={class:"list-info"},Z={key:0},D={key:1},H={class:"buttons"},Y={class:"page-content-inner"},q={class:"list-view list-view-v1"},G=p("img",{class:"light-image",src:N,alt:""},null,-1),J=p("img",{class:"dark-image",src:C,alt:""},null,-1),Q={class:"list-view-inner"},B={class:"list-view-item-inner"},K={class:"meta-left"},U=p("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:map-pin"},null,-1),X={class:"meta-right"},ee={class:"tags"},ae={class:"stats"},se={class:"stat"},le=p("span",null,"Status",-1),te=p("div",{class:"separator"},null,-1),ie={class:"stat"},re=p("span",null,"Active tasks",-1),ne=p("div",{class:"separator"},null,-1),oe={class:"stat"},ue=p("span",null,"Pending tasks",-1),ce=t({__name:"WorkersOfSubcontractors",props:{supplierId:{}},setup(t){const P=t,V=E();I();const A=i(!1),N=i({id:"a49047a4-13c5-4d63-9015-c2dc2df9e877",active_tasks:0,completed_tasks:0,cancelled_tasks:0,pending_tasks:0,password:"pbkdf2_sha256$260000$EARzFotcnn91r0exIETwhW$cVT0EgRS3AZuWD4wTPzuWSq1CxNYd5a8oycatOQzpfA=",last_login:"",date_joined:"2024-10-07T18:17:28.297351Z",email:"testworker@ibexbuilderstudios.com",role:"worker",avatar:"",is_active:!0,phoneNumber:"123456789",username:"Test Worker",is_sentMail:!0,supplier:"d39eb0db-5e47-4942-bb93-0f978262aaae"}),C=i(""),z=r((()=>C.value?N.value.filter((e=>e.username.match(new RegExp(C.value,"i"))||e.email.match(new RegExp(C.value,"i")))):N.value));console.log(z.value);return n((()=>{(async()=>{try{A.value=!0;const e=await V.get(`/api/users/workers/?supplier=${P.supplierId}`);N.value=e.data}catch(e){console.log(e)}finally{A.value=!1}})()})),(t,i)=>{const r=L,n=W,P=S,V=T,N=l,E=s,I=a,R=e;return o(A)?(u(),c(r,{key:0})):(u(),d("div",M,[p("div",O,[m(P,null,{default:v((()=>[m(n,{icon:"feather:search"},{default:v((()=>[_(p("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>f(C)?C.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[g,o(C)]])])),_:1})])),_:1}),p("div",$,[1===o(z).length?(u(),d("span",Z,"1 record found")):(u(),d("span",D,y(o(z).length)+" records found",1))]),p("div",H,[m(V,{color:"primary",icon:"fas fa-plus",elevated:""},{default:v((()=>[h(" Worker ")])),_:1})])]),p("div",Y,[p("div",q,[m(N,{class:b([0!==o(z).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:v((()=>[G,J])),_:1},8,["class"]),p("div",Q,[m(x,{name:"list-complete",tag:"div"},{default:v((()=>[(u(!0),d(k,null,j(o(z),((e,a)=>(u(),d("div",{key:a,class:"list-view-item"},[p("div",B,[m(E,{picture:e.avatar,size:"large"},null,8,["picture"]),p("div",K,[p("h3",null,y(e.username),1),p("span",null,[U,p("span",null,y(e.email),1)])]),p("div",X,[p("div",ee,[m(I,{label:e.role,color:"info",rounded:"",elevated:""},null,8,["label"])]),p("div",ae,[p("div",se,[p("span",null,y(e.is_active?"Active":"In-Active"),1),le]),te,p("div",ie,[p("span",null,y(e.active_tasks),1),re]),ne,p("div",oe,[p("span",null,y(e.pending_tasks),1),ue])])])])])))),128))])),_:1})])]),o(z).length>5?(u(),c(R,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":5})):w("",!0)])]))}}}),de={class:"lifestyle-dashboard lifestyle-dashboard-v3"},pe={class:"illustration-header"},me={class:"p-4"},ve={class:"header-meta"},_e={class:"summary-stats"},fe={class:"summary-stat"},ge=p("span",null,"Role",-1),ye={class:"summary-stat"},he=p("span",null,"Status",-1),be={class:"summary-stat"},ke=p("span",null,"Phone",-1),je={class:"summary-stat"},xe=p("span",null,"Email",-1),we={class:"summary-stat h-hidden-tablet-p"},Te=p("span",null,"Email Notification",-1),Pe={class:"columns is-multiline is-flex-tablet-p"},Ve={class:"column is-12"},Ae=t({__name:"SubContractorProfile",setup(e){I();const a=E(),l=P();i([]),V(),i("cards"),R();const t=i({id:"",password:"",last_login:null,date_joined:"",email:"",role:"",avatar:"",is_active:!0,phoneNumber:"",username:"",is_sentMail:!1});i(!1),i("all");const r=i(!1);i([]),i([]),i([]),i([]),i({pending:"#fbcf33",active:"#82d616",completed:"#cb0c9f",canceled:"#344767"}),i({plugins:[z],schedulerLicenseKey:"0965592368-fcs-1694657447",initialView:"resourceTimelineMonth",height:"auto",resourceAreaWidth:"20%",selectable:!0,events:[],headerToolbar:{left:"today prev,next",center:"title",right:"resourceTimelineWeek,resourceTimelineMonth,resourceTimelineYear"},editable:!0,views:{resourceTimelineWeek:{slotDuration:{days:1,hours:1},slotLabelFormat:{weekday:"short",month:"numeric",day:"numeric",year:"numeric"}}},resourceAreaHeaderContent:"Projects",resources:[]});return i({}),n((async()=>{await(async()=>{try{r.value=!0;const e=await a.get(`/api/users/${l.params.id}`);t.value=e.data}catch(e){console.log(e)}finally{r.value=!1}})()})),(e,a)=>{const i=s,n=ce;return u(),d("div",de,[p("div",pe,[p("div",me,[m(i,{size:"xl",squared:"",picture:o(t).avatar,alt:""},null,8,["picture"])]),p("div",ve,[p("h3",null,y(o(r)?"Loading...":o(t)?.username),1),p("div",_e,[p("div",fe,[p("span",null,y(o(r)?"Loading...":o(t)?.role),1),ge]),p("div",ye,[p("span",null,y(o(r)?"Loading...":o(t)?.is_active?"Active":" In-Active"),1),he]),p("div",be,[p("span",null,y(o(r)?"Loading...":o(t)?.phoneNumber?o(t)?.phoneNumber:"N/A"),1),ke]),p("div",je,[p("span",null,y(o(r)?"Loading...":o(t)?.email),1),xe]),p("div",we,[p("span",null,y(o(r)?"Loading...":o(t).is_sentMail?"On":"Off"),1),Te])])])]),p("div",Pe,[p("div",Ve,[m(n,{"supplier-id":o(l).params.id},null,8,["supplier-id"])])])])}}}),Se={class:""},We=t({__name:"[id]",setup:e=>(F().setPageTitle("Sub-Contractor Info"),A({title:"Sub-Contractor info - Ibex"}),(e,a)=>{const s=Ae;return u(),d("div",Se,[m(s)])})});export{We as default};
