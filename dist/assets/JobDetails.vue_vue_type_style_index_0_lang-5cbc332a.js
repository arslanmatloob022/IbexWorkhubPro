import{a as e,_ as l}from"./LeadAddUpdateModal.vue_vue_type_style_index_0_lang-a381842d.js";import{_ as a}from"./ProjectsTasks-e05d0fbc.js";import{u as t,_ as s,a as i}from"./groupedCircleCharts-58cde66d.js";import{b as n,u as o,a as d,c,_ as r}from"./groupedRadialCharts-30627a83.js";import{_ as u}from"./SparkStatWidget.vue_vue_type_style_index_0_lang-13f1c4e6.js";import{A as p}from"./vue3-apexcharts.common-1e03e874.js";import{u as m}from"./salesSparksChart-e9ab0647.js";import{u as v}from"./revenueAreaChart-7aae68c0.js";import{f as h,C as f,D as y,E as g,F as _,G as b,m as k,r as w,o as j,V as x,W as C,U as S,I as T,Q as V,R as A,S as M,x as U,$ as I,H as D,J as P,N as E,B as R,L as O,k as N,X as B,P as F,al as z,aB as K,O as J,aS as $,b as H,K as G,a5 as W,ac as q,y as Z,av as X}from"./index-862c6910.js";import{_ as Q}from"./VAvatar.vue_vue_type_style_index_0_lang-ef53f4a7.js";import{u as Y}from"./useAPI-cbabe7a5.js";import{h as ee}from"./moment-1b9a430c.js";import{_ as le}from"./FlexTableDropdown.vue_vue_type_script_setup_true_lang-b97266f3.js";import{p as ae}from"./index-c1fc2d09.js";import{a as te}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-e54f52ac.js";import{_ as se}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-75f6a67c.js";import{_ as ie}from"./VField.vue_vue_type_script_setup_true_lang-569c5b4c.js";import{_ as ne}from"./VControl-71abbcf8.js";import{_ as oe}from"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-5ea6d0d2.js";import{_ as de}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-56cc772f.js";import{_ as ce,a as re}from"./search-4-dark-2b5b440c.js";import{o as ue}from"./via-placeholder-24645670.js";import{b as pe,a as me,h as ve,C as he,f as fe}from"./useSupportElement-dfe70baf.js";import{_ as ye}from"./VModal.vue_vue_type_style_index_0_lang-90e78871.js";import{_ as ge}from"./VTextarea.vue_vue_type_script_setup_true_lang-6f8d3231.js";import{_ as _e}from"./VInput.vue_vue_type_script_setup_true_lang-af466cbf.js";import{_ as be,a as ke}from"./VOption.vue_vue_type_style_index_0_lang-84a60b47.js";import{u as we}from"./useNotyf-294077b6.js";import{f as je}from"./estimatesScripts-815abb30.js";import{_ as xe,a as Ce}from"./search-3-dark-1eb6ae2e.js";import{p as Se}from"./index-b2db5849.js";import{_ as Te}from"./VDropdown.vue_vue_type_style_index_0_lang-b8ecc990.js";import{_ as Ve}from"./PlaceloadV4.vue_vue_type_style_index_0_lang-8432c001.js";import{f as Ae}from"./index-5fa9b154.js";import{_ as Me}from"./UIWidget.vue_vue_type_style_index_0_lang-b699b302.js";import{_ as Ue}from"./VBlock.vue_vue_type_style_index_0_lang-029ea898.js";import{_ as Ie}from"./VAnimatedCheckbox.vue_vue_type_style_index_0_lang-d6055206.js";import{_ as De}from"./UserCardDropdown-92c3e93d.js";import{_ as Pe}from"./VFlexTable.vue_vue_type_style_index_0_lang-f5a9d70a.js";import{_ as Ee}from"./VTag.vue_vue_type_style_index_0_lang-9dbfe3b2.js";import{_ as Le}from"./VIconBox.vue_vue_type_style_index_0_lang-e42804d9.js";import{_ as Re}from"./LeadProposalsList.vue_vue_type_style_index_0_lang-bd12cb32.js";const Oe={class:"columns is-multiline"},Ne={class:"column is-3"},Be={class:"column is-3"},Fe={class:"column is-3"},ze={class:"column is-3"},Ke={class:"column is-6"},Je={class:"column is-6"},$e={class:"column is-6"},He={class:"column is-6"},Ge={class:"column is-6"},We={class:"column is-6"},qe=h({__name:"JobReport",setup(e){const{spark1:l,spark2:a,spark3:h,spark4:w}=m(),{revenueOptions:j}=v(),{lineStatsChartOptions:x}=n(),{flexRadialChartCircleOptions:C}=o(),{flexRadialChartStripesOptions:S}=d(),{widgetGaugeGroup1Options:T,widgetGaugeGroup2Options:V,widgetGaugeGroup3Options:A}=c(),{widgetRadialGroup1Options:M,widgetRadialGroup2Options:U,widgetRadialGroup3Options:I}=t();return(e,t)=>{const n=u,o=r,d=s,c=i;return f(),y("div",Oe,[g("div",Ne,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark1",height:k(l).chart.height,type:k(l).chart.type,series:k(l).series,options:k(l)},null,8,["height","type","series","options"])])),_:1})]),g("div",Be,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark2",height:k(a).chart.height,type:k(a).chart.type,series:k(a).series,options:k(a)},null,8,["height","type","series","options"])])),_:1})]),g("div",Fe,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark3",height:k(h).chart.height,type:k(h).chart.type,series:k(h).series,options:k(h)},null,8,["height","type","series","options"])])),_:1})]),g("div",ze,[_(n,{straight:""},{default:b((()=>[_(k(p),{id:"widget-spark4",height:k(w).chart.height,type:k(w).chart.type,series:k(w).series,options:k(w)},null,8,["height","type","series","options"])])),_:1})]),g("div",Ke,[_(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[_(k(p),{id:"line-stats-widget-chart",height:k(x).chart.height,type:k(x).chart.type,series:k(x).series,options:k(x)},null,8,["height","type","series","options"])])),_:1})]),g("div",Je,[_(o,{title:"Revenue","current-label":"This Month","current-value":"$75,648.43","previous-label":"Last Month","previous-value":"$91,512.18",straight:""},{default:b((()=>[_(k(p),{id:"line-stats-area-chart",height:k(j).chart.height,type:k(j).chart.type,series:k(j).series,options:k(j)},null,8,["height","type","series","options"])])),_:1})]),g("div",$e,[_(d,{title:"Sales Revenue",straight:""},{default:b((()=>[_(k(p),{id:"flex-stat-circle",height:k(C).chart.height,type:k(C).chart.type,series:k(C).series,options:k(C)},null,8,["height","type","series","options"])])),_:1})]),g("div",He,[_(d,{title:"Sales Revenue",straight:""},{default:b((()=>[_(k(p),{id:"flex-stat-radial",height:k(S).chart.height,type:k(S).chart.type,series:k(S).series,options:k(S)},null,8,["height","type","series","options"])])),_:1})]),g("div",Ge,[_(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"]},{chart1:b((()=>[_(k(p),{id:"group-radial-1",height:k(M).chart.height,type:k(M).chart.type,series:k(M).series,options:k(M)},null,8,["height","type","series","options"])])),chart2:b((()=>[_(k(p),{id:"group-radial-2",height:k(U).chart.height,type:k(U).chart.type,series:k(U).series,options:k(U)},null,8,["height","type","series","options"])])),chart3:b((()=>[_(k(p),{id:"group-radial-3",height:k(I).chart.height,type:k(I).chart.type,series:k(I).series,options:k(I)},null,8,["height","type","series","options"])])),_:1})]),g("div",We,[_(c,{title:"Additional Stats",values:["264","1,203","3,078"],labels:["New Deals","Proposals","Closed Deals"],gauge:""},{chart1:b((()=>[_(k(p),{id:"group-gauge-1",height:k(T).chart.height,type:k(T).chart.type,series:k(T).series,options:k(T)},null,8,["height","type","series","options"])])),chart2:b((()=>[_(k(p),{id:"group-gauge-2",height:k(V).chart.height,type:k(V).chart.type,series:k(V).series,options:k(V)},null,8,["height","type","series","options"])])),chart3:b((()=>[_(k(p),{id:"group-gauge-3",height:k(A).chart.height,type:k(A).chart.type,series:k(A).series,options:k(A)},null,8,["height","type","series","options"])])),_:1})])])}}}),Ze=e=>(V("data-v-1f68036b"),e=e(),A(),e),Xe={class:"timeline-wrapper"},Qe=Ze((()=>g("div",{class:"timeline-header"},null,-1))),Ye={class:"timeline-wrapper-inner"},el={class:"timeline-container"},ll={class:"timeline-item is-unread"},al={class:"date"},tl={class:"content-wrap"},sl={class:"content-box"},il=Ze((()=>g("div",{class:"status"},null,-1))),nl={class:"box-text"},ol={class:"meta-text"},dl=["innerHTML"],cl=h({__name:"JobActivities",props:{object_id:{},object_type:{}},setup(e){const l=e,a=Y(),t=w([{id:"06b62536-220c-4d54-b437-50f035677d17",action:"UPDATE",timestamp:"2025-02-21T18:09:11.830145Z",actor_info:{id:"0feda007-d8a0-4b96-acb7-d7763614854e",username:"Test &",last_name:"Dev",email:"test@dev.com",role:"admin",avatar:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/static/users_avatars/Screenshot_from_2025-01-17_15-14-32.png"},message:"updated <b>HENNING</b> lead information.",object_id:"1be101da-7a93-43af-b3e3-d1ca908aa2c9",object_type:"lead",actor:"0feda007-d8a0-4b96-acb7-d7763614854e"}]),s={UPDATE:"is-info",RETRIEVE:"is-warning",DELETE:"is-danger",CREATE:"is-primary"};return j((()=>{(async()=>{try{const e=await a.get(`/api/activity-logs/?object_id=${l.object_id}`);t.value=e.data}catch(e){console.log(e)}})()})),(e,l)=>{const a=Q;return f(),y("div",Xe,[Qe,g("div",Ye,[g("div",el,[(f(!0),y(x,null,C(k(t),(e=>(f(),y("div",ll,[g("div",al,[g("span",null,S(k(ee)(e.timestamp).format("ddd, mm yyyy")),1)]),g("div",{class:T(["dot",s[e.action]])},null,2),g("div",tl,[g("div",sl,[il,_(a,{picture:e.actor_info?.avatar},null,8,["picture"]),g("div",nl,[g("div",ol,[g("p",null,[g("span",null,S(e.actor_info?.username??"N/A")+" "+S(e.actor_info?.last_name??"N/A"),1),g("span",{class:"log-message",innerHTML:e.message},null,8,dl)]),g("span",null,S(k(ee)(e.timestamp).format("hh:mm:ss")),1)])])])])])))),256))])])])}}}),rl=M(cl,[["__scopeId","data-v-1f68036b"]]),ul={class:"table is-striped is-fullwidth"},pl=g("thead",null,[g("tr",null,[g("th",{scope:"col"},"Job"),g("th",{scope:"col"},"ID"),g("th",{scope:"col"},"Title"),g("th",{scope:"col"},"Status"),g("th",{scope:"col"},"Total Price"),g("th",{scope:"col"},"Total Tax"),g("th",{scope:"col"},"Amount Paid"),g("th",{scope:"col"},"Balance"),g("th",{scope:"col"},"Deadline"),g("th",{scope:"col"},"Date Paid"),g("th",{scope:"col"},"Files"),g("th",{scope:"col",class:"is-end"},"Actions")])],-1),ml=g("td",null,"Tina",-1),vl=g("td",null,"Bergmann",-1),hl=g("td",null,"Sales",-1),fl=g("td",null,"Tina",-1),yl=g("td",null,"Bergmann",-1),gl=g("td",null,"Sales",-1),_l=g("td",null,"Tina",-1),bl=g("td",null,"Bergmann",-1),kl=g("td",null,"Sales",-1),wl=g("td",null,"Bergmann",-1),jl=g("td",null,"Sales",-1),xl={class:"is-end"},Cl={class:"is-flex is-justify-content-flex-end"},Sl=g("td",null,"Tina",-1),Tl=g("td",null,"Bergmann",-1),Vl=g("td",null,"Sales",-1),Al=g("td",null,"Tina",-1),Ml=g("td",null,"Bergmann",-1),Ul=g("td",null,"Sales",-1),Il=g("td",null,"Tina",-1),Dl=g("td",null,"Bergmann",-1),Pl=g("td",null,"Sales",-1),El=g("td",null,"Bergmann",-1),Ll=g("td",null,"Sales",-1),Rl={class:"is-end"},Ol={class:"is-flex is-justify-content-flex-end"},Nl=g("td",null,"Tina",-1),Bl=g("td",null,"Bergmann",-1),Fl=g("td",null,"Sales",-1),zl=g("td",null,"Tina",-1),Kl=g("td",null,"Bergmann",-1),Jl=g("td",null,"Sales",-1),$l=g("td",null,"Tina",-1),Hl=g("td",null,"Bergmann",-1),Gl=g("td",null,"Sales",-1),Wl=g("td",null,"Bergmann",-1),ql=g("td",null,"Sales",-1),Zl={class:"is-end"},Xl={class:"is-flex is-justify-content-flex-end"},Ql=g("td",null,"Tina",-1),Yl=g("td",null,"Bergmann",-1),ea=g("td",null,"Sales",-1),la=g("td",null,"Tina",-1),aa=g("td",null,"Bergmann",-1),ta=g("td",null,"Sales",-1),sa=g("td",null,"Tina",-1),ia=g("td",null,"Bergmann",-1),na=g("td",null,"Sales",-1),oa=g("td",null,"Bergmann",-1),da=g("td",null,"Sales",-1),ca={class:"is-end"},ra={class:"is-flex is-justify-content-flex-end"},ua=h({__name:"JobInvoice",props:{activeTab:{default:"active"}},setup(e){const l=e,a=ae;U();const t=w("");return w(l.activeTab),I((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=le;return f(),y("table",ul,[pl,g("tbody",null,[g("tr",null,[ml,vl,hl,fl,yl,gl,_l,bl,kl,wl,jl,g("td",xl,[g("div",Cl,[_(a)])])]),g("tr",null,[Sl,Tl,Vl,Al,Ml,Ul,Il,Dl,Pl,El,Ll,g("td",Rl,[g("div",Ol,[_(a)])])]),g("tr",null,[Nl,Bl,Fl,zl,Kl,Jl,$l,Hl,Gl,Wl,ql,g("td",Zl,[g("div",Xl,[_(a)])])]),g("tr",null,[Ql,Yl,ea,la,aa,ta,sa,ia,na,oa,da,g("td",ca,[g("div",ra,[_(a)])])])])])}}}),pa={class:"table is-striped is-fullwidth"},ma=g("thead",null,[g("tr",null,[g("th",{scope:"col"},"First Name"),g("th",{scope:"col"},"Last Name"),g("th",{scope:"col"},"Position"),g("th",{scope:"col",class:"is-end"},[g("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1),va=g("td",null,"Tina",-1),ha=g("td",null,"Bergmann",-1),fa=g("td",null,"Head of Sales",-1),ya={class:"is-end"},ga={class:"is-flex is-justify-content-flex-end"},_a=g("td",null,"John",-1),ba=g("td",null,"Wistmus",-1),ka=g("td",null,"Senior Executive",-1),wa={class:"is-end"},ja={class:"is-flex is-justify-content-flex-end"},xa=g("td",null,"Sam",-1),Ca=g("td",null,"Watson",-1),Sa=g("td",null,"Software Engineer",-1),Ta={class:"is-end"},Va={class:"is-flex is-justify-content-flex-end"},Aa=g("td",null,"Jolaine",-1),Ma=g("td",null,"Joestar",-1),Ua=g("td",null,"HR Manager",-1),Ia={class:"is-end"},Da={class:"is-flex is-justify-content-flex-end"},Pa=g("td",null,"Anders",-1),Ea=g("td",null,"Jensen",-1),La=g("td",null,"Accountant",-1),Ra={class:"is-end"},Oa={class:"is-flex is-justify-content-flex-end"},Na=h({__name:"JobEstimates",props:{activeTab:{default:"active"}},setup(e){const l=e,a=ae;U();const t=w("");return w(l.activeTab),I((()=>{if(t.value){const e=new RegExp(t.value,"i");return a.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return a})),(e,l)=>{const a=le;return f(),y("table",pa,[ma,g("tbody",null,[g("tr",null,[va,ha,fa,g("td",ya,[g("div",ga,[_(a)])])]),g("tr",null,[_a,ba,ka,g("td",wa,[g("div",ja,[_(a)])])]),g("tr",null,[xa,Ca,Sa,g("td",Ta,[g("div",Va,[_(a)])])]),g("tr",null,[Aa,Ma,Ua,g("td",Ia,[g("div",Da,[_(a)])])]),g("tr",null,[Pa,Ea,La,g("td",Ra,[g("div",Oa,[_(a)])])])])])}}}),Ba={class:"columns is-multiline"},Fa={class:"column is-12"},za={class:"toolbar"},Ka={class:"tabs-inner"},Ja={class:"tabs"},$a=g("span",null,"Estimate",-1),Ha=[$a],Ga=g("span",null,"Budget",-1),Wa=[Ga],qa=g("span",null,"Owner Invoice",-1),Za=[qa],Xa=g("li",{class:"tab-naver"},null,-1),Qa={key:0,class:"column is-12"},Ya={key:1,class:"column is-12"},et={key:2,class:"column is-12"},lt=h({__name:"JobFinance",props:{activeTab:{default:"active"}},setup(e){const l=ae;U();const a=w("estimate"),t=w("");return I((()=>{if(t.value){const e=new RegExp(t.value,"i");return l.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return l})),(e,l)=>{const t=Na,s=ua;return f(),y("div",Ba,[g("div",Fa,[g("div",za,[g("div",Ka,[g("div",Ja,[g("ul",null,[g("li",{class:T(["estimate"===k(a)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:l[0]||(l[0]=D(P((e=>a.value="estimate"),["prevent"]),["space"])),onClick:l[1]||(l[1]=e=>a.value="estimate")},Ha,32)],2),g("li",{class:T(["budget"===k(a)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:l[2]||(l[2]=D(P((e=>a.value="budget"),["prevent"]),["space"])),onClick:l[3]||(l[3]=e=>a.value="budget")},Wa,32)],2),g("li",{class:T(["invoice"===k(a)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:l[4]||(l[4]=D(P((e=>a.value="invoice"),["prevent"]),["space"])),onClick:l[5]||(l[5]=e=>a.value="invoice")},Za,32)],2),Xa])])])])]),"estimate"===k(a)?(f(),y("div",Qa,[_(t)])):E("",!0),"budget"===k(a)?(f(),y("div",Ya)):E("",!0),"invoice"===k(a)?(f(),y("div",et,[_(s)])):E("",!0)])}}}),at={class:"user-grid-toolbar"},tt=g("span",{class:"icon"},[g("i",{class:"fas fa-plus"})],-1),st=g("span",null,"Progress",-1),it={class:"user-grid user-grid-v1"},nt={class:"columns is-multiline"},ot={class:"grid-item"},dt={class:"is-flex"},ct=h({__name:"JobProgressLoader",setup(e){const l=w(""),a=w(0),t=["All","UI/UX Design","Web Development","Software Eng.","Business"];return(e,s)=>{const i=ne,n=R("Multiselect"),o=ie,d=F,c=z,r=K,u=de,p=oe;return f(),y("div",null,[g("div",at,[_(i,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>N(l)?l.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[B,k(l)]])])),_:1}),_(c,null,{default:b((()=>[_(o,{class:"h-hidden-mobile"},{default:b((()=>[_(i,null,{default:b((()=>[_(n,{modelValue:k(a),"onUpdate:modelValue":s[1]||(s[1]=e=>N(a)?a.value=e:null),options:t,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(d,null,{default:b((()=>[tt,st])),_:1})])),_:1})]),g("div",it,[g("div",nt,[(f(),y(x,null,C(20,(e=>g("div",{key:e,class:"column is-3"},[g("div",ot,[_(r,{height:"160px",centered:"",class:"mb-2"}),_(u,{class:"mb-5",width:"80%",lines:3,"last-line-width":"60%"}),g("div",dt,[_(p,{size:"small",class:"mx-1"}),_(u,{class:"mb-4",width:"80%",lines:2,"last-line-width":"60%"})])])]))),64))])])])}}}),rt={key:1},ut={class:"card-grid-toolbar"},pt={class:"buttons"},mt=g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),vt=g("span",null,"Progress",-1),ht={class:"card-grid card-grid-v4"},ft=g("img",{class:"light-image",src:ce,alt:""},null,-1),yt=g("img",{class:"dark-image",src:re,alt:""},null,-1),gt=["href","title"],_t=["src","alt"],bt={class:"card-grid-item-content"},kt={class:"dark-inverted"},wt={key:0,class:"card-grid-item-footer"},jt={class:"meta"},xt={class:"dark-inverted"},Ct=h({__name:"JobProgress",props:{object:{},type:{},taskData:{}},setup(e){const l=e,a=Y(),t=w(""),s=w(!1),i=w(!1),n=w(0),o=["All Posts","Recent Posts","Older Posts","Popular Posts"],d=w([{id:"",uploaded_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},file_info:{url:"",name:"",type:"",size:0},progress:0,title:"",description:"",created_at:"",file:"",job:"",task:"",uploaded_by:""}]),c=async()=>{try{s.value=!0;const e=await a.get(`/api/job-progress/by-job/${l.object}/`);d.value=e.data}catch(e){console.log(e)}finally{s.value=!1}};I((()=>d.value.map((e=>({src:e.file_info.url,thumbnail:e.file_info.url,w:1200,h:900,alt:e.file_info.name})))));const r=I((()=>{if(t.value){const e=new RegExp(t.value,"i");return console.log(e),d.value.filter((l=>l.title?.match(e)||l.created_at?.match(e)||l.uploaded_by_info?.username?.match(e)||l.uploaded_by_info?.email?.match(e)||l.uploaded_by_info?.last_name?.match(e)))}return d.value}));return j((()=>{"job"===l.type&&c()})),(e,a)=>{const d=ct,u=ne,p=R("Multiselect"),m=ie,v=F,h=se,w=Q,j=te;return k(s)?(f(),J(d,{key:0})):(f(),y("div",rt,[g("div",ut,[_(u,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>N(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[B,k(t)]])])),_:1}),g("div",pt,[_(m,{class:"h-hidden-mobile"},{default:b((()=>[_(u,null,{default:b((()=>[_(p,{modelValue:k(n),"onUpdate:modelValue":a[1]||(a[1]=e=>N(n)?n.value=e:null),options:o,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(v,{onClick:a[2]||(a[2]=e=>i.value=!k(i)),color:"primary",raised:""},{default:b((()=>[mt,vt])),_:1})])]),g("div",ht,[_(h,{class:T([0!==k(r).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[ft,yt])),_:1},8,["class"]),_($,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(x,null,C(k(r),(e=>(f(),y("div",{key:e.id,class:"column is-3"},[g("a",{href:e.file,title:e.title,itemprop:"contentUrl","data-pswp-width":"1200","data-pswp-height":"900",target:"_blank","data-cropped":"true",ref_for:!0,ref:"noreferrer",class:"card-grid-item"},[g("img",{src:e.file,alt:e.title,onErrorOnce:a[3]||(a[3]=e=>k(ue)(400,300))},null,40,_t),g("div",bt,[g("h3",kt,S(e.title?e.title:"No Title"),1),g("p",null,S(e.description?e.description:"No Description"),1)]),e.uploaded_by_info?(f(),y("div",wt,[_(w,{picture:e.uploaded_by_info.avatar,size:"small"},null,8,["picture"]),g("div",jt,[g("span",xt,S(e.uploaded_by_info.username??"N/A")+" "+S(e.uploaded_by_info.last_name??""),1),g("span",null,S(k(pe)(e.created_at)),1)])])):E("",!0)],8,gt)])))),128))])),_:1})]),k(i)?(f(),J(j,{key:0,job:l.object,openProgressModal:k(i),"onUpdate:OnSuccess":c,"onClose:ModalHandler":a[4]||(a[4]=e=>i.value=!1)},null,8,["job","openProgressModal"])):E("",!0)]))}}}),St={class:"modal-form columns is-multiline"},Tt={class:"column is-12"},Vt=g("div",{class:"column is-12"},[g("h3",{class:"title is-6 mb-2"},"Activity Information")],-1),At={class:"field column is-6 mb-0"},Mt=g("label",null,"Title *",-1),Ut={class:"control"},It={class:"field column is-6 mb-0"},Dt=g("label",null,"Activity Type *",-1),Pt={class:"field column is-6 mb-0"},Et=g("label",null,"Date ",-1),Lt={class:"field column is-3 mb-0"},Rt=g("label",null,"Start Time ",-1),Ot={class:"field column is-3 mb-0"},Nt=g("label",null,"End Time ",-1),Bt={class:"field column is-3 mb-0"},Ft=g("label",null,"Color ",-1),zt=g("datalist",{id:"colors-list"},[g("option",{value:"#84cc16"}),g("option",{value:"#22c55e"}),g("option",{value:"#0ea5e9"}),g("option",{value:"#6366f1"}),g("option",{value:"#8b5cf6"}),g("option",{value:"#d946ef"}),g("option",{value:"#f43f5e"}),g("option",{value:"#facc15"}),g("option",{value:"#fb923c"}),g("option",{value:"#9ca3af"})],-1),Kt={class:"field column is-3 mb-0"},Jt=g("label",null,"Reminder time: ",-1),$t={class:"field column is-3 mb-0"},Ht=g("label",null,"Attachment ",-1),Gt={class:"file has-name"},Wt={class:"file-label"},qt=g("input",{class:"file-input",type:"file",name:"resume"},null,-1),Zt=g("span",{class:"file-cta"},[g("span",{class:"file-icon"},[g("i",{class:"fas fa-cloud-upload-alt"})]),g("span",{class:"file-label"}," Choose file ")],-1),Xt={class:"file-name light-text"},Qt={class:"field column is-12 mb-0"},Yt=g("label",null,"Assigned * ",-1),es={class:"multiselect-tag is-user"},ls=["src"],as=["onMousedown"],ts=g("div",{class:"column is-12"},[g("h3",{class:"title is-6 mb-2"},"Location")],-1),ss={class:"field column is-4 mb-0"},is=g("label",null,"Zip Code ",-1),ns={class:"control"},os={class:"field column is-4 mb-0"},ds=g("label",null,"City ",-1),cs={class:"control"},rs={class:"field column is-4 mb-0"},us=g("label",null,"State ",-1),ps={class:"control"},ms={class:"field column is-12 mb-0"},vs=g("label",null,"Street Address",-1),hs={class:"control"},fs={class:"field column is-12 mb-0"},ys=g("label",null,"Description ",-1),gs=h({__name:"LeadActivityModal",props:{addUpdateContactModal:{type:Boolean},activityId:{},objectId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=w(null),s=H(),i=we(),n=Y(),o=w(!1),d=()=>{l("update:modalHandler",!1)},c=w([{value:"",name:"",image:""}]),r=w({title:"",objectId:a.objectId??"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",assignedUser:"",attendees:[],initiated_by:s.user.id,address:"",city:"",state:"",zip_code:"",description:"",latitude:0,longitude:0,file:""}),u=async()=>{try{o.value=!0;const e=me(r.value,[]);await n.post("/api/activity/",e);l("update:OnSuccess",null),d(),i.dismissAll(),i.success("Activity added successfully")}catch(e){i.error(` ${e}, New Worker`)}finally{o.value=!1}},p=async()=>{if(!r.value.zip_code)return;const e=await ve(r.value.zip_code);console.log("API Response:",e),e?.status&&e.data?(r.value.latitude=e.data.lat,r.value.longitude=e.data.lng,r.value.address=e.data.address,r.value.city=e.data.city,r.value.state=e.data.state,i.success("Address fetched successfully")):console.log("Address not found.")},m=w(""),v=w(0),h=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(r.value.file=a,m.value=a.name,v.value=a.size)};return j((()=>{(async()=>{try{o.value=!0;const e=await n.get("/api/users/");c.value=e.data.map((e=>({value:e.id,name:`${e.username??"N/A"} ${e.last_name??""}`,icon:e.avatar})))}catch(e){i.error("something get wrong")}finally{o.value=!1}})(),a.activityId})),(e,l)=>{const s=be,i=ke,n=ne,w=ie,j=_e,T=R("Multiselect"),V=W,A=ge,M=F,U=ye;return f(),J(U,{is:"form",open:a.addUpdateContactModal,title:"Activity Details",size:"large",actions:"right",onSubmit:P(u,["prevent"]),onClose:d},{content:b((()=>[g("div",St,[g("div",Tt,[_(V,{class:"columns is-multiline"},{default:b((()=>[Vt,g("div",At,[Mt,g("div",Ut,[O(g("input",{type:"text",name:"title","onUpdate:modelValue":l[0]||(l[0]=e=>k(r).title=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Title"},null,512),[[B,k(r).title]])])]),g("div",It,[Dt,_(w,null,{default:b((()=>[_(n,null,{default:b((()=>[_(i,{modelValue:k(r).type,"onUpdate:modelValue":l[1]||(l[1]=e=>k(r).type=e),required:""},{default:b((()=>[(f(!0),y(x,null,C(k(je),(e=>(f(),J(s,{value:e.value},{default:b((()=>[G(S(e.label),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),g("div",Pt,[Et,O(g("input",{type:"date",name:"date","onUpdate:modelValue":l[2]||(l[2]=e=>k(r).date=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[B,k(r).date]])]),g("div",Lt,[Rt,O(g("input",{type:"time",name:"date","onUpdate:modelValue":l[3]||(l[3]=e=>k(r).start_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[B,k(r).start_time]])]),g("div",Ot,[Nt,O(g("input",{type:"time",name:"date","onUpdate:modelValue":l[4]||(l[4]=e=>k(r).end_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[B,k(r).end_time]])]),g("div",Bt,[Ft,_(w,null,{default:b((()=>[_(n,null,{default:b((()=>[_(j,{modelValue:k(r).color,"onUpdate:modelValue":l[5]||(l[5]=e=>k(r).color=e),list:"colors-list",type:"color",placeholder:"Pick a color"},null,8,["modelValue"]),zt])),_:1})])),_:1})]),g("div",Kt,[Jt,O(g("input",{type:"time",name:"date","onUpdate:modelValue":l[6]||(l[6]=e=>k(r).reminder_time=e),class:"input is-primary-focus is-primary-focus",placeholder:"Activity Type"},null,512),[[B,k(r).reminder_time]])]),g("div",$t,[g("input",{ref_key:"fileInput",ref:t,type:"file",style:{display:"none"},onChange:h,accept:"image/*,application/pdf"},null,544),Ht,_(w,{grouped:""},{default:b((()=>[_(n,null,{default:b((()=>[g("div",Gt,[g("label",Wt,[qt,Zt,g("span",Xt,S(k(m)?k(m):"No file")+" "+S(k(v))+" Kbs ",1)])])])),_:1})])),_:1})]),g("div",Qt,[Yt,_(w,null,{default:b((({id:e})=>[_(n,null,{default:b((()=>[_(T,{required:"",modelValue:k(r).attendees,"onUpdate:modelValue":l[8]||(l[8]=e=>k(r).attendees=e),attrs:{id:e},mode:"tags",placeholder:"Select a user","track-by":"name",label:"name",search:!0,searchable:!0,options:k(c),"max-height":145},{tag:b((({option:e,remove:a,disabled:t})=>[g("div",es,[g("img",{src:e.image,alt:""},null,8,ls),G(" "+S(e.name)+" ",1),t?E("",!0):(f(),y("i",{key:0,role:"button",tabindex:"0",onClick:l[7]||(l[7]=P((()=>{}),["prevent"])),onMousedown:P((l=>a(e)),["prevent","stop"])},null,40,as))])])),_:2},1032,["modelValue","attrs","options"])])),_:2},1024)])),_:1})])])),_:1}),_(V,{class:"columns is-multiline mt-3"},{default:b((()=>[ts,g("div",ss,[is,g("div",ns,[O(g("input",{type:"text",name:"state",onBlur:p,"onUpdate:modelValue":l[9]||(l[9]=e=>k(r).zip_code=e),class:"input is-primary-focus is-primary-focus",placeholder:"Zip Code"},null,544),[[B,k(r).zip_code]])])]),g("div",os,[ds,g("div",cs,[O(g("input",{type:"text",name:"city","onUpdate:modelValue":l[10]||(l[10]=e=>k(r).city=e),class:"input is-primary-focus is-primary-focus",placeholder:"City"},null,512),[[B,k(r).city]])])]),g("div",rs,[us,g("div",ps,[O(g("input",{type:"text",name:"state","onUpdate:modelValue":l[11]||(l[11]=e=>k(r).state=e),class:"input is-primary-focus is-primary-focus",placeholder:"State"},null,512),[[B,k(r).state]])])]),g("div",ms,[vs,g("div",hs,[O(g("input",{type:"tel",name:"phone","onUpdate:modelValue":l[12]||(l[12]=e=>k(r).address=e),class:"input is-primary-focus is-primary-focus",placeholder:"Street Address"},null,512),[[B,k(r).address]])])]),g("div",fs,[ys,_(w,null,{default:b((()=>[_(n,null,{default:b((()=>[_(A,{modelValue:k(r).description,"onUpdate:modelValue":l[13]||(l[13]=e=>k(r).description=e),rows:"3",placeholder:"Enter description..."},null,8,["modelValue"])])),_:1})])),_:1})])])),_:1})])])])),action:b((()=>[_(M,{loading:k(o),type:"submit",color:"primary",raised:""},{default:b((()=>[G("Create Activity")])),_:1},8,["loading"])])),_:1},8,["open","onSubmit"])}}}),_s={class:"card-grid-toolbar"},bs={class:"buttons"},ks={class:"card-grid card-grid-v3"},ws=g("img",{class:"light-image",src:xe,alt:""},null,-1),js=g("img",{class:"dark-image",src:Ce,alt:""},null,-1),xs={class:"card-grid-item"},Cs={key:0,class:"h-toggle"},Ss=["checked"],Ts=g("span",{class:"toggler"},[g("span",{class:"active"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:lock"})]),g("span",{class:"inactive"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"})])],-1),Vs={class:"dark-inverted"},As={class:"description"},Ms={class:"people"},Us=g("div",{class:"buttons"},[g("button",{class:"button v-button is-dark-outlined"},[g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:eye"})]),g("span",null,"View")]),g("button",{class:"button v-button is-dark-outlined"},[g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:edit-2"})]),g("span",null,"Edit")])],-1),Is=h({__name:"JobLeadActivities",props:{jobId:{}},setup(l){const a=l,t=w(""),s=w(!1),i=w(!1),n=w([{id:"",attendees_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:""}],initiated_by_info:{id:"",username:"",last_name:"",email:"",role:"",avatar:""},title:"",description:"",objectId:"",type:"",color:"",status:"",date:"",start_time:"",end_time:"",reminder_time:"",created_at:"",address:"",city:"",state:"",zip_code:"",file:null,latitude:0,longitude:0,initiated_by:"",attendees:[""]}]),o=Y(),d=we();H();const c=w(!1),r=w(0),u=["All Projects","Web Apps","Mobile Apps","Dashboards","Landing Pages"];const p=I((()=>t.value?Se.filter((e=>e.name.match(new RegExp(t.value,"i"))||e.remaining.match(new RegExp(t.value,"i")))):Se)),m=()=>{a.jobId?(async()=>{try{c.value=!0;const e=await o.get(`/api/activity/by-object/${a.jobId}/`);n.value=e.data}catch(e){d.error("something get wrong")}finally{c.value=!1}})():(async()=>{try{c.value=!0;const e=await o.get("/api/activity/");n.value=e.data}catch(e){d.error("something get wrong")}finally{c.value=!1}})()};return j((()=>{m()})),(l,n)=>{const o=ne,d=R("Multiselect"),c=ie,v=F,h=se,w=Q,j=gs,V=e;return f(),y("div",null,[g("div",_s,[_(o,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>N(t)?t.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[B,k(t)]])])),_:1}),g("div",bs,[_(c,{class:"h-hidden-mobile"},{default:b((()=>[_(o,null,{default:b((()=>[_(d,{modelValue:k(r),"onUpdate:modelValue":n[1]||(n[1]=e=>N(r)?r.value=e:null),options:u,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(v,{onClick:n[2]||(n[2]=e=>s.value=!k(s)),color:"warning",icon:"lnir lnir-alarm"},{default:b((()=>[G(" Create Activity ")])),_:1}),_(v,{onClick:n[3]||(n[3]=e=>i.value=!k(i)),color:"success",class:"ml-2",icon:"fas fa-envelope"},{default:b((()=>[G(" Schedule Email ")])),_:1})])]),g("div",ks,[_(h,{class:T([0!==k(p).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[ws,js])),_:1},8,["class"]),_($,{name:"list",tag:"div",class:"columns is-multiline is-flex-tablet-p is-half-tablet-p"},{default:b((()=>[(f(!0),y(x,null,C(k(p),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[g("div",xs,[e.lockable?(f(),y("label",Cs,[g("input",{type:"checkbox",checked:e.locked},null,8,Ss),Ts])):E("",!0),_(w,{size:"large",picture:e.image,badge:e.badge,squared:""},null,8,["picture","badge"]),g("h3",Vs,S(e.name),1),g("p",null,S(e.remaining)+" remaining",1),g("div",As,[g("p",null,S(e.description),1)]),g("div",Ms,[(f(!0),y(x,null,C(e.team,(e=>(f(),J(w,q({key:e.id,size:"small"},function(e){return{picture:e?.picture,initials:e?.initials,color:e?.color}}(e)),null,16)))),128))]),Us])])))),128))])),_:1})]),k(s)?(f(),J(j,{key:0,addUpdateContactModal:k(s),objectId:a.jobId,"onUpdate:modalHandler":n[4]||(n[4]=e=>s.value=!1),"onUpdate:OnSuccess":m},null,8,["addUpdateContactModal","objectId"])):E("",!0),k(i)?(f(),J(V,{key:1,mailSchedulerModal:k(i),"onUpdate:modalHandler":n[5]||(n[5]=e=>i.value=!1)},null,8,["mailSchedulerModal"])):E("",!0)])}}}),Ds={class:"modal-form columns is-multiline"},Ps={class:"column is-full"},Es={class:"field"},Ls=g("label",{class:"label"},"Title ",-1),Rs={class:"control"},Os={class:"field column is-half"},Ns={class:"file"},Bs={class:"file-label"},Fs={class:"file-cta"},zs=g("span",{class:"file-icon"},[g("i",{class:"fas fa-cloud-upload-alt"})],-1),Ks={class:"file-label"},Js=h({__name:"UploadDocumentModal",props:{openFileModal:{type:Boolean},type:{},object:{}},emits:["close:ModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e;w(null);const t=Y(),s=we(),i=w(!1),n=H(),o=()=>{l("close:ModalHandler",!1)},d=w({type:a.type,object:a.object,title:"",uploaded_by:n.user.id,file:null}),c=async()=>{try{i.value=!0;const e=me(d.value,["file"]);await t.post("/api/attachment/",e);he({object_type:"files",object_id:a.object,action:"CREATE",message:`Uploaded new file named <b>${d.value.title}</b>.`,performedOnName:"job"}),s.success("File uploaded successfully!"),l("update:OnSuccess",null),o()}catch(e){console.log(e)}finally{i.value=!1}},r=w(""),u=e=>{const l=e.target,a=l.files?.[0];l.value="",a&&(d.value.file=a,r.value=a.name)};return j((()=>{})),(e,l)=>{const t=ne,s=ie,n=F,p=ye;return f(),J(p,{is:"form",open:a.openFileModal,title:"Add Progress",size:"medium",actions:"right",onSubmit:P(c,["prevent"]),onClose:o},{content:b((()=>[g("div",Ds,[g("div",Ps,[g("div",Es,[Ls,g("div",Rs,[O(g("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>k(d).title=e)},null,512),[[B,k(d).title]])])])]),g("div",Os,[_(s,{grouped:""},{default:b((()=>[_(t,null,{default:b((()=>[g("div",Ns,[g("label",Bs,[g("input",{onChange:u,class:"file-input",type:"file",name:"resume"},null,32),g("span",Fs,[zs,g("span",Ks,S(k(r)?k(r):"Choose a file…"),1)])])])])),_:1})])),_:1})])])])),action:b((()=>[_(n,{type:"submit",color:"primary",loading:k(i),raised:""},{default:b((()=>[G(" Save")])),_:1},8,["loading"])])),cancel:b((()=>[_(n,{color:"light",onClick:o,raised:""},{default:b((()=>[G("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),$s={key:0,class:"modal-form"},Hs=["src"],Gs=["src"],Ws=["src"],qs=["src"],Zs={key:1,class:"modal-form"},Xs=[g("h1",{class:"title is-5"},"No media file attached",-1)],Qs=h({__name:"DocumentViewer",props:{openDocViewModal:{type:Boolean},document:{},title:{}},emits:["update:closeModalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=()=>{l("update:closeModalHandler",!1)},s=e=>`https://docs.google.com/viewer?url=${encodeURIComponent(e)}&embedded=true`;return j((async()=>{console.log("picture",a.document)})),(e,l)=>{const i=F,n=ye;return f(),J(n,{is:"form",open:a.openDocViewModal,title:a.title?a.title:"Attached Document",size:"xl",actions:"right",onClose:t},{content:b((()=>[a.document?(f(),y("div",$s,[a.document?.includes(".pdf")?(f(),y("iframe",{key:0,src:`${a.document}#toolbar=0&view=FitH`,style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Hs)):a.document?.toLowerCase().includes(".doc")||a.document?.toLowerCase().includes(".docx")?(f(),y("iframe",{key:1,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Gs)):a.document?.toLowerCase().includes(".xls")||a.document?.toLowerCase().includes(".xlsx")?(f(),y("iframe",{key:2,src:s(a.document),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,Ws)):(f(),y("img",{key:3,src:a.document,alt:""},null,8,qs))])):(f(),y("div",Zs,Xs))])),cancel:b((()=>[_(i,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:b((()=>[G("Close")])),_:1})])),_:1},8,["open","title"])}}}),Ys={class:"tile-grid-item"},ei={class:"tile-grid-item-inner"},li=["src"],ai={class:"meta"},ti={class:"dark-inverted"},si=g("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),ii=[g("div",{class:"icon"},[g("i",{"aria-hidden":"true",class:"lnil lnil-cloud-download"})],-1),g("div",{class:"meta"},[g("span",null,"Download"),g("span",null,"Download this file")],-1)],ni=g("hr",{class:"dropdown-divider"},null,-1),oi=[g("div",{class:"icon"},[g("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),g("div",{class:"meta"},[g("span",null,"Delete"),g("span",null,"Delete this file")],-1)],di=h({__name:"DocumentTile",props:{document:{}},emits:["deleteSelectedFile"],setup(e,{emit:l}){const a=e,t=w(""),s=w(!1),i=w(""),n={pdf:"/images/icons/files/pdf.svg",xls:"/images/icons/files/sheet.svg",doc:"/images/icons/files/doc-2.svg",ppt:"/images/icons/files/ppt.svg",ai:"/images/icons/files/ai.svg",docx:"/images/icons/files/doc-2.svg",docs:"/images/icons/files/doc-2.svg",xlsx:"/images/icons/files/sheet.svg",ai2:"/images/icons/files/ai.svg",xlx:"/images/icons/files/sheet.svg",ods:"/images/icons/files/sheet.svg",png:"/icons/png-icon.png",jpg:"/icons/jpg-50.png",jpeg:"/icons/jpg-50.png"};return(e,o)=>{const d=Te;return f(),y("div",null,[g("div",Ys,[g("div",ei,[g("img",{onClick:o[0]||(o[0]=e=>{return l=a.document?.file,t.value=l,i.value=l.title,void(s.value=!s.value);var l}),src:n[a.document?.file_info?.type]},null,8,li),g("div",ai,[g("span",ti,S(a.document.title??"N/A"),1),g("span",null,[g("span",null,S(a.document?.file_info?.size??0)+" MB",1),si,g("span",null,"At:"+S(k(fe)(a.document.created_at)),1)])]),_(d,{icon:"feather:more-vertical",spaced:"",right:""},{content:b((()=>[g("a",{role:"menuitem",onClick:o[1]||(o[1]=e=>(async(e,l)=>{try{const a=await fetch(e);if(!a.ok)throw new Error("Network response was not ok");const t=await a.blob(),s=window.URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}catch(a){console.error("Download failed:",a)}})(a.document.file,a.document.title)),class:"dropdown-item is-media"},ii),ni,g("a",{role:"menuitem",onClick:o[2]||(o[2]=e=>{return t=a.document.id,void l("deleteSelectedFile",t);var t}),class:"dropdown-item is-media"},oi)])),_:1})])]),k(s)?(f(),J(Qs,{key:0,openDocViewModal:k(s),document:k(t),title:k(i),"onUpdate:closeModalHandler":o[3]||(o[3]=e=>s.value=!1)},null,8,["openDocViewModal","document","title"])):E("",!0)])}}}),ci={key:1},ri={class:"tile-grid-toolbar"},ui={class:"buttons"},pi=g("span",{class:"icon"},[g("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1),mi=g("span",null,"Add File",-1),vi={class:"tile-grid tile-grid-v2"},hi=g("img",{class:"light-image",src:ce,alt:""},null,-1),fi=g("img",{class:"dark-image",src:re,alt:""},null,-1),yi=h({__name:"ObjectDocumentsTiles",props:{objectId:{},docType:{}},setup(e){const l=e,a=we(),t=Y(),s=w(""),i=w(0),n=w(""),o=w(!1),d=w(!1),c=w([{id:"27223081-e97a-4420-91f2-6a08da82d846",uploaded_by_info:{id:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b",username:"APIs",last_name:"Dev",email:"api@dev.com",role:"admin",avatar:null},file_info:{url:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",name:"combined_proposal_95Ac2Fu.pdf",type:"pdf",size:.14},file:"https://ibex-documents.s3.us-east-2.amazonaws.com/public/attachments/combined_proposal_95Ac2Fu.pdf",type:"proposal_formats",object:"751b95b2-9961-45a0-948c-96f85cea6a52",created_at:"2025-02-14T19:42:31.991589Z",title:"proposal",uploaded_by:"709ef38f-b1e3-48f2-8cd9-5a8e3e0c9a1b"}]),r=["All Files","Recently Updated","My Files","Team Files","Deprecated"],u=async(e="proposal_formats")=>{try{o.value=!0;const e=await t.get(`/api/attachment/by-object/${l.objectId}/?type=${l.docType}`);c.value=e.data}catch(a){console.log(a)}finally{o.value=!1}},p=async e=>{try{const s=await t.delete(`/api/attachment/${e}/`);he({object_type:"files",object_id:l.objectId,action:"DELETE",message:`Deleted a file named <b>${s.data.title}</b>.`,performedOnName:"job"}),a.purple("File Deleted Successfully"),u()}catch(s){console.log(s)}},m=I((()=>s.value?c.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.file_info?.name?.match(new RegExp(s.value,"i"))||e.created_at.match(new RegExp(s.value,"i")))):c.value));return j((()=>{u()})),(e,a)=>{const t=Ve,c=ne,v=R("Multiselect"),h=ie,w=F,j=se,S=di,T=Js;return f(),y("div",null,[k(o)?(f(),J(t,{key:0,rows:4})):(f(),y("div",ci,[g("div",ri,[_(c,{icon:"feather:search"},{default:b((()=>[O(g("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>N(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[B,k(s)]])])),_:1}),g("div",ui,[_(h,{class:"h-hidden-mobile"},{default:b((()=>[_(c,null,{default:b((()=>[_(v,{modelValue:k(i),"onUpdate:modelValue":a[1]||(a[1]=e=>N(i)?i.value=e:null),options:r,"max-height":145,placeholder:"Select an option"},null,8,["modelValue"])])),_:1})])),_:1}),_(w,{onClick:a[2]||(a[2]=e=>(n.value=l.docType,void(d.value=!d.value))),color:"primary",raised:""},{default:b((()=>[pi,mi])),_:1})])]),g("div",vi,[0!=k(m).length||k(o)?E("",!0):(f(),J(j,{key:0,title:"We couldn't find any matching file of this directory.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[hi,fi])),_:1})),g("div",null,[_($,{name:"list",tag:"div",class:"columns is-multiline"},{default:b((()=>[(f(!0),y(x,null,C(k(m),(e=>(f(),y("div",{key:e.id,class:"column is-4"},[_(S,{document:e,onDeleteSelectedFile:p},null,8,["document"])])))),128))])),_:1})])]),k(d)?(f(),J(T,{key:0,openFileModal:k(d),object:l.objectId,type:k(n),"onClose:ModalHandler":a[3]||(a[3]=e=>d.value=!1),"onUpdate:OnSuccess":u},null,8,["openFileModal","object","type"])):E("",!0)]))])}}}),gi={class:"tabs-inner"},_i={class:"tabs"},bi=[g("span",null,"Grouped Proposals",-1)],ki=[g("span",null,"Contracts",-1)],wi=[g("span",null,"Customer Estimates",-1)],ji=[g("span",null,"Job Scope",-1)],xi=[g("span",null,"Asbestos & Lead Report",-1)],Ci=[g("span",null,"Permits",-1)],Si=[g("span",null,"Bids & Material",-1)],Ti=[g("span",null,"Miscellaneous",-1)],Vi=g("li",{class:"tab-naver"},null,-1),Ai={class:"tile-grid tile-grid-v2"},Mi=g("img",{class:"light-image",src:ce,alt:""},null,-1),Ui=g("img",{class:"dark-image",src:re,alt:""},null,-1),Ii={key:0},Di={key:1},Pi={key:2},Ei={key:3},Li={key:4},Ri={key:5},Oi={key:6},Ni={key:7},Bi=h({__name:"JobDocuments",props:{leadId:{}},setup(e){const l=e;we();const a=Y(),t=w("");w(0);const s=w(""),i=w("proposal_formats"),n=w(!1),o=w([]),d=I((()=>t.value?Ae.filter((e=>e.name.match(new RegExp(t.value,"i"))||e.size.match(new RegExp(t.value,"i")))):Ae)),c=async(e="proposal_formats")=>{try{i.value=e;const t=await a.get(`/api/attachment/by-object/${l.leadId}/?type=${e}`);o.value=t.data}catch(t){console.log(t)}};return j((()=>{c()})),(e,a)=>{const t=se,o=yi,r=Js;return f(),y("div",null,[g("div",gi,[g("div",_i,[g("ul",null,[g("li",{class:T(["proposal_formats"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=D(P((e=>c("proposal_formats")),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>c("proposal_formats"))},bi,32)],2),g("li",{class:T(["contracts"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[2]||(a[2]=D(P((e=>c("contracts")),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>c("contracts"))},ki,32)],2),g("li",{class:T(["estimates"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[4]||(a[4]=D(P((e=>c("estimates")),["prevent"]),["space"])),onClick:a[5]||(a[5]=e=>c("estimates"))},wi,32)],2),g("li",{class:T(["job_scope"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[6]||(a[6]=D(P((e=>i.value="job_scope"),["prevent"]),["space"])),onClick:a[7]||(a[7]=e=>i.value="job_scope")},ji,32)],2),g("li",{class:T(["asbestos"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[8]||(a[8]=D(P((e=>i.value="asbestos"),["prevent"]),["space"])),onClick:a[9]||(a[9]=e=>i.value="asbestos")},xi,32)],2),g("li",{class:T(["permits"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[10]||(a[10]=D(P((e=>i.value="permits"),["prevent"]),["space"])),onClick:a[11]||(a[11]=e=>i.value="permits")},Ci,32)],2),g("li",{class:T(["material"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[12]||(a[12]=D(P((e=>i.value="material"),["prevent"]),["space"])),onClick:a[13]||(a[13]=e=>i.value="material")},Si,32)],2),g("li",{class:T(["miscellaneous"===k(i)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:a[14]||(a[14]=D(P((e=>i.value="miscellaneous"),["prevent"]),["space"])),onClick:a[15]||(a[15]=e=>i.value="miscellaneous")},Ti,32)],2),Vi])])]),g("div",Ai,[_(t,{class:T([0!==k(d).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:b((()=>[Mi,Ui])),_:1},8,["class"]),"contracts"==k(i)?(f(),y("div",Ii,[_(o,{"doc-type":"contracts","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"estimates"==k(i)?(f(),y("div",Di,[_(o,{"doc-type":"estimates","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"proposal_formats"==k(i)?(f(),y("div",Pi,[_(o,{"doc-type":"proposal_formats","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"job_scope"==k(i)?(f(),y("div",Ei,[_(o,{"doc-type":"job_scope","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"asbestos"==k(i)?(f(),y("div",Li,[_(o,{"doc-type":"asbestos","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"permits"==k(i)?(f(),y("div",Ri,[_(o,{"doc-type":"permits","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"material"==k(i)?(f(),y("div",Oi,[_(o,{"doc-type":"material","object-id":l.leadId},null,8,["object-id"])])):E("",!0),"miscellaneous"==k(i)?(f(),y("div",Ni,[_(o,{"doc-type":"miscellaneous","object-id":l.leadId},null,8,["object-id"])])):E("",!0)]),k(n)?(f(),J(r,{key:0,openFileModal:k(n),object:l.leadId,type:k(s),"onClose:ModalHandler":a[16]||(a[16]=e=>n.value=!1),"onUpdate:OnSuccess":c},null,8,["openFileModal","object","type"])):E("",!0)])}}}),Fi={class:"widget-head"},zi={class:"dark-inverted"},Ki={class:"tabbed-controls"},Ji=["onKeydown"],$i=["onKeydown"],Hi=g("div",{class:"tabbed-naver"},null,-1),Gi={class:"inner-list"},Wi=g("span",{class:"tag is-rounded"}," pending ",-1),qi=g("a",{href:"#"},"Call Julio to update",-1),Zi=g("span",null,"10:30 AM",-1),Xi={class:"inner-list"},Qi=g("span",{class:"tag is-rounded"}," pending ",-1),Yi=g("a",{href:"#"},"Call Julio to update",-1),en=g("span",null,"10:30 AM",-1),ln=h({__name:"JobTodos",props:{title:{default:"Todo"},labels:{default:()=>["Today","All"]},straight:{type:Boolean},toggled:{type:Boolean}},setup(e){const l=w(e.toggled),a=()=>{l.value=!l.value};return(e,t)=>{const s=Ie,i=Ue;return f(),y("div",{class:T(["list-widget tabbed-widget",[e.straight&&"is-straight"]])},[g("div",Fi,[g("h3",zi,S(e.title),1),g("div",Ki,[g("a",{class:T(["tabbed-control",[!k(l)&&"is-active"]]),role:"button",tabindex:"0",onKeydown:D(P(a,["prevent"]),["space"]),onClick:a},[g("span",null,S(e.labels[0]),1)],42,Ji),g("a",{class:T(["tabbed-control",[k(l)&&"is-active"]]),role:"button",tabindex:"0",onKeydown:D(P(a,["prevent"]),["space"]),onClick:a},[g("span",null,S(e.labels[1]),1)],42,$i),Hi])]),g("div",{class:T(["inner-list-wrapper",[!k(l)&&"is-active"]])},[g("div",Gi,[g("div",null,[(f(),y(x,null,C(6,(l=>_(i,{center:"",lighter:"",class:"inner-list-item"},{icon:b((()=>[_(s,{modelValue:e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.modelValue=l),value:"todo",color:"primary"},null,8,["modelValue"])])),action:b((()=>[Wi])),default:b((()=>[qi,Zi])),_:1}))),64))])])],2),g("div",{class:T(["inner-list-wrapper",[k(l)&&"is-active"]])},[g("div",Xi,[g("div",null,[(f(),y(x,null,C(10,(l=>_(i,{center:"",lighter:"",class:"inner-list-item"},{icon:b((()=>[_(s,{modelValue:e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=l=>e.modelValue=l),value:"todo",color:"primary"},null,8,["modelValue"])])),action:b((()=>[Qi])),default:b((()=>[Yi,en])),_:1}))),64))])])],2)],2)}}}),an={class:"business-dashboard hr-dashboard"},tn={class:"columns is-multiline"},sn={class:"column is-12"},nn={class:"columns is-multiline"},on={class:"column is-12"},dn={class:"block-header"},cn={class:"left"},rn={class:"current-user"},un={class:"center"},pn=g("h4",{class:"block-heading"},"Address",-1),mn={class:"block-text"},vn=g("br",null,null,-1),hn=g("br",null,null,-1),fn={class:"right"},yn=g("h4",{class:"block-heading"},"Managers",-1),gn={class:"candidates"},_n=g("button",null,[g("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:plus"})],-1),bn={class:"column is-12"},kn={class:"toolbar"},wn={class:"tabs-inner"},jn={class:"tabs is-boxed"},xn=[g("span",null,"Job Management",-1)],Cn=[g("span",null,"Documents/Files",-1)],Sn=[g("span",null,"Proposals",-1)],Tn=[g("span",null,"Tasks",-1)],Vn=[g("span",null,"Activities",-1)],An=[g("span",null,"Finance",-1)],Mn=[g("span",null,"Report",-1)],Un=[g("span",null,"Job progress",-1)],In=g("li",{class:"tab-naver"},null,-1),Dn={key:0,class:"column is-12"},Pn={class:"columns is-multiline"},En={class:"column is-8"},Ln={class:"columns is-multiline"},Rn={class:"column is-12"},On={class:"feed-settings"},Nn=g("h3",{class:"dark-inverted"},"Job feeds",-1),Bn={class:"buttons"},Fn={class:"column is-4"},zn={class:"side-text"},Kn=g("h3",{class:"dark-inverted"},"Job Description",-1),Jn=["innerHTML"],$n=g("a",{class:"action-link",tabindex:"0"},"Read More",-1),Hn={class:"column is-7 is-offset-1"},Gn={class:"incoming"},Wn=g("i",{"aria-hidden":"true",class:"lnil lnil-envelope-alt"},null,-1),qn=g("div",null,[g("span",{class:"item-name dark-inverted"},"Messages"),g("span",{class:"item-meta"},[g("span",null,"Inbox messages")])],-1),Zn=g("i",{"aria-hidden":"true",class:"lnil lnil-checkmark-circle"},null,-1),Xn=g("div",null,[g("span",{class:"item-name dark-inverted"},"Tasks"),g("span",{class:"item-meta"},[g("span",null,"Pending tasks")])],-1),Qn={key:3,tabindex:"0",class:"action-link is-pushed-mobile"},Yn={key:4,class:"light-text"},eo={class:"column is-12"},lo={class:"recent-rookies"},ao=g("div",{class:"recent-rookies-header"},[g("h3",{class:"dark-inverted"},"Internal Users"),g("a",{class:"action-link",tabindex:"0"},"View All")],-1),to={class:"columns is-multiline user-grid user-grid-v4"},so={class:"column is-4"},io={class:"grid-item"},no={class:"dark-inverted"},oo={class:"capitalized"},co={class:"button-wrap has-text-centered"},ro={class:"column is-4"},uo={key:0,class:"card mb-4",id:"workerProfileMap",style:{height:"300px",width:"100%","border-radius":"10px","z-index":"9"}},po=g("div",{class:"widget-toolbar"},[g("div",{class:"left"},[g("a",{class:"action-icon"},[g("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"}),g("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"})])]),g("div",{class:"center"},[g("h3",null,"October 2020")]),g("div",{class:"right"},[g("a",{class:"action-icon"},[g("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"}),g("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"})])])],-1),mo=g("table",{class:"calendar"},[g("thead",null,[g("tr",null,[g("th",{scope:"col"},"Mon"),g("th",{scope:"col"},"Tue"),g("th",{scope:"col"},"Wed"),g("th",{scope:"col"},"Thu"),g("th",{scope:"col"},"Fri"),g("th",{scope:"col"},"Sat"),g("th",{scope:"col"},"Sun")])]),g("tbody",null,[g("tr",null,[g("td",{class:"prev-month"},"29"),g("td",{class:"prev-month"},"30"),g("td",{class:"prev-month"},"31"),g("td",null,"1"),g("td",null,"2"),g("td",null,"3"),g("td",null,"4")]),g("tr",null,[g("td",null,"5"),g("td",null,"6"),g("td",null,"7"),g("td",null,"8"),g("td",null,"9"),g("td",null,"10"),g("td",null,"11")]),g("tr",null,[g("td",null,"12"),g("td",null,"13"),g("td",null,"14"),g("td",null,"15"),g("td",null,"16"),g("td",null,"17"),g("td",{class:"current-day"},"18")]),g("tr",null,[g("td",null,"19"),g("td",null,"20"),g("td",null,"21"),g("td",null,"22"),g("td",null,"23"),g("td",null,"24"),g("td",null,"25")]),g("tr",null,[g("td",null,"26"),g("td",null,"27"),g("td",null,"28"),g("td",null,"29"),g("td",null,"30"),g("td",null,"31"),g("td",{class:"next-month"},"1")])])],-1),vo={key:1,class:"column is-12"},ho={key:2,class:"column is-12"},fo={key:3,class:"column is-12"},yo={key:4,class:"column is-12"},go={key:5,class:"column is-12"},_o={key:6,class:"column is-12"},bo={key:7,class:"column is-12"},ko={key:8,class:"column is-12"},wo=h({__name:"JobDetails",setup(e){const t=Z();U();const s=Y();we();const i=w(!1),n=w(""),o=w(!1),d=w({id:"",sales_people_info:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:null,email:"",role:"",avatar:""},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],clientInfo:{id:"",username:"",last_name:null,email:"",role:"",avatar:null},created_by_info:{id:"",username:"",last_name:null,email:"",role:"",avatar:""},managers_list:[{id:"",username:"",last_name:null,email:"",role:"",avatar:null},{id:"",username:"",last_name:"",email:"",role:"",avatar:""}],title:"",address:"",current_state:"",city:"",state:"",status:"",zip_code:"",confidence:"",sale_date:"",tags:[],estimated_from:"",estimated_to:"",sources:"",project_type:"",notes:"",attach_mail:"",latitude:null,longitude:null,created_at:"",updated_at:"",created_by:"",client:"",contractor:null,sales_people:[],managers:[]}),c=w("management"),r=[{type:"messages",count:5,status:"new"},{type:"tasks",count:3,status:"pending"}],u={type:{label:"Type",grow:"lg",media:!0},count:{label:"Count",align:"center"},status:"Status",actions:{label:"Actions",align:"end"}};let p;const m=async()=>{try{i.value=!0;const e=await s.get(`/api/project/${t.params.id}/detail/`);d.value=e.data,e.data.latitude&&((e,l)=>{if(p&&p.remove(),p=L.map("workerProfileMap").setView([51.4497984,-.3464489],24),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(p),e&&l){const a=[e,l];L.marker(a).addTo(p),p.setView(a,34)}else console.log("Invalid latitude or longitude for supplier")})(e.data.latitude??39.63,e.data.longitude??-105.3199999)}catch(e){console.error(e)}finally{i.value=!1}};return j((()=>{m()})),(e,s)=>{const i=Q,p=F,v=Le,h=Ee,w=Pe,j=De,V=ln,A=Me,M=Bi,U=Is,I=Ct,L=lt,R=rl,N=qe,B=a,z=l,K=X("tooltip");return f(),y("div",an,[g("div",tn,[g("div",sn,[g("div",nn,[g("div",on,[g("div",dn,[g("div",cn,[g("div",rn,[_(i,{size:"large",picture:"lead"==k(d).current_state?"/icons/lead-shield-96.png":"/icons/job-sheild.png",squared:""},null,8,["picture"]),g("h3",null,S(k(d).title?k(d).title:"No Title"),1)])]),g("div",un,[pn,g("p",mn,[G(S(k(d).address?k(d).address:"No Address Added")+" ",1),vn,G(" "+S(k(d).city?k(d).city:"No City Added")+", "+S(k(d).state?k(d).state:"No State Added")+" ",1),hn,G(" "+S(k(d).zip_code?k(d).zip_code:"No Zip Code Added"),1)])]),g("div",fn,[yn,g("div",gn,[(f(!0),y(x,null,C(k(d).managers_list,(e=>O((f(),J(i,{picture:e.avatar,initials:e.username.slice(0,2),squared:"",color:"warning"},null,8,["picture","initials"])),[[K,`${e.username??"N/A"} ${e.last_name??""}`,void 0,{info:!0,rounded:!0}]]))),256)),_n]),_(p,{class:"mt-1",onClick:s[0]||(s[0]=e=>{return l=k(t).params.id,n.value=l,void(o.value=!0);var l}),bold:"",fullwidth:"","dark-outlined":""},{default:b((()=>[G(" Update "+S("lead"==k(d).current_state?"lead":"job"),1)])),_:1})])])]),g("div",bn,[g("div",kn,[g("div",wn,[g("div",jn,[g("ul",null,[g("li",{class:T(["management"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=D(P((e=>c.value="management"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>c.value="management")},xn,32)],2),g("li",{class:T(["documents"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=D(P((e=>c.value="documents"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>c.value="documents")},Cn,32)],2),g("li",{class:T(["proposals"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=D(P((e=>c.value="proposals"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>c.value="proposals")},Sn,32)],2),g("li",{class:T(["tasks"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=D(P((e=>c.value="tasks"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>c.value="tasks")},Tn,32)],2),g("li",{class:T(["activities"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=D(P((e=>c.value="activities"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>c.value="activities")},Vn,32)],2),g("li",{class:T(["finance"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=D(P((e=>c.value="finance"),["prevent"]),["space"])),onClick:s[12]||(s[12]=e=>c.value="finance")},An,32)],2),g("li",{class:T(["report"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[13]||(s[13]=D(P((e=>c.value="report"),["prevent"]),["space"])),onClick:s[14]||(s[14]=e=>c.value="report")},Mn,32)],2),g("li",{class:T(["progress"===k(c)&&"is-active"])},[g("a",{tabindex:"0",role:"button",onKeydown:s[15]||(s[15]=D(P((e=>c.value="progress"),["prevent"]),["space"])),onClick:s[16]||(s[16]=e=>c.value="progress")},Un,32)],2),In])])])])]),"management"===k(c)?(f(),y("div",Dn,[g("div",Pn,[g("div",En,[g("div",Ln,[g("div",Rn,[g("div",On,[Nn,g("div",Bn,[(f(!0),y(x,null,C(k(d).tags,((e,l)=>(f(),y("button",{key:l,class:"button is-selected is-light is-dark-outlined"},S(e),1)))),128))])])]),g("div",Fn,[g("div",zn,[Kn,g("div",{innerHTML:k(d).notes},null,8,Jn),$n])]),g("div",Hn,[g("div",Gn,[_(w,{rounded:"",data:r,columns:u},{"body-cell":b((({row:e,column:l,value:a})=>["type"===l.key&&"messages"===e.type?(f(),y(x,{key:0},[_(v,{color:"green"},{default:b((()=>[Wn])),_:1}),qn],64)):"type"===l.key&&"tasks"===e.type?(f(),y(x,{key:1},[_(v,{color:"orange"},{default:b((()=>[Zn])),_:1}),Xn],64)):"status"===l.key?(f(),y(x,{key:2},["new"===e.status?(f(),J(h,{key:0,rounded:"",color:"success",label:"New"})):(f(),J(h,{key:1,rounded:"",label:"Pending"}))],64)):"actions"===l.key?(f(),y("a",Qn,"Open")):(f(),y("span",Yn,S(a),1))])),_:1})])]),g("div",eo,[g("div",lo,[ao,g("div",to,[(f(!0),y(x,null,C(k(d).sales_people_info,(e=>(f(),y("div",so,[g("div",io,[_(j),_(i,{picture:e.avatar,initials:e.username.slice(0,2),size:"large"},null,8,["picture","initials"]),g("h3",no,S(e.username??"N/A")+" "+S(e.last_name??""),1),g("p",oo,S(e.role),1),g("div",co,[_(p,{color:"primary",raised:""},{default:b((()=>[G(" View Profile ")])),_:1})])])])))),256))])])])])]),g("div",ro,["management"===k(c)?(f(),y("div",uo)):E("",!0),_(V),_(A,{class:"picker-widget"},{header:b((()=>[po])),body:b((()=>[mo])),_:1})])])])):E("",!0),"documents"===k(c)?(f(),y("div",vo,[_(M,{leadId:k(t).params.id},null,8,["leadId"])])):E("",!0),"proposals"===k(c)?(f(),y("div",ho,[_(Re,{"lead-id":k(t).params.id,onUpdateCompany:m},null,8,["lead-id"])])):E("",!0),"activities"===k(c)?(f(),y("div",fo,[_(U,{jobId:k(t).params.id},null,8,["jobId"])])):E("",!0),"progress"===k(c)?(f(),y("div",yo,[_(I,{object:k(t).params.id,type:"job"},null,8,["object"])])):E("",!0),"finance"===k(c)?(f(),y("div",go,[_(L)])):E("",!0),"activityLogs"===k(c)?(f(),y("div",_o,[_(R,{object_id:k(t).params.id||k(d).id,object_type:"lead"},null,8,["object_id"])])):E("",!0),"report"===k(c)?(f(),y("div",bo,[_(N)])):E("",!0),"tasks"===k(c)?(f(),y("div",ko,[_(B,{projectID:k(t).params.id},null,8,["projectID"])])):E("",!0)])])]),k(o)?(f(),J(z,{key:0,addUpdateLeadModal:k(o),leadId:k(n),"onUpdate:modalHandler":s[17]||(s[17]=e=>o.value=!1),"onUpdate:OnSuccess":m},null,8,["addUpdateLeadModal","leadId"])):E("",!0)])}}});export{wo as _};
