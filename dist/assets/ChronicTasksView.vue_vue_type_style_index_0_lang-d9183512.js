import{_ as e}from"./TaskInfoModal.vue_vue_type_script_setup_true_lang-35734ef3.js";import{_ as l}from"./UpdateTask.vue_vue_type_script_setup_true_lang-e4f93423.js";import{_ as a}from"./SweetAlert.vue_vue_type_style_index_0_lang-ff5df3c8.js";import{_ as s}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-192cbc6f.js";import{_ as t}from"./VAvatar.vue_vue_type_style_index_0_lang-2997f58b.js";import{_ as i}from"./VDropdown.vue_vue_type_style_index_0_lang-11db89ff.js";import{f as n,r as c,b as o,$ as d,o as r,av as u,C as p,D as m,E as v,F as k,G as h,L as g,X as f,m as y,k as _,I as w,H as b,U as C,V as j,W as D,O as x,N as T,al as S,J as A,Q as I,R as E,S as W,B as P,aS as M,K as O}from"./index-c5e45f53.js";import{_ as V}from"./VControl-4d3f173c.js";import{_ as L,a as $}from"./projects-dark-4a371d8a.js";import{u as N}from"./useNotyf-25b7a264.js";import{u as U}from"./useAPI-bef75d24.js";import{c as R,_ as H}from"./VFlexTable.vue_vue_type_style_index_0_lang-111b5127.js";import{_ as z}from"./VTag.vue_vue_type_style_index_0_lang-7f78b8c9.js";import{_ as K,a as q}from"./search-4-dark-2b5b440c.js";import{p as F}from"./index-c1fc2d09.js";import{_ as Q}from"./VField.vue_vue_type_script_setup_true_lang-82d05aad.js";import{_ as Y}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-32c886b2.js";import{_ as B,a as G}from"./having-coffee-dark-69a7d2f6.js";const J=e=>(I("data-v-aa329647"),e=e(),E(),e),X={class:"list-flex-toolbar is-reversed"},Z={class:"tabs-inner"},ee={class:"tabs"},le=J((()=>v("span",null,"All",-1))),ae=[le],se=J((()=>v("span",null,"Active",-1))),te=[se],ie=J((()=>v("span",null,"Pending",-1))),ne=[ie],ce=J((()=>v("span",null,"Completed",-1))),oe=[ce],de=J((()=>v("li",{class:"tab-naver"},null,-1))),re={class:"flex-list-wrapper flex-list-v2"},ue={key:0,class:"tab-content is-active"},pe={class:"all-projects"},me={class:"all-projects-header"},ve={class:"header-item"},ke={class:"item-inner"},he=J((()=>v("i",{"aria-hidden":"true",class:"lnil lnil-analytics-alt-1"},null,-1))),ge=J((()=>v("p",null,"Total Tasks",-1))),fe={class:"header-item"},ye={class:"item-inner"},_e=J((()=>v("i",{"aria-hidden":"true",class:"lnil lnil-target-alt-1"},null,-1))),we=J((()=>v("p",null,"Completed Tasks",-1))),be={class:"header-item"},Ce={class:"item-inner"},je=J((()=>v("i",{"aria-hidden":"true",class:"lnil lnil-pie-chart-alt"},null,-1))),De=J((()=>v("p",null,"Pending Tasks",-1))),xe={class:"header-item"},Te={class:"item-inner"},Se=J((()=>v("i",{"aria-hidden":"true",class:"lnil lnil-leaf"},null,-1))),Ae=J((()=>v("p",null,"Active Tasks",-1))),Ie={key:0,class:"columns is-multiline projects-card-grid"},Ee={class:"column is-6"},We={class:"grid-item"},Pe={class:"top-section"},Me={class:"head"},Oe=["onClick"],Ve=["onClick"],Le=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Active"),v("span",null,"Start work on this task")],-1)))],$e=["onClick"],Ne=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Pending"),v("span",null,"Waiting to work on")],-1)))],Ue=["onClick"],Re=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Completed"),v("span",null,"Mark task as completed")],-1)))],He=J((()=>v("hr",{class:"dropdown-divider"},null,-1))),ze=["onClick"],Ke=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Edit"),v("span",null,"Edit Task detail")],-1)))],qe=["onClick"],Fe=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Delete "),v("span",null,"Delete this task")],-1)))],Qe={key:0,class:"foot-block"},Ye=J((()=>v("h4",{class:"heading"},"Sub Contractor",-1))),Be={class:"developers"},Ge={key:1,class:"foot-block"},Je=J((()=>v("h4",{class:"heading"},"Worker(s)",-1))),Xe={class:"developers"},Ze={class:"foot-block"},el=J((()=>v("h4",{class:"heading"},"Start date",-1))),ll={class:"foot-block"},al=J((()=>v("h4",{class:"heading"},"End date",-1))),sl={class:"foot-block"},tl=J((()=>v("h4",{class:"heading"},"Status",-1))),il=J((()=>v("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),nl=J((()=>v("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),cl={key:1,class:"tab-content is-active"},ol={class:"all-projects"},dl={key:0,class:"columns is-multiline projects-card-grid"},rl={class:"column is-6"},ul={class:"grid-item"},pl={class:"top-section"},ml={class:"head"},vl=["onClick"],kl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Active"),v("span",null,"Start work on this task")],-1)))],hl=["onClick"],gl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Pending"),v("span",null,"Waiting to work on")],-1)))],fl=["onClick"],yl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Completed"),v("span",null,"Mark task as completed")],-1)))],_l=J((()=>v("hr",{class:"dropdown-divider"},null,-1))),wl=["onClick"],bl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Edit"),v("span",null,"Edit Task detail")],-1)))],Cl=["onClick"],jl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Delete "),v("span",null,"Delete this task")],-1)))],Dl={class:"body"},xl={class:"bottom-section"},Tl={class:"foot-block"},Sl=J((()=>v("h4",{class:"heading"},"Worker(s)",-1))),Al={class:"developers"},Il={class:"foot-block"},El=J((()=>v("h4",{class:"heading"},"Start date",-1))),Wl={class:"foot-block"},Pl=J((()=>v("h4",{class:"heading"},"End date",-1))),Ml={class:"foot-block"},Ol=J((()=>v("h4",{class:"heading"},"Status",-1))),Vl=J((()=>v("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),Ll=J((()=>v("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),$l={key:2,class:"tab-content is-active"},Nl={class:"all-projects"},Ul={key:0,class:"columns is-multiline projects-card-grid"},Rl={class:"column is-6"},Hl={class:"grid-item"},zl={class:"top-section"},Kl={class:"head"},ql=["onClick"],Fl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Active"),v("span",null,"Start work on this task")],-1)))],Ql=["onClick"],Yl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Pending"),v("span",null,"Waiting to work on")],-1)))],Bl=["onClick"],Gl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Completed"),v("span",null,"Mark task as completed")],-1)))],Jl=J((()=>v("hr",{class:"dropdown-divider"},null,-1))),Xl=["onClick"],Zl=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Edit"),v("span",null,"Edit Task detail")],-1)))],ea=["onClick"],la=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Delete "),v("span",null,"Delete this task")],-1)))],aa={class:"body"},sa={class:"bottom-section"},ta={class:"foot-block"},ia=J((()=>v("h4",{class:"heading"},"Worker(s)",-1))),na={class:"developers"},ca={class:"foot-block"},oa=J((()=>v("h4",{class:"heading"},"Start date",-1))),da={class:"foot-block"},ra=J((()=>v("h4",{class:"heading"},"End date",-1))),ua={class:"foot-block"},pa=J((()=>v("h4",{class:"heading"},"Status",-1))),ma=J((()=>v("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),va=J((()=>v("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),ka={key:3,class:"tab-content is-active"},ha={class:"all-projects"},ga={key:0,class:"columns is-multiline projects-card-grid"},fa={class:"column is-6"},ya={class:"grid-item"},_a={class:"top-section"},wa={class:"head"},ba=["onClick"],Ca=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Active"),v("span",null,"Start work on this task")],-1)))],ja=["onClick"],Da=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Pending"),v("span",null,"Waiting to work on")],-1)))],xa=["onClick"],Ta=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Completed"),v("span",null,"Mark task as completed")],-1)))],Sa=J((()=>v("hr",{class:"dropdown-divider"},null,-1))),Aa=["onClick"],Ia=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Edit"),v("span",null,"Edit Task detail")],-1)))],Ea=["onClick"],Wa=[J((()=>v("div",{class:"icon"},[v("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),J((()=>v("div",{class:"meta"},[v("span",null,"Delete "),v("span",null,"Delete this task")],-1)))],Pa={class:"body"},Ma={class:"bottom-section"},Oa={class:"foot-block"},Va=J((()=>v("h4",{class:"heading"},"Worker(s)",-1))),La={class:"developers"},$a={class:"foot-block"},Na=J((()=>v("h4",{class:"heading"},"Start date",-1))),Ua={class:"foot-block"},Ra=J((()=>v("h4",{class:"heading"},"End date",-1))),Ha={class:"foot-block"},za=J((()=>v("h4",{class:"heading"},"Status",-1))),Ka=J((()=>v("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),qa=J((()=>v("img",{class:"dark-image is-larger",src:$,alt:""},null,-1))),Fa=W(n({__name:"WorkerTasks",props:{projectID:{default:""},workerId:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(n,{emit:I}){const E=n,W=U(),P=N(),M=c(""),O=o(),L=c(""),$=c("all"),R=c(0),H=c(!1),z=c(!1),K=c(0),q=c({}),F=c("");c([{value:"active",name:"Active"},{value:"pending",name:"Pre Construction"},{value:"completed",name:"Completed"},{value:"cancelled",name:"cancelled"}]),c([{id:0,username:"",email:"",phoneNumber:""}]);const Q=c([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}],quantity:"",unit:"",costCode:""}]),Y=c({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),B=e=>{K.value=e,Y.value={title:"Delete Task?",subtitle:"Do you really want to delete this task permanently?",btntext:"Yes, Delete",isSweetAlertOpen:!0}},G=async()=>{try{H.value=!0;const e=await W.get(`/api/task/${E.workerId?E.workerId:O.user.id}/worker-tasks/`);Q.value=e.data,console.log(e.data),H.value=!1}catch(e){console.log(e)}},J=d((()=>{let e=Q.value.filter((e=>"active"==e.status));return I("update:completedTasks",e.length),e.length})),le=d((()=>{let e=Q.value.filter((e=>"pending"==e.status));return I("update:activeTasks",e.length),e.length})),se=d((()=>Q.value.filter((e=>"completed"==e.status)).length)),ie=e=>{F.value=e,z.value=!0},ce=()=>{G(),z.value=!1,F.value=""},Fa=async(e,l)=>{try{H.value=!0;await W.patch(`/api/task/${e}/`,{status:l,schedule_mode:localStorage.getItem("isScheduleMode")});G(),P.success(`Task set to ${l} successfully`),R.value=0,H.value=!1}catch(a){console.log(a)}},Qa=async()=>{try{H.value=!0;const e=await W.delete(`/api/task/${K.value}/`);console.log(e),P.success("Task deleted successfully"),G(),Y.value.isSweetAlertOpen=!1,R.value=0}catch(e){console.log(e)}finally{H.value=!1}},Ya=d((()=>{if(L.value){const e=new RegExp(L.value,"i");return Q.value.filter((l=>"completed"!=l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return Q.value.filter((e=>"completed"!=e.status))})),Ba=d((()=>{if(L.value){const e=new RegExp(L.value,"i");return Q.value.filter((l=>"completed"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return Q.value.filter((e=>"completed"==e.status))})),Ga=d((()=>{if(L.value){const e=new RegExp(L.value,"i");return Q.value.filter((l=>"active"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return Q.value.filter((e=>"active"==e.status))}));c({});const Ja=c(!1),Xa=c(""),Za=(e,l)=>{console.log("detail",e),q.value=e,Xa.value=l,Ja.value=!0},es=d((()=>{if(L.value){const e=new RegExp(L.value,"i");return Q.value.filter((l=>"pending"==l.status&&(l.title.match(e)||l.description.match(e)||l.status.match(e))))}return Q.value.filter((e=>"pending"==e.status))}));return r((()=>{G()})),(n,c)=>{const o=V,d=S,r=i,I=t,W=s,P=a,O=l,N=e,U=u("tooltip");return p(),m(j,null,[v("div",null,[v("div",X,[k(d,null,{default:h((()=>[k(o,{class:"mr-2 h-hidden-mobile",icon:"feather:search"},{default:h((()=>[g(v("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>_(L)?L.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[f,y(L)]])])),_:1})])),_:1}),v("div",Z,[v("div",ee,[v("ul",null,[v("li",{class:w(["all"===y($)&&"is-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[1]||(c[1]=b(A((e=>$.value="all"),["prevent"]),["space"])),onClick:c[2]||(c[2]=e=>$.value="all")},ae,32)],2),v("li",{class:w(["active"===y($)&&"is-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[3]||(c[3]=b(A((e=>$.value="active"),["prevent"]),["space"])),onClick:c[4]||(c[4]=e=>$.value="active")},te,32)],2),v("li",{class:w(["pending"===y($)&&"is-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[5]||(c[5]=b(A((e=>$.value="pending"),["prevent"]),["space"])),onClick:c[6]||(c[6]=e=>$.value="pending")},ne,32)],2),v("li",{class:w(["completed"===y($)&&"is-active"])},[v("a",{tabindex:"0",role:"button",onKeydown:c[7]||(c[7]=b(A((e=>$.value="completed"),["prevent"]),["space"])),onClick:c[8]||(c[8]=e=>$.value="completed")},oe,32)],2),de])])])]),v("div",re,["all"===y($)?(p(),m("div",ue,[v("div",pe,[v("div",me,[v("div",ve,[v("div",ke,[he,v("span",null,C(y(Q).length),1),ge])]),v("div",fe,[v("div",ye,[_e,v("span",null,C(y(se)),1),we])]),v("div",be,[v("div",Ce,[je,v("span",null,C(y(le)),1),De])]),v("div",xe,[v("div",Te,[Se,v("span",null,C(y(J)),1),Ae])])]),y(Ya).length?(p(),m("div",Ie,[(p(!0),m(j,null,D(y(Ya),(e=>(p(),m("div",Ee,[v("div",We,[v("div",Pe,[v("div",Me,[v("h3",{class:"cu-pointer",onClick:l=>Za(e,e.id)},C(e.title),9,Oe),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[v("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Le,8,Ve),v("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Ne,8,$e),v("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Re,8,Ue),He,v("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},Ke,8,ze),v("a",{onClick:l=>B(e.id),role:"menuitem",class:"dropdown-item is-media"},Fe,8,qe)])),_:2},1024)]),v("div",{class:"body cu-pointer",onClick:c[10]||(c[10]=e=>Za(n.arg.event.extendedProps,n.arg.event.id))},[v("p",{class:"cu-pointer",onClick:c[9]||(c[9]=e=>Za(n.arg.event.extendedProps,n.arg.event.id))},C(e.description),1)])]),v("div",{class:"bottom-section cu-pointer",onClick:c[11]||(c[11]=e=>Za(n.arg.event.extendedProps,n.arg.event.id))},[e.supplier?(p(),m("div",Qe,[Ye,v("div",Be,[g(k(I,{picture:e.supplier?.avatar,size:"small",color:"primary",initials:e.supplier?.avatar?"":e.supplier?.username.slice(0,2)},null,8,["picture","initials"]),[[U,`${e?.supplier?.username}`,void 0,{rounded:!0,info:!0}]])])])):T("",!0),e.workers?.length?(p(),m("div",Ge,[Je,v("div",Xe,[(p(!0),m(j,null,D(e.workers,(e=>g((p(),x(I,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])])):T("",!0),v("div",Ze,[el,v("p",null,C(e.startDate),1)]),v("div",ll,[al,v("p",null,C(e.endDate),1)]),v("div",sl,[tl,v("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"There is no task added on this projects.",subtitle:"Looks like you don't have any task on this project yet. When you'll\n                start creating tasks of this project, they will be showing up in here."},{image:h((()=>[il,nl])),_:1}))])])):"active"===y($)?(p(),m("div",cl,[v("div",ol,[y(Ga).length?(p(),m("div",dl,[(p(!0),m(j,null,D(y(Ga),(e=>(p(),m("div",rl,[v("div",ul,[v("div",pl,[v("div",ml,[v("h3",null,C(e.title),1),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[v("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},kl,8,vl),v("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},gl,8,hl),v("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},yl,8,fl),_l,v("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},bl,8,wl),v("a",{onClick:l=>B(e.id),role:"menuitem",class:"dropdown-item is-media"},jl,8,Cl)])),_:2},1024)]),v("div",Dl,[v("p",null,C(e.description),1)])]),v("div",xl,[v("div",Tl,[Sl,v("div",Al,[(p(!0),m(j,null,D(e.workers,(e=>g((p(),x(I,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),v("div",Il,[El,v("p",null,C(e.startDate),1)]),v("div",Wl,[Pl,v("p",null,C(e.endDate),1)]),v("div",Ml,[Ol,v("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:h((()=>[Vl,Ll])),_:1}))])])):"pending"===y($)?(p(),m("div",$l,[v("div",Nl,[y(es).length?(p(),m("div",Ul,[(p(!0),m(j,null,D(y(es),(e=>(p(),m("div",Rl,[v("div",Hl,[v("div",zl,[v("div",Kl,[v("h3",null,C(e.title),1),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[v("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Fl,8,ql),v("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Yl,8,Ql),v("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Gl,8,Bl),Jl,v("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},Zl,8,Xl),v("a",{onClick:l=>B(e.id),role:"menuitem",class:"dropdown-item is-media"},la,8,ea)])),_:2},1024)]),v("div",aa,[v("p",null,C(e.description),1)])]),v("div",sa,[v("div",ta,[ia,v("div",na,[(p(!0),m(j,null,D(e.workers,(e=>g((p(),x(I,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),v("div",ca,[oa,v("p",null,C(e.startDate),1)]),v("div",da,[ra,v("p",null,C(e.endDate),1)]),v("div",ua,[pa,v("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:h((()=>[ma,va])),_:1}))])])):"completed"===y($)?(p(),m("div",ka,[v("div",ha,[y(Ba).length?(p(),m("div",ga,[(p(!0),m(j,null,D(y(Ba),(e=>(p(),m("div",fa,[v("div",ya,[v("div",_a,[v("div",wa,[v("h3",null,C(e.title),1),k(r,{icon:"feather:more-vertical",spaced:"",right:""},{content:h((()=>[v("a",{onClick:l=>Fa(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Ca,8,ba),v("a",{onClick:l=>Fa(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Da,8,ja),v("a",{onClick:l=>Fa(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Ta,8,xa),Sa,v("a",{onClick:l=>ie(e.id),role:"menuitem",class:"dropdown-item is-media"},Ia,8,Aa),v("a",{onClick:l=>B(e.id),role:"menuitem",class:"dropdown-item is-media"},Wa,8,Ea)])),_:2},1024)]),v("div",Pa,[v("p",null,C(e.description),1)])]),v("div",Ma,[v("div",Oa,[Va,v("div",La,[(p(!0),m(j,null,D(e.workers,(e=>g((p(),x(I,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[U,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),v("div",$a,[Na,v("p",null,C(e.startDate),1)]),v("div",Ua,[Ra,v("p",null,C(e.endDate),1)]),v("div",Ha,[za,v("p",null,C(e.status),1)])])])])))),256))])):(p(),x(W,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:h((()=>[Ka,qa])),_:1}))])])):T("",!0)])]),y(Y).isSweetAlertOpen?(p(),x(P,{key:0,isSweetAlertOpen:y(Y).isSweetAlertOpen,title:y(Y).title,subtitle:y(Y).subtitle,btntext:y(Y).btntext,onConfirm:Qa,loading:y(H),onCancel:()=>y(Y).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","loading","onCancel"])):T("",!0),y(z)?(p(),x(O,{key:1,projectID:E.projectID,isOpen:y(z),taskIdSelected:y(F),startDate:y(M),"onUpdate:modalHandler":ce,"onUpdate:OnSuccess":G},null,8,["projectID","isOpen","taskIdSelected","startDate"])):T("",!0),y(Ja)?(p(),x(N,{key:2,taskDetailModal:y(Ja),taskData:y(q),taskId:y(Xa),"onUpdate:modalHandler":c[12]||(c[12]=e=>Ja.value=!1)},null,8,["taskDetailModal","taskData","taskId"])):T("",!0)],64)}}}),[["__scopeId","data-v-aa329647"]]),Qa={class:"flex-list-wrapper flex-list-v2"},Ya=v("img",{class:"light-image",src:K,alt:""},null,-1),Ba=v("img",{class:"dark-image",src:q,alt:""},null,-1),Ga={key:1,class:"tab-content is-active"},Ja=["onClick"],Xa={class:"item-name dark-inverted show-text-200"},Za={class:"item-meta"},es={class:"link-text"},ls={class:"light-text"},as={class:"light-text"},ss={key:2,class:"tab-content is-active"},ts=v("img",{class:"light-image is-larger",src:L,alt:""},null,-1),is=v("img",{class:"dark-image is-larger",src:$,alt:""},null,-1),ns=n({__name:"ChronicTasksList",props:{tasks:{default:{}}},setup(l){const a=l,t=c(!1);c(!1);const i=c({}),n=c(""),o=F,r=c(""),u=c("active"),g={picture:{label:"Task",media:!0,grow:!0},customer:"Start ",industry:"End",status:"Quantity",team:{label:"Unit",cellClass:"h-hidden-tablet-p"},actions:{label:"Cost code",align:"end"}},f={completed:"primary",pending:"warning",active:"info",canceled:"danger"},_=d((()=>{if(r.value){const e=new RegExp(r.value,"i");return o.filter((l=>l.name.match(e)||l.customer.match(e)||l.industry.match(e)||l.status.match(e)||l.duration.match(e)))}return o}));return(l,c)=>{const o=s,d=P("Tippy"),r=R,w=z,b=H,S=e;return p(),m("div",null,[v("div",Qa,["active"===y(u)&&0===y(_).length?(p(),x(o,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:h((()=>[Ya,Ba])),_:1})):T("",!0),"active"===y(u)?(p(),m("div",Ga,[a.tasks?(p(),x(b,{key:0,data:y(_),columns:g,rounded:""},{body:h((()=>[k(M,{name:"list",tag:"div",class:"flex-list-inner"},{default:h((()=>[(p(!0),m(j,null,D(a.tasks,(e=>(p(),m("div",{key:e.id,class:"flex-table-item cu-pointer",onClick:l=>{return a=e,s=e.id,console.log("detail",a),i.value=a,n.value=s,void(t.value=!0);var a,s}},[k(r,{column:{media:!0,grow:!0}},{default:h((()=>[v("div",null,[v("span",Xa,C(e.title?e.title:""),1),v("span",Za,[k(d,{trigger:"click"},{content:h((()=>[O(C(e.description?e.description:""),1)])),default:h((()=>[v("span",es,C(e.description?.length>40?e.description?.slice(0,40):e.description.length<40?e.description:""),1)])),_:2},1024)])])])),_:2},1024),k(r,null,{default:h((()=>[v("span",ls,C(e.startDate?e.startDate:""),1)])),_:2},1024),k(r,null,{default:h((()=>[v("span",as,C(e.endDate?e.endDate:""),1)])),_:2},1024),k(r,null,{default:h((()=>[k(w,{outlined:"",color:"info",rounded:""},{default:h((()=>[O(C(e.quantity?e.quantity:""),1)])),_:2},1024)])),_:2},1024),k(r,{class:"h-hidden-tablet-p"},{default:h((()=>[k(w,{outlined:"",color:"primary",rounded:""},{default:h((()=>[O(C(e.unit?e.unit:"N/A"),1)])),_:2},1024)])),_:2},1024),k(r,{column:{align:"end"}},{default:h((()=>[k(w,{outlined:"",color:f[e.status],rounded:""},{default:h((()=>[O(C(e.status?e.status:""),1)])),_:2},1032,["color"])])),_:2},1024)],8,Ja)))),128))])),_:1})])),_:1},8,["data"])):T("",!0)])):"closed"===y(u)?(p(),m("div",ss,[k(o,{title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n              start closing off projects, they will be showing up in here."},{image:h((()=>[ts,is])),_:1})])):T("",!0)]),y(t)?(p(),x(S,{key:0,taskDetailModal:y(t),taskData:y(i),taskId:y(n),"onUpdate:modalHandler":c[0]||(c[0]=e=>t.value=!1)},null,8,["taskDetailModal","taskData","taskId"])):T("",!0)])}}}),cs={key:0},os={key:1},ds={class:"list-view-toolbar"},rs=v("div",{class:"tabs-inner"},null,-1),us={class:"list-view list-view-v2"},ps={class:"list-view-inner"},ms={class:"list-view-item"},vs={class:"list-view-item-inner"},ks={class:"meta-left"},hs={class:"info-text"},gs=v("i",{class:"lnir lnir-star-empty","aria-hidden":"true"},null,-1),fs=["innerHTML"],ys=v("div",{class:"meta-right"},null,-1),_s={class:"list-view-inner"},ws=v("img",{class:"light-image",src:B,alt:""},null,-1),bs=v("img",{class:"dark-image",src:G,alt:""},null,-1),Cs=n({__name:"ChronicTasksView",props:{supplierId:{default:""},projectID:{default:""},workerId:{default:""},userId:{default:""}},emits:["update:getAllTasks","update:completedTasks","update:activeTasks"],setup(e,{emit:l}){const a=e,t=o(),i=c("active"),n=c(""),u=c(!1),b=c([]),x=U(),S=d((()=>{if(n.value){const e=new RegExp(n.value,"i");return b.value.filter((l=>l.title.match(e)||l.description.match(e)))}return b.value}));return r((()=>{(async()=>{try{u.value=!0;const e=await x.get(`/api/task/project-wise-tasks/${a.userId?a.userId:t.user.id}/`);b.value=e.data,console.log("chronic tasks",e.data),u.value=!1}catch(e){console.log(e)}})()})),(e,l)=>{const a=Y,t=V,c=Q,o=s,d=ns;return y(u)?(p(),m("div",cs,[k(a)])):(p(),m("div",os,[v("div",ds,[k(c,null,{default:h((()=>[k(t,{icon:"feather:search"},{default:h((()=>[g(v("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>_(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[f,y(n)]])])),_:1})])),_:1}),rs]),(p(!0),m(j,null,D(y(S),(e=>(p(),m("div",{key:e.id,class:"page-content-inner mb-6"},[v("div",us,[v("div",{id:"active-items-tab",class:w(["tab-content",["active"===y(i)&&"is-active"]])},[v("div",ps,[k(M,{name:"list-complete",tag:"div"},{default:h((()=>[v("div",ms,[v("div",vs,[v("div",ks,[v("h3",null,[v("span",hs,[gs,O(C(e.title),1)])]),e.description?(p(),m("div",{key:0,innerHTML:e.description},null,8,fs)):T("",!0),v("span",null,[v("span",null," Timeline: "+C(e.startDate?e.startDate:"N/A")+" to "+C(e.endDate?e.endDate:"N/A"),1)])]),ys])])])),_:2},1024)])],2),v("div",{id:"inactive-items-tab",class:w(["tab-content",["inactive"===y(i)&&"is-active"]])},[v("div",_s,[k(o,{title:"There are no inactive properties.",subtitle:"Looks like there are no inactive properties to display. You can\n                disable and also enable a property from the property settings.",larger:""},{image:h((()=>[ws,bs])),_:1})])],2)]),k(d,{tasks:e.filtered_tasks},null,8,["tasks"])])))),128))]))}}});export{Cs as _,Fa as a};
