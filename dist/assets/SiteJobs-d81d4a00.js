import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-2f6d3c89.js";import{e as t,o as l,y as a,z as i,r as s,s as o,b as n,_ as r,H as c,B as d,C as u,S as m,l as p,T as g,A as y,D as v,a3 as f,Q as h,R as b,P as w,J as x,K as S,E as _,aB as k,W as C,X as D,L as E,N as I,j as z,at as O,aa as A,Y as j,a9 as N,O as T,I as P,U as M}from"./index-1c9998f2.js";import{_ as R}from"./VModal.vue_vue_type_style_index_0_lang-55fd0f65.js";import{u as V,a as L}from"./useAPI-a1408a11.js";import{u as U}from"./useNotyf-431b7a11.js";import{m as J,a as F}from"./useSupportElement-5b7eeae1.js";import{_ as H}from"./VField.vue_vue_type_script_setup_true_lang-d32c83cb.js";import{_ as q}from"./VControl-d9c5d1bd.js";import{_ as B}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-1d8eb6c3.js";import{u as $}from"./company-e42abd63.js";import{_ as G}from"./RotaView-beec8be6.js";import{_ as K}from"./VDropdown.vue_vue_type_style_index_0_lang-02638d94.js";import{_ as W}from"./PlaceloadV3.vue_vue_type_style_index_0_lang-8d5a54e6.js";const Y={id:"plyGonMap",style:{"border-radius":"20px",width:"100%"}},Z=t({__name:"PolygonMap",props:{siteData:{}},setup(e){const t=e;return l((()=>{console.log("site data",t.siteData),(e=>{console.log("ploygon data",e);const t=[],l=new google.maps.Map(document.getElementById("plyGonMap"),{zoom:14,center:{lat:e.latitude?e.latitude:51.449927,lng:e.longitude?e.longitude:-.34712}});new google.maps.Marker({position:{lat:e.latitude?e.latitude:51.449927,lng:e.longitude?e.longitude:-.34712},map:l,title:"Site Location",icon:{path:"M-1.547 12l6.563-6.609-1.406-1.406-5.156 5.203-2.063-2.109-1.406 1.406zM0 0q2.906 0 4.945 2.039t2.039 4.945q0 1.453-0.727 3.328t-1.758 3.516-2.039 3.070-1.711 2.273l-0.75 0.797q-0.281-0.328-0.75-0.867t-1.688-2.156-2.133-3.141-1.664-3.445-0.75-3.375q0-2.906 2.039-4.945t4.945-2.039z",scale:2.5,strokeWeight:2,fillOpacity:1,fillColor:"#FB0E03",anchor:new google.maps.Point(0,20)}}),Array.isArray(e.geofence)&&e.geofence.forEach((e=>{console.log("lat",e.lat),t.push({lat:e.lat,lng:e.lng})})),new google.maps.Polygon({paths:t,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}).setMap(l)})(t.siteData)})),(e,t)=>(a(),i("div",Y))}}),X=e=>(C("data-v-a61a9100"),e=e(),D(),e),Q={class:"modal-form columns is-multiline"},ee={class:"field column is-12 mb-0"},te={class:"field columns is-multiline mb-0 cu-all-input"},le={class:"field column is-6 mb-0"},ae={class:"field column is-12 mb-0"},ie=X((()=>u("label",null,"Site Name *",-1))),se={class:"control"},oe={class:"field column is-12 mb-0"},ne=X((()=>u("label",null,"Post Code *",-1))),re={class:"control",style:{position:"relative"}},ce=X((()=>u("i",{class:"iconify","data-icon":"feather:search","aria-hidden":"true",style:{"font-size":"1.5rem"}},null,-1))),de={class:"field column is-12 mb-0"},ue=X((()=>u("label",null,"Site Address:",-1))),me={class:"control"},pe={class:"field column is-12 mb-0"},ge=X((()=>u("label",null,"City",-1))),ye={class:"control"},ve={class:"field column is-6 mb-0"},fe={class:"field column is-12 mb-0"},he=X((()=>u("label",null,"Site Manager Name",-1))),be={class:"control"},we={class:"field column is-12 mb-0"},xe=X((()=>u("label",null,"Phone",-1))),Se={class:"control"},_e={class:"field column is-12 mb-0"},ke=X((()=>u("label",null,"Email",-1))),Ce={class:"control"},De={class:"field column is-12 mt-5",style:{position:"relative","margin-left":"0.4rem",cursor:"pointer",display:"flex","align-items":"center","flex-direction":"row"}},Ee={class:"",style:{display:"flex","align-items":"center","justify-content":"space-between",width:"70%"}},Ie=X((()=>u("i",{style:{color:"var(--primary)","margin-left":"10px",size:"3rem"},class:"fas fa-paint-brush","aria-hidden":"true"},null,-1))),ze={class:"column is-4 pb-4"},Oe={key:0,style:{position:"absolute",bottom:"3.5rem","background-color":"white",width:"350px",right:"3rem","z-index":"999"}},Ae={class:"colorContainer"},je={class:"close-btn"},Ne=["onClick"],Te={key:0,class:"fas fa-check","aria-hidden":"true"},Pe={class:"field column is-12 mb-0"},Me={key:0,class:"",style:{display:"flex","align-items":"end","justify-content":"end","margin-bottom":"0.8rem"}},Re=X((()=>u("i",{class:"iconify","data-icon":"feather:edit-2","aria-hidden":"true",style:{color:"#666","font-size":"1.2rem"}},null,-1))),Ve={key:0,id:"map",style:{width:"100%",height:"380px","background-color":"#f3f3f3"}},Le={class:"field column is-12 mb-0 mt-0",style:{padding:"0px 20px"}},Ue=X((()=>u("label",null,"Comment",-1))),Je={class:"columns"},Fe={class:"column is-12 content",style:{}},He=E(t({__name:"SiteDetailModal",props:{AddSiteModalOpen:{type:Boolean},contractId:{},EditSiteID:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:t}){const C=e,D=U(),E=V(),I=s(!1),z=s(!1),O=s({id:0,hexCode:""}),A=s({}),j=s(!1),N=o(),T=s({id:0,name:"",address:"",postcode:"",latitude:0,longitude:0,city:"",inchargeName:"",inchargePhoneNo:"",inchargeEmail:"",comments:"",geofence:{},color:"#D875C7"}),P=()=>{t("update:modalHandler",!1)};let M="";const F=async()=>{try{const e=await L.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${T.value.postcode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);if("OK"===e.data.status){T.value.address=e.data.results[0].formatted_address;const t=e.data.results[0].geometry.location.lat;T.value.latitude=t;const l=e.data.results[0].geometry.location.lng;T.value.longitude=l,D.success("Address Added"),H()}else"ZERO_RESULTS"===e.data.status&&D.error("Invalid Post-Code")}catch(e){D.error("Invalid Post-Code"),console.error(e)}};var H=function(){var e;M=new google.maps.Map(document.getElementById("map"),{center:{lat:T.value.latitude,lng:T.value.longitude},zoom:18}),google.maps.event.addListener(M,"click",(function(e){var t;t=e.latLng,new google.maps.Marker({position:t,map:M}),console.log(e.latLng.toUrlValue(5))})),new google.maps.Marker({position:{lat:T.value.latitude?T.value.latitude:51.449927,lng:T.value.longitude?T.value.longitude:-.34712},map:M,title:"Site Location",icon:{path:"M-1.547 12l6.563-6.609-1.406-1.406-5.156 5.203-2.063-2.109-1.406 1.406zM0 0q2.906 0 4.945 2.039t2.039 4.945q0 1.453-0.727 3.328t-1.758 3.516-2.039 3.070-1.711 2.273l-0.75 0.797q-0.281-0.328-0.75-0.867t-1.688-2.156-2.133-3.141-1.664-3.445-0.75-3.375q0-2.906 2.039-4.945t4.945-2.039z",scale:2.5,strokeWeight:2,fillOpacity:1,fillColor:"#FB0E03",anchor:new google.maps.Point(0,20)}});var t=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.MARKER,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.RECTANGLE]},markerOptions:{icon:"images/beachflag.png"},circleOptions:{fillColor:"#ffff00",fillOpacity:.2,strokeWeight:3,clickable:!1,editable:!0,zIndex:1},polygonOptions:{clickable:!0,draggable:!0,editable:!0,fillColor:"#2aac8e",fillOpacity:.4},rectangleOptions:{clickable:!0,draggable:!0,editable:!0,fillColor:"#ffff00",fillOpacity:.5}});function l(t){e&&(e.setEditable(!1),e=null),e=t,t.setEditable(!0),console.log("shpes",t),function(e){const t=e.getPath().getLength(),l=[];for(let a=0;a<t;a++){const t=e.getPath().getAt(a).toUrlValue(6),[i,s]=t.split(",");l.push({lat:parseFloat(i),lng:parseFloat(s)})}T.value.geofence=l}(e)}t.setMap(M),google.maps.event.addListener(t,"polygoncomplete",(function(e){e.getPath().getLength(),google.maps.event.addListener(e.getPath(),"insert_at",(function(){for(var t=e.getPath().getLength(),l=0;l<t;l++)console.log(e.getPath().getAt(l).toUrlValue(5))})),google.maps.event.addListener(e.getPath(),"set_at",(function(){for(var t=e.getPath().getLength(),l=0;l<t;l++)console.log(e.getPath().getAt(l).toUrlValue(5))}))})),google.maps.event.addListener(t,"overlaycomplete",(function(e){if(e.type!==google.maps.drawing.OverlayType.MARKER){t.setDrawingMode(null);var a=e.overlay;a.type=e.type,google.maps.event.addListener(a,"click",(function(){l(a)})),l(a)}}));var a=document.createElement("div");new function(t){var l=document.createElement("div");l.style.backgroundColor="#fff",l.style.border="2px solid #fff",l.style.borderRadius="3px",l.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",l.style.cursor="pointer",l.style.marginBottom="22px",l.style.textAlign="center",l.title="Select to delete the shape",t.appendChild(l);var a=document.createElement("div");a.style.color="#FF0000",a.style.fontFamily="Roboto,Arial,sans-serif",a.style.fontSize="16px",a.style.lineHeight="38px",a.style.paddingLeft="5px",a.style.paddingRight="5px",a.innerHTML="Delete Selected Area",l.appendChild(a),l.addEventListener("click",(function(){e&&e.setMap(null)}))}(a),a.index=1,M.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(a)};const q=async()=>{if(!T.value.latitude&&!T.value.longitude)return D.error("Please enter valid Post Code!");I.value=!0;try{if(C.EditSiteID){await E.patch(`/v3/api/site/${C.EditSiteID}/`,{contract:C.contractId,name:T.value.name,address:T.value.address,postcode:T.value.postcode,latitude:T.value.latitude,longitude:T.value.longitude,city:T.value.city,inchargeName:T.value.inchargeName,inchargePhoneNo:T.value.inchargePhoneNo,inchargeEmail:T.value.inchargeEmail,comments:T.value.comments,color:T.value.color,geofence:JSON.stringify(T.value.geofence)});t("update:OnSuccess",null),D.success("Site updated Successfuly"),P(),I.value=!1}else{await E.post("/v3/api/site/",{contract:C.contractId,name:T.value.name,address:T.value.address,postcode:T.value.postcode,latitude:T.value.latitude,longitude:T.value.longitude,city:T.value.city,inchargeName:T.value.inchargeName,inchargePhoneNo:T.value.inchargePhoneNo,inchargeEmail:T.value.inchargeEmail,comments:T.value.comments,color:T.value.color,geofence:JSON.stringify(T.value.geofence)});t("update:OnSuccess",null),D.success("Site Added Successfuly"),P()}I.value=!1}catch(e){console.log(e),I.value=!1}},B=()=>{z.value=!z.value};l((()=>{C.EditSiteID&&(async()=>{const e=await E.get(`/v3/api/site/${C.EditSiteID}/`);T.value=e.data,A.value=e.data,console.log("Data:",A.value.geofence?A.value.geofence.length:0)})(),C.EditSiteID||H()}));const $=n((()=>r((()=>import("./ckeditor-c9a0d5cf.js").then((e=>e.c))),["assets/ckeditor-c9a0d5cf.js","assets/index-1c9998f2.js","assets/index-03be73ef.css","assets/vue.runtime.esm-bundler-406c521e.js"]).then((e=>e.default.component)))),G={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return l((async()=>{N.value=await r((()=>import("./ckeditor-194308d1.js").then((e=>e.c))),["assets/ckeditor-194308d1.js","assets/index-1c9998f2.js","assets/index-03be73ef.css"]).then((e=>e.default))})),(e,t)=>{const l=_,s=Z,o=k,n=R;return a(),c(n,{is:"form",size:"xl",open:C.AddSiteModalOpen,title:C.EditSiteID?"Update Site":"Add Site",actions:"right",onSubmit:S(q,["prevent"]),onClose:P},{content:d((()=>[u("div",Q,[u("div",ee,[u("div",te,[u("div",le,[u("div",ae,[ie,u("div",se,[m(u("input",{type:"text",name:"title",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>p(T).name=e),class:"input is-primary-focus",placeholder:"Site name"},null,512),[[g,p(T).name]])])]),u("div",oe,[ne,u("div",re,[y(l,{color:"primary",light:"",style:{position:"absolute",right:"0.2rem",top:"0.3rem","z-index":"10",width:"3rem","border-radius":"2rem"},onClick:t[1]||(t[1]=()=>{j.value=!0,F()})},{default:d((()=>[ce])),_:1}),m(u("input",{type:"text",name:"postcode",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>p(T).postcode=e),class:"input is-primary-focus",placeholder:"Enter post-code",onBlur:F},null,544),[[g,p(T).postcode]])])]),u("div",de,[ue,u("div",me,[m(u("input",{type:"text",name:"title","onUpdate:modelValue":t[3]||(t[3]=e=>p(T).address=e),class:"input is-primary-focus",placeholder:"Site address"},null,512),[[g,p(T).address]])])]),u("div",pe,[ge,u("div",ye,[m(u("input",{type:"text",name:"city","onUpdate:modelValue":t[4]||(t[4]=e=>p(T).city=e),class:"input is-primary-focus",placeholder:"City"},null,512),[[g,p(T).city]])])])]),u("div",ve,[u("div",fe,[he,u("div",be,[m(u("input",{type:"text",name:"title","onUpdate:modelValue":t[5]||(t[5]=e=>p(T).inchargeName=e),class:"input is-primary-focus",placeholder:"Manager Name"},null,512),[[g,p(T).inchargeName]])])]),u("div",we,[xe,u("div",Se,[m(u("input",{type:"text",name:"phone","onUpdate:modelValue":t[6]||(t[6]=e=>p(T).inchargePhoneNo=e),class:"input is-primary-focus",placeholder:"Phone"},null,512),[[g,p(T).inchargePhoneNo]])])]),u("div",_e,[ke,u("div",Ce,[m(u("input",{type:"email",name:"Email","onUpdate:modelValue":t[7]||(t[7]=e=>p(T).inchargeEmail=e),class:"input is-primary-focus",placeholder:"Email"},null,512),[[g,p(T).inchargeEmail]])])]),u("div",De,[u("div",Ee,[u("div",{class:"column is-4 pb-4 cus-input-label",style:{display:"flex","align-items":"center",gap:"0.5rem",color:"#bbb","font-weight":"500",width:"100%"},onClick:B},[v(" Color "),Ie]),u("div",ze,[u("div",null,[u("div",{onClick:B,class:"color-pellate"},[u("div",{class:"current-color-div",style:f([{backgroundColor:p(T).color},{width:"5rem"}])},null,4)])])])]),p(z)?(a(),i("div",Oe,[u("div",Ae,[u("div",je,[u("i",{onClick:t[8]||(t[8]=e=>z.value=!1),class:"lnir lnir-close","aria-hidden":"true"})]),(a(!0),i(h,null,b(p(J),((e,t)=>(a(),i("div",{key:e.id,onClick:t=>(e=>{O.value=e,z.value=!1,T.value={...T.value,color:e.hexCode}})(e),style:f({backgroundColor:e.hexCode}),class:"colorDiv"},[p(O)==e?(a(),i("i",Te)):w("",!0)],12,Ne)))),128))])])):w("",!0)])])])]),u("div",Pe,[C.EditSiteID?(a(),i("div",Me,[u("span",{style:{"font-size":"1rem",color:"#bbb",cursor:"pointer"},onClick:t[9]||(t[9]=()=>{j.value=!p(j),F()})},[v("Edit Geofence "),Re])])):w("",!0),u("div",null,[C.EditSiteID&&!0!==p(j)?w("",!0):(a(),i("div",Ve)),C.EditSiteID&&p(A)&&p(A).geofence&&!1===p(j)?(a(),c(s,{key:1,style:{width:"100%",height:"380px"},siteData:p(A)},null,8,["siteData"])):w("",!0)])]),u("div",Le,[Ue,u("div",Je,[u("div",Fe,[p(N)?(a(),c(p($),{key:0,modelValue:p(T).comments,"onUpdate:modelValue":t[10]||(t[10]=e=>p(T).comments=e),editor:p(N),config:G,style:{color:"#fff"}},null,8,["modelValue","editor"])):(a(),c(o,{key:1,height:"500px"}))])])])])])),action:d((()=>[y(l,{type:"submit",color:"primary",loading:p(I),raised:""},{default:d((()=>[v(x(C.EditSiteID?"Update & close":"Save & close"),1)])),_:1},8,["loading"])])),_:1},8,["open","title","onSubmit"])}}}),[["__scopeId","data-v-a61a9100"]]),qe=e=>(C("data-v-93e789de"),e=e(),D(),e),Be={class:""},$e={class:""},Ge={class:"modal-form columns cu-all-input is-multiline"},Ke={class:"column is-12",style:{"margin-top":"-1rem"}},We={class:"column is-12 mb-0 p-0",style:{display:"flex","flex-direction":"row","flex-wrap":"wrap"}},Ye={class:"field column is-12 mb-0"},Ze=qe((()=>u("label",null,[v("Job Type "),u("span",{style:{color:"red"}},"*")],-1))),Xe={class:"",style:{display:"flex","align-items":"center",gap:"2rem","margin-top":"0.5rem"}},Qe={style:{display:"flex","align-items":"center",gap:"0.2rem",color:"#888"}},et={style:{display:"flex","align-items":"center",gap:"0.2rem",color:"#888"}},tt={style:{display:"flex","align-items":"center",gap:"0.2rem",color:"#888"}},lt=qe((()=>u("span",{style:{width:"fit-content",display:"flex"}},"Temporary (Shifts)",-1))),at={class:"field column is-4 mb-0"},it=qe((()=>u("label",null,[v("Job Name "),u("span",{style:{color:"red"}},"*")],-1))),st={class:"control"},ot={class:"field column is-4 mb-0"},nt=qe((()=>u("label",null,[v("Start Date "),u("span",{style:{color:"red"}},"*")],-1))),rt={class:"control"},ct={key:0,class:"field column is-4 mb-0"},dt=qe((()=>u("label",null,[v("End Date "),u("span",{style:{color:"red"}},"*")],-1))),ut={class:"control"},mt={class:"field column is-4 mb-0"},pt=qe((()=>u("label",null,[v("Start Time "),u("span",{style:{color:"red"}},"*")],-1))),gt={class:"control"},yt={class:"field column is-4 mb-0"},vt=qe((()=>u("label",null,[v("End Time "),u("span",{style:{color:"red"}},"*")],-1))),ft={class:"control"},ht={class:"field column is-4 mb-0"},bt=qe((()=>u("label",null,"Hourly Rate (£) ",-1))),wt={class:"control"},xt={class:"field column is-4 mb-0"},St=qe((()=>u("label",null,"Overtime Rate (£)",-1))),_t={class:"control"},kt={class:"field column is-4 mb-0",style:{display:"flex","align-items":"center","flex-direction":"row","margin-top":"1rem",gap:"1rem"}},Ct=qe((()=>u("label",{style:{"margin-bottom":"1rem"}},"Approval Required",-1))),Dt={class:"field column is-3 mt-3",style:{position:"relative","margin-left":"0.4rem",cursor:"pointer",display:"flex","align-items":"center","flex-direction":"row"}},Et=qe((()=>u("i",{style:{color:"var(--primary)","margin-left":"10px",size:"3rem"},class:"fas fa-paint-brush","aria-hidden":"true"},null,-1))),It={class:"column is-4 pb-4"},zt={class:"colorContainer"},Ot={class:"close-btn"},At=["onClick"],jt={key:0,class:"fas fa-check","aria-hidden":"true"},Nt={key:1,class:"field column is-6",style:{"margin-left":"0rem"}},Tt=qe((()=>u("label",null,"Week Availability",-1))),Pt={class:"",style:{display:"flex","align-items":"center",gap:"2rem","margin-top":"0.5rem"}},Mt=["value"],Rt={class:"field column is-12 mb-0"},Vt=qe((()=>u("label",{style:{"margin-bottom":"0.5rem"}},"Description",-1))),Lt={class:"page-content-inner"},Ut={class:"columns is-multiline"},Jt={class:"column is-12"},Ft={class:"columns"},Ht={class:"column is-12 content",style:{}},qt=E(t({__name:"AddJobModal",props:{openSiteJobModel:{type:Boolean},id:{},siteID:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:t}){const C=e,D=U(),E=V(),N=s(!1),T=$(),P=o();I();const M=s(!1),L=s("longTerm"),G=s([]),K=s(!1),W=s({id:0,hexCode:""}),Y=s({step:1,stepTitle:"Contact Info",data:{}}),Z=s({id:"",jobName:"",description:"",shift:"",startDate:"",endDate:"",startTime:"",endTime:"",hourlyRate:0,overtimeRate:0,jobType:"",site:C.siteID,color:"#D875C7",workingDays:[],isApproval:!1}),X=async()=>{Z.value.isApproval=K.value,Z.value.workingDays=JSON.stringify(G.value),Z.value.jobType=L.value;try{N.value=!0;const e=F(Z.value,["logo"]);if(e.append("arezCompany",T.loggedCompany.id),Z.value.id){await E.patch(`/v3/api/jobs/${Z.value.id}/`,e);D.success("Job edit succesfully."),Q()}else{if(!Z.value.site)return D.error("Contract Site Id required!");await E.post("/v3/api/jobs/",e);Q(),D.dismissAll(),D.success("New Job added")}t("update:OnSuccess",null)}catch(e){let t=e.response.data??{};Object.values(t).forEach((e=>{e.forEach((e=>{D.error(` ${e}, New Contract`)}))}))}finally{N.value=!1}},Q=()=>{t("update:modalHandler",!1),console.log("modal closed"),Z.value={jobName:"",description:"",shift:"",startDate:"",endDate:"",startTime:"",endTime:"",hourlyRate:0,overtimeRate:0,jobType:"",color:""}},ee=()=>{M.value=!M.value};l((async()=>{C.id&&await(async()=>{const e=await E.get(`/v3/api/jobs/${C.id}/`);Z.value=e.data,console.log("Get Jobs:",e.data),L.value=e.data.jobType,G.value=e.data.workingDays,K.value=e.data.isApproval})()}));const te=n((()=>r((()=>import("./ckeditor-c9a0d5cf.js").then((e=>e.c))),["assets/ckeditor-c9a0d5cf.js","assets/index-1c9998f2.js","assets/index-03be73ef.css","assets/vue.runtime.esm-bundler-406c521e.js"]).then((e=>e.default.component)))),le={fontFamily:{options:['"Montserrat", sans-serif','"Roboto", sans-serif']},height:"400px",minHeight:"400px",maxHeight:"600px"};return l((async()=>{P.value=await r((()=>import("./ckeditor-194308d1.js").then((e=>e.c))),["assets/ckeditor-194308d1.js","assets/index-1c9998f2.js","assets/index-03be73ef.css"]).then((e=>e.default))})),(e,t)=>{const l=B,s=q,o=H,n=k,r=_,D=R;return a(),c(D,{is:"form",open:C.openSiteJobModel,title:p(Z).id?"Edit Job Placement Details":"Job Placement Details",size:"xl",actions:"right",onSubmit:S(X,["prevent"]),onClose:Q,noclose:""},{content:d((()=>[m(u("div",Be,[m(u("div",$e,[u("div",Ge,[u("div",Ke,[u("div",We,[u("div",Ye,[Ze,u("div",Xe,[u("label",Qe,[m(u("input",{type:"radio",name:"jobname","onUpdate:modelValue":t[0]||(t[0]=e=>z(L)?L.value=e:null),value:"longTerm",style:{width:"fit-content"}},null,512),[[O,p(L)]]),v(" Long Term ")]),u("label",et,[m(u("input",{type:"radio",name:"jobname","onUpdate:modelValue":t[1]||(t[1]=e=>z(L)?L.value=e:null),value:"contract",style:{width:"auto"}},null,512),[[O,p(L)]]),v(" Contract ")]),u("label",tt,[m(u("input",{type:"radio",name:"jobname","onUpdate:modelValue":t[2]||(t[2]=e=>z(L)?L.value=e:null),value:"temporary",style:{width:"auto"}},null,512),[[O,p(L)]]),lt])])]),u("div",at,[it,u("div",st,[m(u("input",{type:"text",name:"jobname","onUpdate:modelValue":t[3]||(t[3]=e=>p(Z).jobName=e),required:"",class:"input is-primary-focus is-primary-focus",placeholder:"Job Name",style:{width:"100%"}},null,512),[[g,p(Z).jobName]])])]),u("div",ot,[nt,u("div",rt,[m(u("input",{type:"date",name:"StartDate",required:"","onUpdate:modelValue":t[4]||(t[4]=e=>p(Z).startDate=e),class:"input is-primary-focus is-primary-focus",placeholder:"Start Date",style:{width:"100%"}},null,512),[[g,p(Z).startDate]])])]),"longTerm"!=p(L)?(a(),i("div",ct,[dt,u("div",ut,[m(u("input",{type:"date",name:"endDate",required:"","onUpdate:modelValue":t[5]||(t[5]=e=>p(Z).endDate=e),class:"input is-primary-focus is-primary-focus",placeholder:"End date"},null,512),[[g,p(Z).endDate]])])])):w("",!0),u("div",mt,[pt,u("div",gt,[m(u("input",{type:"time",name:"startTime",required:"","onUpdate:modelValue":t[6]||(t[6]=e=>p(Z).startTime=e),class:"input is-primary-focus is-primary-focus",placeholder:"Start Time"},null,512),[[g,p(Z).startTime]])])]),u("div",yt,[vt,u("div",ft,[m(u("input",{type:"time",name:"endTime",required:"","onUpdate:modelValue":t[7]||(t[7]=e=>p(Z).endTime=e),class:"input is-primary-focus is-primary-focus",placeholder:"End Time"},null,512),[[g,p(Z).endTime]])])]),u("div",ht,[bt,u("div",wt,[m(u("input",{type:"number",name:"changeRate","onUpdate:modelValue":t[8]||(t[8]=e=>p(Z).hourlyRate=e),class:"input is-primary-focus is-primary-focus",placeholder:"Charge Rate (£)"},null,512),[[g,p(Z).hourlyRate]])])]),u("div",xt,[St,u("div",_t,[m(u("input",{type:"number",name:"overtime","onUpdate:modelValue":t[9]||(t[9]=e=>p(Z).overtimeRate=e),class:"input is-primary-focus is-primary-focus",placeholder:"Overtime Rate (£)"},null,512),[[g,p(Z).overtimeRate]])])]),u("div",kt,[Ct,y(o,null,{default:d((()=>[y(s,{subcontrol:"",class:"mr-2"},{default:d((()=>[y(l,{color:"primary",modelValue:p(K),"onUpdate:modelValue":t[10]||(t[10]=e=>z(K)?K.value=e:null),label:"Yes",onClick:t[11]||(t[11]=()=>{K.value=!p(K)})},null,8,["modelValue"])])),_:1})])),_:1}),y(o,{id:"interests",class:"pb-4",label:""})]),u("div",Dt,[u("div",{class:"column is-4 pb-4 cus-input-label",style:{display:"flex","align-items":"center",gap:"0.5rem",color:"#bbb","font-weight":"500",width:"100%"},onClick:ee},[v(" Color "),Et]),u("div",It,[u("div",null,[u("div",{onClick:ee,class:"color-pellate"},[u("div",{class:"current-color-div",style:f({backgroundColor:p(Z).color})},null,4)])])]),p(M)?(a(),i("div",{key:0,style:f([{right:"contract"===p(L)||"temporary"===p(L)?"12rem":"-14rem"},{position:"absolute",top:"-19rem","background-color":"white",width:"350px","z-index":"999"}])},[u("div",zt,[u("div",Ot,[u("i",{onClick:t[12]||(t[12]=e=>M.value=!1),class:"lnir lnir-close","aria-hidden":"true"})]),(a(!0),i(h,null,b(p(J),((e,t)=>(a(),i("div",{key:e.id,onClick:t=>(e=>{W.value=e,M.value=!1,Z.value={...Z.value,color:e.hexCode}})(e),style:f({backgroundColor:e.hexCode}),class:"colorDiv"},[p(W)==e?(a(),i("i",jt)):w("",!0)],12,At)))),128))])],4)):w("",!0)]),"temporary"==p(L)?(a(),i("div",Nt,[Tt,u("div",Pt,[(a(),i(h,null,b(["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],((e,l)=>u("label",{key:l,style:{display:"flex","align-items":"center",gap:"0.2rem",color:"#888","font-size":"1.1rem"}},[m(u("input",{type:"checkbox",name:"availability",value:e,"onUpdate:modelValue":t[13]||(t[13]=e=>z(G)?G.value=e:null),style:{width:"auto","font-size":"1.1rem"}},null,8,Mt),[[A,p(G)]]),v(" "+x(e.charAt(0).toUpperCase()+e.slice(1)),1)]))),64))])])):w("",!0),u("div",Rt,[Vt,u("div",Lt,[u("div",Ut,[u("div",Jt,[u("div",Ft,[u("div",Ht,[p(P)?(a(),c(p(te),{key:0,modelValue:p(Z).description,"onUpdate:modelValue":t[14]||(t[14]=e=>p(Z).description=e),editor:p(P),config:le,style:{color:"#fff"}},null,8,["modelValue","editor"])):(a(),c(n,{key:1,height:"500px"}))])])])])])])])])])],512),[[j,1===p(Y).step]])],512),[[j,1===p(Y).step]])])),cancel:d((()=>[y(r,{loading:p(N),type:"button",color:"primary",light:"",style:{float:"right",border:"1xp solid #ccc",display:"none"}},{default:d((()=>[v("Previous")])),_:1},8,["loading"])])),action:d((()=>[y(r,{loading:p(N),type:"submit",color:"primary",raised:"",style:{float:"right"}},{default:d((()=>[v("Save & close")])),_:1},8,["loading"])])),_:1},8,["open","title","onSubmit"])}}}),[["__scopeId","data-v-93e789de"]]),Bt={style:{display:"flex","align-items":"start","justify-content":"space-between"}},$t={class:"site-content",style:{display:"flex","flex-direction":"column",gap:"2rem"}},Gt=[u("i",{class:"iconify","data-icon":"feather:edit","aria-hidden":"true",style:{"font-size":"1.4rem","margin-left":"2rem",color:"#23ad8d",cursor:"pointer",position:"absolute",right:"50%"}},null,-1)],Kt={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},Wt=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"Site Name:",-1),Yt={style:{"font-weight":"400","font-size":"1.1rem"}},Zt={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},Xt=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"Site Address:",-1),Qt={style:{"font-weight":"400","font-size":"1.1rem"}},el={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},tl=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"Post Code:",-1),ll={style:{"font-weight":"400","font-size":"1.1rem"}},al={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},il=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"Site Incharge:",-1),sl={style:{"font-weight":"400","font-size":"1.1rem"}},ol={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},nl=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"Contact Person:",-1),rl={style:{"font-weight":"400","font-size":"1.1rem"}},cl={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},dl=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"Contact Phone:",-1),ul={style:{"font-weight":"400","font-size":"1.1rem"}},ml={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},pl=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"City:",-1),gl={style:{"font-weight":"400","font-size":"1.1rem"}},yl={class:"",style:{display:"flex","align-items":"center",gap:"0.3rem"}},vl=u("label",{style:{"font-size":"1.2rem","font-weight":"500"}},"Email:",-1),fl={style:{"font-weight":"400","font-size":"1.1rem"}},hl={class:"",style:{display:"flex","flex-direction":"column",gap:"0.4rem"}},bl=u("label",{style:{"font-size":"1.2rem","font-weight":"500",width:"9rem"},class:"ckeditor"},"Comments:",-1),wl=["innerHTML"],xl={key:0,style:{border:"1px solid #ccc","border-radius":"1rem","box-shadow":"0.2rem 0.2rem 0.2rem rgba(0, 0, 0, 0.2)"}},Sl=t({__name:"SiteDetails",props:{EditSiteID:{type:String}},setup(e){const t=e,o=V();I(),U();const n=s(!1),r=s({id:null,name:"",address:"",postcode:"",latitude:null,longitude:null,city:"",inchargeName:"",inchargePhoneNo:"",inchargeEmail:"",comments:"",geofence:{},created_at:"2024-05-07T12:17:14.267313Z",updated_at:"2024-05-09T11:17:59.556648Z",color:"#D875C7",regionFormat:"Large North",areaManager:"",managingDirector:"Jonathan Taylor",contract:0,jobs:[],contractInfo:{id:0,name:" ",company:0,customer_company:0,incharge_name:"",color:"",charge_rate:0,cuCompanyInfo:{id:0,name:"",email:"",logo:"",phone_number:""}}}),d=async()=>{const e=await o.get(`/v3/api/site/${t.EditSiteID}/`);r.value=e.data},m=()=>{n.value=!0};return l((()=>{t.EditSiteID&&d()})),(t,l)=>{const s=Z,o=He;return a(),i(h,null,[u("div",Bt,[u("div",$t,[u("span",{style:{"font-size":"1.4rem","margin-left":"2rem",color:"#23ad8d",cursor:"pointer",position:"absolute",right:"50%"},onClick:m},Gt),u("div",Kt,[Wt,u("span",Yt,x(r.value?.name),1)]),u("div",Zt,[Xt,u("span",Qt,x(r.value?.address),1)]),u("div",el,[tl,u("span",ll,x(r.value?.postcode),1)]),u("div",al,[il,u("span",sl,x(r.value.contractInfo?.incharge_name?r.value.contractInfo?.incharge_name:"Not mentioned"),1)]),u("div",ol,[nl,u("span",rl,x(r.value?.inchargeName?r.value?.inchargeName:"Not Mentioned"),1)]),u("div",cl,[dl,u("span",ul,x(r.value?.inchargePhoneNo),1)]),u("div",ml,[pl,u("span",gl,x(r.value?.city),1)]),u("div",yl,[vl,u("span",fl,x(r.value?.inchargeEmail?r.value?.inchargeEmail:" N/A"),1)]),u("div",hl,[bl,u("div",{innerHTML:r.value?.comments?r.value?.comments:"N/A",class:"ckeditor",style:{"font-weight":"500","margin-left":"0.5rem",color:"#111"}},null,8,wl)])]),r.value.latitude?(a(),i("div",xl,[y(s,{style:{width:"600px",height:"350px"},siteData:r.value},null,8,["siteData"])])):w("",!0)]),n.value?(a(),c(o,{key:0,EditSiteID:e.EditSiteID,"onUpdate:modalHandler":l[0]||(l[0]=()=>{n.value=!1}),AddSiteModalOpen:n.value,"onUpdate:OnSuccess":d},null,8,["EditSiteID","AddSiteModalOpen"])):w("",!0)],64)}}}),_l=e=>(C("data-v-2939f37b"),e=e(),D(),e),kl={class:"contract-wrapper"},Cl={class:"contract-header",style:{position:"relative"}},Dl={class:"header-left",style:{display:"flex","flex-direction":"column",position:"relative"}},El={class:"is-flex"},Il={style:{"font-size":"1.1rem","font-weight":"500",color:"#111",display:"flex","align-items":"center"}},zl=_l((()=>u("i",{class:"iconify","data-icon":"feather:arrow-left","aria-hidden":"true",style:{"font-size":"1.5rem"}},null,-1))),Ol={style:{"font-size":"1.7rem","font-weight":"500",color:"#111"}},Al={class:"",style:{display:"flex","align-items":"center",gap:"0.6rem"}},jl={style:{"font-size":"1.1rem","font-weight":"500",color:"#333"}},Nl={style:{"font-size":"1rem","font-weight":"400",color:"#333"}},Tl=M('<span class="" style="width:2px;height:1rem;background:#ccc;" data-v-2939f37b></span><span style="font-size:1.1rem;font-weight:500;color:#333;" data-v-2939f37b>Assigned Jobs: <span style="font-size:1rem;font-weight:400;color:#333;" data-v-2939f37b>00</span></span><span class="" style="width:2px;height:1rem;background:#ccc;" data-v-2939f37b></span><span style="font-size:1.1rem;font-weight:500;color:#333;" data-v-2939f37b>Unassigned Jobs: <span style="font-size:1rem;font-weight:400;color:#333;" data-v-2939f37b>00</span></span>',4),Pl=_l((()=>u("div",{class:"",style:{position:"absolute",bottom:"3rem",left:"31rem"}},null,-1))),Ml={class:"",style:{"margin-top":"2.2rem",display:"flex","flex-direction":"column",gap:"1rem","padding-left":"2.5rem",position:"relative"}},Rl={style:{"font-size":"1.2rem","font-weight":"500","margin-bottom":"0.5rem",color:"#333"}},Vl={class:"",style:{color:"#333"}},Ll={class:"",style:{"font-size":"1.5rem","font-weight":"500",color:"#333"}},Ul={class:"tabs-wrapper rounded",type:"rounded",style:{"padding-left":"2.5rem"}},Jl={class:"contract-header",style:{"margin-top":"2rem"}},Fl={class:"header-left"},Hl={class:"tabs-inner"},ql={class:"tabs is-toggle"},Bl=[_l((()=>u("span",{style:{}},"Site Details",-1)))],$l=[_l((()=>u("span",null,"Placements",-1)))],Gl=[_l((()=>u("span",null,"Site Rota",-1)))],Kl=[_l((()=>u("span",null,"Time Sheet",-1)))],Wl={class:"",style:{"margin-top":"1.5rem"}},Yl={class:"contracts-section1"},Zl={style:{display:"flex","align-items":"center","justify-content":"center","flex-direction":"column","grid-area":"0.5rem"}},Xl=_l((()=>u("i",{class:"iconify","data-icon":"feather:plus","aria-hidden":"true",style:{"font-size":"2.5rem",color:"#179e9b"}},null,-1))),Ql=_l((()=>u("span",{style:{"font-size":"1.4rem","font-weight":"500",display:"flex","align-items":"center",gap:"0.5rem",color:"#179e9b"}}," Create New Placements at ",-1))),ea={style:{"font-size":"1.1rem","font-weight":"400",display:"flex","text-align":"center","align-items":"center",gap:"0.5rem",color:"#179e9b","max-width":"90%"}},ta={class:"",style:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"space-between"}},la={style:{"font-size":"1rem","font-weight":"400",display:"flex","align-items":"center","text-transform":"capitalize",gap:"0.5rem",color:"#333"}},aa=_l((()=>u("i",{class:"iconify","data-icon":"feather:clock","aria-hidden":"true",style:{color:"#179e9b"}},null,-1))),ia=["onClick"],sa=[_l((()=>u("div",{class:"icon"},[u("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),_l((()=>u("div",{class:"meta"},[u("span",null,"Edit"),u("span",null,"Edit site details")],-1)))],oa=_l((()=>u("hr",{class:"dropdown-divider"},null,-1))),na=["onClick"],ra=[_l((()=>u("div",{class:"icon"},[u("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1))),_l((()=>u("div",{class:"meta"},[u("span",null,"Delete"),u("span",null,"Delete from list")],-1)))],ca={class:"",style:{display:"flex","flex-direction":"column",gap:"0.5rem"}},da={class:"Genevieve-Hodges-Copy",style:{"font-size":"1.4rem","margin-top":"0.5rem","font-weight":"500",color:"#333"}},ua={class:"",style:{display:"flex","align-items":"center","justify-content":"space-between",color:"#333"}},ma={class:"-Euston-Road-Lond",style:{"font-size":"13px","font-weight":"400",color:"#666"}},pa={class:"",style:{display:"flex","align-items":"center",gap:"0.6rem","margin-top":"1rem",color:"#333"}},ga=_l((()=>u("span",{style:{"font-size":"1.1rem","font-weight":"400"}},"4 Assigned ",-1))),ya=_l((()=>u("span",{class:"",style:{width:"2px",height:"1rem",background:"#ccc"}},null,-1))),va={style:{"font-size":"1.1rem","font-weight":"400","text-transform":"capitalize",color:"#333"}},fa=_l((()=>u("span",{class:"",style:{width:"2px",height:"1rem",background:"#ccc"}},null,-1))),ha={style:{"font-size":"1.1rem","font-weight":"400",color:"#333"}},ba={key:0,class:"",style:{"margin-top":"3.5rem"}},wa={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},xa={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},Sa={class:"",style:{"margin-top":"0.5rem"}},_a=[_l((()=>u("div",{class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},[u("h1",null,"Time Sheet")],-1)))],ka={class:"",style:{"margin-top":"1.5rem"}},Ca=E(t({__name:"SiteJobs",props:{siteID:{type:String},getSites:Function,editSiteModal:Function,isShow:Number,siteLength:Number},setup(t){const o=t,n=V(),r=U(),p=s("");s("");const g=s(0),k=s(!1),C=s(!1),D=s(""),E=s(!1),I=s("siteDetails");s({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"});const z=s({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),O=s({id:"",jobsCount:0,name:"",inchargeName:"",color:"",postcode:"",contractInfo:{},jobs:[]});s({id:null,name:"",address:"",postcode:"",latitude:null,longitude:null,city:"",inchargeName:"",inchargePhoneNo:"",inchargeEmail:"",comments:"",geofence:{}});const A=async()=>{C.value=!0,console.log(o.siteID);const e=await n.get(`/v3/api/jobs/site/${o.siteID}/`);O.value=e.data,console.log("Job Data:",e.data),C.value=!1},M=async()=>{try{C.value=!0,z.value.isSweetAlertOpen=!1;await n.delete(`/v3/api/jobs/${g.value}/`);A(),r.dismissAll(),r.success("Job Delete"),C.value=!1}catch(e){console.error("ok",e),C.value=!1}};l((()=>{A()}));return N((()=>{A()})),(l,s)=>{const n=_,r=W,N=K,R=G,V=Sl,L=qt,U=He,J=e;return a(),i("div",kl,[u("div",Cl,[u("div",Dl,[u("div",El,[u("div",{class:"",style:f([{padding:"1rem 1rem","border-radius":"1rem","margin-top":"1rem",border:"1px solid #eee"},{backgroundImage:`linear-gradient(-175deg, white 65%, ${O.value?.contractInfo?.color}30)`}])},[u("span",Il,[1!==t.isShow?(a(),c(n,{key:0,color:"primary",outlined:"",class:"mr-1",onClick:o.getSites,style:{width:"3rem","border-radius":"12px",padding:"2px 4px"}},{default:d((()=>[zl])),_:1},8,["onClick"])):w("",!0),v(" Contract_00"+x(O.value.contractInfo.id),1)]),u("h1",Ol,x(O.value?.contractInfo?.name),1),u("div",Al,[u("span",jl,[v("Total Sites: "),u("span",Nl,x(o?.siteLength<10&&o.siteLength>0?"0"+o.siteLength:o.siteLength),1)]),Tl])],4),Pl,u("div",Ml,[u("div",{class:"",style:f([{display:"flex","flex-direction":"column",gap:"0rem",padding:"1rem","border-radius":"0.8rem","min-width":"19rem","max-width":"27rem",border:"1px solid #eee"},{backgroundImage:`linear-gradient(to bottom left, white 75%, ${O.value?.color}50)`}])},[u("label",Rl,"Site_00"+x(O.value?.id),1),u("span",Vl," Site: "+x(O.value?.postcode),1),u("span",Ll,x(O.value?.name),1)],4)])])])]),u("div",Ul,[u("div",Jl,[u("div",Fl,[u("div",Hl,[u("div",ql,[u("ul",null,[u("li",{class:T(["siteDetails"===I.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[0]||(s[0]=P(S((e=>I.value="siteDetails"),["prevent"]),["space"])),onClick:s[1]||(s[1]=e=>I.value="siteDetails")},Bl,32)],2),u("li",{class:T(["jobs"===I.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[2]||(s[2]=P(S((e=>I.value="jobs"),["prevent"]),["space"])),onClick:s[3]||(s[3]=e=>I.value="jobs")},$l,32)],2),u("li",{class:T(["siteRota"===I.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[4]||(s[4]=P(S((e=>I.value="siteRota"),["prevent"]),["space"])),onClick:s[5]||(s[5]=e=>I.value="siteRota")},Gl,32)],2),u("li",{class:T(["timeSheet"===I.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[6]||(s[6]=P(S((e=>I.value="timeSheet"),["prevent"]),["space"])),onClick:s[7]||(s[7]=e=>I.value="timeSheet")},Kl,32)],2)])])])])]),m(u("div",Wl,[u("div",Yl,[u("div",{class:"contracts-list",style:{background:"#e3f3f3",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column","grid-area":"0.5rem",height:"13.5rem"},onClick:s[8]||(s[8]=()=>{p.value="",k.value=!k.value})},[u("div",Zl,[Xl,Ql,u("span",ea,x(O.value?.site?.address),1)])]),C.value?(a(),c(r,{key:0})):w("",!0),(a(!0),i(h,null,b(O.value.jobs,((e,t)=>(a(),i("div",{class:"contracts-section",key:e.id,style:{"margin-top":"0rem"}},[u("div",{class:"contracts-list",style:f({backgroundImage:`linear-gradient(-175deg, white 40%, ${e?.color}45)`})},[u("div",ta,[u("span",la,[aa,v(" "+x(e?.jobType),1)]),y(N,{style:{position:"relative"},class:"is-pushed-mobile",icon:"feather:more-vertical",spaced:"",right:""},{content:d((()=>[u("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:t=>((e=0)=>{p.value=e,k.value=!0})(e.id)},sa,8,ia),oa,u("a",{role:"menuitem",href:"#",class:"dropdown-item is-media",onClick:t=>{return l=e.id,g.value=l,void(z.value={title:"Are you sure?",subtitle:"You will not be able to recover this job!",btntext:"Yes, Delete it",isSweetAlertOpen:!0});var l}},ra,8,na)])),_:2},1024)]),u("div",ca,[u("span",da,x(e?.jobName),1),u("div",ua,[u("span",ma,"From: "+x(e?.startDate)+" "+x(e?.endDate?"- To:":"")+" "+x(e?.endDate),1)]),u("div",pa,[ga,ya,u("span",va,x(e?.shift)+" Shift ",1),fa,u("span",ha,"Rate: £"+x(e?.hourlyRate)+" per hour ",1)])])],4)])))),128))])],512),[[j,"jobs"==I.value]]),"siteRota"==I.value?(a(),i("div",ba,[u("div",wa,[u("div",xa,[y(R,{siteID:o.siteID},null,8,["siteID"])])])])):w("",!0),m(u("div",Sa,_a,512),[[j,"timeSheet"==I.value]]),m(u("div",ka,[y(V,{EditSiteID:o.siteID},null,8,["EditSiteID"])],512),[[j,"siteDetails"==I.value]])]),k.value?(a(),c(L,{key:0,id:p.value,siteID:o.siteID,openSiteJobModel:k.value,"onUpdate:modalHandler":s[9]||(s[9]=e=>(k.value=e,A()))},null,8,["id","siteID","openSiteJobModel"])):w("",!0),E.value?(a(),c(U,{key:1,contractId:O.value.contract.id,EditSiteID:D.value,"onUpdate:modalHandler":s[10]||(s[10]=()=>{E.value=!E.value}),AddSiteModalOpen:E.value,"onUpdate:OnSuccess":A},null,8,["contractId","EditSiteID","AddSiteModalOpen"])):w("",!0),z.value.isSweetAlertOpen?(a(),c(J,{key:2,isSweetAlertOpen:z.value.isSweetAlertOpen,title:z.value.title,subtitle:z.value.subtitle,btntext:z.value.btntext,onConfirm:M,onCancel:()=>z.value.isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):w("",!0)])}}}),[["__scopeId","data-v-2939f37b"]]);export{Ca as _,He as a};
