import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-5adf7c7b.js";import{_ as l}from"./VModal.vue_vue_type_style_index_0_lang-e0c0b655.js";import{_ as t}from"./VFlexTable.vue_vue_type_style_index_0_lang-ba5db04e.js";import{_ as a}from"./VIconButton-8c1bc26d.js";import{_ as i}from"./VIconBox.vue_vue_type_style_index_0_lang-23eb9432.js";import{_ as s}from"./VAvatar.vue_vue_type_style_index_0_lang-5e2929bf.js";import{f as n,b as o,x as r,r as c,y as u,v as d,w as m,o as p,av as v,C as f,D as y,E as h,I as k,m as g,J as b,F as _,G as w,k as x,N as C,K as S,a4 as A,U as I,a1 as V,V as j,L,O as N,H as O,P as D,n as T,A as U}from"./index-44a3dc7a.js";import{_ as P}from"./VIMaskInput.vue_vue_type_script_lang-f2157dde.js";import{_ as E}from"./VCheckbox.vue_vue_type_style_index_0_lang-a0b263d8.js";import{_ as z}from"./VInput.vue_vue_type_script_setup_true_lang-ed16d81f.js";import{_ as F}from"./VField.vue_vue_type_script_setup_true_lang-47e9dc7e.js";import{_ as K}from"./VControl-7791458a.js";import{_ as q}from"./VFilePond.vue_vue_type_script_lang-8448d585.js";import{_ as W}from"./sia-476d3e58.js";import{_ as Q}from"./pdf-9ba17336.js";import{V as R}from"./vue-scrollto-b2fb9c52.js";import{u as $}from"./useNotyf-6873a1f8.js";import{s as G}from"./sleep-fd7a5d8b.js";import{u as M,a as B}from"./useAPI-cc1902ec.js";import{c as Y}from"./useSupportElement-8278b51f.js";import{u as H}from"./layoutSwitcher-d963a516.js";import{u as J}from"./viewWrapper-c8fdc926.js";import"./VLabel.vue_vue_type_script_setup_true_lang-fca11398.js";import"./useVFieldContext-f3df2727.js";import"./notyf-0ce6c6eb.js";import"./useThemeColors-ff480c2e.js";const X=["onSubmit"],Z={class:"mobile-steps is-active"},ee={class:"steps is-thin is-horizontal is-short"},le=h("span",{class:"steps-marker"},null,-1),te=[h("p",{class:"step-number"},"Step 1",-1)],ae=h("span",{class:"steps-marker"},null,-1),ie=[h("p",{class:"step-number"},"Step 2",-1)],se=h("span",{class:"steps-marker"},null,-1),ne=[h("p",{class:"step-number"},"Step 3",-1)],oe={style:{display:"flex","justify-content":"center","align-items":"center",width:"100%"}},re={key:0,style:{display:"flex","flex-direction":"column","justify-content":"center"}},ce=["src"],ue={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center"}},de=["src"],me={class:"stepper-form",style:{"justify-content":"center"}},pe={class:"form-sections"},ve={key:0,id:"form-step-0",class:"form-section is-active"},fe=h("h3",{class:"form-section-title"},[h("span",null," General Information "),h("span",{style:{color:"var(--light-text)"}},"( 1 )")],-1),ye=["onSubmit"],he={class:"form-section-inner"},ke={class:"columns is-multiline"},ge=h("label",null,"Profile Image *",-1),be={class:"column is-6"},_e=h("label",null,"First name *",-1),we={class:"column is-6"},xe=h("label",null,"Last name ",-1),Ce={class:"column is-6"},Se=h("label",null,"Email *",-1),Ae={class:"column is-6"},Ie=h("label",null,"Phone number ",-1),Ve={class:"column is-6"},je=h("label",null,"Post code ",-1),Le={class:"column is-6"},Ne=h("label",null,"Address ",-1),Oe={key:0,id:"form-step-1",class:"form-section is-active"},De=h("h3",{class:"form-section-title"},[h("span",null,"SIA info "),h("span",{style:{color:"var(--light-text)"}},"( 2 )")],-1),Te={class:"form-section-inner"},Ue={key:0,class:"banking-dashboard banking-dashboard-v1"},Pe={class:"columns is-multiline"},Ee={class:"column is-12"},ze={class:"dashboard-card is-credit-cards"},Fe={class:"card-block"},Ke={class:"columns is-multiline"},qe={class:"column is-12"},We={class:"card-block-inner is-dark-bordered-12"},Qe=h("div",{class:"shape"},null,-1),Re={class:"top"},$e={class:"card-number"},Ge={style:{"font-size":"1.1rem"}},Me=h("img",{src:W,alt:""},null,-1),Be={class:"card-number"},Ye={class:"card-number"},He=h("div",{class:"bottom"},[h("span",null,"SIA Licence")],-1),Je={class:"info-block-inner"},Xe={class:"info-block-line"},Ze=h("h4",{class:"dark-inverted"},"Status",-1),el=h("i",{"aria-hidden":"true",class:"fas fa-circle text-success",style:{color:"var(--primary)"}},null,-1),ll={class:"info-block-line"},tl=h("h4",{class:"dark-inverted"},"Expires in",-1),al=h("div",{class:"info-block-line"},[h("h4",{class:"dark-inverted"},"Type"),h("span",{class:"has-image"}," SIA card ")],-1),il={key:0,id:"form-step-2",class:"form-section is-active"},sl={class:"form-section-title"},nl=h("span",null,"Upload Documents ",-1),ol={style:{color:"var(--light-text)"}},rl={class:"form-section-inner"},cl={class:"profile-card-section"},ul={class:"section-content"},dl={class:"column"},ml={key:0,class:"incoming"},pl={style:{"max-width":"400px","white-space":"normal"}},vl={class:"item-name dark-inverted"},fl={class:"item-meta mb-4"},yl=h("div",null,null,-1),hl={key:0},kl={key:0},gl=["onClick"],bl={key:1},_l={class:"png-icon"},wl=["onClick"],xl=h("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1),Cl=h("i",{class:"iconify","data-icon":"feather:upload-cloud","aria-hidden":"true"},null,-1),Sl=h("i",{class:"iconify","data-icon":"feather:trash-2","aria-hidden":"true"},null,-1),Al={key:1},Il=[h("p",{class:"description"},"No documents are required",-1)],Vl={class:"navigation-buttons"},jl={class:"buttons is-right"},Ll={class:"form-stepper"},Nl={key:0,class:"steps is-vertical is-thin is-short"},Ol=[h("a",{href:"#",class:"steps-marker"},null,-1),h("div",{class:"steps-content"},[h("p",{class:"step-number"},"STEP 1"),h("p",{class:"step-info"},"General Information")],-1)],Dl=[h("a",{href:"#",class:"steps-marker"},null,-1),h("div",{class:"steps-content"},[h("p",{class:"step-number"},"STEP 2"),h("p",{class:"step-info"},"SIA info")],-1)],Tl=h("a",{href:"#",class:"steps-marker"},null,-1),Ul={class:"steps-content"},Pl={class:"step-number"},El=h("p",{class:"step-info"},"Documents",-1),zl={key:1,class:"form-help"},Fl={key:0,id:"help-section-0",class:"form-help-inner is-active"},Kl=[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],ql=h("h3",null,"General Information",-1),Wl=h("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Ql=h("div",{class:"list-wrap"},[h("ul",null,[h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")]),h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")]),h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")])])],-1),Rl={key:1,id:"help-section-1",class:"form-help-inner is-active"},$l=[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Gl=h("h3",null,"Shipment Owner",-1),Ml=h("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),Bl=h("div",{class:"list-wrap"},[h("ul",null,[h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")]),h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")])])],-1),Yl={key:2,id:"help-section-2",class:"form-help-inner is-active"},Hl=[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],Jl=h("h3",null,"Shipment Taxes",-1),Xl=h("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere etiam humano apparet. ",-1),Zl=h("div",{class:"list-wrap"},[h("ul",null,[h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")]),h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")]),h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")])])],-1),et={key:3,id:"help-section-3",class:"form-help-inner is-active"},lt=[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],tt=h("h3",null,"Options",-1),at=h("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),it=h("div",{class:"list-wrap"},[h("ul",null,[h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")]),h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")])])],-1),st={key:4,id:"help-section-4",class:"form-help-inner is-active"},nt=[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:x"},null,-1)],ot=h("h3",null,"Validation",-1),rt=h("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed quod proximum fuit non vidit. Quantum Aristoxeni ingenium consumptum videmus in musicis? An eiusdem modi? Quae similitudo in genere. ",-1),ct=h("div",{class:"list-wrap"},[h("ul",null,[h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")]),h("li",null,[h("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:check"}),h("span",null,"Some nice list item")])])],-1),ut={class:"modal-form"},dt=["src"],mt=["src"],pt=n({__name:"WorkerMainSignup",setup(n){const U=o(),W=M(),J=r(),pt=$(),{scrollTo:vt}=R,ft=c(0),yt=c(!1),ht=c(-1),kt=u(),gt=c(""),bt=c(0),_t=c(""),wt=c(!0),xt=c(!1),Ct=c(!1),St=c({id:"",token:"",industry:{id:"",name:"",industryLogo:""},company:{},supplier:{}}),At=c([]),It=c({}),Vt=c(null),jt=c(!1),Lt=c(""),Nt=c(0),Ot=c(!1),Dt=H(),Tt=d(),Ut=c({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),Pt=c({alertIcon:"fa fa-bell",title:"",subtitle:"",isConfirmSweetAlertOpen:!1,btntext:"text"}),Et=c({id:"",firstName:"",lastName:"",emailAddress:"",phoneNumber:"",lineManager:"",homeAddress:"",profileImageURL:null,externalID:"",compnayIdCardNumber:"",compnayIdCardExpiryDate:"",industry:"",arezCompany:"",postCode:"",supplier:0}),zt=c({id:0,firstName:"",surName:"",licenceNumber:"",role:"",licenceSector:"",expiryDate:"",status:!1,statusExplanation:"",additionalLicenceConditions:"",isDefault:!1,created_at:"",worker:""}),Ft={documentTitle:{label:"",grow:"lg",media:!0},actions:{label:"Actions",align:"end"}},Kt=e=>{console.log(Et.value),"supplier"!==e.name?Et.value={...Et.value,[e.target.name]:e.target.value}:Et.value={...Et.value,[e.name]:e.value}},qt=async()=>{yt.value=!0;try{const e=new window.FormData;for(const t in Et.value)"profileImageURL"===t&&null===Et.value.profileImageURL||e.append(t,Et.value[t]);Ot.value||e.delete("supplier"),e.append("invitationToken",St.value.token);const l=await W.post("/v3/api/worker/add-worker-through-invitation/",e);U.setCode(l.data.activationCode),bt.value=l.data.id,"security"===St.value.industry.name.toLowerCase()?ft.value+=1:(ft.value+=2,Zt()),T((()=>{vt(`#form-step-${ft.value}`,1e3),yt.value=!1}))}catch(e){let l=e.response.data??{};Object.values(l).forEach((e=>{e.forEach((e=>{console.log(e),pt.error(` ${e}, New Worker`)}))}))}finally{yt.value=!1}},Wt=async()=>{try{const e=await B.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${Et.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);"OK"===e.data.status?(Et.value.homeAddress=e.data.results[0].formatted_address,pt.success("Address Added")):"ZERO_RESULTS"===e.data.status&&(wt.value=!0,pt.error("Invalid Post-Code"))}catch(e){console.error(e)}},Qt=(e,l)=>{const t=l.file;t&&(Et.value={...Et.value,profileImageURL:t})},Rt=(e,l)=>{Et.value={...Et.value,profileImageURL:null}},$t=async()=>{J.push("/")},Gt=async()=>{if(1===ft.value&&Zt(),3===ft.value){if(yt.value)return;return yt.value=!0,pt.success("Your information is successfully stored!"),await G(1e3),void J.push("/")}yt.value=!0,await G(400),ft.value+=1,T((()=>{vt(`#form-step-${ft.value}`,1e3),yt.value=!1}))},Mt=()=>{Pt.value={alertIcon:"fa fa-bell",title:"Confirm",subtitle:"Do you verify your profile information and accuracy?",btntext:"Verify & Go",isConfirmSweetAlertOpen:!0}},Bt=async()=>{try{if(gt.value.length<16)return void pt.error("Please enter valid SIA");yt.value=!0;const e=await W.post(`/v3/api/worker/worker_sia/${bt.value}/add_sia_licence/`,{siaNumber:gt.value});zt.value=e.data,pt.success("SIA valid, worker"),yt.value=!1,gt.value=""}catch(e){yt.value=!1,pt.error("Invalid SIA or worker with this SIA already register")}},Yt=e=>{let l=At.value;const t=l.findIndex((e=>e.id===It.value.id));-1!==t&&(l[t].loading=e),At.value=[...l]},Ht=e=>{const l=e.target,t=l.files?.[0];t&&(Yt(!0),It.value.worker?(async(e,l)=>{try{const t=new window.FormData;for(const e in l)t.append(e,l[e]);await W.patch(`/v3/api/worker/document/${e}/`,t),pt.dismissAll(),pt.success("worker document updated, Worker"),Zt(),Yt(!1)}catch(t){console.error("ok",t)}})(It.value.id,{document:t}):Xt(It.value,t))},Jt=async()=>{try{Ut.value.isSweetAlertOpen=!1;await W.delete(`/v3/api/worker/document/${Nt.value}/`,{});Zt(),pt.dismissAll(),pt.success("Delete document, Worker")}catch(e){console.error("ok",e)}},Xt=async(e,l)=>{try{let t={status:!1,worker:bt.value,companyDocument:e.id,document:l};const a=new window.FormData;for(const e in t)a.append(e,t[e]);await W.post("/v3/api/worker/document/",a);Zt(),Yt(!1)}catch(t){console.error("ok",t)}},Zt=async()=>{try{const e=await W.get(`/v3/api/worker/document/${bt.value}/get_documents_of_a_worker/?step=step_1`,{});Ct.value=!0,At.value=e.data}catch(e){console.error("ok",e)}};return m((()=>Et.value.postCode),(e=>{console.log("postCode changed:",e)})),p((async()=>{(async()=>{try{const e=await W.post("v3/api/worker/worker_invitation/check-worker-invitation-token/",{token:kt.params.token});console.log(e.data),St.value=e.data,Y(St.value.company.favIcon)}catch{pt.error("Invitation link is expired or invalid"),J.push("/")}})(),Y(St.value.company.favIcon)})),p((()=>{Dt.setDynamicLayoutId(Tt.isDark=!1)})),(n,o)=>{const r=q,c=K,u=F,d=z,m=E,p=P,T=D,U=s,W=i,R=a,$=t,G=l,M=e,B=v("tooltip");return f(),y(j,null,[h("form",{method:"post",novalidate:"",onSubmit:b(Gt,["prevent"])},[h("div",Z,[h("ul",ee,[h("li",{class:k([[0===g(ft)&&"is-active"],"steps-segment"])},[le,h("a",{href:"#",class:"steps-content",onClick:o[0]||(o[0]=b((e=>g(ft)>=0&&g(vt)("#form-step-0",800,{offset:-150})),["prevent"]))},te)],2),h("li",{class:k([[1===g(ft)&&"is-active"],"steps-segment"])},[ae,h("a",{href:"#",class:"steps-content",onClick:o[1]||(o[1]=b((e=>g(ft)>=1&&g(vt)("#form-step-1",800,{offset:-150})),["prevent"]))},ie)],2),h("li",{class:k([[2===g(ft)&&"is-active"],"steps-segment"])},[se,h("a",{href:"#",class:"steps-content",onClick:o[2]||(o[2]=b((e=>g(ft)>=2&&g(vt)("#form-step-2",800,{offset:-150})),["prevent"]))},ne)],2)])]),h("div",oe,[g(St).supplier?(f(),y("div",re,[h("img",{style:{width:"150px"},src:g(St).supplier.partnerLogo},null,8,ce)])):(f(),y("div",ue,[h("img",{style:{width:"150px"},src:g(St).company.compnayLogo},null,8,de)]))]),h("div",me,[h("div",pe,[g(ft)>=0?(f(),y("div",ve,[fe,h("form",{id:"addWorkerForm",class:"cu-all-input",onSubmit:b(qt,["prevent"])},[h("div",he,[h("div",ke,[_(u,{class:"column is-12"},{default:w((()=>[ge,_(c,{class:"is-flex is-justify-content-center mt-5"},{default:w((()=>[_(r,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":240,"image-resize-target-width":240,"image-resize-target-height":240,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:Qt,onRemovefile:Rt})])),_:1})])),_:1}),h("div",be,[_(u,null,{default:w((()=>[_e,_(c,null,{default:w((()=>[_(d,{name:"firstName",modelValue:g(Et).firstName,"onUpdate:modelValue":o[3]||(o[3]=e=>g(Et).firstName=e),onChange:o[4]||(o[4]=e=>Kt(e)),type:"text",required:"",placeholder:"First name"},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",we,[_(u,null,{default:w((()=>[xe,_(c,null,{default:w((()=>[_(d,{name:"lastName",modelValue:g(Et).lastName,"onUpdate:modelValue":o[5]||(o[5]=e=>g(Et).lastName=e),onChange:o[6]||(o[6]=e=>Kt(e)),type:"text",placeholder:"Last name"},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Ce,[_(u,null,{default:w((()=>[Se,_(c,null,{default:w((()=>[_(d,{name:"email",modelValue:g(Et).emailAddress,"onUpdate:modelValue":o[7]||(o[7]=e=>g(Et).emailAddress=e),onChange:o[8]||(o[8]=e=>Kt(e)),required:"",type:"email",placeholder:"Email address"},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Ae,[_(u,null,{default:w((()=>[Ie,_(c,null,{default:w((()=>[_(d,{name:"phoneNumber",modelValue:g(Et).phoneNumber,"onUpdate:modelValue":o[9]||(o[9]=e=>g(Et).phoneNumber=e),onChange:o[10]||(o[10]=e=>Kt(e)),type:"tel",placeholder:"Phone number"},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Ve,[_(u,null,{default:w((()=>[je,_(c,null,{default:w((()=>[_(d,{name:"postCode",modelValue:g(Et).postCode,"onUpdate:modelValue":o[11]||(o[11]=e=>g(Et).postCode=e),onBlur:Wt,type:"text",placeholder:"Post code"},null,8,["modelValue"])])),_:1})])),_:1})]),h("div",Le,[_(u,null,{default:w((()=>[Ne,_(c,null,{default:w((()=>[_(d,{name:"homeAddress",modelValue:g(Et).homeAddress,"onUpdate:modelValue":o[12]||(o[12]=e=>g(Et).homeAddress=e),type:"text",placeholder:"Address"},null,8,["modelValue"])])),_:1})])),_:1})]),_(c,{raw:"",subcontrol:""},{default:w((()=>[_(m,{modelValue:g(xt),"onUpdate:modelValue":o[13]||(o[13]=e=>x(xt)?xt.value=e:null),label:"I have read and agree to the privacy policy, terms of service, and community",color:"primary"},null,8,["modelValue"])])),_:1})])])],40,ye)])):C("",!0),_(V,{name:"fade-slow"},{default:w((()=>[g(ft)>=1&&"security"===g(St).industry.name.toLowerCase()?(f(),y("div",Oe,[De,h("div",Te,[_(u,{addons:""},{default:w((({id:e})=>[_(c,{expanded:""},{default:w((()=>[_(p,{id:e,modelValue:g(gt),"onUpdate:modelValue":o[14]||(o[14]=e=>x(gt)?gt.value=e:null),autocomplete:"cc-csc",required:"",class:"input",options:{mask:"0000000000000000"},placeholder:"SIA Number"},null,8,["id","modelValue"])])),_:2},1024),_(c,null,{default:w((()=>[_(T,{color:"primary",loading:g(yt),onClick:Bt,rounded:""},{default:w((()=>[S("Verify")])),_:1},8,["loading"])])),_:1})])),_:1}),g(zt).licenceNumber?(f(),y("div",Ue,[h("div",Pe,[h("div",Ee,[h("div",ze,[h("div",Fe,[h("div",Ke,[h("div",qe,[h("div",We,[h("div",{class:"credit-card is-theme-1",style:A(g(zt).isDefault?"border: 2px solid forestgreen;":"")},[Qe,h("div",Re,[h("div",$e,[h("div",null,[h("span",null,I(g(zt).licenceNumber),1),h("span",Ge,I(g(zt).firstName)+" "+I(g(zt).surName),1)]),Me]),h("div",Be,[h("span",null,I(g(zt).licenceSector),1)]),h("div",Ye,[h("span",null,I(g(zt).role),1)])]),He],4)]),h("div",Je,[h("div",Xe,[Ze,h("span",null,[el,S(" "+I(g(zt).status?"Active":"InActive"),1)])]),h("div",ll,[tl,h("span",null,I(g(zt).expiryDate),1)]),al])])])])])])])])):C("",!0)])])):C("",!0)])),_:1}),_(V,{name:"fade-slow"},{default:w((()=>[g(ft)>=2?(f(),y("div",il,[h("h3",sl,[nl,h("span",ol,"( "+I("security"===g(St).industry.name.toLowerCase()?"3":"2")+" )",1)]),h("div",rl,[h("div",cl,[h("input",{ref_key:"fileInput",ref:Vt,type:"file",style:{display:"none"},onChange:Ht,accept:"image/*,application/pdf"},null,544),h("div",ul,[h("div",dl,[g(At).length>0?(f(),y("div",ml,[_($,{rounded:"",data:g(At),columns:Ft},{"body-cell":w((({row:e,column:l,value:t})=>["documentTitle"===l.key?(f(),y(j,{key:0},[_(U,{picture:e.icon,squared:!0},null,8,["picture"]),h("div",pl,[h("span",vl,I(e.documentTitle),1),h("span",fl,[h("span",null,I(e.subTitle),1)])]),yl],64)):"actions"===l.key?(f(),y(j,{key:1},[e.document?(f(),y("div",hl,[e.document.includes(".pdf")?(f(),y("div",kl,[h("img",{onClick:()=>{Lt.value=e.document,jt.value=!0,_t.value=e.documentTitle},class:"image-icon",src:Q,alt:"",style:{"margin-right":"10px",width:"34px",height:"34px",cursor:"pointer","border-radius":"50%","margin-top":"6px"}},null,8,gl)])):(f(),y("div",bl,[h("div",_l,[h("i",{onClick:()=>{Lt.value=e.document,jt.value=!0,_t.value=e.documentTitle},class:"fas fa-file-image",style:{"font-size":"18px",cursor:"pointer",color:"var(--primary)"}},null,8,wl)])]))])):C("",!0),e.document?C("",!0):L((f(),N(W,{key:1,size:"small",style:{color:"var(--primary-grey)",cursor:"pointer"},label:"Info",rounded:""},{default:w((()=>[xl])),_:1})),[[B,"Delete uploaded document to upload again.",void 0,{primary:!0,rounded:!0}]]),e.loading||e.document?C("",!0):(f(),N(W,{key:2,size:"small",style:A({color:e.document?"var(--primary-grey)":"var(--primary)",cursor:e.document?"not-allowed":"pointer"}),rounded:"",onClick:()=>(e=>{It.value=e,Vt.value&&Vt.value.click()})(e)},{default:w((()=>[Cl])),_:2},1032,["style","onClick"])),e.loading?(f(),N(R,{key:3,color:"primary",outlined:"",loading:"",circle:"",icon:"feather:plus"})):C("",!0),e.worker?(f(),N(W,{key:4,size:"small",color:"danger",class:"ml-3",style:{cursor:"pointer"},rounded:"",onClick:l=>{return t=e.id,Nt.value=t,void(Ut.value={title:"Are you sure?",subtitle:"You will not be able to recover this Worker Document!",btntext:"Yes, Delete it",isSweetAlertOpen:!0});var t}},{default:w((()=>[Sl])),_:2},1032,["onClick"])):C("",!0)],64)):C("",!0)])),_:1},8,["data"])])):(f(),y("div",Al,Il))])])])])])):C("",!0)])),_:1}),h("div",Vl,[h("div",jl,[0===g(ft)?(f(),N(T,{key:0,type:"submit",disabled:!g(xt),form:"addWorkerForm",color:"primary",bold:"",loading:g(yt),tabindex:"0"},{default:w((()=>[S(" Continue ")])),_:1},8,["disabled","loading"])):C("",!0),0==g(ft)||g(Ct)?C("",!0):(f(),N(T,{key:1,type:"submit",color:"primary",bold:"",loading:g(yt),tabindex:"0"},{default:w((()=>[S(" Continue ")])),_:1},8,["loading"])),g(Ct)?(f(),N(T,{key:2,onClick:Mt,color:"primary",bold:"",loading:g(yt),tabindex:"0"},{default:w((()=>[S(" Confirm ")])),_:1},8,["loading"])):C("",!0)])])]),h("div",Ll,[-1===g(ht)?(f(),y("ul",Nl,[h("li",{id:"step-segment-0",role:"button",class:k([[0===g(ft)&&"is-active"],"steps-segment"]),tabindex:"0",onKeydown:o[15]||(o[15]=O(b((e=>g(ft)>=0&&g(vt)("#form-step-0",800,{offset:-20})),["prevent"]),["space"])),onClick:o[16]||(o[16]=b((e=>g(ft)>=0&&g(vt)("#form-step-0",800,{offset:-20})),["prevent"]))},Ol,34),"security"===g(St).industry.name.toLowerCase()?(f(),y("li",{key:0,id:"step-segment-1",class:k([[1===g(ft)&&"is-active"],"steps-segment"]),tabindex:"0",role:"button",onKeydown:o[17]||(o[17]=O(b((e=>g(ft)>=1&&g(vt)("#form-step-1",800,{offset:-20})),["prevent"]),["space"])),onClick:o[18]||(o[18]=b((e=>g(ft)>=1&&g(vt)("#form-step-1",800,{offset:-20})),["prevent"]))},Dl,34)):C("",!0),h("li",{id:"step-segment-2",class:k([[2===g(ft)&&"is-active"],"steps-segment"]),tabindex:"0",role:"button",onKeydown:o[19]||(o[19]=O(b((e=>g(ft)>=2&&g(vt)("#form-step-2",800,{offset:-20})),["prevent"]),["space"])),onClick:o[20]||(o[20]=b((e=>g(ft)>=2&&g(vt)("#form-step-2",800,{offset:-20})),["prevent"]))},[Tl,h("div",Ul,[h("p",Pl," STEP "+I("security"===g(St).industry.name.toLowerCase()?"3":"2"),1),El])],34)])):(f(),y("div",zl,[0===g(ht)?(f(),y("div",Fl,[h("button",{class:"close-help-button",tabindex:"0",onKeydown:o[21]||(o[21]=O(b((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[22]||(o[22]=e=>ht.value=-1)},Kl,32),ql,Wl,Ql])):C("",!0),1===g(ht)?(f(),y("div",Rl,[h("button",{class:"close-help-button",tabindex:"0",onKeydown:o[23]||(o[23]=O(b((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[24]||(o[24]=e=>ht.value=-1)},$l,32),Gl,Ml,Bl])):C("",!0),2===g(ht)?(f(),y("div",Yl,[h("button",{class:"close-help-button",tabindex:"0",onKeydown:o[25]||(o[25]=O(b((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[26]||(o[26]=e=>ht.value=-1)},Hl,32),Jl,Xl,Zl])):C("",!0),3===g(ht)?(f(),y("div",et,[h("button",{class:"close-help-button",tabindex:"0",onKeydown:o[27]||(o[27]=O(b((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[28]||(o[28]=e=>ht.value=-1)},lt,32),tt,at,it])):C("",!0),4===g(ht)?(f(),y("div",st,[h("button",{class:"close-help-button",tabindex:"0",onKeydown:o[29]||(o[29]=O(b((e=>ht.value=-1),["prevent"]),["space"])),onClick:o[30]||(o[30]=e=>ht.value=-1)},nt,32),ot,rt,ct])):C("",!0)]))])])],40,X),_(G,{is:"form",open:g(jt),title:g(_t),size:"big",actions:"right",onClose:o[32]||(o[32]=e=>jt.value=!1)},{content:w((()=>[h("div",ut,[g(Lt).includes(".pdf")?(f(),y("iframe",{key:0,src:g(Lt),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,dt)):(f(),y("img",{key:1,src:g(Lt),alt:""},null,8,mt))])])),action:w((()=>[])),cancel:w((()=>[_(T,{rounded:"",onClick:o[31]||(o[31]=e=>jt.value=!1),style:{display:"none"}},{default:w((()=>[S(" Close ")])),_:1})])),_:1},8,["open","title"]),g(Ut).isSweetAlertOpen?(f(),N(M,{key:0,isSweetAlertOpen:g(Ut).isSweetAlertOpen,title:g(Ut).title,subtitle:g(Ut).subtitle,btntext:g(Ut).btntext,onConfirm:Jt,onCancel:()=>g(Ut).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0),g(Pt).isConfirmSweetAlertOpen?(f(),N(M,{key:1,isConfirmSweetAlertOpen:g(Pt).isConfirmSweetAlertOpen,title:g(Pt).title,subtitle:g(Pt).subtitle,btntext:g(Pt).btntext,onConfirm:$t,onCancel:()=>g(Pt).isConfirmSweetAlertOpen=!1},null,8,["isConfirmSweetAlertOpen","title","subtitle","btntext","onCancel"])):C("",!0)],64)}}}),vt={class:"landing-page-wrapper"},ft={class:"hero-body"},yt={class:"container"},ht=n({__name:"[token]",setup:e=>(J().setPageTitle("Worker Info"),U({title:"Workers - Arez"}),(e,l)=>{const t=pt;return f(),y("div",vt,[h("div",ft,[h("div",yt,[_(t)])])])})});export{ht as default};
