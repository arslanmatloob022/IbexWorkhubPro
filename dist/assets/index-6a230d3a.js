import{_ as e}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-c94cfc5a.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-ce74d74b.js";import{_ as a}from"./VAvatar.vue_vue_type_style_index_0_lang-efb4c369.js";import{_ as t}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-f33ffb19.js";import{_ as s}from"./VField.vue_vue_type_script_setup_true_lang-b4b7b0d4.js";import{f as o,b as i,x as n,y as d,r as c,$ as u,o as r,j as p,C as m,D as v,E as f,F as y,G as _,H as g,O as h,N as b,V as C,W as k,U as w,I as x,a4 as V,P as U,Q as I,R as T,S,K as j,J as M,w as P,L as A,k as L,X as D,m as z,aS as H,B as O,al as E,aB as $,A as R}from"./index-f3dee3af.js";import{_ as B}from"./VControl-85fa2479.js";import{_ as N}from"./VInput.vue_vue_type_script_setup_true_lang-01960579.js";import{_ as K,a as W}from"./projects-dark-4a371d8a.js";import{u as Z}from"./useAPI-91b247fc.js";import{_ as q}from"./VModal.vue_vue_type_style_index_0_lang-483ee21f.js";import{_ as F}from"./VLabel.vue_vue_type_script_setup_true_lang-8af1eab0.js";import{u as G}from"./useNotyf-248ceabc.js";import{a as Q,c as J}from"./useSupportElement-c80bf490.js";import{_ as Y}from"./SweetAlert.vue_vue_type_style_index_0_lang-4815489b.js";import{_ as X}from"./VIconWrap.vue_vue_type_style_index_0_lang-332b6bf0.js";import{_ as ee,a as le}from"./search-6-dark-6c9b195a.js";import{_ as ae}from"./VTextarea.vue_vue_type_script_setup_true_lang-992155be.js";import{_ as te}from"./UserCardDropdown-db4a149b.js";import{_ as se,a as oe}from"./VOption.vue_vue_type_style_index_0_lang-7a34171e.js";import{_ as ie}from"./VCheckbox.vue_vue_type_style_index_0_lang-e5bf699a.js";import{_ as ne,a as de}from"./search-4-dark-2b5b440c.js";import{_ as ce}from"./VFilePond.vue_vue_type_script_lang-32b6a046.js";import{_ as ue,a as re}from"./UnitAddUpdateModal.vue_vue_type_script_setup_true_lang-987f9d9b.js";import{_ as pe}from"./VDropdown.vue_vue_type_style_index_0_lang-6a5f42af.js";import{u as me}from"./company-5acf4c44.js";import{b as ve}from"./route-block-83d24a4e.js";import{u as fe}from"./layoutSwitcher-4f0d4066.js";import{u as ye}from"./viewWrapper-b8718d1e.js";import"./VFlex.vue_vue_type_style_index_0_lang-f1bfe950.js";import"./VPlaceloadWrap-ce54df9b.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-45c4854c.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-756b180c.js";import"./useVFieldContext-fb63aaf0.js";import"./notyf-32fcda9b.js";import"./useThemeColors-a6863ed0.js";import"./via-placeholder-24645670.js";import"./VIcon.vue_vue_type_script_setup_true_lang-da5bf67a.js";import"./useDropdown-60e41afb.js";const _e=e=>(I("data-v-d672db14"),e=e(),T(),e),ge={class:"columns is-multiline"},he={class:"column is-12"},be={class:"column is-12 mt-6 is-flex is-flex-direction-column",style:{gap:"20px","align-items":"center"}},Ce=_e((()=>f("i",{class:"fa fa-search"},null,-1))),ke={class:"timeline-wrapper"},we=_e((()=>f("div",{class:"timeline-header"},null,-1))),xe={class:"timeline-wrapper-inner no-padding-all"},Ve={class:"timeline-container"},Ue={class:"date"},Ie={class:"content-wrap"},Te={class:"content-box"},Se={class:"box-text"},je={class:"meta-text"},Me=["innerHTML"],Pe=_e((()=>f("img",{class:"light-image is-larger",src:K,alt:""},null,-1))),Ae=_e((()=>f("img",{class:"dark-image is-larger",src:W,alt:""},null,-1))),Le=o({__name:"CompanyActivitylog",props:{id:{type:String,default:0},worker:{type:Object,default:{}}},setup(o){i();const I=n(),T=d(),S=Z(),j=c(!1),M=c([]),P=c(!1),A=c("2"),L=async()=>{j.value=!0;try{const e=await S.get("/api/activity-logs/");M.value=e.data}catch(e){console.error("Error fetching worker activities:",e)}finally{j.value=!1}},D={get:"is-success",post:"is-info",patch:"is-warning",delete:"is-danger"};const z=c(1),H=c(10),O=c(""),E=u((()=>{const e=O.value.toLowerCase(),l=function(e){const l=new Date,a=new Date,t=new Date;switch(e){case"1":a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"2":a.setDate(l.getDate()-1),a.setHours(0,0,0,0),t.setHours(23,59,59,999);break;case"7":a.setDate(l.getDate()-7);break;case"14":a.setDate(l.getDate()-14);break;case"30":a.setDate(l.getDate()-30);break;case"90":a.setDate(l.getDate()-90);break;default:return null}return{start:a,end:t}}(A.value),a=M.value.filter((a=>{const t=a.actor_info?.username.toLowerCase().includes(e)||a.actor_info?.last_name&&a.actor_info?.last_name?.toLowerCase().includes(e)||a.message.toLowerCase().includes(e);if(l){const e=new Date(a.timestamp);return t&&e>=l.start&&e<=l.end}return t}));return P.value=a.length>0,a}));u((()=>{const e=(z.value-1)*H.value,l=e+H.value;return E.value.slice(e,l)}));const $=u((()=>E.value.length>H.value)),R=e=>{z.value=e,I.push({path:T.path,query:{...T.query,page:e}})};return r((()=>{z.value=parseInt(T.query.page)||1,L()})),p((()=>{})),(o,i)=>{const n=N,d=B,c=U,u=s,r=t,p=a,I=l,T=e;return m(),v("div",ge,[f("div",he,[f("div",be,[y(u,{addons:"",style:{width:"21rem"}},{default:_((()=>[y(d,{expanded:""},{default:_((()=>[y(n,{onKeypress:g(L,["enter"]),type:"text",class:"input",modelValue:O.value,"onUpdate:modelValue":i[0]||(i[0]=e=>O.value=e),placeholder:"Search ..."},null,8,["onKeypress","modelValue"])])),_:1}),y(d,null,{default:_((()=>[y(c,{color:"primary",onClick:L},{default:_((()=>[Ce])),_:1})])),_:1})])),_:1}),f("div",ke,[we,f("div",xe,[f("div",Ve,[j.value?(m(),h(r,{key:0})):b("",!0),(m(!0),v(C,null,k(M.value,(e=>{return m(),v("div",{class:"timeline-item is-unread",key:e?.id},[f("div",Ue,[f("span",null,w((l=e?.timestamp.slice(0,10),new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric"}))),1)]),f("div",{class:x(["dot",D[e.action]])},null,2),f("div",Ie,[f("div",Te,[y(p,{picture:e?.actor_info.avatar},null,8,["picture"]),f("div",Se,[f("div",je,[f("p",null,[f("span",{style:V({color:""+(e.actor===e?.object_id?"var(--red)":"")})},w(e?.actor_info.username)+" "+w(e?.actor_info.last_name)+". ",5),f("span",{class:"action-message",innerHTML:e?.message},null,8,Me)]),f("span",null,w(e?.timestamp.slice(11,16)),1)])])])])]);var l})),128)),P.value||j.value?b("",!0):(m(),h(I,{key:1,title:"No Activity found.",subtitle:"Looks like you haven't done any activity on this worker yet. Anything you do will show up here."},{image:_((()=>[Pe,Ae])),_:1}))])]),$.value?(m(),h(T,{key:0,"current-page":z.value,"onUpdate:currentPage":[i[1]||(i[1]=e=>z.value=e),R],"item-per-page":H.value,"total-items":E.value.length,"max-links-displayed":7,"no-router":"",class:"mt-4"},null,8,["current-page","item-per-page","total-items"])):b("",!0)])])])])}}}),De=S(Le,[["__scopeId","data-v-d672db14"]]),ze={class:"modal-form columns is-multiline"},He={class:"field column is-12 mb-0"},Oe=o({__name:"AddUpdatePermissionModal",props:{openPermissionModal:{type:Boolean,default:!1},moduleId:{default:""},permId:{default:""}},emits:["close:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=G(),o=Z(),i=c(!1),n=c({title:"",module:a.moduleId?a.moduleId:null}),d=async()=>{try{i.value=!0;let e=Q(n.value,[""]);await o.post("/api/module-permissions/",e),l("update:OnSuccess",null),u(),t.success("Permission added successfully")}catch(e){console.log(e)}finally{i.value=!1}},u=()=>{l("close:modalHandler",!1)};return r((()=>{a.permId&&(async()=>{try{i.value=!0;const e=await o.get(`/api/module-permissions/${a.permId?a.permId:""}/`);n.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})()})),(e,l)=>{const t=F,o=N,c=B,r=s,p=U,v=q;return m(),h(v,{is:"form",open:a.openPermissionModal,title:a.permId?"Update Permission":"Add Permission",size:"medium",actions:"right",onSubmit:M(d,["prevent"]),onClose:u},{content:_((()=>[f("div",ze,[f("div",He,[y(r,null,{default:_((()=>[y(t,null,{default:_((()=>[j("Title: *")])),_:1}),y(c,null,{default:_((()=>[y(o,{required:"",modelValue:n.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value.title=e),type:"text",placeholder:i.value?"Loading...":"Title"},null,8,["modelValue","placeholder"])])),_:1})])),_:1})])])])),action:_((()=>[y(p,{type:"submit",loading:i.value,color:"primary",raised:""},{default:_((()=>[j(w(a.permId?"Update Permission":"Add Permission"),1)])),_:1},8,["loading"])])),_:1},8,["open","title","onSubmit"])}}}),Ee=e=>(I("data-v-e1425bc6"),e=e(),T(),e),$e={class:"tile-grid-toolbar"},Re={class:"buttons"},Be=Ee((()=>f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1))),Ne=Ee((()=>f("span",null,"Permission",-1))),Ke={class:"tile-grid tile-grid-v1"},We=Ee((()=>f("img",{class:"light-image",src:ee,alt:""},null,-1))),Ze=Ee((()=>f("img",{class:"dark-image",src:le,alt:""},null,-1))),qe={class:"tile-grid-item"},Fe={class:"tile-grid-item-inner"},Ge={class:"meta"},Qe={class:"dark-inverted"},Je={class:"dropdown"},Ye=o({__name:"PermissionsList",props:{moduleId:{}},setup(e){const a=e,t=Z(),s=G(),o=c([{id:"",title:"",key:"",module:""}]),i=c(!1),n=c(""),d=c(""),p=c(""),g=c({title:"Delete Permission?",text:"Are you sure to delete this permission, deletion of permission may effect the reach to modules where it is applied.!",icon:"fas fa-bell",color:"warning",btnTxt:"Yes, delete it!",openSweetAlert:!1}),V=u((()=>d.value?o.value.filter((e=>e.title.match(new RegExp(d.value,"i")))):o.value)),I=async()=>{try{const e=await t.get(`/api/app-modules/${a.moduleId}/permissions/`);o.value=e.data}catch(e){console.log(e)}},T=async()=>{try{await t.delete(`/api/permissions/${p.value}`);s.success("Permission Deleted Successfully"),I()}catch(e){console.log(e)}};return P((()=>a.moduleId),(()=>{I()})),r((()=>{a.moduleId&&I()})),(e,t)=>{const s=B,o=U,c=l,u=X,r=Y,S=Oe;return m(),v("div",null,[f("div",$e,[y(s,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>L(d)?d.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(d)]])])),_:1}),f("div",Re,[y(o,{onClick:t[1]||(t[1]=e=>i.value=!0),outlined:"",light:"",color:"success",raised:""},{default:_((()=>[Be,Ne])),_:1})])]),f("div",Ke,[y(c,{class:x([0!==z(V).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[We,Ze])),_:1},8,["class"]),y(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:_((()=>[(m(!0),v(C,null,k(z(V),((e,l)=>(m(),v("div",{key:l,class:"column is-12"},[f("div",qe,[f("div",Fe,[f("div",Ge,[f("span",Qe,w(e.title),1),f("span",null,w(e.key),1)]),f("div",Je,[y(u,{onClick:l=>{return a=e,n.value=a.id,void(i.value=!0);var a},icon:"lucide:pencil",color:"info",class:"mr-1 cu-pointer","has-large-icon":""},null,8,["onClick"]),y(u,{onClick:l=>{return a=e,p.value=a.id,void(g.value.openSweetAlert=!0);var a},icon:"lucide:trash",class:"cu-pointer",color:"danger","has-large-icon":""},null,8,["onClick"])])])])])))),128))])),_:1})]),z(g).openSweetAlert?(m(),h(r,{key:0,isSweetAlertOpen:z(g).openSweetAlert,title:z(g).title,subtitle:z(g).text,icon:z(g).icon,btntext:z(g).btnTxt,onConfirm:T,onCancel:()=>{z(g).openSweetAlert=!1}},null,8,["isSweetAlertOpen","title","subtitle","icon","btntext","onCancel"])):b("",!0),z(i)?(m(),h(S,{key:1,"open-permission-modal":z(i),"module-id":a.moduleId,permId:z(n),"onClose:modalHandler":t[2]||(t[2]=e=>i.value=!1),"onUpdate:OnSuccess":I},null,8,["open-permission-modal","module-id","permId"])):b("",!0)])}}}),Xe=S(Ye,[["__scopeId","data-v-e1425bc6"]]),el={class:"modal-form columns is-multiline"},ll={class:"field column is-12 mb-0"},al={class:"field column is-12 mb-0"},tl=o({__name:"AddUpdateModuleModal",props:{openAppModuleModal:{type:Boolean,default:!1},moduleId:{default:""}},emits:["close:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=G(),o=Z(),i=c(!1);c(!1);const n=c({title:"",description:""}),d=async()=>{try{i.value=!0;let e=Q(n.value,[""]);a.moduleId?(await o.patch(`/api/app-modules/${a.moduleId}/`,e),t.success("Module updated successfully")):(await o.post("/api/app-modules/",e),t.success("Module added successfully")),p(),u()}catch(e){console.log(e)}finally{i.value=!1}},u=()=>{l("close:modalHandler",!1),console.log("modal closed")},p=()=>{l("update:OnSuccess",null)};return r((()=>{a.moduleId&&(async()=>{try{i.value=!0;const e=await o.get(`/api/app-modules/${a.moduleId?a.moduleId:""}/`);n.value=e.data}catch(e){console.log(e)}finally{i.value=!1}})()})),(e,l)=>{const t=F,o=N,c=B,r=s,p=ae,v=U,g=q;return m(),h(g,{is:"form",open:a.openAppModuleModal,title:a.moduleId?"Update Module":"Add Module",size:"medium",actions:"right",onSubmit:M(d,["prevent"]),onClose:u},{content:_((()=>[f("div",el,[f("div",ll,[y(r,null,{default:_((()=>[y(t,null,{default:_((()=>[j("Title: *")])),_:1}),y(c,null,{default:_((()=>[y(o,{required:"",modelValue:n.value.title,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value.title=e),type:"text",placeholder:i.value?"Loading...":"Title"},null,8,["modelValue","placeholder"])])),_:1})])),_:1})]),f("div",al,[y(r,null,{default:_((()=>[y(t,null,{default:_((()=>[j("Description")])),_:1}),y(c,null,{default:_((()=>[y(p,{type:"text",rows:"3",placeholder:i.value?"Loading...":"Description",modelValue:n.value.description,"onUpdate:modelValue":l[1]||(l[1]=e=>n.value.description=e)},null,8,["placeholder","modelValue"])])),_:1})])),_:1})])])])),action:_((()=>[y(v,{type:"submit",loading:i.value,color:"primary",raised:""},{default:_((()=>[j(w(a.moduleId?"Update Module":"Add Module"),1)])),_:1},8,["loading"])])),_:1},8,["open","title","onSubmit"])}}}),sl=e=>(I("data-v-cee03d18"),e=e(),T(),e),ol={class:"tile-grid-toolbar"},il={class:"buttons"},nl=sl((()=>f("span",{class:"icon"},[f("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1))),dl=sl((()=>f("span",null,"Module",-1))),cl={class:"tile-grid tile-grid-v1"},ul=sl((()=>f("img",{class:"light-image",src:ee,alt:""},null,-1))),rl=sl((()=>f("img",{class:"dark-image",src:le,alt:""},null,-1))),pl=["onClick"],ml={class:"tile-grid-item-inner"},vl={class:"meta"},fl={class:"dark-inverted"},yl=o({__name:"ModulesList",emits:["select-module"],setup(e,{emit:a}){const t=Z(),s=c(""),o=c(""),i=c(!1),n=c([{id:"1c84ef34-8149-40c3-81ba-0b6625bebfee",title:"Test Module",value:"test_module",description:"string"}]),d=c(!1),p=u((()=>s.value?n.value.filter((e=>e.title.match(new RegExp(s.value,"i"))||e.description.match(new RegExp(s.value,"i")))):n.value)),g=async()=>{try{i.value=!0;const e=await t.get("/api/app-modules/");n.value=e.data}catch(e){console.log(e)}finally{i.value=!1}},V=c("");return r((()=>{g()})),(e,t)=>{const i=B,n=U,c=l,u=te,r=tl;return m(),v("div",null,[f("div",ol,[y(i,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>L(s)?s.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(s)]])])),_:1}),f("div",il,[y(n,{onClick:t[1]||(t[1]=e=>((e="")=>{o.value=e,d.value=!d.value})("")),outlined:"",light:"",color:"info",raised:""},{default:_((()=>[nl,dl])),_:1})])]),f("div",cl,[y(c,{class:x([0!==z(p).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[ul,rl])),_:1},8,["class"]),y(H,{name:"list",tag:"div",class:"columns is-multiline"},{default:_((()=>[(m(!0),v(C,null,k(z(p),((e,l)=>(m(),v("div",{key:l,class:"column is-12"},[f("div",{class:x(["tile-grid-item cu-pointer",z(V)===e.id?"active-card":""]),onClick:l=>{return t=e.id,V.value=t,void a("select-module",t);var t}},[f("div",ml,[f("div",vl,[f("span",fl,w(e.title),1),f("span",null,w(e.description),1)]),y(u)])],10,pl)])))),128))])),_:1})]),z(d)?(m(),h(r,{key:0,"open-app-module-modal":z(d),"module-id":z(o),"onClose:modalHandler":t[2]||(t[2]=e=>d.value=!1),"onUpdate:OnSuccess":g},null,8,["open-app-module-modal","module-id"])):b("",!0)])}}}),_l=S(yl,[["__scopeId","data-v-cee03d18"]]),gl={class:"columns is-multiline"},hl={class:"column is-4"},bl={class:"column is-8"},Cl=o({__name:"ModuleAndPermissions",setup(e){c("");const l=c(""),a=e=>{l.value=e};return(e,t)=>{const s=_l,o=Xe;return m(),v("div",null,[f("div",gl,[f("div",hl,[y(s,{onSelectModule:a})]),f("div",bl,[y(o,{moduleId:z(l)},null,8,["moduleId"])])])])}}}),kl={class:"columns is-multiline"},wl={class:"column is-4"},xl={class:"column is-8"},Vl=o({__name:"UsersPermissions",setup(e){c("");const l=c(""),a=e=>{l.value=e};return(e,t)=>{const s=_l,o=Xe;return m(),v("div",null,[f("div",kl,[f("div",wl,[y(s,{onSelectModule:a})]),f("div",xl,[y(o,{moduleId:z(l)},null,8,["moduleId"])])])])}}}),Ul={class:"columns is-multiline"},Il={class:"column is-4"},Tl={class:"column is-8"},Sl=o({__name:"RolesPermissions",setup(e){c("");const l=c(""),a=e=>{l.value=e};return(e,t)=>{const s=_l,o=Xe;return m(),v("div",null,[f("div",Ul,[f("div",Il,[y(s,{onSelectModule:a})]),f("div",Tl,[y(o,{moduleId:z(l)},null,8,["moduleId"])])])])}}}),jl={class:"columns is-multiline"},Ml={class:"tabs-wrapper"},Pl={class:"tabs-inner"},Al={class:"tabs is-boxed"},Ll=f("span",null,"Roles Permissions",-1),Dl=[Ll],zl=f("span",null,"Users Permissions",-1),Hl=[zl],Ol=f("span",null,"Modules & Permissions",-1),El=[Ol],$l={key:0,class:"column is-12"},Rl={key:1,class:"column is-12"},Bl={key:2,class:"column is-12"},Nl=o({__name:"RolesAndPermissionsMain",setup(e){const l=c("rolesPermissions");return(e,a)=>{const t=Sl,s=Vl,o=Cl;return m(),v("div",jl,[f("div",Ml,[f("div",Pl,[f("div",Al,[f("ul",null,[f("li",{class:x(["rolesPermissions"===l.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:a[0]||(a[0]=g(M((e=>l.value="rolesPermissions"),["prevent"]),["space"])),onClick:a[1]||(a[1]=e=>l.value="rolesPermissions")},Dl,32)],2),f("li",{class:x(["userPermissions"===l.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:a[2]||(a[2]=g(M((e=>l.value="userPermissions"),["prevent"]),["space"])),onClick:a[3]||(a[3]=e=>l.value="userPermissions")},Hl,32)],2),f("li",{class:x(["modulePermissions"===l.value?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:a[4]||(a[4]=g(M((e=>l.value="modulePermissions"),["prevent"]),["space"])),onClick:a[5]||(a[5]=e=>l.value="modulePermissions")},El,32)],2)])])])]),"rolesPermissions"===l.value?(m(),v("div",$l,[y(t)])):b("",!0),"userPermissions"===l.value?(m(),v("div",Rl,[y(s)])):b("",!0),"modulePermissions"===l.value?(m(),v("div",Bl,[y(o)])):b("",!0)])}}}),Kl={class:"modal-form columns is-multiline"},Wl={class:"column is-12"},Zl=f("label",{class:"label"},"Title *",-1),ql={class:"column is-12"},Fl=f("label",{class:"label"},"Description",-1),Gl=o({__name:"TradeTypeModal",props:{trade:{},openTradeModal:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Z(),o=c(!1),i=G(),n=c({id:a.trade?.id||"",name:a.trade?.name||"",description:a.trade?.description||""}),d=()=>{l("update:modalHandler",!1)},u=async()=>{try{o.value=!0,n.value.id?(await t.patch(`/api/cost-trade/${n.value.id}/`,n.value),i.success("Trade updated successfully")):(await t.post("/api/cost-trade/",n.value),i.success("Trade created successfully")),l("update:OnSuccess"),d()}catch(e){console.log(e)}finally{o.value=!1}};return(e,l)=>{const a=ae,t=B,i=s,c=U,r=q;return m(),h(r,{is:"form",open:e.openTradeModal,title:"Trade",size:"small",actions:"right",onSubmit:M(u,["prevent"]),onClose:d},{content:_((()=>[f("div",Kl,[f("div",Wl,[Zl,A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>z(n).name=e)},null,512),[[D,z(n).name]])]),f("div",ql,[Fl,y(i,null,{default:_((()=>[y(t,null,{default:_((()=>[y(a,{modelValue:z(n).description,"onUpdate:modelValue":l[1]||(l[1]=e=>z(n).description=e),class:"is-primary-focus",rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])),action:_((()=>[y(c,{type:"submit",color:"primary",loading:z(o),raised:""},{default:_((()=>[j("Save")])),_:1},8,["loading"])])),cancel:_((()=>[y(c,{color:"light",onClick:d,raised:""},{default:_((()=>[j("Close")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ql={class:"modal-form columns is-multiline"},Jl={class:"column is-6"},Yl={class:"field"},Xl=f("label",{class:"label"},"Title *",-1),ea={class:"control"},la={class:"column is-6"},aa={class:"field"},ta=f("label",{class:"label"},"Trade *",-1),sa={class:"column is-12"},oa={class:"field"},ia=f("label",{class:"label"},"Description",-1),na=o({__name:"CodeCategoryModal",props:{addUpdateCategoryModal:{type:Boolean},categoryId:{}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Z(),o=c(!1),i=G(),n=c(!1),d=()=>{l("update:modalHandler",!1)},u=c({id:"",name:"",trade:"",description:"",created_at:"",updated_at:""});c("");const p=async()=>{try{if(n.value=!0,a.categoryId){await t.patch(`/api/cost-category/${a.categoryId}/`,u.value)}else{await t.post("/api/cost-category/",u.value)}l("update:OnSuccess",null),i.success(`Category  ${a.categoryId?"updated":"created"} successfully`),d()}catch(e){console.log(e)}finally{n.value=!1}},g=c([{id:"",name:"",description:"",created_at:"",updated_at:""}]);return r((()=>{a.categoryId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-category/${a.categoryId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-trade/");g.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})()})),(e,l)=>{const t=se,i=oe,n=B,c=ae,r=s,b=U,x=q;return m(),h(x,{is:"form",open:a.addUpdateCategoryModal,title:"Category",size:"large",actions:"right",onSubmit:M(p,["prevent"]),onClose:d},{content:_((()=>[f("div",Ql,[f("div",Jl,[f("div",Yl,[Xl,f("div",ea,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>z(u).name=e)},null,512),[[D,z(u).name]])])])]),f("div",la,[f("div",aa,[ta,y(n,null,{default:_((()=>[y(i,{modelValue:z(u).trade,"onUpdate:modelValue":l[1]||(l[1]=e=>z(u).trade=e),required:""},{default:_((()=>[(m(!0),v(C,null,k(z(g),(e=>(m(),h(t,{value:e.id},{default:_((()=>[j(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),f("div",sa,[f("div",oa,[ia,y(r,null,{default:_((()=>[y(n,null,{default:_((()=>[y(c,{modelValue:z(u).description,"onUpdate:modelValue":l[2]||(l[2]=e=>z(u).description=e),rows:"3",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[y(b,{type:"submit",color:"primary",loading:z(o),raised:""},{default:_((()=>[j(w(a.categoryId?"Update Category":"Add Category"),1)])),_:1},8,["loading"])])),cancel:_((()=>[y(b,{color:"light",onClick:d,raised:""},{default:_((()=>[j("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),da={class:"modal-form columns is-multiline"},ca={class:"column is-6"},ua={class:"field"},ra=f("label",{class:"label"},"Title * ",-1),pa={class:"control"},ma={class:"column is-6"},va={class:"field"},fa=f("label",{class:"label"},"Category *",-1),ya={class:"control"},_a={class:"field column is-12"},ga=f("label",{class:"label"},"Sub code of ",-1),ha={class:"control"},ba={class:"column is-12"},Ca={class:"columns is-multiline"},ka={class:"field column is-6"},wa=f("label",{class:"label"},null,-1),xa={key:0,class:"column is-6"},Va={class:"field"},Ua=f("label",{class:"label"},"Default labour cost ($)",-1),Ia={class:"control"},Ta={class:"column is-4"},Sa={class:"field"},ja=f("label",{class:"label"},"Unit cost ($)",-1),Ma={class:"control"},Pa={class:"column is-4"},Aa={class:"field"},La=f("label",{class:"label"},"Worker cost ($)",-1),Da={class:"control"},za={class:"column is-4"},Ha={class:"field"},Oa=f("label",{class:"label"},"Unit",-1),Ea=f("hr",null,null,-1),$a={class:"column is-12"},Ra={class:"field"},Ba=f("label",{class:"label"},"Description",-1),Na=o({__name:"CostCodeModal",props:{addUpdateCostCodeModal:{type:Boolean},costCodeId:{},codeCategoryId:{},parentCodeId:{},CategoryMode:{type:Boolean}},emits:["update:modalHandler","update:OnSuccess"],setup(e,{emit:l}){const a=e,t=Z(),o=c(!1),i=G(),n=c(!1),d=()=>{l("update:modalHandler",!1)},u=c({id:"",name:"",category:a.codeCategoryId||"",parent_code:a.parentCodeId||"",is_labour_code:!1,labour_cost:0,description:"",worker_cost:0,unit:"--",unit_cost:0,is_active:!0}),p=async()=>{try{if(n.value=!0,a.costCodeId){await t.patch(`/api/cost-code/${a.costCodeId}/`,u.value);i.info("Cost code updated successfully")}else{await t.post("/api/cost-code/",u.value);i.success("Cost code created successfully")}d(),l("update:OnSuccess",null)}catch(e){console.log(e)}finally{n.value=!1}},g=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:""}]),x=c([]),V=async(e="")=>{try{n.value=!0;const l=await t.get(`/api/cost-code/?category=${e}`);x.value=l.data.map((e=>({...e,value:e.id,label:e.name})))}catch(l){console.log(l)}finally{n.value=!1}};P((()=>u.value.category),(e=>{V(e)}));const I=c([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]);return r((()=>{console.log(a.codeCategoryId),a.costCodeId&&(async()=>{try{n.value=!0;const e=await t.get(`/api/cost-code/${a.costCodeId}/`);u.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),(async()=>{try{o.value=!0;const e=await t.get("/api/units/");I.value=e.data}catch(e){console.log(e)}finally{o.value=!1}})(),(async()=>{try{n.value=!0;const e=await t.get("/api/cost-category/");g.value=e.data}catch(e){console.log(e)}finally{n.value=!1}})(),V()})),(e,l)=>{const t=se,i=oe,n=B,c=s,r=O("Multiselect"),V=ie,T=ae,S=U,P=q;return m(),h(P,{is:"form",open:a.addUpdateCostCodeModal,title:"Cost Code",size:"large",actions:"right",onSubmit:M(p,["prevent"]),onClose:d},{content:_((()=>[f("div",da,[f("div",ca,[f("div",ua,[ra,f("div",pa,[A(f("input",{type:"text",required:"",class:"input",placeholder:"Enter Title","onUpdate:modelValue":l[0]||(l[0]=e=>z(u).name=e)},null,512),[[D,z(u).name]])])])]),f("div",ma,[f("div",va,[fa,f("div",ya,[y(c,null,{default:_((()=>[y(n,null,{default:_((()=>[y(i,{modelValue:z(u).category,"onUpdate:modelValue":l[1]||(l[1]=e=>z(u).category=e),required:""},{default:_((()=>[y(t,{value:""},{default:_((()=>[j(" Select a category ")])),_:1}),(m(!0),v(C,null,k(z(g),(e=>(m(),h(t,{value:e.id},{default:_((()=>[j(w(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])]),f("div",_a,[ga,f("div",ha,[y(c,null,{default:_((({id:a})=>[y(n,null,{default:_((()=>[y(r,{disabled:!!e.CategoryMode,modelValue:z(u).parent_code,"onUpdate:modelValue":l[2]||(l[2]=e=>z(u).parent_code=e),attrs:{id:a},searchable:!0,options:z(x),placeholder:"Select a parent"},null,8,["disabled","modelValue","attrs","options"])])),_:2},1024)])),_:1})])]),f("div",ba,[f("div",Ca,[f("div",ka,[wa,y(c,{class:"is-flex"},{default:_((()=>[y(n,{raw:"",subcontrol:""},{default:_((()=>[y(V,{modelValue:z(u).is_labour_code,"onUpdate:modelValue":l[3]||(l[3]=e=>z(u).is_labour_code=e),label:"Hourly charged labour code"},null,8,["modelValue"])])),_:1})])),_:1})]),z(u).is_labour_code?(m(),v("div",xa,[f("div",Va,[Ua,f("div",Ia,[A(f("input",{type:"number",required:"",step:"any",class:"input",placeholder:"Enter amount","onUpdate:modelValue":l[4]||(l[4]=e=>z(u).labour_cost=e)},null,512),[[D,z(u).labour_cost]])])])])):b("",!0)])]),f("div",Ta,[f("div",Sa,[ja,f("div",Ma,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Unit Cost","onUpdate:modelValue":l[5]||(l[5]=e=>z(u).unit_cost=e)},null,512),[[D,z(u).unit_cost]])])])]),f("div",Pa,[f("div",Aa,[La,f("div",Da,[A(f("input",{type:"number",step:"any",class:"input",placeholder:"Worker Cost","onUpdate:modelValue":l[6]||(l[6]=e=>z(u).worker_cost=e)},null,512),[[D,z(u).worker_cost]])])])]),f("div",za,[f("div",Ha,[Oa,y(n,null,{default:_((()=>[y(i,{modelValue:z(u).unit,"onUpdate:modelValue":l[7]||(l[7]=e=>z(u).unit=e)},{default:_((()=>[y(t,{value:""},{default:_((()=>[j(" Select Unit ")])),_:1}),(m(!0),v(C,null,k(z(I),(e=>(m(),h(t,{value:e.value},{default:_((()=>[j(w(e.title)+" ("+w(e.value??"")+") ",1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"])])),_:1})])]),Ea,f("div",$a,[f("div",Ra,[Ba,y(c,null,{default:_((()=>[y(n,null,{default:_((()=>[y(T,{modelValue:z(u).description,"onUpdate:modelValue":l[8]||(l[8]=e=>z(u).description=e),rows:"2",placeholder:"Enter Description"},null,8,["modelValue"])])),_:1})])),_:1})])])])])),action:_((()=>[y(S,{type:"submit",color:"primary",loading:z(o),raised:""},{default:_((()=>[j(" Add Cost Code ")])),_:1},8,["loading"])])),cancel:_((()=>[y(S,{color:"light",onClick:d,raised:""},{default:_((()=>[j("Close ")])),_:1})])),_:1},8,["open","onSubmit"])}}}),Ka=e=>(I("data-v-2f1f2834"),e=e(),T(),e),Wa={class:"list-flex-toolbar flex-list-v1"},Za={key:0,class:"columns is-multiline"},qa={class:"column is-12"},Fa={key:1,class:"page-content-inner"},Ga=Ka((()=>f("img",{class:"light-image",src:ne,alt:""},null,-1))),Qa=Ka((()=>f("img",{class:"dark-image",src:de,alt:""},null,-1))),Ja={class:"table is-hoverable is-fullwidth"},Ya=Ka((()=>f("thead",null,[f("tr",null,[f("th",null,"Title"),f("th",null,"Description"),f("th",null,"Children"),f("th",{class:"is-end"},"Actions")])],-1))),Xa={class:"is-end"},et={class:"is-flex is-justify-content-flex-end"},lt=S(o({__name:"TradeComp",setup(e){const a=G(),t=c(!1);c("Items list");const o=c([]),i=Z(),n=c(""),d=c(!1),p=c(null),g=async()=>{try{t.value=!0;const e=await i.get("/api/cost-trade/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e=null)=>{p.value=e,d.value=!0},V=u((()=>{if(n.value){const e=new RegExp(n.value,"i");return o.value.filter((l=>l.name?.match(e)))}return o.value}));return r((()=>{g()})),(e,o)=>{const c=B,u=s,r=U,I=E,T=$,S=l,M=X,P=Gl;return m(),v("div",null,[f("div",Wa,[y(u,null,{default:_((()=>[y(c,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>n.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,n.value]])])),_:1})])),_:1}),y(I,null,{default:_((()=>[y(r,{onClick:o[1]||(o[1]=e=>x()),color:"warning",icon:"fas fa-plus",outlined:"",size:"small",raised:""},{default:_((()=>[j(" Trade ")])),_:1})])),_:1})]),t.value?(m(),v("div",Za,[f("div",qa,[(m(),v(C,null,k(20,(e=>y(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(m(),v("div",Fa,[V.value.length?b("",!0):(m(),h(S,{key:0,title:"No matching results found.",subtitle:"Try different search terms or criteria.",larger:""},{image:_((()=>[Ga,Qa])),_:1})),f("table",Ja,[Ya,f("tbody",null,[(m(!0),v(C,null,k(V.value,(e=>(m(),v("tr",{key:e.id},[f("td",null,w(e.name??"n/a"),1),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.codes?.length||0),1),f("td",Xa,[f("div",et,[y(M,{onClick:l=>x(e),icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),y(M,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{await i.delete(`/api/cost-trade/${e}/`),a.success("Trade deleted successfully"),g()}catch(l){console.log(l),a.error("Failed to delete trade")}})(e.id)},null,8,["onClick"])])])])))),128))])])])),d.value?(m(),h(P,{key:2,openTradeModal:d.value,trade:p.value,"onUpdate:modalHandler":o[2]||(o[2]=e=>d.value=!1),"onUpdate:OnSuccess":g},null,8,["openTradeModal","trade"])):b("",!0)])}}}),[["__scopeId","data-v-2f1f2834"]]),at=e=>(I("data-v-43528037"),e=e(),T(),e),tt={class:"list-flex-toolbar flex-list-v1"},st={key:0,class:"columns is-multiline"},ot={class:"column is-12"},it={key:1,class:"page-content-inner"},nt=at((()=>f("img",{class:"light-image",src:ne,alt:""},null,-1))),dt=at((()=>f("img",{class:"dark-image",src:de,alt:""},null,-1))),ct={class:"table is-hoverable is-fullwidth"},ut=at((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),rt={class:"pl-5"},pt={class:"dark-text text-primary"},mt={class:"is-end"},vt={class:"is-flex is-justify-content-flex-end"},ft=S(o({__name:"CostCodes",setup(e){const a=G(),t=c(!1);c("Items list");const o=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),i=Z(),n=c(""),d=[{}],p=c(!1);c(!1),c(!1);const g=c(""),x=async()=>{try{t.value=!0;const e=await i.get("/api/cost-code/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=u((()=>{if(n.value){const e=new RegExp(n.value,"i");return d.filter((l=>l.username?.match(e)||l.location?.match(e)))}return d}));return r((()=>{x()})),(e,d)=>{const c=B,u=s,r=U,I=E,T=$,S=l,M=X,P=Na;return m(),v("div",null,[f("div",tt,[y(u,null,{default:_((()=>[y(c,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(n)]])])),_:1})])),_:1}),y(I,null,{default:_((()=>[y(r,{color:"primary",onClick:d[1]||(d[1]=e=>p.value=!z(p)),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[j(" Cost Code ")])),_:1})])),_:1})]),z(t)?(m(),v("div",st,[f("div",ot,[(m(),v(C,null,k(20,(e=>y(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):(m(),v("div",it,[z(V).length?b("",!0):(m(),h(S,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[nt,dt])),_:1})),f("table",ct,[ut,f("tbody",null,[(m(!0),v(C,null,k(z(o),(e=>(m(),v("tr",{key:e.id,class:"sub-item"},[f("td",rt,[f("p",pt,w(e.name),1)]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",mt,[f("div",vt,[y(M,{onClick:l=>{return a=e.id,g.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),y(M,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/cost-code/${e}/`),x(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}})(e.id)},null,8,["onClick"])])])])))),128))])])])),z(p)?(m(),h(P,{key:2,addUpdateCostCodeModal:z(p),"cost-code-id":z(g),"onUpdate:modalHandler":d[2]||(d[2]=e=>p.value=!1),"onUpdate:OnSuccess":d[3]||(d[3]=e=>x())},null,8,["addUpdateCostCodeModal","cost-code-id"])):b("",!0)])}}}),[["__scopeId","data-v-43528037"]]),yt=e=>(I("data-v-e9bf2a7f"),e=e(),T(),e),_t={class:""},gt={class:"list-flex-toolbar flex-list-v1"},ht={key:0,class:"columns is-multiline"},bt={class:"column is-12"},Ct={class:"page-content-inner"},kt=yt((()=>f("img",{class:"light-image",src:ne,alt:""},null,-1))),wt=yt((()=>f("img",{class:"dark-image",src:de,alt:""},null,-1))),xt={class:"table is-hoverable is-fullwidth"},Vt=yt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),Ut={class:"info-text is-bold"},It={class:"is-end"},Tt={class:"is-flex is-justify-content-flex-end"},St=S(o({__name:"CategoryComp",setup(e){const a=G(),t=c(!1);c("Items list");const o=c([{id:"c1383c64-008b-4e70-8e63-58f129eec320",name:"CAT-0001",description:"string",created_at:"2025-02-02T06:20:48.540838Z",updated_at:"2025-02-02T06:20:48.540871Z",trade:null,codes:[{id:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3",name:"Test under 001",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"2025-02-02T20:01:14.844462Z",updated_at:"2025-02-02T20:01:14.844480Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:null,child_codes:[{id:"b8cc78ba-30cb-41cd-890d-4dd9af170721",name:"tes under 00101",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"2025-02-02T20:02:35.921742Z",updated_at:"2025-02-02T20:02:35.921757Z",category:"c1383c64-008b-4e70-8e63-58f129eec320",parent_code:"eb9f4bf2-e90d-4a23-83fd-b32d92ea32f3"}]}]}]),i=Z(),n=c(""),d=[{}];c(!1);const p=c(!1);c(!1);const g=c(""),x=async()=>{try{t.value=!0;const e=await i.get("/api/cost-category/list/");o.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},V=u((()=>{if(n.value){const e=new RegExp(n.value,"i");return d.filter((l=>l.username?.match(e)||l.location?.match(e)))}return d}));return r((()=>{x()})),(e,d)=>{const c=B,u=s,r=U,I=E,T=$,S=l,M=X,P=na;return m(),v("div",null,[f("div",_t,[f("div",gt,[y(u,null,{default:_((()=>[y(c,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>L(n)?n.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(n)]])])),_:1})])),_:1}),y(I,null,{default:_((()=>[y(r,{onClick:d[1]||(d[1]=e=>p.value=!z(p)),color:"info",icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[j(" Category ")])),_:1})])),_:1})]),z(t)?(m(),v("div",ht,[f("div",bt,[(m(),v(C,null,k(20,(e=>y(T,{height:"40px",width:"100%",class:"my-2"}))),64))])])):b("",!0),f("div",Ct,[z(V).length?b("",!0):(m(),h(S,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[kt,wt])),_:1})),f("table",xt,[Vt,f("tbody",null,[(m(!0),v(C,null,k(z(o),(e=>(m(),v("tr",{key:e.id},[f("td",null,[f("p",Ut,w(e.name??"n/a"),1)]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",It,[f("div",Tt,[y(M,{onClick:l=>{return a=e?.id,g.value=a,void(p.value=!p.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),y(M,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await i.delete(`/api/cost-category/${e}/`),x(),a.success("delete category")}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])])))),128))])])])]),z(p)?(m(),h(P,{key:0,addUpdateCategoryModal:z(p),"category-id":z(g),"onUpdate:modalHandler":d[2]||(d[2]=e=>p.value=!1),"onUpdate:OnSuccess":d[3]||(d[3]=e=>x())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0)])}}}),[["__scopeId","data-v-e9bf2a7f"]]),jt=e=>(I("data-v-a0d48384"),e=e(),T(),e),Mt={class:"tabs-wrapper"},Pt={class:"tabs-inner"},At={class:"tabs"},Lt=[jt((()=>f("span",null,"Identity List",-1)))],Dt=[jt((()=>f("span",null,"Cost Codes",-1)))],zt=[jt((()=>f("span",null,"Category",-1)))],Ht=[jt((()=>f("span",null,"Trade",-1)))],Ot={key:0},Et={class:"columns is-multiline"},$t={class:"column is-12"},Rt={class:"list-flex-toolbar flex-list-v1"},Bt={class:"page-content-inner"},Nt=jt((()=>f("img",{class:"light-image",src:ne,alt:""},null,-1))),Kt=jt((()=>f("img",{class:"dark-image",src:de,alt:""},null,-1))),Wt={class:"table is-hoverable is-fullwidth"},Zt=jt((()=>f("thead",null,[f("tr",null,[f("th",{scope:"col"},"Title"),f("th",{scope:"col"},"Description"),f("th",{scope:"col"},"Children"),f("th",{scope:"col",class:"is-end"},[f("div",{class:"dark-inverted is-flex is-justify-content-flex-end"}," Actions ")])])],-1))),qt={class:"info-text is-bold"},Ft=["onClick"],Gt={class:"is-end"},Qt={class:"is-flex is-justify-content-flex-end"},Jt={class:"sub-item"},Yt={class:"pl-5"},Xt={class:"dark-text text-primary"},es=["onClick"],ls={class:"is-end"},as={class:"is-flex is-justify-content-flex-end"},ts={class:"child-item"},ss={class:"pl-6"},os=["onClick"],is=jt((()=>f("td",null,"-",-1))),ns={class:"is-end"},ds={class:"is-flex is-justify-content-flex-end"},cs={class:"p-l-60"},us=jt((()=>f("td",null,"-",-1))),rs={class:"is-end"},ps={class:"is-flex is-justify-content-flex-end"},ms={key:1},vs={key:2},fs={key:3},ys=S(o({__name:"IdentityList",setup(e){const a=G(),t=c(!1),o=c("itemsList"),i=c([{id:"",name:"",description:"",created_at:"",updated_at:"",trade:null,codes:[{id:"",name:"",description:"",is_labour_code:!1,labour_cost:0,unit_cost:1200,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:null,child_codes:[{id:"",name:"",description:"",is_labour_code:!0,labour_cost:120,unit_cost:0,is_active:!0,created_at:"",updated_at:"",category:"",parent_code:""}]}]}]),n=Z(),d=c(""),p=c(!1),V=c(!1),I=c(!1),T=c(""),S=async e=>{try{t.value=!0;await n.delete(`/api/cost-code/${e}/`);P(),a.success("delete cost code")}catch(l){console.log(l)}finally{t.value=!1}},P=async()=>{try{t.value=!0;const e=await n.get("/api/cost-category/list/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},H=e=>{T.value=e,p.value=!p.value},O=c(""),R=c(!1),N=c(""),K=(e=null,l=null)=>{console.log(e),console.log(l),O.value="",N.value="",N.value=e,O.value=l,p.value=!0},W=u((()=>{if(!d.value)return i.value;const e=new RegExp(d.value,"i");return i.value.filter((l=>!!e.test(l.name)||l.codes.some((l=>!!e.test(l.name)||l.child_codes?.some((l=>e.test(l.name)))))))}));return r((()=>{P()})),(e,i)=>{const c=$,u=B,r=s,Z=U,q=E,F=l,G=X,Q=St,J=ft,Y=lt,ee=Na,le=na,ae=Gl;return m(),v("div",null,[f("div",Mt,[f("div",Pt,[f("div",At,[f("ul",null,[f("li",{class:x(["itemsList"===z(o)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:i[0]||(i[0]=g(M((e=>o.value="itemsList"),["prevent"]),["space"])),onClick:i[1]||(i[1]=e=>o.value="itemsList")},Lt,32)],2),f("li",{class:x(["costCodes"===z(o)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:i[2]||(i[2]=g(M((e=>o.value="costCodes"),["prevent"]),["space"])),onClick:i[3]||(i[3]=e=>o.value="costCodes")},Dt,32)],2),f("li",{class:x(["Category"===z(o)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:i[4]||(i[4]=g(M((e=>o.value="Category"),["prevent"]),["space"])),onClick:i[5]||(i[5]=e=>o.value="Category")},zt,32)],2),f("li",{class:x(["Trade"===z(o)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:i[6]||(i[6]=g(M((e=>o.value="Trade"),["prevent"]),["space"])),onClick:i[7]||(i[7]=e=>o.value="Trade")},Ht,32)],2)])])])]),"itemsList"==z(o)?(m(),v("div",Ot,[f("div",Et,[f("div",$t,[z(t)?(m(),v(C,{key:0},k(20,(e=>y(c,{height:"40px",width:"100%",class:"my-2"}))),64)):b("",!0)])]),f("div",Rt,[y(r,null,{default:_((()=>[y(u,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":i[8]||(i[8]=e=>L(d)?d.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(d)]])])),_:1})])),_:1}),y(q,null,{default:_((()=>[y(Z,{color:"primary",onClick:i[9]||(i[9]=e=>K()),icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:_((()=>[j(" Cost Code ")])),_:1}),y(Z,{onClick:i[10]||(i[10]=e=>V.value=!z(V)),color:"info",icon:"fas fa-plus",raised:"",outlined:"",size:"small"},{default:_((()=>[j(" Category ")])),_:1})])),_:1})]),f("div",Bt,[z(W).length?b("",!0):(m(),h(F,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[Nt,Kt])),_:1})),f("table",Wt,[Zt,f("tbody",null,[(m(!0),v(C,null,k(z(W),(e=>(m(),v(C,{key:e.id},[f("tr",null,[f("td",null,[f("p",qt,[j(w(e.name??"n/a")+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:()=>{K(e.id),R.value=!1,R.value=!0}},null,8,Ft)])]),f("td",null,[f("p",null,w(e.description||"No description"),1)]),f("td",null,w(e.codes?.length||0),1),f("td",Gt,[f("div",Qt,[y(G,{onClick:l=>{return a=e?.id,T.value=a,void(V.value=!V.value);var a},icon:"lucide:pen",color:"warning","has-background":"","dark-card-bordered":""},null,8,["onClick"]),y(G,{icon:"lucide:trash",color:"danger",class:"ml-1","dark-card-bordered":"","has-background":"",onClick:l=>(async e=>{try{t.value=!0,await n.delete(`/api/cost-category/${e}/`),a.success("delete category"),P()}catch(l){console.log(l)}finally{t.value=!1}})(e?.id)},null,8,["onClick"])])])]),e?.codes?.length?(m(!0),v(C,{key:0},k(e.codes,(e=>(m(),v(C,{key:e?.id},[f("tr",Jt,[f("td",Yt,[f("p",Xt,[j(w(e.name)+" ",1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>K(e.category,e.id)},null,8,es)])]),f("td",null,w(e.description||"No description"),1),f("td",null,w(e.child_codes?.length||0),1),f("td",ls,[f("div",as,[y(G,{onClick:l=>H(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),y(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>S(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v(C,{key:e.id},[f("tr",ts,[f("td",ss,[j(w(e.name),1),f("i",{class:"fas fa-plus cu-pointer ml-2",style:{"font-size":"11px"},onClick:l=>K(e.category,e.id)},null,8,os)]),f("td",null,w(e.description||"No description"),1),is,f("td",ns,[f("div",ds,[y(G,{onClick:l=>H(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),y(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>S(e.id)},null,8,["onClick"])])])]),e?.child_codes?.length?(m(!0),v(C,{key:0},k(e.child_codes,(e=>(m(),v("tr",{key:e.id,class:"child-item"},[f("td",cs,w(e.name),1),f("td",null,w(e.description||"No description"),1),us,f("td",rs,[f("div",ps,[y(G,{onClick:l=>H(e.id),icon:"lucide:pen",color:"warning","dark-card-bordered":""},null,8,["onClick"]),y(G,{icon:"lucide:trash",color:"info",class:"ml-1","dark-card-bordered":"",onClick:l=>S(e.id)},null,8,["onClick"])])])])))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128)):b("",!0)],64)))),128))])])])])):b("",!0),"Category"==z(o)?(m(),v("div",ms,[y(Q)])):b("",!0),"costCodes"==z(o)?(m(),v("div",vs,[y(J)])):b("",!0),"Trade"==z(o)?(m(),v("div",fs,[y(Y)])):b("",!0),z(p)?(m(),h(ee,{key:4,addUpdateCostCodeModal:z(p),"cost-code-id":z(T),parentCodeId:z(O),codeCategoryId:z(N),CategoryMode:z(R),"onUpdate:modalHandler":i[11]||(i[11]=e=>{p.value=!1,R.value=!1}),"onUpdate:OnSuccess":i[12]||(i[12]=e=>P())},null,8,["addUpdateCostCodeModal","cost-code-id","parentCodeId","codeCategoryId","CategoryMode"])):b("",!0),z(V)?(m(),h(le,{key:5,addUpdateCategoryModal:z(V),"category-id":z(T),"onUpdate:modalHandler":i[13]||(i[13]=e=>V.value=!1),"onUpdate:OnSuccess":i[14]||(i[14]=e=>P())},null,8,["addUpdateCategoryModal","category-id"])):b("",!0),z(I)?(m(),h(ae,{key:6,addUpdateTradeModal:z(I),"onUpdate:modalHandler":i[15]||(i[15]=e=>I.value=!1),"onUpdate:OnSuccess":i[16]||(i[16]=e=>P())},null,8,["addUpdateTradeModal"])):b("",!0)])}}}),[["__scopeId","data-v-a0d48384"]]),_s=e=>(I("data-v-3775b8bc"),e=e(),T(),e),gs=_s((()=>f("div",{class:"list-flex-toolbar flex-list-v1"},null,-1))),hs={class:"page-content-inner"},bs=_s((()=>f("img",{class:"light-image",src:ne,alt:""},null,-1))),Cs=_s((()=>f("img",{class:"dark-image",src:de,alt:""},null,-1))),ks={class:"columns is-multiline"},ws={class:"column is-6"},xs={class:"column is-6"},Vs={class:"column is-6"},Us={class:"column is-6"},Is={class:"column is-12"},Ts={class:"column is-3"},Ss={class:"column is-3"},js={class:"column is-3"},Ms={class:"column is-3"},Ps={class:"column is-6"},As={class:"column is-6"},Ls={class:"columns is-multiline"},Ds=_s((()=>f("div",{class:"column is-12"},[f("h1",{class:"title is-4"},"Company Logos")],-1))),zs={class:"column is-4 is-flex"},Hs={class:"column is-4 is-flex"},Os={class:"column is-4 is-flex"},Es=S(o({__name:"CompanyInformation",setup(e){G();const t=c(!1),o=Z();c(""),c(!1);const i=c({id:"",name:"",trade_name:"",zipCode:null,city:"",state:null,country:null,address:null,phone_number:null,email:null,website:null,logo:null,created_at:"",updated_at:"",sidebar_logo:"",favicon:null,invoice_header_logo:null,login_page_logo:"",branding_line:""}),n=async()=>{try{t.value=!0;const e=await o.get("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/");i.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},d=async e=>{try{t.value=!0;const l=await o.patch("/api/company-information/9cc43feb-b736-4d18-bd87-5d8511b28dea/",e);n(),i.value=l.data}catch(l){console.log(l)}finally{t.value=!1}},u=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(i.value.logo=a,d({logo:a}))},p=(e,l)=>{e?console.error(e):(console.log(l),i.value.logo=null)},g=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(i.value.favicon=a,d({favicon:a}),J(i.value.favicon))},C=(e,l)=>{e?console.error(e):(console.log(l),i.value.favicon=null)},k=(e,l)=>{if(e)return void console.error(e);const a=l.file;a&&(i.value.invoice_header_logo=a,d({invoice_header_logo:a}))},w=(e,l)=>{e?console.error(e):(console.log(l),i.value.invoice_header_logo=null)};return r((()=>{n()})),(e,t)=>{const o=l,n=F,c=N,r=B,x=s,V=a,U=ce;return m(),v("div",null,[gs,f("div",hs,[z(i).name?b("",!0):(m(),h(o,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[bs,Cs])),_:1})),f("div",ks,[f("div",ws,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Company Name")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).name,"onUpdate:modelValue":t[0]||(t[0]=e=>z(i).name=e),type:"text",placeholder:"Company Name",onBlur:t[1]||(t[1]=e=>d({name:z(i).name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",xs,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Trade Name")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).trade_name,"onUpdate:modelValue":t[2]||(t[2]=e=>z(i).trade_name=e),type:"text",placeholder:"Trade Name",onBlur:t[3]||(t[3]=e=>d({trade_name:z(i).trade_name}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Vs,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Email Address")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).email,"onUpdate:modelValue":t[4]||(t[4]=e=>z(i).email=e),type:"text",placeholder:"Company Email",onBlur:t[5]||(t[5]=e=>d({email:z(i).email}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Us,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Phone Number")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).phone_number,"onUpdate:modelValue":t[6]||(t[6]=e=>z(i).phone_number=e),type:"text",placeholder:"Phone Number",onBlur:t[7]||(t[7]=e=>d({phone_number:z(i).phone_number}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Is,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Company Website")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).website,"onUpdate:modelValue":t[8]||(t[8]=e=>z(i).website=e),type:"url",placeholder:"Website URL",onBlur:t[9]||(t[9]=e=>d({website:z(i).website}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ts,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Zip Code")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).zipCode,"onUpdate:modelValue":t[10]||(t[10]=e=>z(i).zipCode=e),type:"text",placeholder:"Zip Code",onBlur:t[11]||(t[11]=e=>d({zipCode:z(i).zipCode}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ss,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("City ")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).city,"onUpdate:modelValue":t[12]||(t[12]=e=>z(i).city=e),type:"text",placeholder:"City",onBlur:t[13]||(t[13]=e=>d({city:z(i).city}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",js,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("State")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).state,"onUpdate:modelValue":t[14]||(t[14]=e=>z(i).state=e),type:"text",placeholder:"State",onBlur:t[15]||(t[15]=e=>d({state:z(i).state}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ms,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Country")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).country,"onUpdate:modelValue":t[16]||(t[16]=e=>z(i).country=e),type:"text",placeholder:"Country",onBlur:t[17]||(t[17]=e=>d({country:z(i).country}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",Ps,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Complete Address")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).address,"onUpdate:modelValue":t[18]||(t[18]=e=>z(i).address=e),type:"text",placeholder:"Address",onBlur:t[19]||(t[19]=e=>d({address:z(i).address}))},null,8,["modelValue"])])),_:1})])),_:1})]),f("div",As,[y(x,null,{default:_((()=>[y(n,null,{default:_((()=>[j("Company One Liner")])),_:1}),y(r,null,{default:_((()=>[y(c,{modelValue:z(i).branding_line,"onUpdate:modelValue":t[20]||(t[20]=e=>z(i).branding_line=e),type:"text",placeholder:"john.doe",onBlur:t[21]||(t[21]=e=>d({branding_line:z(i).branding_line}))},null,8,["modelValue"])])),_:1})])),_:1})])]),f("div",Ls,[Ds,f("div",zs,[y(x,{label:"Sidebar logo"},{default:_((()=>[y(V,{size:"xl",picture:z(i).logo,color:"primary",initials:z(i).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),y(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[y(r,null,{default:_((()=>[y(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:u,onRemovefile:p})])),_:1})])),_:1})]),f("div",Hs,[y(x,{label:"Proposal Logo"},{default:_((()=>[y(V,{size:"xl",picture:z(i).invoice_header_logo,color:"primary",initials:z(i).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),y(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[y(r,null,{default:_((()=>[y(U,{class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":140,"image-resize-target-width":140,"image-resize-target-height":140,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:k,onRemovefile:w})])),_:1})])),_:1})]),f("div",Os,[y(x,{label:"Favicon"},{default:_((()=>[y(V,{size:"large",color:"primary",picture:z(i).favicon,initials:z(i).name.slice(0,2)},null,8,["picture","initials"])])),_:1}),y(x,{class:"ml-3",label:"Upload new"},{default:_((()=>[y(r,null,{default:_((()=>[y(U,{size:"tiny",class:"profile-filepond",name:"profile_filepond","chunk-retry-delays":[500,1e3,3e3],"label-idle":"<i class='lnil lnil-cloud-upload'></i>","accepted-file-types":["image/png","image/jpeg","image/gif"],"image-preview-height":80,"image-resize-target-width":80,"image-resize-target-height":80,"image-crop-aspect-ratio":"1:1","style-panel-layout":"compact circle","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom",onAddfile:g,onRemovefile:C})])),_:1})])),_:1})])])])])}}}),[["__scopeId","data-v-3775b8bc"]]),$s={class:"list-flex-toolbar flex-list-v1"},Rs={class:"tile-grid tile-grid-v1"},Bs=f("img",{class:"light-image",src:ne,alt:""},null,-1),Ns=f("img",{class:"dark-image",src:de,alt:""},null,-1),Ks={class:"tile-grid-item"},Ws={class:"tile-grid-item-inner"},Zs={class:"meta"},qs={class:"dark-inverted"},Fs=["onClick"],Gs=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],Qs=f("hr",{class:"dropdown-divider"},null,-1),Js=["onClick"],Ys=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],Xs=o({__name:"CompanyCostTypes",setup(e){const a=G(),t=c(!1),o=Z(),i=c(""),n=c(!1),d=c(""),p=c([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),g=async()=>{try{t.value=!0;const e=await o.get("/api/cost-types/");p.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{d.value=e,n.value=!n.value},V=u((()=>{if(i.value){const e=new RegExp(i.value,"i");return p.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return p.value}));return r((()=>{g()})),(e,c)=>{const u=B,r=s,p=U,I=E,T=l,S=pe,M=ue;return m(),v("div",null,[f("div",$s,[y(r,null,{default:_((()=>[y(u,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(i)?i.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(i)]])])),_:1})])),_:1}),y(I,null,{default:_((()=>[y(p,{color:"primary",onClick:c[1]||(c[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[j(" Cost Type ")])),_:1})])),_:1})]),f("div",Rs,[z(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[Bs,Ns])),_:1})),y(H,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:_((()=>[(m(!0),v(C,null,k(z(V),((e,l)=>(m(),v("div",{key:l,class:"column is-4"},[f("div",Ks,[f("div",Ws,[f("div",Zs,[f("span",qs,w(e.title),1),f("span",null,w(e.value),1)]),y(S,{icon:"feather:more-vertical",spaced:"",right:""},{content:_((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},Gs,8,Fs),Qs,f("a",{onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/cost-types/${e}/`),g(),a.success("Cost deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},Ys,8,Js)])),_:2},1024)])])])))),128))])),_:1})]),z(n)?(m(),h(M,{key:0,"add-update-cost-type":z(n),typeId:z(d),"onUpdate:modalHandler":c[2]||(c[2]=e=>{n.value=!1,d.value=""}),"onUpdate:OnSuccess":c[3]||(c[3]=e=>g())},null,8,["add-update-cost-type","typeId"])):b("",!0)])}}}),eo={class:"list-flex-toolbar flex-list-v1"},lo={class:"tile-grid tile-grid-v1"},ao=f("img",{class:"light-image",src:ne,alt:""},null,-1),to=f("img",{class:"dark-image",src:de,alt:""},null,-1),so={class:"tile-grid-item"},oo={class:"tile-grid-item-inner"},io={class:"meta"},no={class:"dark-inverted"},co=["onClick"],uo=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-lock"})],-1),f("div",{class:"meta"},[f("span",null,"Edit"),f("span",null,"Edit unit")],-1)],ro=f("hr",{class:"dropdown-divider"},null,-1),po=["onClick"],mo=[f("div",{class:"icon"},[f("i",{"aria-hidden":"true",class:"lnil lnil-trash-can-alt"})],-1),f("div",{class:"meta"},[f("span",null,"Remove"),f("span",null,"Remove from grid")],-1)],vo=o({__name:"CompanyUnits",setup(e){const a=G(),t=c(!1),o=Z(),i=c(""),n=c(!1),d=c(""),p=c([{id:"",title:"",value:"",description:"",is_active:!0,created_at:"",updated_at:""}]),g=async()=>{try{t.value=!0;const e=await o.get("/api/units/");p.value=e.data}catch(e){console.log(e)}finally{t.value=!1}},x=(e="")=>{d.value=e,n.value=!n.value},V=u((()=>{if(i.value){const e=new RegExp(i.value,"i");return p.value.filter((l=>l.title?.match(e)||l.value?.match(e)))}return p.value}));return r((()=>{g()})),(e,c)=>{const u=B,r=s,p=U,I=E,T=l,S=pe,M=re;return m(),v("div",null,[f("div",eo,[y(r,null,{default:_((()=>[y(u,{icon:"feather:search"},{default:_((()=>[A(f("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>L(i)?i.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[D,z(i)]])])),_:1})])),_:1}),y(I,null,{default:_((()=>[y(p,{color:"primary",onClick:c[1]||(c[1]=e=>x("")),icon:"fas fa-plus",raised:"",size:"small",outlined:""},{default:_((()=>[j(" Unit ")])),_:1})])),_:1})]),f("div",lo,[z(V).length?b("",!0):(m(),h(T,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:_((()=>[ao,to])),_:1})),y(H,{name:"slide-x",tag:"div",class:"columns is-multiline"},{default:_((()=>[(m(!0),v(C,null,k(z(V),((e,l)=>(m(),v("div",{key:l,class:"column is-4"},[f("div",so,[f("div",oo,[f("div",io,[f("span",no,w(e.title),1),f("span",null,w(e.value),1)]),y(S,{icon:"feather:more-vertical",spaced:"",right:""},{content:_((()=>[f("a",{onClick:l=>x(e.id),role:"menuitem",class:"dropdown-item is-media"},uo,8,co),ro,f("a",{onClick:l=>(async e=>{try{t.value=!0,await o.delete(`/api/units/${e}/`),g(),a.success("Unit deleted successfully")}catch(l){console.log(l)}finally{t.value=!1}})(e.id),role:"menuitem",class:"dropdown-item is-media"},mo,8,po)])),_:2},1024)])])])))),128))])),_:1})]),z(n)?(m(),h(M,{key:0,addUpdateCostUnitModal:z(n),unitId:z(d),"onUpdate:modalHandler":c[2]||(c[2]=e=>{n.value=!1,d.value=""}),"onUpdate:OnSuccess":c[3]||(c[3]=e=>g())},null,8,["addUpdateCostUnitModal","unitId"])):b("",!0)])}}}),fo=e=>(I("data-v-c723accd"),e=e(),T(),e),yo={class:"container"},_o={class:"box cu-property"},go={class:"box-body"},ho={class:"columns is-multiline p-5 align-items-center"},bo={class:"column is-2 text-align-center"},Co=["src"],ko={class:"column is-3"},wo={class:"title is-5 mb-2"},xo={class:"light-text mb-0 font-500"},Vo={class:"light-text font-500"},Uo={class:"m-t-20"},Io={class:"tabs-wrapper"},To={class:"tabs-inner"},So={class:"tabs is-toggle"},jo=[fo((()=>f("span",null,"General",-1)))],Mo=[fo((()=>f("span",null,"Cost Codes",-1)))],Po=[fo((()=>f("span",null,"Units",-1)))],Ao=[fo((()=>f("span",null,"Cost Types",-1)))],Lo=[fo((()=>f("span",null,"Permissions & Roles",-1)))],Do=[fo((()=>f("span",null,"Action logs",-1)))],zo={key:0},Ho={key:1},Oo={key:2},Eo={key:3},$o={key:4},Ro={key:5},Bo=o({__name:"CompanySettingsComponent",setup(e){const l=me(),a=c("general");return(e,t)=>{const s=vo,o=Xs,i=Es,n=ys,d=Nl,c=De;return m(),v("div",yo,[f("div",_o,[f("div",go,[f("div",ho,[f("div",bo,[f("img",{src:z(l).currentCompany?.logo,style:{width:"100px","border-radius":"10px"},alt:"",srcset:""},null,8,Co)]),f("div",ko,[f("h2",wo,w(z(l).currentCompany?.name??""),1),f("p",xo,w(z(l).currentCompany?.email??""),1),f("p",Vo,w(z(l).currentCompany?.phone_number??""),1)])])])]),f("div",Uo,[f("div",Io,[f("div",To,[f("div",So,[f("ul",null,[f("li",{class:x(["general"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[0]||(t[0]=g(M((e=>a.value="general"),["prevent"]),["space"])),onClick:t[1]||(t[1]=e=>a.value="general")},jo,32)],2),f("li",{class:x(["costCodes"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[2]||(t[2]=g(M((e=>a.value="costCodes"),["prevent"]),["space"])),onClick:t[3]||(t[3]=e=>a.value="costCodes")},Mo,32)],2),f("li",{class:x(["units"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[4]||(t[4]=g(M((e=>a.value="units"),["prevent"]),["space"])),onClick:t[5]||(t[5]=e=>a.value="units")},Po,32)],2),f("li",{class:x(["types"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[6]||(t[6]=g(M((e=>a.value="types"),["prevent"]),["space"])),onClick:t[7]||(t[7]=e=>a.value="types")},Ao,32)],2),f("li",{class:x(["permissions"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[8]||(t[8]=g(M((e=>a.value="permissions"),["prevent"]),["space"])),onClick:t[9]||(t[9]=e=>a.value="permissions")},Lo,32)],2),f("li",{class:x(["logs"===z(a)?"is-active":"not-active"])},[f("a",{tabindex:"0",role:"button",onKeydown:t[10]||(t[10]=g(M((e=>a.value="logs"),["prevent"]),["space"])),onClick:t[11]||(t[11]=e=>a.value="logs")},Do,32)],2)])])])]),"units"===z(a)?(m(),v("div",zo,[y(s)])):b("",!0),"types"===z(a)?(m(),v("div",Ho,[y(o)])):b("",!0),"general"===z(a)?(m(),v("div",Oo,[y(i)])):b("",!0),"costCodes"===z(a)?(m(),v("div",Eo,[y(n)])):b("",!0),"permissions"===z(a)?(m(),v("div",$o,[y(d)])):b("",!0),"logs"===z(a)?(m(),v("div",Ro,[y(c)])):b("",!0)])])}}});"function"==typeof ve&&ve(Bo);const No=S(Bo,[["__scopeId","data-v-c723accd"]]),Ko=o({__name:"index",setup(e){fe();return ye().setPageTitle("Company Settings"),R((()=>({title:"Company Settings"}))),(e,l)=>{const a=No;return m(),v("div",null,[y(a)])}}});"function"==typeof ve&&ve(Ko);export{Ko as default};
