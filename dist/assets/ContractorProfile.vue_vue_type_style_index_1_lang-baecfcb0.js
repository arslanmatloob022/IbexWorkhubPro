import{_ as a}from"./AddUpdateUser-d7983993.js";import{_ as s}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-ea049a12.js";import{_ as e}from"./JobLeadActivities.vue_vue_type_style_index_0_lang-0565cecc.js";import{_ as l}from"./JobTodos.vue_vue_type_style_index_0_lang-33566f8c.js";import{_ as i}from"./UserProfileInfo-18fc5576.js";import{_ as o}from"./ContractorProjects.vue_vue_type_style_index_0_lang-ed127b89.js";import{_ as t}from"./VAvatar.vue_vue_type_style_index_0_lang-2997f58b.js";import{_ as r}from"./VIconBox.vue_vue_type_style_index_0_lang-4d6c6cd7.js";import{f as n,b as d,y as u,r as c,o as p,C as v,D as m,E as _,F as y,G as b,m as f,U as j,I as g,H as x,N as U,O as h,J as k}from"./index-c5e45f53.js";import{u as C}from"./useAPI-bef75d24.js";import{u as w}from"./personalScoreGauge-dfa15b02.js";const H={class:"lifestyle-dashboard lifestyle-dashboard-v3"},I={class:"illustration-header is-relative"},P=_("i",{class:"lnil lnil-pencil"},null,-1),M={class:"p-4"},A={class:"header-meta"},K={class:"summary-stats"},D={class:"summary-stat"},J=_("span",null,"Email",-1),L={class:"tabs-wrapper"},O={class:"tabs-inner"},z={class:"tabs is-boxed",slider:""},B=[_("span",null,"Projects",-1)],E=[_("span",null,"Profile Info",-1)],G=[_("span",null,"Todos",-1)],N=[_("span",null,"Activities",-1)],T=_("li",{class:"tab-naver"},null,-1),V={class:"columns is-multiline"},q={key:0,class:"column is-12"},F={key:1,class:"column is-12"},S={key:2,class:"column is-12"},$={key:3,class:"column is-12"},Q=n({__name:"ContractorProfile",setup(n){const Q=d(),R=C(),W=u(),X=c(!1),Y=c(""),Z=c(!1),aa=c(!1),sa=c("projects");w();const ea=c({id:"",password:"",last_login:null,date_joined:"",email:"",role:"",avatar:"",is_active:!0,phoneNumber:"",username:"",is_sentMail:!1}),la=async()=>{try{aa.value=!0;const a=await R.get(`/api/users/${W.params.id?W.params.id:Q.user.id}`);ea.value=a.data}catch(a){console.log(a)}finally{aa.value=!1}};return p((async()=>{await la()})),(n,d)=>{const u=r,c=t,p=o,C=i,w=l,R=e,ia=s,oa=a;return v(),m("div",H,[_("div",I,[y(u,{onClick:d[0]||(d[0]=a=>((a="")=>{Y.value=a,Z.value=!Z.value})(f(ea).id)),size:"small",color:"primary",style:{position:"absolute",right:"8px",top:"8px",cursor:"pointer"}},{default:b((()=>[P])),_:1}),_("div",M,[y(c,{size:"xl",squared:"",picture:f(ea).avatar,alt:""},null,8,["picture"])]),_("div",A,[_("h3",null,j(f(aa)?"Loading...":f(ea)?.username)+" "+j(f(ea).last_name?f(ea).last_name:""),1),_("div",K,[_("div",D,[J,_("span",null,j(f(aa)?"Loading...":f(ea)?.email),1)])])])]),_("div",L,[_("div",O,[_("div",z,[_("ul",null,[_("li",{class:g(["projects"===f(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[1]||(d[1]=x(k((a=>sa.value="projects"),["prevent"]),["space"])),onClick:d[2]||(d[2]=a=>sa.value="projects")},B,32)],2),_("li",{class:g(["profile"===f(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[3]||(d[3]=x(k((a=>sa.value="profile"),["prevent"]),["space"])),onClick:d[4]||(d[4]=a=>sa.value="profile")},E,32)],2),_("li",{class:g(["todos"===f(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[5]||(d[5]=x(k((a=>sa.value="todos"),["prevent"]),["space"])),onClick:d[6]||(d[6]=a=>sa.value="todos")},G,32)],2),_("li",{class:g(["activities"===f(sa)&&"is-active"])},[_("a",{tabindex:"0",role:"button",onKeydown:d[7]||(d[7]=x(k((a=>sa.value="activities"),["prevent"]),["space"])),onClick:d[8]||(d[8]=a=>sa.value="activities")},N,32)],2),T])])])]),_("div",V,["projects"===f(sa)?(v(),m("div",q,[y(p,{"contractor-id":f(W).params.id?f(W).params.id:f(Q).user.id},null,8,["contractor-id"])])):U("",!0),"profile"===f(sa)?(v(),m("div",F,[y(C,{userData:f(ea),"onUpdate:actionUpdateHandler":la},null,8,["userData"])])):U("",!0),"todos"===f(sa)?(v(),m("div",S,[y(w,{user:f(W).params.id},null,8,["user"])])):U("",!0),"activities"===f(sa)?(v(),m("div",$,[y(R,{user:f(W).params.id},null,8,["user"])])):U("",!0)]),f(X)?(v(),h(ia,{key:0,isModalOpen:f(X),userId:f(W).params.id,"onUpdate:closeModalHandler":d[9]||(d[9]=a=>X.value=!1)},null,8,["isModalOpen","userId"])):U("",!0),f(Z)?(v(),h(oa,{key:1,"is-modal-open":f(Z),"user-role":"contractor","user-id":f(Y),"onUpdate:closeModalHandler":d[10]||(d[10]=a=>Z.value=!1),"onUpdate:actionUpdateHandler":n.getContractorshandler},null,8,["is-modal-open","user-id","onUpdate:actionUpdateHandler"])):U("",!0)])}}});export{Q as _};
