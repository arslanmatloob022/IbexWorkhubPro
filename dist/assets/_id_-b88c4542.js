import{_ as e}from"./UpdateTask.vue_vue_type_script_setup_true_lang-a570885d.js";import{_ as a}from"./SweetAlert.vue_vue_type_style_index_0_lang-df2b83f3.js";import{_ as s}from"./VAvatar.vue_vue_type_style_index_0_lang-560ded64.js";import{_ as l}from"./VDropdown.vue_vue_type_style_index_0_lang-5a74bf98.js";import{_ as t}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-ee086f33.js";import{e as i,r as n,Z as r,o,av as c,y as d,z as u,C as p,A as v,B as m,S as h,T as g,l as _,j as k,D as f,O as y,I as b,H as j,P as w,J as C,Q as x,R as D,E as A,ad as T,K as P,W as V,X as S,L as I,s as E,N as U,t as M,M as N,v as O,ak as z}from"./index-879cc21e.js";import{_ as $}from"./VControl-3a0d7b90.js";import{_ as W,a as q}from"./search-4-dark-2b5b440c.js";import{_ as L,a as R}from"./projects-dark-4a371d8a.js";import"./useSupportElement-23fcf6e3.js";import{u as H}from"./useNotyf-953388fb.js";import{u as F}from"./useAPI-bba6ff57.js";import{_ as B}from"./VPlaceholderSection.vue_vue_type_style_index_0_lang-ae9141be.js";import{_ as G}from"./VAnimatedCheckbox.vue_vue_type_style_index_0_lang-2ca8c024.js";import{_ as K}from"./UserPopoverContent.vue_vue_type_script_setup_true_lang-53bd0e40.js";import{_ as J}from"./VBlock.vue_vue_type_style_index_0_lang-83a39e8a.js";import{u as Q,_ as X,a as Y,b as Z,c as ee}from"./users-cc8a472c.js";import{_ as ae}from"./VAvatarStack.vue_vue_type_script_setup_true_lang-848d5b61.js";import{_ as se}from"./VTags.vue_vue_type_script_setup_true_lang-ebc728c4.js";import{_ as le}from"./VTag.vue_vue_type_style_index_0_lang-725ce0ff.js";import{A as te}from"./vue3-apexcharts.common-e41d26dc.js";import{p as ie}from"./userPopovers-2b960611.js";import{u as ne}from"./useThemeColors-9b3162c4.js";import{u as re}from"./viewWrapper-cd4cd6f9.js";import"./VModal.vue_vue_type_style_index_0_lang-02010cfa.js";import"./VTextarea.vue_vue_type_script_setup_true_lang-f608710e.js";import"./useVFieldContext-1b6aa39a.js";import"./VOption.vue_vue_type_style_index_0_lang-6cc7e380.js";import"./VField.vue_vue_type_script_setup_true_lang-8fda54d1.js";import"./VLabel.vue_vue_type_script_setup_true_lang-010b6911.js";import"./VInput.vue_vue_type_script_setup_true_lang-ae22abd0.js";import"./VIcon.vue_vue_type_script_setup_true_lang-8eb8745d.js";import"./useDropdown-84fb480e.js";import"./userSession-a2fa2e58.js";import"./notyf-058d7186.js";import"./vue.runtime.esm-bundler-9944127c.js";const oe=e=>(V("data-v-1e006b00"),e=e(),S(),e),ce={class:"list-flex-toolbar is-reversed"},de={class:"tabs-inner"},ue={class:"tabs"},pe=[oe((()=>p("span",null,"All",-1)))],ve=[oe((()=>p("span",null,"Completed",-1)))],me=oe((()=>p("li",{class:"tab-naver"},null,-1))),he={class:"flex-list-wrapper flex-list-v2"},ge=oe((()=>p("img",{class:"light-image",src:W,alt:""},null,-1))),_e=oe((()=>p("img",{class:"dark-image",src:q,alt:""},null,-1))),ke={key:1,class:"tab-content is-active"},fe={class:"all-projects"},ye={class:"all-projects-header"},be={class:"header-item"},je={class:"item-inner"},we=oe((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-analytics-alt-1"},null,-1))),Ce=oe((()=>p("p",null,"Total Tasks",-1))),xe={class:"header-item"},De={class:"item-inner"},Ae=oe((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-target-alt-1"},null,-1))),Te=oe((()=>p("p",null,"Completed Tasks",-1))),Pe={class:"header-item"},Ve={class:"item-inner"},Se=oe((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-pie-chart-alt"},null,-1))),Ie=oe((()=>p("p",null,"Pending Tasks",-1))),Ee={class:"header-item"},Ue={class:"item-inner"},Me=oe((()=>p("i",{"aria-hidden":"true",class:"lnil lnil-leaf"},null,-1))),Ne=oe((()=>p("p",null,"Active Tasks",-1))),Oe={key:0,class:"columns is-multiline projects-card-grid"},ze={class:"column is-6"},$e={class:"grid-item"},We={class:"top-section"},qe={class:"head"},Le=["onClick"],Re=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Active"),p("span",null,"Start work on this task")],-1)))],He=["onClick"],Fe=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Pending"),p("span",null,"Waiting to work on")],-1)))],Be=["onClick"],Ge=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Completed"),p("span",null,"Mark task as completed")],-1)))],Ke=oe((()=>p("hr",{class:"dropdown-divider"},null,-1))),Je=["onClick"],Qe=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Edit"),p("span",null,"Edit Task detail")],-1)))],Xe=["onClick"],Ye=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Delete "),p("span",null,"Delete this task")],-1)))],Ze={class:"body"},ea={class:"bottom-section"},aa={class:"foot-block"},sa=oe((()=>p("h4",{class:"heading"},"Worker(s)",-1))),la={class:"developers"},ta={class:"foot-block"},ia=oe((()=>p("h4",{class:"heading"},"Start date",-1))),na={class:"foot-block"},ra=oe((()=>p("h4",{class:"heading"},"End date",-1))),oa={class:"foot-block"},ca=oe((()=>p("h4",{class:"heading"},"Status",-1))),da=oe((()=>p("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),ua=oe((()=>p("img",{class:"dark-image is-larger",src:R,alt:""},null,-1))),pa={key:2,class:"tab-content is-active"},va={class:"all-projects"},ma={key:0,class:"columns is-multiline projects-card-grid"},ha={class:"column is-6"},ga={class:"grid-item"},_a={class:"top-section"},ka={class:"head"},fa=["onClick"],ya=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-eye"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Active"),p("span",null,"Start work on this task")],-1)))],ba=["onClick"],ja=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Pending"),p("span",null,"Waiting to work on")],-1)))],wa=["onClick"],Ca=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Completed"),p("span",null,"Mark task as completed")],-1)))],xa=oe((()=>p("hr",{class:"dropdown-divider"},null,-1))),Da=["onClick"],Aa=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-pencil"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Edit"),p("span",null,"Edit Task detail")],-1)))],Ta=["onClick"],Pa=[oe((()=>p("div",{class:"icon"},[p("i",{"aria-hidden":"true",class:"lnil lnil-archive"})],-1))),oe((()=>p("div",{class:"meta"},[p("span",null,"Delete "),p("span",null,"Delete this task")],-1)))],Va={class:"body"},Sa={class:"bottom-section"},Ia={class:"foot-block"},Ea=oe((()=>p("h4",{class:"heading"},"Worker(s)",-1))),Ua={class:"developers"},Ma={class:"foot-block"},Na=oe((()=>p("h4",{class:"heading"},"Start date",-1))),Oa={class:"foot-block"},za=oe((()=>p("h4",{class:"heading"},"End date",-1))),$a={class:"foot-block"},Wa=oe((()=>p("h4",{class:"heading"},"Status",-1))),qa=oe((()=>p("img",{class:"light-image is-larger",src:L,alt:""},null,-1))),La=oe((()=>p("img",{class:"dark-image is-larger",src:R,alt:""},null,-1))),Ra=I(i({__name:"ProjectsTasks",props:{activeTab:{default:"active"},projectID:{}},emits:["update-getAllTasks"],setup(i,{emit:V}){const S=i,I=F(),E=H();n(1),n("Edit Project"),n("Add Task");const U=n(""),M=n(S.activeTab);n(!1);const N=n(0);n(!1),n(!1);const O=n(!1);n(!1);const z=n(!1),W=n(0);n(0),n(0),n({}),n([]),n(""),n("");const q=n("");n(""),n([{value:"active",name:"Active"},{value:"pending",name:"Pre Construction"},{value:"completed",name:"Completed"},{value:"cancelled",name:"cancelled"}]),n({icon:"fa fa-bell",alertTitle:"Delete Task ?",alertDescription:"After deleting this task you will not be able to recover it"}),n({icon:"fa fa-warning",alertTitle:"Delete Project Permanently?",alertDescription:"After deleting this Project you will not be able to recover it"}),n([{id:0,username:"",email:"",phoneNumber:""}]);const L=n([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}],quantity:"",unit:"",costCode:""}]),R=n({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),B=e=>{W.value=e,R.value={title:"Delete Task?",subtitle:"Do you really want to delete this task permanently?",btntext:"Yes, Delete",isSweetAlertOpen:!0}},G=async()=>{try{O.value=!0;const e=await I.get(`api/task/${S.projectID}/project/`);L.value=e.data,L.value.map((e=>({...e,isOpen:!1}))),console.log(e.data),O.value=!1}catch(e){console.log(e)}},K=r((()=>L.value.filter((e=>"active"==e.status)).length)),J=r((()=>L.value.filter((e=>"pending"==e.status)).length)),Q=r((()=>L.value.filter((e=>"completed"==e.status)).length)),X=(e="")=>{z.value=!0,q.value=e},Y=()=>{G(),z.value=!1,N.value=0,q.value=""},Z=async(e,a)=>{try{O.value=!0;await I.patch(`/api/task/${e}/`,{status:a,schedule_mode:localStorage.getItem("isScheduleMode")});E.success(`Task set to ${a} successfully`),N.value=0,G(),O.value=!1}catch(s){console.log(s)}},ee=async()=>{try{O.value=!0;const e=await I.delete(`/api/task/${W.value}/`);console.log(e),E.success("Task deleted successfully"),G(),R.value.isSweetAlertOpen=!1,N.value=0}catch(e){console.log(e)}finally{O.value=!1}},ae=r((()=>{if(U.value){const e=new RegExp(U.value,"i");return L.value.filter((a=>"completed"!=a.status&&(a.title.match(e)||a.description.match(e)||a.status.match(e))))}return L.value})),se=r((()=>{if(U.value){const e=new RegExp(U.value,"i");return L.value.filter((a=>"completed"==a.status&&(a.title.match(e)||a.description.match(e)||a.status.match(e))))}return L.value.filter((e=>"completed"==e.status))}));return o((()=>{G()})),(i,n)=>{const r=$,o=A,V=T,I=t,E=l,N=s,W=a,H=e,F=c("tooltip");return d(),u(x,null,[p("div",null,[p("div",ce,[v(V,null,{default:m((()=>[v(r,{class:"mr-2",icon:"feather:search"},{default:m((()=>[h(p("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>k(U)?U.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[g,_(U)]])])),_:1}),v(o,{onClick:X,color:"primary",icon:"fas fa-plus",elevated:"",raised:""},{default:m((()=>[f("Task")])),_:1})])),_:1}),p("div",de,[p("div",ue,[p("ul",null,[p("li",{class:y(["active"===_(M)&&"is-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:n[1]||(n[1]=b(P((e=>M.value="active"),["prevent"]),["space"])),onClick:n[2]||(n[2]=e=>M.value="active")},pe,32)],2),p("li",{class:y(["closed"===_(M)&&"is-active"])},[p("a",{tabindex:"0",role:"button",onKeydown:n[3]||(n[3]=b(P((e=>M.value="closed"),["prevent"]),["space"])),onClick:n[4]||(n[4]=e=>M.value="closed")},ve,32)],2),me])])])]),p("div",he,["active"===_(M)&&0===_(ae).length?(d(),j(I,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:m((()=>[ge,_e])),_:1})):w("",!0),"active"===_(M)?(d(),u("div",ke,[p("div",fe,[p("div",ye,[p("div",be,[p("div",je,[we,p("span",null,C(_(L).length),1),Ce])]),p("div",xe,[p("div",De,[Ae,p("span",null,C(_(Q)),1),Te])]),p("div",Pe,[p("div",Ve,[Se,p("span",null,C(_(J)),1),Ie])]),p("div",Ee,[p("div",Ue,[Me,p("span",null,C(_(K)),1),Ne])])]),_(ae).length?(d(),u("div",Oe,[(d(!0),u(x,null,D(_(ae),(e=>(d(),u("div",ze,[p("div",$e,[p("div",We,[p("div",qe,[p("h3",null,C(e.title),1),v(E,{icon:"feather:more-vertical",spaced:"",right:""},{content:m((()=>[p("a",{onClick:a=>Z(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},Re,8,Le),p("a",{onClick:a=>Z(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},Fe,8,He),p("a",{onClick:a=>Z(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Ge,8,Be),Ke,p("a",{onClick:a=>X(e.id),role:"menuitem",class:"dropdown-item is-media"},Qe,8,Je),p("a",{onClick:a=>B(e.id),role:"menuitem",class:"dropdown-item is-media"},Ye,8,Xe)])),_:2},1024)]),p("div",Ze,[p("p",null,C(e.description),1)])]),p("div",ea,[p("div",aa,[sa,p("div",la,[(d(!0),u(x,null,D(e.workers,(e=>h((d(),j(N,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[F,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),p("div",ta,[ia,p("p",null,C(e.startDate),1)]),p("div",na,[ra,p("p",null,C(e.endDate),1)]),p("div",oa,[ca,p("p",null,C(e.status),1)])])])])))),256))])):(d(),j(I,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:m((()=>[da,ua])),_:1}))])])):"closed"===_(M)?(d(),u("div",pa,[p("div",va,[_(se).length?(d(),u("div",ma,[(d(!0),u(x,null,D(_(se),(e=>(d(),u("div",ha,[p("div",ga,[p("div",_a,[p("div",ka,[p("h3",null,C(e.title),1),v(E,{icon:"feather:more-vertical",spaced:"",right:""},{content:m((()=>[p("a",{onClick:a=>Z(e.id,"active"),role:"menuitem",class:"dropdown-item is-media"},ya,8,fa),p("a",{onClick:a=>Z(e.id,"pending"),role:"menuitem",class:"dropdown-item is-media"},ja,8,ba),p("a",{onClick:a=>Z(e.id,"completed"),role:"menuitem",class:"dropdown-item is-media"},Ca,8,wa),xa,p("a",{onClick:a=>X(e.id),role:"menuitem",class:"dropdown-item is-media"},Aa,8,Da),p("a",{onClick:a=>B(e.id),role:"menuitem",class:"dropdown-item is-media"},Pa,8,Ta)])),_:2},1024)]),p("div",Va,[p("p",null,C(e.description),1)])]),p("div",Sa,[p("div",Ia,[Ea,p("div",Ua,[(d(!0),u(x,null,D(e.workers,(e=>h((d(),j(N,{picture:e.avatar,size:"small",color:"primary",initials:e.avatar?"":e.username.slice(0,2)},null,8,["picture","initials"])),[[F,`${e.username}`,void 0,{rounded:!0,info:!0}]]))),256))])]),p("div",Ma,[Na,p("p",null,C(e.startDate),1)]),p("div",Oa,[za,p("p",null,C(e.endDate),1)]),p("div",$a,[Wa,p("p",null,C(e.status),1)])])])])))),256))])):(d(),j(I,{key:1,title:"No closed projects.",subtitle:"Looks like you don't have any closed project yet. When you'll\n                start closing off projects, they will be showing up in here."},{image:m((()=>[qa,La])),_:1}))])])):w("",!0)])]),_(R).isSweetAlertOpen?(d(),j(W,{key:0,isSweetAlertOpen:_(R).isSweetAlertOpen,title:_(R).title,subtitle:_(R).subtitle,btntext:_(R).btntext,onConfirm:ee,loading:_(O),onCancel:()=>_(R).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","loading","onCancel"])):w("",!0),_(z)?(d(),j(H,{key:1,projectID:S.projectID,isOpen:_(z),closeModal:Y,taskId:_(q),"onUpdate:modalHandler":n[5]||(n[5]=e=>z.value=!1)},null,8,["projectID","isOpen","taskId"])):w("",!0)],64)}}}),[["__scopeId","data-v-1e006b00"]]),Ha={class:"personal-dashboard personal-dashboard-v2"},Fa={class:"columns is-multiline"},Ba={class:"column is-12"},Ga={class:"dashboard-header"},Ka={class:"user-meta is-dark-bordered-12"},Ja={class:"title is-4 is-narrow is-bold"},Qa={class:"light-text"},Xa={class:"info-text is-bold"},Ya=p("i",{class:"fas fa-home"},null,-1),Za={class:"user-action"},es=p("h3",{class:"title is-5 is-narrow"},"Information",-1),as={class:"light-text"},ss={class:"light-text"},ls={class:"light-text"},ts={class:"cta h-hidden-tablet-p"},is={class:"media-flex inverted-text"},ns=p("i",{"aria-hidden":"true",class:"lnil lnil-crown-alt-1"},null,-1),rs=p("a",{class:"link inverted-text"},"Change status",-1),os={class:"column is-8"},cs={class:"dashboard-card has-margin-bottom"},ds=p("div",{class:"card-head"},[p("h3",{class:"dark-inverted"},"Active Projects"),p("a",{class:"action-link",tabindex:"0"},"View All")],-1),us={class:"active-projects"},ps={class:"dashboard-card"},vs=p("div",{class:"card-head"},[p("h3",{class:"dark-inverted"},"Task Completion"),p("a",{class:"action-link",tabindex:"0"},"Reports")],-1),ms={class:"dashboard-card"},hs=p("div",{class:"card-head"},[p("h3",{class:"dark-inverted"},"Team Efficiency"),p("a",{class:"action-link",tabindex:"0"},"Reports")],-1),gs={class:"column is-4"},_s={class:"dashboard-card"},ks=p("div",{class:"card-head"},[p("h3",{class:"dark-inverted"},"Client Information"),p("a",{class:"action-link",tabindex:"0"},"Edit")],-1),fs={class:"active-team"},ys={key:0,class:"user-list"},bs={class:"user-list-info"},js={class:"name dark-inverted"},ws={class:"position"},Cs=p("div",{class:"user-list-icons"},[p("a",null,[p("i",{"aria-hidden":"true",class:"fas fa-phone"})]),p("a",null,[p("i",{"aria-hidden":"true",class:"fas fa-video"})])],-1),xs={key:1,class:"user-list"},Ds=[p("div",{class:"user-list-info"},[p("div",{class:"name dark-inverted"},"No Client Info Added yet")],-1)],As={class:"dashboard-card"},Ts=p("div",{class:"card-head"},[p("h3",{class:"dark-inverted"},"Assigned Manager"),p("a",{class:"action-link",tabindex:"0"},"Edit")],-1),Ps={class:"active-team"},Vs={key:0,class:"user-list"},Ss={class:"user-list-info"},Is={class:"name dark-inverted"},Es={class:"position"},Us=p("div",{class:"user-list-icons"},[p("a",null,[p("i",{"aria-hidden":"true",class:"fas fa-phone"})]),p("a",null,[p("i",{"aria-hidden":"true",class:"fas fa-video"})])],-1),Ms={key:1,class:"user-list"},Ns=[p("div",{class:"user-list-info"},[p("div",{class:"name dark-inverted"},"No Manager assigned yet")],-1)],Os={class:"dashboard-card"},zs=p("div",{class:"card-head"},[p("h3",{class:"dark-inverted"},"Contractor Information"),p("a",{class:"action-link",tabindex:"0"},"Edit")],-1),$s={class:"active-team"},Ws={key:0,class:"user-list"},qs={class:"user-list-info"},Ls={class:"name dark-inverted"},Rs={class:"position"},Hs=p("div",{class:"user-list-icons"},[p("a",null,[p("i",{"aria-hidden":"true",class:"fas fa-phone"})]),p("a",null,[p("i",{"aria-hidden":"true",class:"fas fa-video"})])],-1),Fs={key:1,class:"user-list"},Bs=[p("div",{class:"user-list-info"},[p("div",{class:"name dark-inverted"}," No contractor Info Added yet ")],-1)],Gs={class:"dashboard-card"},Ks=p("div",{class:"card-head"},[p("h3",{class:"dark-inverted"},"Todo Today"),p("a",{class:"action-link",tabindex:"0"},"View All")],-1),Js={class:"active-list"},Qs={class:"checkboxes-list"},Xs={class:"list-item"},Ys=p("div",{class:"item-meta"},[p("span",{class:"dark-inverted"},"Call Mr. Markstrom"),p("span",null,"Review the project initial wireframes")],-1),Zs={class:"list-item"},el=p("div",{class:"item-meta"},[p("span",{class:"dark-inverted"},"Finish wireframes"),p("span",null,"Make all requested changes and publish")],-1),al={class:"list-item"},sl=p("div",{class:"item-meta"},[p("span",{class:"dark-inverted"},"Update timesheets"),p("span",null,"Update all the team timesheets")],-1),ll={class:"list-item"},tl=p("div",{class:"item-meta"},[p("span",{class:"dark-inverted"},"Request payout"),p("span",null,"send project invoice to client")],-1),il={class:"dashboard-card"},nl=p("img",{class:"light-image",src:X,alt:""},null,-1),rl=p("img",{class:"dark-image",src:Y,alt:""},null,-1),ol={class:"column is-12"},cl=i({__name:"ProjectDetail",setup(e){const a=ne(),l=E({series:[{name:"Pending",data:[31,40,28,51,42,109,100]},{name:"Completed",data:[11,32,45,32,34,52,41]},{name:"Blocked",data:[78,53,36,10,14,5,2]}],chart:{height:295,type:"area",toolbar:{show:!1}},colors:[a.accent,a.info,a.primary],legend:{position:"top"},dataLabels:{enabled:!1},stroke:{width:[2,3,5],curve:"smooth"},xaxis:{type:"date",categories:["2020-09-19","2020-09-20","2020-09-21","2020-09-22","2020-09-23","2020-09-24","2020-09-25"]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}}),{barOptions:t}=Q(),i=ee,r=ee,c=ee,h=ee,g=F(),y=H(),b=U();M();const j=n(["value_2"]),w=n(!1);n(!1),n(!1),n(!1),n(!1);const T=n(!1);n(!1);const P=n([]),V=n([]);n([]),n(0),n(0),n(""),n(""),n("Add Task"),n(""),n("Edit Project");const S=n("");n(""),n("");const I=n([{id:0,username:"",email:"",phoneNumber:""}]);n([{value:"active",name:"Active"},{value:"pending",name:"Pre Construction"},{value:"completed",name:"Completed"},{value:"cancelled",name:"cancelled"}]);const O=n({id:0,title:"",created:"",startDate:"",color:"",endDate:"",description:"",image:"",is_active:null,status:"",address:"",total_tasks:0,client:0,contractor:0,clientInfo:{id:0,username:"",email:"",password:"",avatar:null},uploaded_files:[],contractorInfo:{id:0,username:"",email:"",password:"",avatar:null},managers:[{id:0,username:"",avatar:null,email:"",role:""}]});n({title:"",description:"",startDate:"",endDate:"",status:"",project:b.params.id,workers:[]});const z=n([{id:0,title:"",description:"",startDate:"",endDate:"",project:0,status:"",worker:[{id:0,username:"",email:"",role:"",avatar:""}]}]);n({icon:"fa fa-bell",alertTitle:"Delete Task ?",alertDescription:"After deleting this task you will not be able to recover it"}),n({icon:"fa fa-warning",alertTitle:"Delete Project Permanently?",alertDescription:"After deleting this Project you will not be able to recover it"}),n({icon:"fa fa-warning",alertTitle:"Delete Tasks' Sheet Permanently?",alertDescription:"After deleting this Sheet all tasks created by this sheet will be deleted permanently"});const $=n(""),W=n(0),q=async()=>{try{w.value=!0;const e=await g.get(`/api/project/${$.value}/`);O.value=e.data,S.value=e.data.image,L()}catch(e){console.log(e)}finally{w.value=!1}},L=async()=>{try{w.value=!0;const e=await g.get(`api/task/${b.params.id}/project/`);z.value=e.data,console.log(e.data),(()=>{let e=z.value.filter((e=>"active"==e.status));W.value=e.length})(),w.value=!1}catch(e){console.log(e)}},R=async e=>{try{O.value.status=e;const a=g.patch(`/api/project/${$.value}/`,{status:e});q(),console.log(a),y.green(`Task set to ${"pending"==e?"Pre Construction":e} successfully`)}catch(a){console.log(a)}finally{q()}};return n(""),o((()=>{$.value=b.params.id,q(),(async()=>{try{T.value=!0;const e=await g.get("/api/users/",{});I.value=e.data.filter((e=>"worker"==e.role)),P.value=e.data.filter((e=>"client"==e.role)),V.value=e.data.filter((e=>"contractor"==e.role)),console.log("data",I.value)}catch(e){console.log(e)}finally{T.value=!1}})(),L()})),(e,a)=>{const n=s,o=N("Address"),g=le,y=se,w=ae,T=Z,P=J,V=K,S=N("Tippy"),I=G,E=A,U=B,M=Ra;return d(),u("div",Ha,[p("div",Fa,[p("div",Ba,[p("div",Ga,[v(n,{picture:_(O).image,squared:"",color:"primary",badge:"/images/icons/flags/united-states-of-america.svg",size:"xxl"},null,8,["picture"]),p("div",Ka,[p("h3",Ja,C(_(O).title?_(O).title:"N/A"),1),p("p",Qa,[f(" Current status: "),p("span",Xa,C("pending"===_(O).status?"Pre Construction":_(O).status.charAt(0).toUpperCase()+_(O).status.slice(1)),1)]),v(o,null,{default:m((()=>[Ya,f(" "+C(_(O).address),1)])),_:1})]),p("div",Za,[es,p("p",as," Started at: "+C(_(O)?.startDate?_(O)?.startDate:"N/A"),1),p("p",ss," Expected end: "+C(_(O)?.endDate?_(O)?.endDate:"N/A"),1),p("p",ls," Total jobs: "+C(_(O).total_tasks?_(O).total_tasks:"N/A")+" Tasks ",1)]),p("div",ts,[p("div",is,[ns,v(y,{class:"mt-3"},{default:m((()=>[v(g,{onClick:a[0]||(a[0]=e=>R("active")),color:"info",label:"Active",curved:"",outlined:"active"===_(O).status},null,8,["outlined"]),v(g,{onClick:a[1]||(a[1]=e=>R("pending")),color:"warning",label:"Pre Construction",outlined:"pending"===_(O).status,curved:""},null,8,["outlined"]),v(g,{onClick:a[2]||(a[2]=e=>R("completed")),color:"primary",label:"Completed",outlined:"completed"===_(O).status,curved:""},null,8,["outlined"])])),_:1})]),rs])])]),p("div",os,[p("div",cs,[ds,p("div",us,[v(P,{title:"Delivery App Project",subtitle:"Updated 30m ago",center:""},{icon:m((()=>[v(n,{picture:"/demo/photos/apps/1.jpg",badge:"/images/icons/stacks/illustrator.svg",size:"medium",squared:""})])),action:m((()=>[v(w,{avatars:_(i),size:"small"},null,8,["avatars"]),v(T)])),_:1}),v(P,{title:"Health and Fitness Dashboard",subtitle:"Updated 5h ago",center:""},{icon:m((()=>[v(n,{picture:"/demo/photos/apps/2.png",badge:"/images/icons/stacks/reactjs.svg",size:"medium",squared:""})])),action:m((()=>[v(w,{avatars:_(r),size:"small"},null,8,["avatars"]),v(T)])),_:1}),v(P,{title:"Learning Tracker Dashboard",subtitle:"Updated 7h ago",center:""},{icon:m((()=>[v(n,{picture:"/demo/photos/apps/3.png",badge:"/images/icons/stacks/angular.svg",size:"medium",squared:""})])),action:m((()=>[v(w,{avatars:_(c),size:"small"},null,8,["avatars"]),v(T)])),_:1}),v(P,{title:"Banking App Dashboard",subtitle:"Updated 10h ago",center:""},{icon:m((()=>[v(n,{picture:"/demo/photos/apps/4.png",badge:"/images/icons/stacks/js.svg",size:"medium",squared:""})])),action:m((()=>[v(w,{avatars:_(h),size:"small"},null,8,["avatars"]),v(T)])),_:1})])]),p("div",ps,[vs,v(_(te),{id:"completion-chart",height:_(l).chart.height,type:_(l).chart.type,series:_(l).series,options:_(l)},null,8,["height","type","series","options"])]),p("div",ms,[hs,v(_(te),{id:"efficiency-chart",height:_(t).chart.height,type:_(t).chart.type,series:_(t).series,options:_(t)},null,8,["height","type","series","options"])])]),p("div",gs,[p("div",_s,[ks,p("div",fs,[_(O).client?(d(),u("ul",ys,[p("li",null,[p("div",null,[v(S,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:m((()=>[v(V,{user:_(ie).user18},null,8,["user"])])),default:m((()=>[v(n,{picture:_(O).client.avatar},null,8,["picture"])])),_:1})]),p("div",bs,[p("div",js,C(_(O).client.username),1),p("div",ws,C(_(O).client.email),1)]),Cs])])):(d(),u("ul",xs,Ds))])]),p("div",As,[Ts,p("div",Ps,[_(O).managers.length>0?(d(),u("ul",Vs,[(d(!0),u(x,null,D(_(O).managers,(e=>(d(),u("li",{key:e.id},[p("div",null,[v(S,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:m((()=>[v(V,{user:_(ie).user18},null,8,["user"])])),default:m((()=>[v(n,{picture:e.avatar},null,8,["picture"])])),_:2},1024)]),p("div",Ss,[p("div",Is,C(e.username),1),p("div",Es,C(e.email),1)]),Us])))),128))])):(d(),u("ul",Ms,Ns))])]),p("div",Os,[zs,p("div",$s,[_(O).contractor?(d(),u("ul",Ws,[p("li",null,[p("div",null,[v(S,{class:"has-help-cursor",interactive:"",offset:[0,10]},{content:m((()=>[v(V,{user:_(ie).user18},null,8,["user"])])),default:m((()=>[v(n,{picture:_(O).contractor.avatar},null,8,["picture"])])),_:1})]),p("div",qs,[p("div",Ls,C(_(O).contractor.username),1),p("div",Rs,C(_(O).contractor.email),1)]),Hs])])):(d(),u("ul",Fs,Bs))])]),p("div",Gs,[Ks,p("div",Js,[p("div",Qs,[p("div",Xs,[v(I,{modelValue:_(j),"onUpdate:modelValue":a[3]||(a[3]=e=>k(j)?j.value=e:null),value:"value_1"},null,8,["modelValue"]),Ys]),p("div",Zs,[v(I,{modelValue:_(j),"onUpdate:modelValue":a[4]||(a[4]=e=>k(j)?j.value=e:null),value:"value_2"},null,8,["modelValue"]),el]),p("div",al,[v(I,{modelValue:_(j),"onUpdate:modelValue":a[5]||(a[5]=e=>k(j)?j.value=e:null),value:"value_3"},null,8,["modelValue"]),sl]),p("div",ll,[v(I,{modelValue:_(j),"onUpdate:modelValue":a[6]||(a[6]=e=>k(j)?j.value=e:null),value:"value_4"},null,8,["modelValue"]),tl])])])]),p("div",il,[v(U,{title:"Go Premium",subtitle:"Unlock more features and business tools by going premium"},{image:m((()=>[nl,rl])),action:m((()=>[v(E,{color:"primary",elevated:""},{default:m((()=>[f(" Go Premium ")])),_:1})])),_:1})])]),p("div",ol,[v(M,{projectID:_(b).params.id},null,8,["projectID"])])])])}}}),dl={class:"page-content-inner"},ul=p("div",{class:"lifestyle-dashboard-bg has-top-nav"},null,-1),pl=i({__name:"[id]",setup:e=>(re().setPageTitle("Projects"),O({title:"Projects"}),(e,a)=>(d(),u("div",dl,[(d(),j(z,{to:"[data-teleport-bg]"},[ul])),v(cl,{class:"has-navbar-spacing"})])))});export{pl as default};
