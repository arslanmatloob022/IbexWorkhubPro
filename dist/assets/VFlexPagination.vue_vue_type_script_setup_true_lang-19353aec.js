import{_ as a}from"./VFlex.vue_vue_type_style_index_0_lang-2a70d1e0.js";import{e,E as t,M as n,Z as i,K as l,v as r,F as o,z as s,A as c,U as u,y as p,B as g,N as d,l as v,G as f,x as h,O as y,Q as m,P as k,H as x,I as P}from"./index-a3511ab8.js";const _={class:"pagination-list"},b={key:0},K=[c("span",{class:"pagination-ellipsis"},"…",-1)],M={key:1},w=[c("span",{class:"pagination-ellipsis"},"…",-1)],C={key:2},D=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"},null,-1),L=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"},null,-1),Q=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),R=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),$=e({__name:"VFlexPagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(e,{emit:$}){const j=e,{t:F}=t(),I=n(),q=i((()=>Math.ceil(j.totalItems/j.itemPerPage)||1)),B=i((()=>q.value>j.maxLinksDisplayed+2?j.maxLinksDisplayed+2:q.value)),V=i((()=>{const a=[];let e=j.currentPage-Math.floor(B.value/2),t=e+(B.value-Math.ceil(B.value%2));e<1&&(e=1,t=e+(B.value-1)),t>q.value&&(t=q.value,e=t-(B.value-1));for(let n=e;n<=t;n+=1)n!==e&&n!==t&&a.push(n);return a})),z=i((()=>q.value>1)),A=(a=1)=>{if(j.noRouter)return{};const e=Math.max(1,Math.min(a,q.value)),t={...I.query};return j.routerQueryKey&&(t[j.routerQueryKey]=e<=1?void 0:e),{name:I.name,params:I.params,query:t}},E=(a,e=1)=>{const t=Math.max(1,Math.min(e,q.value));if($("update:currentPage",t),j.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(e,t)=>{const n=l("RouterLink"),i=a;return r(),o(i,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:s((()=>[c("ul",_,[u(e.$slots,"before-pagination"),c("li",null,[p(n,{to:A(1),tabindex:"0",class:d(["pagination-link",[1===e.currentPage&&"is-current"]]),"aria-label":v(F)("components.v-flex-pagination.goto-page-title",{page:1}),onKeydown:t[0]||(t[0]=f(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[1]||(t[1]=a=>E(a,1))},{default:s((()=>[g(" 1 ")])),_:1},8,["to","aria-label","class"])]),v(z)&&(0===v(V).length||v(V)[0]>2)?(r(),h("li",b,K)):y("",!0),(r(!0),h(k,null,m(v(V),(a=>(r(),h("li",{key:a},[p(n,{to:A(a),tabindex:"0",class:d(["pagination-link",[e.currentPage===a&&"is-current"]]),"aria-label":v(F)("components.v-flex-pagination.goto-page-title",{page:a}),"aria-current":e.currentPage===a?"page":void 0,onKeydown:t[2]||(t[2]=f(P((a=>a.target.click()),["prevent"]),["space"])),onClick:e=>E(e,a)},{default:s((()=>[g(x(a),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),v(z)&&v(V)[v(V).length-1]<v(q)-1?(r(),h("li",M,w)):y("",!0),v(z)?(r(),h("li",C,[p(n,{to:A(v(q)),tabindex:"0",class:d(["pagination-link",[e.currentPage===v(q)&&"is-current"]]),"aria-label":v(F)("components.v-flex-pagination.goto-page-title",{page:v(q)}),onKeydown:t[3]||(t[3]=f(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[4]||(t[4]=a=>E(a,v(q)))},{default:s((()=>[g(x(v(q)),1)])),_:1},8,["to","aria-label","class"])])):y("",!0),u(e.$slots,"after-pagination")]),u(e.$slots,"before-navigation"),p(n,{to:A(e.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:t[5]||(t[5]=f(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[6]||(t[6]=a=>E(a,e.currentPage-1))},{default:s((()=>[D,L])),_:1},8,["to"]),p(n,{to:A(e.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:t[7]||(t[7]=f(P((a=>a.target.click()),["prevent"]),["space"])),onClick:t[8]||(t[8]=a=>E(a,e.currentPage+1))},{default:s((()=>[Q,R])),_:1},8,["to"]),u(e.$slots,"after-navigation")])),_:3})}}});export{$ as _};
