import{_ as e}from"./VBlock.vue_vue_type_style_index_0_lang-b3629d76.js";import{_ as a}from"./VIconWrap.vue_vue_type_style_index_0_lang-52eb7419.js";import{e as s,t,N as n,r as i,o as r,y as l,z as o,C as p,A as d,D as c,J as u,l as m,B as _,I as y,Q as f,R as v,E as h,K as g,H as k,G as b,v as T}from"./index-f130b4cb.js";import{_ as x}from"./VTag.vue_vue_type_style_index_0_lang-5849ac63.js";import{_ as E}from"./VAvatar.vue_vue_type_style_index_0_lang-1fd2fbec.js";import{s as I}from"./sleep-fd7a5d8b.js";import{u as A}from"./useNotyf-e1982812.js";import{u as S}from"./useAPI-3d533a16.js";import{b as P}from"./useSupportElement-a8fec3f9.js";import{u as D}from"./viewWrapper-eb67368a.js";import{b as j}from"./route-block-83d24a4e.js";import"./via-placeholder-24645670.js";import"./notyf-3492d956.js";import"./useThemeColors-5188c637.js";import"./userSession-a5ab451b.js";const B={class:"action-page-wrapper action-page-v2"},C={class:"wrapper-outer"},L={class:"wrapper-inner"},w={class:"action-box"},Y={class:"box-content"},H={class:"dark-inverted"},M={class:"sender-message is-dark-card-bordered is-dark-bg-4"},G=p("h4",{class:"dark-inverted"},"Payer Information",-1),N={class:"dark-text"},R={class:"dark-text"},U={class:"dark-text"},F={class:"dark-text"},J={class:"sender-message is-dark-card-bordered is-dark-bg-4 mt-3"},V=p("h4",{class:"dark-inverted"},"Shipping Address",-1),Z={class:"dark-text"},K={class:"dark-text"},O={class:"dark-text"},Q={class:"dark-text"},W={class:"dark-text"},$={class:"buttons"},z={class:"side-wrapper"},q={class:"side-inner"},X={class:"side-title"},ee=p("h3",{class:"dark-inverted"},"Payment Receipt",-1),ae={class:"dark-text"},se={class:"action-list"},te=p("div",{class:"side-title"},[p("h3",{class:"dark-inverted"},"Amount")],-1),ne={class:"mb-3"},ie={class:"dark-text"},re=p("p",null,[c(" Currency: "),p("span",{class:"dark-text"},"USD")],-1),le=p("div",{class:"side-title"},[p("h3",{class:"dark-inverted"},"Links")],-1),oe={class:"action-list mt-4"},pe=p("div",{class:"side-title"},[p("h3",{class:"dark-inverted"},"Transactions")],-1),de=p("p",null,"Details",-1),ce=s({__name:"PaymentDetails",setup(s){const b=A(),T=t(),D=S(),j=n(),ce=i(!1),ue=i({id:"e07eb0c8-e2d4-4373-8cf7-281c7966d8a0",client_info:null,created_by_info:{id:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",username:"Krystal",email:"krystal@ibexbuilderstudios.com",role:"admin",avatar:"https://res.cloudinary.com/dcqeugna3/image/upload/v1/media/static/users_avatars/confident-2362133_1280-removebg-preview_vkihy1"},amount:94,response:{id:"PAYID-M4BF44I2Y949776H29175308",cart:"7CB39354499642142",links:[{rel:"self",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BF44I2Y949776H29175308",method:"GET"}],payer:{status:"UNVERIFIED",payer_info:{email:"julio@gmail.com",phone:"7203395598",payer_id:"WHRSNDB5FP7Q4",last_name:"Adams",first_name:"Julio",country_code:"US",shipping_address:{city:"Lahore",line1:"157 / C-Block, Main Boulevard, Guldasht Town",state:"AL",postal_code:"54000",country_code:"US",recipient_name:"Julio Adams"}},payment_method:"paypal"},state:"approved",intent:"sale",create_time:"2024-10-06T09:54:57Z",update_time:"2024-10-06T10:25:03Z",transactions:[{payee:{email:"sb-jcewl33176163@business.example.com",merchant_id:"6G3AKS3EQZELQ"},amount:{total:"94.00",details:{discount:"0.00",shipping:"0.00",subtotal:"94.00",insurance:"0.00",handling_fee:"0.00",shipping_discount:"0.00"},currency:"USD"},item_list:{shipping_address:{city:"Lahore",line1:"157 / C-Block, Main Boulevard, Guldasht Town",state:"AL",postal_code:"54000",country_code:"US",recipient_name:"Julio Adams"}},description:"success",soft_descriptor:"PAYPAL *TEST STORE",related_resources:[{sale:{id:"85377044MH420592J",links:[{rel:"self",href:"https://api.sandbox.paypal.com/v1/payments/sale/85377044MH420592J",method:"GET"},{rel:"refund",href:"https://api.sandbox.paypal.com/v1/payments/sale/85377044MH420592J/refund",method:"POST"},{rel:"parent_payment",href:"https://api.sandbox.paypal.com/v1/payments/payment/PAYID-M4BF44I2Y949776H29175308",method:"GET"}],state:"completed",amount:{total:"94.00",details:{discount:"0.00",shipping:"0.00",subtotal:"94.00",insurance:"0.00",handling_fee:"0.00",shipping_discount:"0.00"},currency:"USD"},receipt_id:"1959624121915991",create_time:"2024-10-06T10:25:03Z",update_time:"2024-10-06T10:25:03Z",payment_mode:"INSTANT_TRANSFER",parent_payment:"PAYID-M4BF44I2Y949776H29175308",soft_descriptor:"PAYPAL *TEST STORE",transaction_fee:{value:"3.77",currency:"USD"},protection_eligibility:"ELIGIBLE",protection_eligibility_type:"ITEM_NOT_RECEIVED_ELIGIBLE,UNAUTHORIZED_PAYMENT_ELIGIBLE"}}]}]},PayementId:"PAYID-M4BF44I2Y949776H29175308",status:"approved",created_at:"2024-10-06T09:54:57.669752Z",created_by:"64d52243-a2f7-48ec-a4af-46e4ec81d6d8",client:null}),me=async()=>{ce.value=!0,b.success("Transaction is accepted"),await I(),T.push("/sidebar/dashboard/received-payments"),ce.value=!1};return r((()=>{(async()=>{try{ce.value=!0;const e=await D.get(`/api/paypal/${j.params.id}`);ue.value=e.data}catch(e){console.log(e)}finally{ce.value=!1}})()})),(s,t)=>{const n=E,i=x,r=h,I=a,A=e;return l(),o("div",B,[p("div",C,[p("div",L,[p("div",w,[p("div",Y,[d(n,{size:"big",picture:"/icons/paypal.png",badge:"/icons/paypal-48.png"}),p("h3",H,[c(u(m(ue).id)+" ",1),d(i,{light:"",rounded:"",color:"created"==m(ue).status?"info":"cancel"==m(ue).status?"danger":"primary"},{default:_((()=>[c(u(m(ue).status),1)])),_:1},8,["color"])]),p("div",M,[G,p("p",null,[c(" Name: "),p("span",N,u(m(ue)?.response?.payer?.payer_info?.first_name)+" "+u(m(ue)?.response?.payer?.payer_info?.last_name),1)]),p("p",null,[c(" Email: "),p("span",R,u(m(ue)?.response?.payer?.payer_info?.email),1)]),p("p",null,[c(" Id: "),p("span",U,u(m(ue)?.response?.payer?.payer_info?.payer_id),1)]),p("p",null,[c(" Status: "),p("span",F,u(m(ue)?.response?.payer?.status),1)])]),p("div",J,[V,p("p",null,[c(" Line1: "),p("span",Z,u(m(ue)?.response?.payer?.payer_info?.shipping_address?.line1),1)]),p("p",null,[c(" City: "),p("span",K,u(m(ue)?.response?.payer?.payer_info?.shipping_address?.city),1)]),p("p",null,[c(" State: "),p("span",O,u(m(ue)?.response?.payer?.payer_info?.shipping_address?.state),1)]),p("p",null,[c(" Postal Code: "),p("span",Q,u(m(ue)?.response?.payer?.payer_info?.shipping_address?.postal_code),1)]),p("p",null,[c(" Country: "),p("span",W,u(m(ue)?.response?.payer?.payer_info?.shipping_address?.country_code),1)])]),p("div",$,[d(r,{onClick:t[0]||(t[0]=e=>m(T).go(-1)),"dark-outlined":""},{default:_((()=>[c(" Back ")])),_:1}),d(r,{color:"primary",loading:m(ce),raised:"",tabindex:"0",onKeydown:y(g(me,["prevent"]),["space"]),onClick:me},{default:_((()=>[c(" Verify ")])),_:1},8,["loading","onKeydown"])])])])]),p("div",z,[p("div",q,[p("div",X,[ee,p("p",null,[c(" Created at: "),p("span",ae,u(m(P)(m(ue).response.create_time)),1)])]),p("div",se,[te,p("div",ne,[p("p",null,[c(" Total: "),p("span",ie,u(m(ue)?.amount),1)]),re]),le,(l(!0),o(f,null,v(m(ue)?.response.links,(e=>(l(),k(A,{title:e.rel},{icon:_((()=>[d(I,{onClick:a=>(e=>{e&&(navigator.clipboard.writeText(e),b.success("Link Copied"))})(e?.href),icon:"fas fa-copy",class:"cu-pointer",dark:"3","dark-primary":"","dark-card-bordered":""},null,8,["onClick"])])),default:_((()=>[p("p",null,u(e?.href.length>20?e?.href.slice(12,40):e?.href),1)])),_:2},1032,["title"])))),256))]),p("div",oe,[pe,de,(l(!0),o(f,null,v(m(ue)?.response?.transactions,(e=>(l(),k(A,{title:e?.payee?.merchant_id},{default:_((()=>[p("p",null,"Amount: $"+u(e?.amount?.total),1),p("p",null,"Discount: "+u(e?.amount?.details?.discount),1),p("p",null,"Shipping: "+u(e?.amount?.details?.shipping),1),p("p",null,"Subtotal: "+u(e?.amount?.details?.subtotal),1),p("p",null,"Handling fee: "+u(e?.amount?.details?.handling_fee),1),p("p",null,"Descriptor: "+u(e?.soft_descriptor),1),p("p",null,"State: "+u(e?.related_resources[0]?.sale?.state),1)])),_:2},1032,["title"])))),256))])])])])])}}}),ue={class:"page-content-inner"},me=s({__name:"[id]",setup(e){b();return D().setPageTitle("Payment Detail"),T((()=>({title:"Payments Detail"}))),(e,a)=>{const s=ce;return l(),o("div",ue,[d(s)])}}});"function"==typeof j&&j(me);export{me as default};
