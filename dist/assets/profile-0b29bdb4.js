import{_ as e}from"./ChangeMemberPassword.vue_vue_type_script_setup_true_lang-b19a918f.js";import{_ as l}from"./VModal.vue_vue_type_style_index_0_lang-f6e4e1bc.js";import{e as a,r as s,t,o as i,y as o,H as n,B as r,C as u,A as c,l as d,z as p,P as m,I as v,K as y,j as f,S as g,T as b,D as h,J as _,E as x,M as k,O as w,Y as C,Q as N,R as A,a3 as P,W as V,X as U,L as S,N as I,br as j,av as D,v as R}from"./index-ed878baa.js";import{_ as O}from"./VField.vue_vue_type_script_setup_true_lang-63cc4033.js";import{_ as M}from"./VControl-71751153.js";import{_ as z}from"./VAvatar.vue_vue_type_style_index_0_lang-89006900.js";import{_ as E}from"./VIconButton-25f6de5e.js";import{u as L,a as T}from"./useAPI-4dbd45d9.js";import{a as B,m as K}from"./useSupportElement-c53eaf20.js";import{u as q}from"./useNotyf-51dcaca9.js";import{m as F}from"./upload-3-fa0c89a5.js";import{_ as $}from"./SweetAlert.vue_vue_type_style_index_0_lang-dc1a89b9.js";import{_ as W}from"./VLabel.vue_vue_type_script_setup_true_lang-cb6c0e84.js";import{_ as H}from"./VSwitchBlock.vue_vue_type_style_index_0_lang-71c71ccf.js";import{_ as G}from"./QuestionsOfMembers.vue_vue_type_script_setup_true_lang-6d1a168f.js";import{_ as J}from"./VTextarea.vue_vue_type_script_setup_true_lang-6682908c.js";import{_ as Y}from"./VInput.vue_vue_type_script_setup_true_lang-8eedbc96.js";import{_ as Q}from"./VTag.vue_vue_type_style_index_0_lang-102e374b.js";import{_ as X,a as Z}from"./VOption.vue_vue_type_style_index_0_lang-ee8b4bf6.js";import{_ as ee}from"./ApexChart.vue_vue_type_script_setup_true_lang-4f504716.js";import{u as le}from"./company-42f77a6b.js";import{u as ae}from"./userSession-3fb9a025.js";import{_ as se}from"./VPlaceloadText.vue_vue_type_style_index_0_lang-566dd4d9.js";import{_ as te}from"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-b5c04341.js";import{u as ie}from"./viewWrapper-5df11b72.js";import"./useVFieldContext-9a447149.js";import"./notyf-fd8b7ffd.js";import"./useThemeColors-be929954.js";import"./VFlex.vue_vue_type_style_index_0_lang-94ea1992.js";import"./VBlock.vue_vue_type_style_index_0_lang-4145aa93.js";import"./vue3-apexcharts.common-d8d32b4b.js";import"./vue.runtime.esm-bundler-04947189.js";const oe={class:"modal-form columns is-multiline cu-all-input"},ne={class:"column is-12"},re={class:"columns mb-0 p-0"},ue=u("label",null,"Profile Image:",-1),ce=["src"],de={key:1},pe={class:"column is-12"},me={class:"field"},ve=u("label",{style:{}},"First Name:*",-1),ye={class:"control"},fe={class:"column is-12"},ge={class:"field"},be=u("label",null,"Last Name:",-1),he={class:"control"},_e={class:"column is-12"},xe={class:"field"},ke=u("label",null,"Email:*",-1),we={class:"control"},Ce={key:0,class:"column is-12"},Ne={class:"field"},Ae=u("label",null,"Password:*",-1),Pe={class:"control"},Ve={class:"column is-12"},Ue={class:"field"},Se=u("label",null,"Phone:",-1),Ie={class:"control"},je=a({__name:"EditUserProfileModal",props:{ChangePasswordModalOpen:{type:Boolean,default:!1},id:{type:Number,default:0},getUserProfile:Function,partnerId:Number},emits:["update:getUserProfileData","update:handleChangeProlileModalOpen"],setup(e,{emit:a}){const k=e,w=q(),C=L(),N=s(!1),A=s(!1);t();const P=s(""),V=s(!1),U=s("update"),S=s({id:0,first_name:"",last_name:"",email:"",role:"partner",phoneNo:"",profileImage:null,password:"",partner:0}),I=async()=>{S.value.partner=k.partnerId,N.value=!0;const e=B(S.value,["profileLogo"]);try{if(k.id){await C.patch(`/v3/api/account/user/${S.value.id}/`,e);j()}else{if(S.value.password.length<8)return w.error("Password must be at least 8 characters."),N.value=!1;await C.post("/v3/api/account/user/",e);N.value=!1,w.dismissAll(),w.success("Profile created"),D()}k.getUserProfile()}catch(l){N.value=!1,w.dismissAll(),w.error("User already exist with this email!")}},j=()=>{N.value=!1,w.dismissAll(),w.success("Profile updated successfully"),D()},D=()=>{a("update:handleChangeProlileModalOpen",!1)},R=e=>{const l=function(e){const l=e.split(","),a=l[0].indexOf("base64")>=0?atob(l[1]):decodeURI(l[1]),s=l[0].split(":")[1].split(";")[0],t=new Uint8Array(a.length);for(let i=0;i<a.length;i++)t[i]=a.charCodeAt(i);return new Blob([t],{type:s})}(e);S.value.profileImage=l,P.value=e,console.log("Image URl:",e)};const T=()=>{V.value=!V.value};return i((()=>{k.id&&(async()=>{N.value=!0;try{const{data:e}=await C.get(`/v3/api/account/user/member/${k.id}/`);S.value=e,P.value=e.profileImage,console.log("User Profile Data:",S.value),N.value=!1}catch(e){console.log(e),w.error("Something went wrong!"),N.value=!1}})()})),(e,a)=>{const s=E,t=z,i=M,w=O,C=x,j=l;return o(),n(j,{is:"form",open:k.ChangePasswordModalOpen,title:k.id?"Edit Profile":"Create Profile",size:"medium",actions:"right",onSubmit:y(I,["prevent"]),onClose:D,noclose:""},{content:r((()=>[u("div",oe,[u("div",ne,[u("div",re,[c(w,{class:"column is-6"},{default:r((()=>[ue,c(i,{class:"is-flex is-justify-content-center mt-5"},{default:r((()=>[c(t,{size:"xl",class:"profile-v-avatar mt-4"},{avatar:r((()=>[d(A)?m("",!0):(o(),p("img",{key:0,class:"avatar",src:d(P)?d(P):"/images/avatars/placeholder.jpg",alt:""},null,8,ce)),"update"==d(U)?(o(),p("span",de,[d(A)?(o(),n(s,{key:1,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:arrow-left",class:"edit-button is-back",circle:"",tabindex:"0",onKeydown:a[1]||(a[1]=v(y((e=>A.value=!1),["prevent"]),["space"])),onClick:a[2]||(a[2]=e=>A.value=!1)})):(o(),n(s,{key:0,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:edit-2",class:"edit-button is-edit",circle:"",tabindex:"0",onKeydown:a[0]||(a[0]=v(y((e=>A.value=!0),["prevent"]),["space"])),onClick:T}))])):m("",!0)])),_:1})])),_:1}),c(d(F),{field:"img",onCropSuccess:R,modelValue:d(V),"onUpdate:modelValue":a[3]||(a[3]=e=>f(V)?V.value=e:null),noRotate:!1,noSquare:!1,langType:"en","img-format":"png/jpg"},null,8,["modelValue"])])),_:1})])]),u("div",pe,[u("div",me,[ve,u("div",ye,[g(u("input",{type:"text",name:"firstname","onUpdate:modelValue":a[4]||(a[4]=e=>d(S).first_name=e),required:"",class:"input",placeholder:"First name"},null,512),[[b,d(S).first_name]])])])]),u("div",fe,[u("div",ge,[be,u("div",he,[g(u("input",{type:"text",name:"lastname","onUpdate:modelValue":a[5]||(a[5]=e=>d(S).last_name=e),class:"input",placeholder:"Last name"},null,512),[[b,d(S).last_name]])])])]),u("div",_e,[u("div",xe,[ke,u("div",we,[g(u("input",{type:"email",name:"email","onUpdate:modelValue":a[6]||(a[6]=e=>d(S).email=e),required:"",class:"input",placeholder:"Email"},null,512),[[b,d(S).email]])])])]),k.id?m("",!0):(o(),p("div",Ce,[u("div",Ne,[Ae,u("div",Pe,[g(u("input",{type:"password",name:"password","onUpdate:modelValue":a[7]||(a[7]=e=>d(S).password=e),required:"",minlength:"8",maxlength:"10",class:"input",placeholder:"Password"},null,512),[[b,d(S).password]])])])])),u("div",Ve,[u("div",Ue,[Se,u("div",Ie,[g(u("input",{type:"tel",name:"phone","onUpdate:modelValue":a[8]||(a[8]=e=>d(S).phoneNo=e),class:"input",placeholder:"Phone"},null,512),[[b,d(S).phoneNo]])])])])])])),action:r((()=>[c(C,{type:"submit",loading:d(N),color:"primary",raised:""},{default:r((()=>[h(_(k.id?"Update Profile":"Create Profile"),1)])),_:1},8,["loading"])])),_:1},8,["open","title","onSubmit"])}}}),De=e=>(V("data-v-b5534807"),e=e(),U(),e),Re={class:"cus-sidebar"},Oe=De((()=>u("li",null,null,-1))),Me={class:"form-content"},ze={class:"modal-form columns is-multiline"},Ee=De((()=>u("div",{class:"column is-12 mb-6"},[u("h2",{class:"section-heading"},[u("i",{style:{"margin-right":"10px"},class:"fas fa-building","aria-hidden":"true"}),h(" Partner Infomation ")])],-1))),Le=["onSubmit"],Te={class:"column is-12"},Be={class:""},Ke={class:"columns mb-4 p-0"},qe={class:"column is-8"},Fe={class:"field columns mb-4 p-0"},$e=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"}," Company Name ",-1))),We={class:"column is-8 pb-4"},He={class:"columns mb-4 p-0"},Ge=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"},"Email",-1))),Je={class:"column is-8 pb-4"},Ye={class:"columns mb-4 p-0"},Qe=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"}," Company Registration ",-1))),Xe={class:"column is-8 pb-4"},Ze=["src"],el={key:1},ll=De((()=>u("label",{style:{display:"flex","justify-content":"center"}},"Company logo",-1))),al={key:0,class:"columns mb-4 p-0"},sl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"Link Expiry",-1))),tl={class:"column is-4 pb-4"},il={style:{"font-size":"12px","margin-top":"12px"},class:"cus-set-optional"},ol={class:"column is-4 pb-2"},nl={style:{"font-size":"12px","margin-top":"2px"},class:"cus-set-optional column"},rl={class:""},ul={class:"columns mb-0 p-0"},cl={class:"column is-8"},dl={class:"columns mb-4 p-0"},pl=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"}," Country ",-1))),ml={class:"columns mb-4 p-0"},vl=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"}," Industry ",-1))),yl={class:"columns mb-8 p-0"},fl=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"}," Number of employees ",-1))),gl=De((()=>u("div",{class:"column is-4 pb-2"},[u("div",{class:"revenue-stat"},[u("div",{id:"partnerMap",style:{height:"180px",width:"300px","border-radius":"10px"}})])],-1))),bl={class:"columns mb-4 p-0"},hl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"Post Code",-1))),_l={class:"column is-8 pb-4"},xl={class:"columns mb-4 p-0"},kl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"Address",-1))),wl={class:"column is-7 pb-4"},Cl={class:"columns mb-4 p-0",style:{position:"relative"}},Nl={class:"column is-4 pb-4"},Al={key:0,style:{position:"absolute",bottom:"80px","background-color":"white",width:"350px"}},Pl={class:"colorContainer"},Vl=["onClick"],Ul={key:0,class:"fas fa-check","aria-hidden":"true"},Sl={class:"column is-4 pb-4"},Il={class:"content-box"},jl={class:"content-box"},Dl=De((()=>u("div",{class:"column is-12 mb-6"},[u("h2",{class:"section-heading"},[u("i",{style:{"margin-right":"10px"},class:"lnir lnir-graph-increase","aria-hidden":"true"}),h(" Bank / Tax Details ")])],-1))),Rl=["onSubmit"],Ol={class:"modal-form columns is-multiline",style:{overflow:"hidden"}},Ml={class:"column is-12"},zl={class:"columns mb-2 p-0"},El=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"}," VAT Registered ",-1))),Ll={class:"column is-6 pb-4"},Tl={key:0,class:"columns mb-2 p-0"},Bl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"VAT Number",-1))),Kl={class:"column is-4 pb-4"},ql={class:"columns mb-2 p-0"},Fl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"}," Unique Tax Reference ",-1))),$l={class:"column is-5 pb-4"},Wl={class:"columns mb-2 p-0"},Hl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"Country",-1))),Gl={class:"columns mb-2 p-0"},Jl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"Bank Name",-1))),Yl={class:"column is-5 pb-4"},Ql={class:"columns mb-2 p-0"},Xl=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"Account Name",-1))),Zl={class:"column is-5 pb-4"},ea={class:"columns mb-2 p-0"},la=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"},"Sort Code",-1))),aa={class:"column is-5 pb-4"},sa={class:"columns mb-2 p-0"},ta=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"}," Account Number ",-1))),ia={class:"column is-5 pb-4"},oa={class:"columns mb-2 p-0"},na=De((()=>u("div",{class:"column is-4 pb-4 cus-input-label"}," Account Reference ",-1))),ra={class:"column is-5 pb-4"},ua={class:"column is-6 pb-4"},ca={class:"content-box"},da={class:"modal-form columns is-multiline"},pa=De((()=>u("div",{class:"column is-12 mb-6"},[u("h2",{class:"section-heading"},[u("i",{style:{"margin-right":"10px"},class:"lnir lnir-phone","aria-hidden":"true"}),h(" Contact Details ")])],-1))),ma=["onSubmit"],va={class:"column is-12"},ya={class:"columns mb-4 p-0"},fa=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"},"Website",-1))),ga={class:"column is-8 pb-4"},ba={class:"columns mb-4 p-0"},ha=De((()=>u("div",{class:"column is-6 pb-4 cus-input-label"},"Phone Number",-1))),_a={class:"column is-8 pb-4"},xa={class:"column is-4 pb-4"},ka={class:"modal-form"},wa=["src"],Ca=["src"],Na=S(a({__name:"CusLargModal",props:{OpenCusLargModal:{type:Boolean},id:{}},emits:["update:cusModalHandler","update:OnSuccess"],setup(e,{emit:a}){const t=e,V=ae(),U=L(),S=q(),I=le(),j=s(1),D=s(!1),R=s(""),se=s(""),te=s(!1),ie=s(!1),oe=s(!1),ne=s(!1),re=s(!1),ue=s("update"),ce=s(!1),de=s(""),pe=s(""),me=s("#fff"),ve=s(""),ye=s(""),fe=s(!1),ge=s(0),be=s(""),he=s(!1),_e=s({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),xe=s({id:0,hexCode:""}),ke=()=>{a("update:cusModalHandler",!1),a("update:OnSuccess",null)},we=e=>{j.value=e},Ce=I.loggedCompany.industry?I.loggedCompany.industry:[],Ne=s({id:0,latitude:"",longitude:"",supplierName:"",country:"United Kingdom",partnerLogo:null,noOfEmployees:"",supplierPhoneNumber:"",address:"",registrationNumber:"",postCode:"",color:"#D875C7",registeredName:"",supplierEmailAddress:"",approved_till:"",vatNumber:"",taxReference:"",bankCountry:"",bankName:"",accountName:"",sortCode:"",accountNumber:"",accountReference:"",website:"https://",contactEmail:"",contactPhoneNumber:"",postalAddress:"",status:!1,businessArea:"",contactPerson:"",tradingName:"",relationShip:"",industry:"",expiredIn:7,company:0,profileStats:{percentage:0}}),Ae=async()=>{try{const e=B(Ne.value,["partnerLogo"]);let l={};if(e.append("company",I.loggedCompany.id),Ne.value.id?(l=await U.patch(`/v3/api/supplier/${Ne.value.id}/`,e),S.success("Data Added Succesfully."),I.loadSuppliers(I.loggedCompany.id)):(l=await U.post("/v3/api/supplier/",e),Ne.value.id=l.data.id,S.success("New Partner Added Succesfully."),I.loadSuppliers(I.loggedCompany.id)),te.value){const e=window.location.origin;R.value=e+"/partner-signup?token="+l.data.token,se.value=l.data.password}else 4==j.value?ke():j.value+=1;5==j.value&&ke()}catch(e){S.error(e)}},Pe=window.location.origin+"/partner-signup?token=",Ve=()=>{te.value=!0,Ne.value.supplierName&&Ne.value.contactEmail?Ae():S.error("Please enter the name and email first")},Ue=e=>{navigator.clipboard.writeText(e),S.success("Link Copied")},Se=()=>{ie.value=!ie.value},Ie=(e,l)=>{let a=new google.maps.Map(document.getElementById("partnerMap"),{center:{lat:e,lng:l},scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:7});new google.maps.Marker({position:{lat:e,lng:l},map:a,title:"Supplier Location"}),console.log(Ne.value.latitude)},je=async()=>{const e=await U.get(`/v3/api/supplier/${t.id}/detail/`);se.value=e.data.password,Ne.value=e.data,ge.value=e.data.profileStats.percentage,be.value=e.data.partnerLogo,Ie(e.data.latitude,e.data.longitude)},De=async()=>{try{const e=await T.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${Ne.value.postCode}&key=AIzaSyDWHedwkLGGa4_3XgPqYxIzMkFpOdKJRik`);if("OK"===e.data.status){Ne.value.address=e.data.results[0].formatted_address;const l=e.data.results[0].geometry.location.lat;Ne.value.latitude=l;const a=e.data.results[0].geometry.location.lng;Ne.value.longitude=a,Ie(l,a),S.success("Address Added")}else"ZERO_RESULTS"===e.data.status&&S.error("Invalid Post-Code")}catch(e){S.error("Invalid Post-Code"),console.error(e)}},Na=()=>{ne.value=!1};i((async()=>{t.id&&await je()}));const Aa=e=>{const l=function(e){const l=e.split(","),a=l[0].indexOf("base64")>=0?atob(l[1]):decodeURI(l[1]),s=l[0].split(":")[1].split(";")[0],t=new Uint8Array(a.length);for(let i=0;i<a.length;i++)t[i]=a.charCodeAt(i);return new Blob([t],{type:s})}(e);Ne.value.partnerLogo=l,be.value=e,console.log("Image URl:",e)};return(e,a)=>{const s=ee,i=O,U=E,S=z,I=M,L=X,T=Z,B=Q,q=Y,le=x,ae=J,te=k("SupplierDocuments"),ne=G,Ie=H,Pa=W,Va=l,Ua=$;return o(),p(N,null,[t.OpenCusLargModal?(o(),p("div",{key:0,class:"parent-div",onClose:ke},[u("i",{class:"lnir lnir-close close-icon","aria-hidden":"true",onClick:ke,color:"primary",elevated:""}),u("div",Re,[u("ul",null,[u("li",null,[u("div",{onClick:a[0]||(a[0]=e=>we(1)),class:w([{active:1===d(j)},"cus-single-link cu-pointer"])},[u("span",{class:w(["cus-icon",{active:1===d(j)}])}," 1 ",2),h(" Partner Infomation ")],2)]),u("li",null,[u("div",{onClick:a[1]||(a[1]=e=>we(2)),class:w([{active:2===d(j)},"cus-single-link cu-pointer"])},[u("span",{class:w(["cus-icon",{active:2===d(j)}])}," 2 ",2),h(" Partner Documents ")],2)]),u("li",null,[u("div",{onClick:a[2]||(a[2]=e=>we(3)),class:w([{active:3===d(j)},"cus-single-link cu-pointer"])},[u("span",{class:w(["cus-icon",{active:3===d(j)}])}," 3 ",2),h(" Bank / Tax Details ")],2)]),u("li",null,[u("div",{onClick:a[3]||(a[3]=e=>we(4)),class:w([{active:4===d(j)},"cus-single-link cu-pointer"])},[u("span",{class:w(["cus-icon",{active:4===d(j)}])}," 4 ",2),h(" Contact Details ")],2)]),Oe]),u("div",null,[c(s,{Statvalue:d(ge),color:d(me)},null,8,["Statvalue","color"])])]),u("div",Me,[g(u("div",{class:"content-box",onClick:Na},[u("div",ze,[Ee,u("form",{onSubmit:y(Ae,["prevent"])},[u("div",Te,[u("div",Be,[u("div",Ke,[u("div",qe,[u("div",Fe,[$e,u("div",We,[c(i,null,{default:r((()=>[g(u("input",{type:"text",required:"",name:"supplierName","onUpdate:modelValue":a[4]||(a[4]=e=>d(Ne).supplierName=e),class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Company Name"},null,512),[[b,d(Ne).supplierName]])])),_:1})])]),u("div",He,[Ge,u("div",Je,[c(i,null,{default:r((()=>[g(u("input",{required:"","onUpdate:modelValue":a[5]||(a[5]=e=>d(Ne).contactEmail=e),type:"email",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Email\n"},null,512),[[b,d(Ne).contactEmail]])])),_:1})])]),u("div",Ye,[Qe,u("div",Xe,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>d(Ne).registrationNumber=e),name:"registrationNumber",type:"text",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Registration Number"},null,512),[[b,d(Ne).registrationNumber]])])),_:1})])])]),c(i,{class:"column is-8"},{default:r((()=>[c(I,{class:"is-flex is-justify-content-center mt-0"},{default:r((()=>[c(S,{size:"xl",class:"profile-v-avatar mt-0"},{avatar:r((()=>[d(re)?m("",!0):(o(),p("img",{key:0,class:"avatar",src:d(be)?d(be):"/images/logoplaceholder.png"},null,8,Ze)),"update"==d(ue)?(o(),p("span",el,[d(re)?(o(),n(U,{key:1,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:arrow-left",class:"edit-button is-back",circle:"",tabindex:"0",onKeydown:a[9]||(a[9]=v(y((e=>re.value=!1),["prevent"]),["space"])),onClick:a[10]||(a[10]=e=>re.value=!1)})):(o(),n(U,{key:0,style:{position:"absolute",top:"60%",right:"-3%"},icon:"feather:edit-2",class:"edit-button is-edit",circle:"",tabindex:"0",onKeydown:a[7]||(a[7]=v(y((e=>re.value=!0),["prevent"]),["space"])),onClick:a[8]||(a[8]=()=>{he.value=!d(he)})}))])):m("",!0)])),_:1})])),_:1}),ll])),_:1})]),c(d(F),{field:"img",onCropSuccess:Aa,modelValue:d(he),"onUpdate:modelValue":a[11]||(a[11]=e=>f(he)?he.value=e:null),noRotate:!1,noSquare:!1,langType:"en","img-format":"png/jpg"},null,8,["modelValue"])]),"partner"!=d(V).user.role?(o(),p("div",al,[sl,u("div",tl,[c(i,null,{default:r((()=>[c(I,null,{default:r((()=>[c(T,{modelValue:d(Ne).expiredIn,"onUpdate:modelValue":a[12]||(a[12]=e=>d(Ne).expiredIn=e),class:"is-rounded"},{default:r((()=>[c(L,{selected:"",disabled:"",value:""},{default:r((()=>[h("Link expired in")])),_:1}),c(L,{value:"1"},{default:r((()=>[h("1 Day")])),_:1}),c(L,{value:"3"},{default:r((()=>[h("3 Days")])),_:1}),c(L,{value:"7"},{default:r((()=>[h("7 Days")])),_:1}),c(L,{value:"14"},{default:r((()=>[h("14 Days")])),_:1})])),_:1},8,["modelValue"])])),_:1}),u("p",il,[h(" URL:"+_(d(R)?d(R).slice(0,30):d(Ne).token?(Pe+d(Ne).token).slice(0,30):"-------------------------------------------------------"),1),d(Ne).token||d(R)?(o(),p("i",{key:0,onClick:a[13]||(a[13]=e=>Ue(d(R)||Pe+d(Ne).token)),class:"fas fa-copy",style:{"font-size":"10px",color:"var(--primary)","margin-left":"10px",cursor:"pointer"},"aria-hidden":"true"})):m("",!0)])])),_:1})]),u("div",ol,[d(Ne).token?m("",!0):(o(),n(B,{key:0,type:"info",rounded:"",onClick:Ve,style:{padding:"6px 10px !important",height:"max-content",cursor:"pointer"}},{default:r((()=>[h(" Create customer URL ")])),_:1})),u("p",nl,[h(" Password:"+_(d(se)?d(se):"******"),1),d(Ne).token||d(se)?(o(),p("i",{key:0,onClick:a[14]||(a[14]=e=>Ue(d(se))),class:"fas fa-copy",style:{"font-size":"10px",color:"var(--primary)","margin-left":"6px",cursor:"pointer"},"aria-hidden":"true"})):m("",!0)])])])):m("",!0),u("div",rl,[u("div",ul,[u("div",cl,[u("div",dl,[pl,c(i,{class:"column is-6 pb-4"},{default:r((()=>[c(I,null,{default:r((()=>[c(T,{modelValue:d(Ne).country,"onUpdate:modelValue":a[15]||(a[15]=e=>d(Ne).country=e),class:"is-rounded"},{default:r((()=>[c(L,{selected:"",disabled:"",value:""},{default:r((()=>[h("Select country")])),_:1}),c(L,{value:"United Kingdom"},{default:r((()=>[h("United Kingdom")])),_:1}),c(L,{value:"United States"},{default:r((()=>[h("United States")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})]),u("div",ml,[vl,c(i,{required:"",class:"column is-6 pb-4"},{default:r((()=>[c(I,null,{default:r((()=>[c(T,{required:"",modelValue:d(Ne).industry,"onUpdate:modelValue":a[16]||(a[16]=e=>d(Ne).industry=e),class:"is-rounded"},{default:r((()=>[c(L,{selected:"",disabled:"",value:""},{default:r((()=>[h("Select industry")])),_:1}),(o(!0),p(N,null,A(d(Ce),((e,l)=>(o(),n(L,{key:l,value:e.id},{default:r((()=>[h(_(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})]),u("div",yl,[fl,c(i,{class:"column is-6 pb-4"},{default:r((()=>[c(I,null,{default:r((()=>[c(T,{modelValue:d(Ne).noOfEmployees,"onUpdate:modelValue":a[17]||(a[17]=e=>d(Ne).noOfEmployees=e),class:"is-rounded"},{default:r((()=>[c(L,{selected:"",disabled:"",value:""},{default:r((()=>[h("No of employees")])),_:1}),c(L,{value:"50"},{default:r((()=>[h("0 - 50")])),_:1}),c(L,{value:"100"},{default:r((()=>[h("50 - 100")])),_:1}),c(L,{value:"200"},{default:r((()=>[h("100 - 200")])),_:1}),c(L,{value:"300"},{default:r((()=>[h("200 - 300")])),_:1}),c(L,{value:"500"},{default:r((()=>[h("300 - 500")])),_:1}),c(L,{value:"1000"},{default:r((()=>[h("500 - 1000")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])]),gl])]),u("div",bl,[hl,u("div",_l,[c(i,{addons:""},{default:r((()=>[c(I,{icon:"lnir lnir-search-alt"},{default:r((()=>[c(q,{type:"text",name:"postCode",autocomplete:"off",loading:d(oe),modelValue:d(Ne).postCode,"onUpdate:modelValue":a[18]||(a[18]=e=>d(Ne).postCode=e),class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Post code"},null,8,["loading","modelValue"])])),_:1}),c(I,null,{default:r((()=>[c(le,{onClick:De,color:"primary",rounded:""},{default:r((()=>[h(" Search ")])),_:1})])),_:1})])),_:1})])]),u("div",xl,[kl,u("div",wl,[c(i,null,{default:r((()=>[c(I,null,{default:r((()=>[c(ae,{modelValue:d(Ne).address,"onUpdate:modelValue":a[19]||(a[19]=e=>d(Ne).address=e),type:"text",name:"address",class:"is-primary-focus",rows:"2",placeholder:"Full Address"},null,8,["modelValue"])])),_:1})])),_:1})])]),u("div",Cl,[u("div",{class:"column is-4 pb-4 cus-input-label"},[h(" Color "),u("i",{style:{color:"var(--primary)","margin-left":"10px"},onClick:Se,class:"fas fa-paint-brush","aria-hidden":"true"})]),u("div",Nl,[u("div",null,[u("div",{onClick:Se,class:"color-pellate"},[u("div",{class:"current-color-div",style:P({backgroundColor:d(Ne).color})},null,4)])])]),d(ie)?(o(),p("div",Al,[u("div",Pl,[u("div",{class:"close-btn"},[u("i",{onClick:Se,class:"lnir lnir-close","aria-hidden":"true"})]),(o(!0),p(N,null,A(d(K),((e,l)=>(o(),p("div",{key:e.id,onClick:l=>(e=>{xe.value=e,ie.value=!1,Ne.value={...Ne.value,color:e.hexCode}})(e),style:P({backgroundColor:e.hexCode}),class:"colorDiv"},[d(xe)==e?(o(),p("i",Ul)):m("",!0)],12,Vl)))),128))])])):m("",!0),u("div",Sl,[c(le,{type:"submit",class:"next-tag",rounded:""},{default:r((()=>[h(" Save & Continue ")])),_:1})])])])],40,Le)])],512),[[C,1===d(j)]]),g(u("div",Il,[2==d(j)?(o(),n(te,{key:0,"onUpdate:OnSuccess":je,id:d(Ne).id},null,8,["id"])):m("",!0),d(Ne).id?(o(),n(ne,{key:1,type:"partner",memberId:d(Ne).id},null,8,["memberId"])):m("",!0),c(le,{onClick:a[20]||(a[20]=()=>{Ae()}),style:{float:"right"},rounded:"",class:"next-tag"},{default:r((()=>[h(" Continue ")])),_:1})],512),[[C,2==d(j)]]),g(u("div",jl,[Dl,u("form",{onSubmit:y(Ae,["prevent"]),style:{overflow:"hidden"}},[u("div",Ol,[u("div",Ml,[u("div",zl,[El,u("div",Ll,[c(i,null,{default:r((()=>[c(I,null,{default:r((()=>[c(Ie,{onClick:a[21]||(a[21]=e=>d(Ne).vatNumber=""),modelValue:d(D),"onUpdate:modelValue":a[22]||(a[22]=e=>f(D)?D.value=e:null),label:"Yes"},null,8,["modelValue"])])),_:1})])),_:1})])]),d(D)?(o(),p("div",Tl,[Bl,u("div",Kl,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[23]||(a[23]=e=>d(Ne).vatNumber=e),type:"text",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"VAT number"},null,512),[[b,d(Ne).vatNumber]])])),_:1})])])):m("",!0),u("div",ql,[Fl,u("div",$l,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[24]||(a[24]=e=>d(Ne).taxReference=e),type:"text",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Tax Reference"},null,512),[[b,d(Ne).taxReference]])])),_:1})])]),u("div",Wl,[Hl,c(i,{class:"column is-5 pb-4"},{default:r((()=>[c(I,null,{default:r((()=>[c(T,{modelValue:d(Ne).bankCountry,"onUpdate:modelValue":a[25]||(a[25]=e=>d(Ne).bankCountry=e),class:"is-rounded"},{default:r((()=>[c(L,{selected:"",disabled:"",value:""},{default:r((()=>[h("Select country")])),_:1}),c(L,{value:"United Kingdom"},{default:r((()=>[h("United Kingdom")])),_:1}),c(L,{value:"United States"},{default:r((()=>[h("United States")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})]),u("div",Gl,[Jl,u("div",Yl,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[26]||(a[26]=e=>d(Ne).bankName=e),type:"text",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Bank Name"},null,512),[[b,d(Ne).bankName]])])),_:1})])]),u("div",Ql,[Xl,u("div",Zl,[c(i,null,{default:r((()=>[g(u("input",{type:"text","onUpdate:modelValue":a[27]||(a[27]=e=>d(Ne).accountName=e),class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Account name\n"},null,512),[[b,d(Ne).accountName]])])),_:1})])]),u("div",ea,[la,u("div",aa,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[28]||(a[28]=e=>d(Ne).sortCode=e),type:"text",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Sort code"},null,512),[[b,d(Ne).sortCode]])])),_:1})])]),u("div",sa,[ta,u("div",ia,[c(i,null,{default:r((()=>[g(u("input",{type:"text","onUpdate:modelValue":a[29]||(a[29]=e=>d(Ne).accountNumber=e),class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Account number"},null,512),[[b,d(Ne).accountNumber]])])),_:1})])]),u("div",oa,[na,u("div",ra,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[30]||(a[30]=e=>d(Ne).accountReference=e),type:"text",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Account reference"},null,512),[[b,d(Ne).accountReference]])])),_:1})]),u("div",ua,[c(le,{rounded:"",class:"next-tag",onClick:a[31]||(a[31]=()=>{Ae()})},{default:r((()=>[h(" Save & Continue ")])),_:1})])])])])],40,Rl)],512),[[C,3===d(j)]]),g(u("div",ca,[u("div",da,[pa,u("form",{onSubmit:y(Ae,["prevent"])},[u("div",va,[u("div",ya,[fa,u("div",ga,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[32]||(a[32]=e=>d(Ne).website=e),type:"url",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Website"},null,512),[[b,d(Ne).website]])])),_:1})])]),u("div",ba,[ha,u("div",_a,[c(i,null,{default:r((()=>[g(u("input",{"onUpdate:modelValue":a[33]||(a[33]=e=>d(Ne).contactPhoneNumber=e),type:"phone",class:"mb-2 input is-primary-focus is-primary-focus",placeholder:"Phone number"},null,512),[[b,d(Ne).contactPhoneNumber]])])),_:1})]),u("div",xa,[c(le,{type:"submit",class:"next-tag",rounded:""},{default:r((()=>[h(" Save & Close ")])),_:1})])])])],40,ma)])],512),[[C,4===d(j)]])])],32)):m("",!0),c(Va,{is:"form",open:d(ce),title:d(pe),size:"big",actions:"right",onClose:a[36]||(a[36]=e=>ce.value=!1)},{content:r((()=>[d(fe)?(o(),n(i,{key:0},{default:r((()=>[c(Pa,null,{default:r((()=>[h("Document expiry date :")])),_:1}),c(I,null,{default:r((()=>[c(q,{modelValue:d(ve),"onUpdate:modelValue":a[34]||(a[34]=e=>f(ve)?ve.value=e:null),onChange:a[35]||(a[35]=l=>e.UpdateWorkerDocData(d(ye),{expiryDate:d(ve),docTitle:d(pe)})),type:"Date",placeholder:"Document expiry date"},null,8,["modelValue"])])),_:1})])),_:1})):m("",!0),u("div",ka,[d(de).includes(".pdf")?(o(),p("iframe",{key:0,src:d(de),style:{width:"100%",height:"800px",border:"none"}},"\n          Oops! an error has occurred.\n        ",8,wa)):(o(),p("img",{key:1,src:d(de),alt:""},null,8,Ca))])])),cancel:r((()=>[c(le,{type:"submit",style:{display:"none"},color:"primary",raised:""},{default:r((()=>[h("Close")])),_:1})])),_:1},8,["open","title"]),d(_e).isSweetAlertOpen?(o(),n(Ua,{key:1,isSweetAlertOpen:d(_e).isSweetAlertOpen,title:d(_e).title,subtitle:d(_e).subtitle,btntext:d(_e).btntext,onConfirm:e.DeleteDocumentHandler,onCancel:()=>d(_e).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onConfirm","onCancel"])):m("",!0)],64)}}}),[["__scopeId","data-v-b5534807"]]),Aa={class:"left-profile-wrapper"},Pa={key:0,class:"left-profile-image"},Va=["src"],Ua={key:2,class:"left-profile-content"},Sa={key:0,class:"",style:{"margin-right":"40px"}},Ia={key:0,class:"is-flex",style:{"font-size":"15px","font-weight":"bold",display:"flex","align-items":"center",gap:"0.5rem"}},ja=[u("i",{class:"fas fa-check-circle","aria-hidden":"true",style:{color:"#70c03c","font-size":"1.5rem"}},null,-1),u("h4",{style:{"padding-left":"1px","font-size":"1.3rem","font-weight":"500",color:"#70c03c"}}," Approved ",-1)],Da={key:1,class:"is-flex",style:{"font-size":"15px","font-weight":"bold",display:"flex","align-items":"center",gap:"0.5rem"}},Ra=[u("i",{style:{"font-size":"1.5rem",color:"var(--danger)"},class:"iconify","data-icon":"feather:shield-off","aria-hidden":"true"},null,-1),u("h4",{style:{color:"var(--danger)","font-weight":"500"}},"Unapproved",-1)],Oa={key:1,class:"left-profileContent",style:{display:"flex","flex-direction":"column",gap:"0.1rem","margin-top":"0.3srem"}},Ma={class:"Brooks-Brothers",style:{"font-family":"sans-serif"}},za={style:{}},Ea={style:{}},La={key:0,class:"column is-12 is-flex"},Ta={class:"is-flex"},Ba={style:{display:"flex","align-items":"flex-end"}},Ka={style:{display:"flex","align-items":"center","flex-direction":"column","margin-left":"26px"}},qa={style:{display:"flex","align-items":"center","flex-direction":"column",gap:"1.3rem"}},Fa={class:"",style:{display:"flex","align-items":"center"}},$a={class:"is-flex flex-columns justify-center",style:{width:"100%"}},Wa=["src"],Ha={style:{"font-size":"14px","font-weight":"500"},class:"weighted"},Ga=u("i",{class:"fas fa-pen","aria-hidden":"true",style:{opacity:"1",color:"#179e9b","margin-right":"0.5rem"}},null,-1),Ja={class:"tabs-wrapper"},Ya={class:"tabs-inner"},Qa={class:"tabs is-toggle"},Xa=[u("span",null,"Partner Info",-1)],Za=[u("span",null,"Compliance Requirements",-1)],es=[u("span",null,"Bank / Tax Details",-1)],ls=[u("span",null,"Contact Details",-1)],as=[u("span",null,"Workers",-1)],ss=[u("span",null,"User",-1)],ts={class:"",style:{"margin-top":"3.5rem"}},is={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},os={class:"partnerInfo1",style:{}},ns={class:"",style:{width:"12rem"}},rs=u("h4",{class:"title is-6 mb-2 mt-4",style:{color:"var(--light-text)"}}," Business Name ",-1),us={class:"title is-6"},cs={key:0,class:"",style:{}},ds=u("h4",{class:"title is-6 mb-2",style:{color:"var(--light-text)"}}," Accreditation ",-1),ps={key:0,class:"is-flex",style:{"font-size":"15px","font-weight":"bold","align-items":"flex-start"}},ms=[u("h4",{class:"title is-6"},"Approved",-1)],vs={key:1,class:"is-flex",style:{"font-size":"15px","font-weight":"bold","align-items":"center"}},ys=[u("h4",{class:"title is-6"},"Unapproved",-1)],fs={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},gs={class:"",style:{width:"12rem"}},bs=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Registration Number ",-1),hs={class:"title is-6"},_s={class:"",style:{}},xs=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Approved Till ",-1),ks={class:"title is-6"},ws={class:"",style:{width:"100%"}},Cs=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Country ",-1),Ns={class:"title is-6"},As={class:"",style:{width:"100%"}},Ps=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," No of Employees ",-1),Vs={class:"title is-6"},Us={class:"",style:{width:"100%"}},Ss=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Website ",-1),Is={class:"title is-6"},js={class:"",style:{width:"100%"}},Ds=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Assigned Color ",-1),Rs={class:"",style:{"margin-top":"3.5rem"}},Os={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},Ms={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},zs={class:"",style:{width:"12rem"}},Es=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Account Reference ",-1),Ls={class:"title is-6"},Ts={class:"",style:{}},Bs=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Accreditation ",-1),Ks={key:0,class:"is-flex",style:{"font-size":"15px","font-weight":"bold","align-items":"flex-start"}},qs=[u("h4",{class:"title is-6"},"Registered",-1)],Fs={key:1,class:"is-flex",style:{"font-size":"15px","font-weight":"bold","align-items":"center"}},$s=[u("h4",{class:"title is-6"},"Not Registered",-1)],Ws={class:"",style:{display:"flex","align-items":"center",gap:"4rem"}},Hs={class:"",style:{width:"12rem"}},Gs=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Account Number ",-1),Js={class:"title is-6"},Ys={class:"",style:{}},Qs=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Tax Reference ",-1),Xs={class:"title is-6"},Zs={class:"",style:{width:"100%"}},et=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Account Name ",-1),lt={class:"title is-6"},at={class:"",style:{width:"100%"}},st=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Bank Name ",-1),tt={class:"title is-6"},it={class:"",style:{width:"100%"}},ot=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Bank Country ",-1),nt={class:"title is-6"},rt={class:"",style:{width:"100%"}},ut=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Registeration Number ",-1),ct={class:"title is-6"},dt={class:"",style:{width:"100%"}},pt=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Tax Reference ",-1),mt={class:"title is-6"},vt={class:"",style:{"margin-top":"3.5rem"}},yt={class:"",style:{display:"flex","flex-direction":"column",gap:"2.5rem"}},ft={class:"",style:{width:"100%"}},gt=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Phone Number ",-1),bt={class:"title is-6"},ht={class:"",style:{width:"100%"}},_t=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Email ",-1),xt={class:"title is-6"},kt={class:"",style:{width:"100%"}},wt=u("h4",{class:"title is-6 mb-4",style:{color:"var(--light-text)"}}," Postal Address ",-1),Ct={class:"title is-6"},Nt=u("div",{class:"",style:{width:"100%"}},[u("h4",{style:{"font-size":"15px"},class:"title is-6 mb-4 mt-4"}," Supplier location "),u("div",{id:"supplierMap",style:{height:"200px",width:"340px","margin-top":"12px","border-radius":"10px"}})],-1),At={key:0},Pt={key:1},Vt={key:2},Ut={key:0,class:"row",style:{display:"flex","justify-content":"center","margin-top":"120px"}},St=u("span",{style:{"font-size":"1.2rem"}},"Create User",-1),It={key:1,class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},jt={class:"",style:{display:"flex","align-items":"center",gap:"1.5rem"}},Dt=["src"],Rt={class:"",style:{display:"flex","flex-direction":"column",gap:"0"}},Ot={class:"",style:{display:"flex","align-items":"center",gap:"1rem"}},Mt={style:{"font-size":"1.6rem","font-weight":"600"}},zt={class:"",style:{display:"flex","align-items":"center",gap:"1rem"}},Et={style:{"font-size":"1.2rem","font-weight":"500"}},Lt={class:"",style:{display:"flex","align-items":"center",gap:"1rem"}},Tt={style:{"font-size":"1.2rem","font-weight":"500"}},Bt={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem","margin-left":"1rem"}},Kt=[u("i",{class:"iconify","data-icon":"feather:edit","aria-hidden":"true",style:{color:"#2aac8e","font-size":"1.5rem",cursor:"pointer"}},null,-1)],qt=[u("i",{class:"lnil lnil-lock-alt","aria-hidden":"true",style:{color:"#2aac8e","font-size":"1.5rem",cursor:"pointer"}},null,-1)],Ft=a({__name:"SupplierProfile",setup(l){const a=ae(),t=I(),f=L(),b=s("info"),A=q(),V=s(!1),U=s("#8b8df2"),S=s(!1),R=s(!1),z=s(!1),E=s(0),T=s({id:"",supplierName:"",country:"",noOfEmployees:"",supplierPhoneNumber:"",supplierEmailAddress:"",registrationNumber:"",contactPerson:"",postCode:"",VATExist:!1,partnerLogo:null,vatNumber:"",industry:"",registeredName:"",tradingName:"",businessArea:"",industryDetail:{},relationShip:"",taxReference:"",bankCountry:"",bankName:"",accountName:"",sortCode:"",accountNumber:"",accountReference:"",website:"",color:"#49DFDC",address:"",approved_till:"",latitude:"",longitude:"",contactEmail:"",contactPhoneNumber:"",postalAddress:"",status:!1,company:"",created_at:"",profileStats:{percentage:0}}),B=s({}),K=s(!1);s([{name:"Guard & Security"},{name:"Guard & Cleaning"}]),s([{name:"Supplier"},{name:"UnSpecified"}]);const F=async()=>{V.value=!0;const e=await f.get(`/v3/api/supplier/${"partner"==a.user.role?a.user.partner:t.params.id}/detail/`);T.value=e.data,W(e.data.latitude,e.data.longitude),V.value=!1},$=async()=>{try{const{data:e}=await f.get(`/v3/api/account/user/member/${t.params.id}/`);B.value=e,z.value=!1,console.log("User Profile Data:",B.value)}catch(e){console.log(e),z.value=!0}},W=(e,l)=>{let a=new google.maps.Map(document.getElementById("supplierMap"),{center:{lat:e,lng:l},scrollwheel:!1,mapTypeId:google.maps.MapTypeId.Satellite,zoom:7});new google.maps.Marker({position:{lat:e,lng:l},map:a,title:"Supplier Location",icon:{path:"M-1.547 12l6.563-6.609-1.406-1.406-5.156 5.203-2.063-2.109-1.406 1.406zM0 0q2.906 0 4.945 2.039t2.039 4.945q0 1.453-0.727 3.328t-1.758 3.516-2.039 3.070-1.711 2.273l-0.75 0.797q-0.281-0.328-0.75-0.867t-1.688-2.156-2.133-3.141-1.664-3.445-0.75-3.375q0-2.906 2.039-4.945t4.945-2.039z",scale:2.5,strokeWeight:2,fillColor:T.value.color,fillOpacity:1,strokeColor:T.value.color,anchor:new google.maps.Point(0,20)}})};return j((()=>{F()})),i((()=>{F()})),(l,s)=>{const i=te,I=se,j=ee,L=x,q=H,W=M,J=O,Y=k("SupplierDocuments"),Q=G,X=k("WorkersNetwork"),Z=Na,le=je,ae=e,ie=D("tooltip");return o(),p(N,null,[u("div",null,[u("div",{class:"sup-profile rounded mb-4 space-between",style:P([{"background-color":"#fff"},{backgroundImage:`linear-gradient(to right, ${T.value.color}50, ${T.value.color}30, ${T.value.color}10)`}])},[u("div",Aa,[V.value?m("",!0):(o(),p("div",Pa,[u("img",{src:null==T.value.partnerLogo?"/images/logoplaceholder.png":T.value.partnerLogo},null,8,Va)])),V.value?(o(),n(i,{key:1,class:"mx-5",rounded:"xl"})):m("",!0),V.value?m("",!0):(o(),p("div",Ua,["partner"!=d(a).user.role?(o(),p("div",Sa,[T.value.status?(o(),p("div",Ia,ja)):(o(),p("div",Da,Ra))])):m("",!0),V.value?m("",!0):(o(),p("div",Oa,[u("h3",Ma,_(T.value.supplierName),1),u("span",za,_(T.value.contactEmail?T.value.contactEmail:"N/A"),1),u("span",Ea,_(T.value.contactPhoneNumber?T.value.contactPhoneNumber:"N/A"),1)]))]))]),V.value?(o(),p("div",La,[c(I,{lines:3,width:"75%","last-line-width":"25%"})])):m("",!0),u("div",Ta,[u("div",Ba,[u("div",Ka,[c(j,{Statvalue:T.value.profileStats.percentage?T.value.profileStats.percentage:0,color:U.value},null,8,["Statvalue","color"])])]),u("div",qa,[u("div",Fa,[u("div",$a,[u("img",{class:"mb-0",src:T.value.industryDetail?.industryLogo,style:{"border-radius":"12px",width:"50px",height:"50px"}},null,8,Wa),u("h4",Ha,_(T.value.industryDetail?T.value.industryDetail.name:"N/A"),1)])]),c(L,{class:"editbtn",onClick:s[0]||(s[0]=()=>{K.value=!0})},{default:r((()=>[Ga,h("Edit Partner Details")])),_:1})])])],4),u("div",Ja,[u("div",Ya,[u("div",Qa,[u("ul",null,[u("li",{class:w(["info"===b.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[1]||(s[1]=v(y((e=>b.value="info"),["prevent"]),["space"])),onClick:s[2]||(s[2]=e=>b.value="info")},Xa,32)],2),u("li",{class:w(["documents"===b.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[3]||(s[3]=v(y((e=>b.value="documents"),["prevent"]),["space"])),onClick:s[4]||(s[4]=e=>b.value="documents")},Za,32)],2),u("li",{class:w(["details"===b.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[5]||(s[5]=v(y((e=>b.value="details"),["prevent"]),["space"])),onClick:s[6]||(s[6]=e=>b.value="details")},es,32)],2),u("li",{class:w(["contact"===b.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[7]||(s[7]=v(y((e=>b.value="contact"),["prevent"]),["space"])),onClick:s[8]||(s[8]=e=>b.value="contact")},ls,32)],2),"partner"!=d(a).user.role?(o(),p("li",{key:0,class:w(["workers"===b.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[9]||(s[9]=v(y((e=>b.value="workers"),["prevent"]),["space"])),onClick:s[10]||(s[10]=e=>b.value="workers")},as,32)],2)):m("",!0),"user"!=d(a).user.role?(o(),p("li",{key:1,class:w(["user"===b.value?"is-active":"not-active"])},[u("a",{tabindex:"0",role:"button",onKeydown:s[11]||(s[11]=v(y((e=>b.value="user"),["prevent"]),["space"])),onClick:s[12]||(s[12]=()=>{b.value="user",$()})},ss,32)],2)):m("",!0)])])]),g(u("div",ts,[u("div",is,[u("div",os,[u("div",ns,[rs,u("h4",us,_(T.value.supplierName),1)]),"partner"!=d(a).user.role?(o(),p("div",cs,[ds,T.value.status?(o(),p("div",ps,ms)):(o(),p("div",vs,ys))])):m("",!0),"partner"!=d(a).user.role?(o(),n(J,{key:1,horizontal:""},{default:r((()=>[c(W,null,{default:r((()=>[c(q,{onChange:s[13]||(s[13]=e=>(async e=>{try{await f.patch(`/v3/api/supplier/${t.params.id}/`,e),A.success("Partner updated")}catch(l){return l}})({status:T.value.status})),modelValue:T.value.status,"onUpdate:modelValue":s[14]||(s[14]=e=>T.value.status=e),color:"primary"},null,8,["modelValue"])])),_:1})])),_:1})):m("",!0)]),u("div",fs,[u("div",gs,[bs,u("h4",hs,_(T.value.registrationNumber?T.value.registrationNumber:"N/A"),1)]),u("div",_s,[xs,u("h4",ks,_(T.value.approved_till?T.value.approved_till:"N/A"),1)])]),u("div",ws,[Cs,u("h4",Ns,_(T.value.country?T.value.country:"N/A"),1)]),u("div",As,[Ps,u("h4",Vs,_(T.value.noOfEmployees?T.value.noOfEmployees:"N/A"),1)]),u("div",Us,[Ss,u("h4",Is,_(T.value.website?T.value.website:"N/A"),1)]),u("div",js,[Ds,u("div",{style:P([{width:"60px",height:"24px","border-radius":"6px"},{backgroundColor:T.value.color}])},_(T.value.color?" ":"N/A"),5)])])],512),[[C,"info"==b.value]]),g(u("div",Rs,[u("div",Os,[u("div",Ms,[u("div",zs,[Es,u("h4",Ls,_(T.value.accountReference?T.value.accountReference:"N/A"),1)]),u("div",Ts,[Bs,T.value.status?(o(),p("div",Ks,qs)):(o(),p("div",Fs,$s))])]),u("div",Ws,[u("div",Hs,[Gs,u("h4",Js,_(T.value.accountNumber?T.value.accountNumber:"N/A"),1)]),u("div",Ys,[Qs,u("h4",Xs,_(T.value.accountReference?T.value.accountReference:"N/A"),1)])]),u("div",Zs,[et,u("h4",lt,_(T.value.accountName?T.value.accountName:"N/A"),1)]),u("div",at,[st,u("h4",tt,_(T.value.bankName?T.value.bankName:"N/A"),1)]),u("div",it,[ot,u("h4",nt,_(T.value.bankCountry?T.value.bankCountry:"N/A"),1)]),u("div",rt,[ut,u("h4",ct,_(T.value.registrationNumber),1)]),u("div",dt,[pt,u("h4",mt,_(T.value.accountReference?T.value.accountReference:"N/A"),1)])])],512),[[C,"details"==b.value]]),g(u("div",vt,[u("div",yt,[u("div",ft,[gt,u("h4",bt,_(T.value.contactPhoneNumber?T.value.contactPhoneNumber:"N/A"),1)]),u("div",ht,[_t,u("h4",xt,_(T.value.contactEmail?T.value.contactEmail:"N/A"),1)]),u("div",kt,[wt,u("h4",Ct,_(T.value.postalAddress?T.value.postalAddress:"N/A"),1)]),Nt])],512),[[C,"contact"==b.value]]),"documents"==b.value?(o(),p("div",At,[c(Y,{id:"partner"==d(a).user.role?d(a).user.partner:d(t).params.id,FormData:"{FormData}"},null,8,["id"]),c(Q,{type:"partner",memberId:"partner"==d(a).user.role?d(a).user.partner:d(t).params.id},null,8,["memberId"])])):m("",!0),"workers"==b.value?(o(),p("div",Pt,[c(X,{partnerID:d(t).params.id&&d(t).params.id},null,8,["partnerID"])])):m("",!0),"user"==b.value?(o(),p("div",Vt,[1==z.value?(o(),p("div",Ut,[g((o(),n(L,{color:"primary",onClick:s[15]||(s[15]=()=>{R.value=!0}),style:{display:"flex","align-items":"center",gap:"1rem"}},{default:r((()=>[St])),_:1})),[[ie,"Create User",void 0,{primary:!0,top:!0,rounded:!0}]])])):m("",!0),0==z.value?(o(),p("div",It,[u("div",jt,[u("img",{src:B.value.profileImage?B.value.profileImage:"/demo/placeholder.jpg",alt:"logo",style:{width:"7rem",height:"7rem","margin-left":"1rem","border-radius":"50%",border:"1px solid #2aac8e"}},null,8,Dt),u("div",Rt,[u("div",Ot,[u("span",Mt,_(B.value.first_name)+" "+_(B.value.last_name),1)]),u("div",zt,[u("span",Et,_(B.value.email?B.value.email:"N/A"),1)]),u("div",Lt,[u("span",Tt,_(B.value.phoneNo?B.value.phoneNo:"N/A"),1)])]),u("div",Bt,[g((o(),p("span",{onClick:s[16]||(s[16]=()=>{E.value=B.value.partner,R.value=!0})},Kt)),[[ie,"Edit Profile",void 0,{primary:!0,top:!0,rounded:!0}]]),g((o(),p("span",{onClick:s[17]||(s[17]=()=>{E.value=B.value.id,S.value=!0})},qt)),[[ie,"Edit Password",void 0,{primary:!0,top:!0,rounded:!0}]])])])])):m("",!0)])):m("",!0)])]),K.value?(o(),n(Z,{key:0,id:"partner"==d(a).user.role?d(a).user.partner:d(t).params.id,OpenCusLargModal:K.value,"onUpdate:cusModalHandler":s[18]||(s[18]=e=>(K.value=e,F()))},null,8,["id","OpenCusLargModal"])):m("",!0),R.value?(o(),n(le,{key:1,partnerId:d(t).params.id,ChangePasswordModalOpen:R.value,id:E.value,"onUpdate:handleChangeProlileModalOpen":s[19]||(s[19]=e=>R.value=e),"onUpdate:getUserProfileData":$,getUserProfile:$},null,8,["partnerId","ChangePasswordModalOpen","id"])):m("",!0),S.value?(o(),n(ae,{key:2,ChangePasswordModalOpen:S.value,id:E.value,"onUpdate:handleChangePasswordModalOpen":s[20]||(s[20]=e=>S.value=e),"onUpdate:getTeamMembers":s[21]||(s[21]=()=>{})},null,8,["ChangePasswordModalOpen","id"])):m("",!0)],64)}}}),$t={class:"page-content-inner"},Wt=a({__name:"profile",setup:e=>(ie().setPageTitle("Partner Profile"),R({title:"Partner - Arez"}),(e,l)=>{const a=Ft;return o(),p("div",$t,[c(a)])})});export{Wt as default};
