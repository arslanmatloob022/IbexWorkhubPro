import{_ as a}from"./AddUpdateUser-ff5d5ba0.js";import{_ as s}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-0c65c134.js";import{_ as e}from"./ContractorProjects.vue_vue_type_style_index_0_lang-9df899b1.js";import{_ as l}from"./VAvatar.vue_vue_type_style_index_0_lang-ca35c0b4.js";import{_ as t}from"./VIconBox.vue_vue_type_style_index_0_lang-f3af24da.js";import{u as i}from"./useAPI-4bc9c287.js";import{u as n}from"./personalScoreGauge-dbfbfb67.js";import{u as r}from"./userSession-0864928d.js";import{e as o,x as d,r as u,o as p,B as c,C as m,D as v,E as _,F as y,l as f,T as h,N as g,M as x}from"./index-083aead2.js";const b={class:"lifestyle-dashboard lifestyle-dashboard-v3"},j={class:"illustration-header is-relative"},C=v("i",{class:"lnil lnil-pencil"},null,-1),M={class:"p-4"},U={class:"header-meta"},w={class:"summary-stats"},P={class:"summary-stat"},A=v("span",null,"Role",-1),I={class:"summary-stat"},L=v("span",null,"Status",-1),N={class:"summary-stat"},k=v("span",null,"Phone",-1),H={class:"summary-stat"},O=v("span",null,"Email",-1),E={class:"summary-stat h-hidden-tablet-p"},S=v("span",null,"Email Notification",-1),z={class:"summary-stat h-hidden-tablet-p"},B=v("span",null,"Password",-1),V={class:"columns is-multiline is-flex-tablet-p profile-wrapper"},q={class:"column is-12"},D=o({__name:"ContractorProfile",setup(o){const D=r(),F=i(),G=d(),J=u(!1),R=u(""),T=u(!1),$=u(!1);n();const K=u({id:"",password:"",last_login:null,date_joined:"",email:"",role:"",avatar:"",is_active:!0,phoneNumber:"",username:"",is_sentMail:!1});return p((async()=>{await(async()=>{try{$.value=!0;const a=await F.get(`/api/users/${G.params.id?G.params.id:D.user.id}`);K.value=a.data}catch(a){console.log(a)}finally{$.value=!1}})()})),(i,n)=>{const r=t,o=l,d=e,u=s,p=a;return c(),m("div",b,[v("div",j,[_(r,{onClick:n[0]||(n[0]=a=>((a="")=>{R.value=a,T.value=!T.value})(f(K).id)),size:"small",color:"primary",style:{position:"absolute",right:"8px",top:"8px",cursor:"pointer"}},{default:y((()=>[C])),_:1}),v("div",M,[_(o,{size:"xl",squared:"",picture:f(K).avatar,alt:""},null,8,["picture"])]),v("div",U,[v("h3",null,h(f($)?"Loading...":f(K)?.username),1),v("div",w,[v("div",P,[A,v("span",null,h(f($)?"Loading...":f(K)?.role),1)]),v("div",I,[L,v("span",null,h(f($)?"Loading...":f(K)?.is_active?"Active":" In-Active"),1)]),v("div",N,[k,v("span",null,h(f($)?"Loading...":f(K)?.phoneNumber?f(K)?.phoneNumber:"N/A"),1)]),v("div",H,[O,v("span",null,h(f($)?"Loading...":f(K)?.email),1)]),v("div",E,[S,v("span",null,h(f($)?"Loading...":f(K).is_sentMail?"On":"Off"),1)]),v("div",z,[B,v("span",{onClick:n[1]||(n[1]=a=>J.value=!f(J)),class:"link-text"},"Change Password")])])])]),v("div",V,[v("div",q,[_(d,{"contractor-id":f(G).params.id?f(G).params.id:f(D).user.id},null,8,["contractor-id"])])]),f(J)?(c(),g(u,{key:0,isModalOpen:f(J),userId:f(G).params.id,"onUpdate:closeModalHandler":n[2]||(n[2]=a=>J.value=!1)},null,8,["isModalOpen","userId"])):x("",!0),f(T)?(c(),g(p,{key:1,"is-modal-open":f(T),"user-role":"contractor","user-id":f(R),"onUpdate:closeModalHandler":n[3]||(n[3]=a=>T.value=!1),"onUpdate:actionUpdateHandler":i.getContractorshandler},null,8,["is-modal-open","user-id","onUpdate:actionUpdateHandler"])):x("",!0)])}}});export{D as _};
