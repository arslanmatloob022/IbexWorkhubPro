import{_ as e}from"./SweetAlert.vue_vue_type_style_index_0_lang-94030be6.js";import{_ as a}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-f1507a25.js";import{_ as t}from"./VRangeRating-11c81231.js";import{_ as l}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-53f52d63.js";import{e as i,r as s,f as n,o as r,Z as o,l as u,y as c,H as d,z as p,C as m,A as v,B as g,S as _,T as f,j as h,D as y,O as j,Q as b,R as w,aR as x,P,E as k,J as V,v as A,ak as C}from"./index-e5c10b01.js";import{_ as S}from"./VField.vue_vue_type_script_setup_true_lang-99d03a4d.js";import{_ as R}from"./VControl-074e2729.js";import{_ as D}from"./PlaceloadV1.vue_vue_type_style_index_0_lang-8aaa24b6.js";import{_ as O,a as T}from"./search-2-dark-c9903b8a.js";import{_ as E}from"./having-coffee-37a7bbcc.js";import{_ as L}from"./having-coffee-dark-4694625e.js";import{r as W}from"./index-b1f8e28e.js";import{u as F}from"./useAPI-ccb0a798.js";import{u as I}from"./useNotyf-2189ac1f.js";import{u as $}from"./viewWrapper-f9fec3b0.js";import"./VFlex.vue_vue_type_style_index_0_lang-4056f582.js";import"./VIcon.vue_vue_type_script_setup_true_lang-34c87fbf.js";import"./useVFieldContext-e9dd6fae.js";import"./VLabel.vue_vue_type_script_setup_true_lang-2ee094cf.js";import"./VPlaceloadWrap-29a9a66f.js";import"./VPlaceloadText.vue_vue_type_style_index_0_lang-a3022f02.js";import"./VPlaceloadAvatar.vue_vue_type_style_index_0_lang-309b9c5b.js";import"./userSession-c9006ef8.js";import"./notyf-4828b54e.js";import"./useThemeColors-4dac9637.js";const z={key:1},H={class:"list-view-toolbar"},J={class:"tabs-inner"},N={class:"page-content-inner"},Q={class:"list-view list-view-v2"},U=m("img",{class:"light-image",src:O,alt:""},null,-1),Z=m("img",{class:"dark-image",src:T,alt:""},null,-1),B={class:"list-view-inner"},M={class:"list-view-item-inner"},X=["src"],Y={class:"meta-left"},q=m("i",{class:"fas fa-star","aria-hidden":"true"},null,-1),G=m("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:map-pin"},null,-1),K=m("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),ee=m("span",null," 4 role ",-1),ae=m("i",{"aria-hidden":"true",class:"fas fa-circle icon-separator"},null,-1),te=m("div",{class:"icon-list"},[m("span",null,[m("i",{"aria-hidden":"true",class:"lnil lnil-car"}),m("span",null,"Parking")]),m("span",null,[m("i",{"aria-hidden":"true",class:"lnil lnil-signal"}),m("span",null,"Wifi")]),m("span",null,[m("i",{"aria-hidden":"true",class:"lnil lnil-air-flow"}),m("span",null,"Heater")]),m("span",null,[m("i",{"aria-hidden":"true",class:"lnil lnil-sun"}),m("span",null,"Cleaning")])],-1),le={class:"meta-right"},ie={class:"buttons"},se={class:"list-view-inner"},ne=m("img",{class:"light-image",src:E,alt:""},null,-1),re=m("img",{class:"dark-image",src:L,alt:""},null,-1),oe=i({__name:"IbexProjects",setup(i){const A=F(),C=I(),O=s(!1);s(!1),s(!1);const T=s(""),E=s(""),L=s("all");s(""),s("Add New Project");const $=s(4);s(1);const oe=s(0),ue=s([]),ce=s({title:"",subtitle:"test",isSweetAlertOpen:!1,btntext:"text"}),de=s([{title:"",description:"",image:null,startDate:"",endDate:"",is_active:!1,managers:[],client:{id:0,username:"",email:"",role:"",avatar:""},contractor:{id:0,username:"",email:"",role:"",avatar:""}}]);n({pending:"secondary",active:"warning",completed:"success"}),n({pending:"Pre Construction",active:"Active",completed:"Completed"}),n({icon:"fa fa-warning",alertTitle:"Alert",alertDescription:"After deleting this Project, you will not be able to recover it."}),s({title:"",description:"",image:null,startDate:"",endDate:"",is_active:!1,managers:[],client:{id:0,username:"",email:"",role:"",avatar:""},contractor:{id:0,username:"",email:"",role:"",avatar:""}}),s([{id:0,avatar:"",email:"",username:""}]);const pe=async()=>{try{O.value=!0;const e=await A.get("/api/project/my-projects-or-admin/",{});ue.value=e.data,de.value=e.data.filter((e=>"completed"!==e.status))}catch(e){console.log(e)}finally{O.value=!1}},me=async()=>{try{O.value=!0,await A.delete(`/api/project/${oe.value}/`),pe(),C.success("Project has been deleted")}catch(e){console.log(e)}finally{pe(),O.value=!1}};r((()=>{pe()}));const ve=o((()=>E.value?W.filter((e=>e.name.match(new RegExp(E.value,"i"))||e.location.match(new RegExp(E.value,"i"))||"parking".match(new RegExp(E.value,"i"))&&e.comodities.parking||"wifi".match(new RegExp(E.value,"i"))&&e.comodities.wifi||"heater".match(new RegExp(E.value,"i"))&&e.comodities.heater||"cleaning".match(new RegExp(E.value,"i"))&&e.comodities.cleaning)):W));return(i,s)=>{const n=D,r=R,o=S,A=k,C=l,E=t,W=a,F=e;return u(O)?(c(),d(n,{key:0})):(c(),p("div",z,[m("div",H,[v(o,null,{default:g((()=>[v(r,{icon:"feather:search"},{default:g((()=>[_(m("input",{onInput:s[0]||(s[0]=e=>(e=>{if(T.value&&null==e)return L.value="all",void(de.value=ue.value.filter((e=>e.title.toLowerCase().includes(T.value.toLowerCase()))));if(T.value||null!=e)if(T.value="",L.value=e,"all"!=L.value){const e=ue.value.filter((e=>e.status==L.value));de.value=e}else de.value=ue.value;else de.value=ue.value})(null)),"onUpdate:modelValue":s[1]||(s[1]=e=>h(T)?T.value=e:null),class:"input custom-text-filter",placeholder:"Search..."},null,544),[[f,u(T)]])])),_:1})])),_:1}),m("div",J,[v(A,{color:"primary",to:"/sidebar/dashboard/projects/add-project",elevated:""},{default:g((()=>[y("Add Project")])),_:1})])]),m("div",N,[m("div",Q,[v(C,{class:j([0!==u(ve).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:g((()=>[U,Z])),_:1},8,["class"]),m("div",B,[v(x,{name:"list-complete",tag:"div"},{default:g((()=>[(c(!0),p(b,null,w(u(de),(e=>(c(),p("div",{key:e.id,class:"list-view-item"},[m("div",M,[m("img",{src:e.image?e.image:"/images/homePlaceholder.png",alt:"Sample home"},null,8,X),m("div",Y,[m("h3",null,[m("span",null,V(e.title),1),v(E,{modelValue:u($),"onUpdate:modelValue":s[2]||(s[2]=e=>h($)?$.value=e:null),class:"is-inline"},{default:g((()=>[q])),_:1},8,["modelValue"])]),m("p",null,[G,m("span",null,V(e.description?e.description:""),1)]),m("span",null,[m("span",null,V(e.managers.length>1?`${e.managers.length} Managers`:`${e.managers.length} room`),1),K,ee,ae]),te]),m("div",le,[m("div",ie,[v(A,{to:`/sidebar/dashboard/projects/${e.id}`,light:""},{default:g((()=>[y(" View Details ")])),_:2},1032,["to"]),v(A,{onClick:a=>{return t=e.id,oe.value=t,ce.value.title="Delete Project",ce.value.subtitle="As you delete this project you won't be able to recover it again",ce.value.btntext="Delete it",void(ce.value.isSweetAlertOpen=!0);var t},color:"danger",raised:""},{default:g((()=>[y(" Delete ")])),_:2},1032,["onClick"])])])])])))),128))])),_:1})]),u(de).length>5?(c(),d(W,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":5})):P("",!0),m("div",{id:"inactive-items-tab",class:j(["tab-content",["inactive"===i.activeTab&&"is-active"]])},[m("div",se,[v(C,{title:"There are no inactive properties.",subtitle:"Looks like there are no inactive properties to display. You can\n                disable and also enable a property from the property settings.",larger:""},{image:g((()=>[ne,re])),_:1})])],2)]),u(ce).isSweetAlertOpen?(c(),d(F,{key:0,isSweetAlertOpen:u(ce).isSweetAlertOpen,title:u(ce).title,subtitle:u(ce).subtitle,btntext:u(ce).btntext,onConfirm:me,onCancel:()=>u(ce).isSweetAlertOpen=!1},null,8,["isSweetAlertOpen","title","subtitle","btntext","onCancel"])):P("",!0)])]))}}}),ue={class:"page-content-inner"},ce=m("div",{class:"lifestyle-dashboard-bg has-top-nav"},null,-1),de=i({__name:"index",setup:e=>($().setPageTitle("Projects"),A({title:"Projects"}),(e,a)=>{const t=oe;return c(),p("div",ue,[(c(),d(C,{to:"[data-teleport-bg]"},[ce])),v(t,{class:"has-navbar-spacing"})])})});export{de as default};
